var Gge=Object.defineProperty;var Wge=(t,e,n)=>e in t?Gge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pr=(t,e,n)=>Wge(t,typeof e!="symbol"?e+"":e,n);function $ge(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var sM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ca(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CZ={exports:{}},lP={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qge=Symbol.for("react.transitional.element"),Xge=Symbol.for("react.fragment");function PZ(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:qge,type:t,key:r,ref:e!==void 0?e:null,props:n}}lP.Fragment=Xge;lP.jsx=PZ;lP.jsxs=PZ;CZ.exports=lP;var S=CZ.exports,IZ={exports:{}},on={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4=Symbol.for("react.transitional.element"),Kge=Symbol.for("react.portal"),Yge=Symbol.for("react.fragment"),Zge=Symbol.for("react.strict_mode"),Jge=Symbol.for("react.profiler"),Qge=Symbol.for("react.consumer"),eve=Symbol.for("react.context"),tve=Symbol.for("react.forward_ref"),nve=Symbol.for("react.suspense"),rve=Symbol.for("react.memo"),OZ=Symbol.for("react.lazy"),ive=Symbol.for("react.activity"),X8=Symbol.iterator;function ave(t){return t===null||typeof t!="object"?null:(t=X8&&t[X8]||t["@@iterator"],typeof t=="function"?t:null)}var kZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NZ=Object.assign,RZ={};function z0(t,e,n){this.props=t,this.context=e,this.refs=RZ,this.updater=n||kZ}z0.prototype.isReactComponent={};z0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};z0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DZ(){}DZ.prototype=z0.prototype;function $4(t,e,n){this.props=t,this.context=e,this.refs=RZ,this.updater=n||kZ}var q4=$4.prototype=new DZ;q4.constructor=$4;NZ(q4,z0.prototype);q4.isPureReactComponent=!0;var K8=Array.isArray;function t2(){}var Er={H:null,A:null,T:null,S:null},LZ=Object.prototype.hasOwnProperty;function X4(t,e,n){var r=n.ref;return{$$typeof:W4,type:t,key:e,ref:r!==void 0?r:null,props:n}}function sve(t,e){return X4(t.type,e,t.props)}function K4(t){return typeof t=="object"&&t!==null&&t.$$typeof===W4}function ove(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y8=/\/+/g;function QO(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ove(""+t.key):e.toString(36)}function lve(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(t2,t2):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Xg(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case W4:case Kge:s=!0;break;case OZ:return s=t._init,Xg(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+QO(t,0):r,K8(i)?(n="",s!=null&&(n=s.replace(Y8,"$&/")+"/"),Xg(i,e,n,"",function(c){return c})):i!=null&&(K4(i)&&(i=sve(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Y8,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(K8(t))for(var l=0;l<t.length;l++)r=t[l],a=o+QO(r,l),s+=Xg(r,e,n,a,i);else if(l=ave(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+QO(r,l++),s+=Xg(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Xg(lve(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function TS(t,e,n){if(t==null)return t;var r=[],i=0;return Xg(t,r,"","",function(a){return e.call(n,a,i++)}),r}function cve(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Z8=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},uve={map:TS,forEach:function(t,e,n){TS(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return TS(t,function(){e++}),e},toArray:function(t){return TS(t,function(e){return e})||[]},only:function(t){if(!K4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};on.Activity=ive;on.Children=uve;on.Component=z0;on.Fragment=Yge;on.Profiler=Jge;on.PureComponent=$4;on.StrictMode=Zge;on.Suspense=nve;on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Er;on.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Er.H.useMemoCache(t)}};on.cache=function(t){return function(){return t.apply(null,arguments)}};on.cacheSignal=function(){return null};on.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=NZ({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!LZ.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return X4(t.type,i,r)};on.createContext=function(t){return t={$$typeof:eve,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Qge,_context:t},t};on.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)LZ.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return X4(t,a,i)};on.createRef=function(){return{current:null}};on.forwardRef=function(t){return{$$typeof:tve,render:t}};on.isValidElement=K4;on.lazy=function(t){return{$$typeof:OZ,_payload:{_status:-1,_result:t},_init:cve}};on.memo=function(t,e){return{$$typeof:rve,type:t,compare:e===void 0?null:e}};on.startTransition=function(t){var e=Er.T,n={};Er.T=n;try{var r=t(),i=Er.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(t2,Z8)}catch(a){Z8(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Er.T=e}};on.unstable_useCacheRefresh=function(){return Er.H.useCacheRefresh()};on.use=function(t){return Er.H.use(t)};on.useActionState=function(t,e,n){return Er.H.useActionState(t,e,n)};on.useCallback=function(t,e){return Er.H.useCallback(t,e)};on.useContext=function(t){return Er.H.useContext(t)};on.useDebugValue=function(){};on.useDeferredValue=function(t,e){return Er.H.useDeferredValue(t,e)};on.useEffect=function(t,e){return Er.H.useEffect(t,e)};on.useEffectEvent=function(t){return Er.H.useEffectEvent(t)};on.useId=function(){return Er.H.useId()};on.useImperativeHandle=function(t,e,n){return Er.H.useImperativeHandle(t,e,n)};on.useInsertionEffect=function(t,e){return Er.H.useInsertionEffect(t,e)};on.useLayoutEffect=function(t,e){return Er.H.useLayoutEffect(t,e)};on.useMemo=function(t,e){return Er.H.useMemo(t,e)};on.useOptimistic=function(t,e){return Er.H.useOptimistic(t,e)};on.useReducer=function(t,e,n){return Er.H.useReducer(t,e,n)};on.useRef=function(t){return Er.H.useRef(t)};on.useState=function(t){return Er.H.useState(t)};on.useSyncExternalStore=function(t,e,n){return Er.H.useSyncExternalStore(t,e,n)};on.useTransition=function(){return Er.H.useTransition()};on.version="19.2.0";IZ.exports=on;var E=IZ.exports;const He=ca(E),fve=$ge({__proto__:null,default:He},[E]);var UZ={exports:{}},cP={},zZ={exports:{}},FZ={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var q=F.length;F.push(H);e:for(;0<q;){var W=q-1>>>1,z=F[W];if(0<i(z,H))F[W]=H,F[q]=z,q=W;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],q=F.pop();if(q!==H){F[0]=q;e:for(var W=0,z=F.length,$=z>>>1;W<$;){var Z=2*(W+1)-1,G=F[Z],ie=Z+1,ue=F[ie];if(0>i(G,q))ie<z&&0>i(ue,G)?(F[W]=ue,F[ie]=q,W=ie):(F[W]=G,F[Z]=q,W=Z);else if(ie<z&&0>i(ue,q))F[W]=ue,F[ie]=q,W=ie;else break e}}return H}function i(F,H){var q=F.sortIndex-H.sortIndex;return q!==0?q:F.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,g=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function A(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function T(F){if(y=!1,A(F),!g)if(n(l)!==null)g=!0,M||(M=!0,L());else{var H=n(c);H!==null&&V(T,H.startTime-F)}}var M=!1,I=-1,O=5,P=-1;function k(){return x?!0:!(t.unstable_now()-P<O)}function N(){if(x=!1,M){var F=t.unstable_now();P=F;var H=!0;try{e:{g=!1,y&&(y=!1,b(I),I=-1),h=!0;var q=d;try{t:{for(A(F),f=n(l);f!==null&&!(f.expirationTime>F&&k());){var W=f.callback;if(typeof W=="function"){f.callback=null,d=f.priorityLevel;var z=W(f.expirationTime<=F);if(F=t.unstable_now(),typeof z=="function"){f.callback=z,A(F),H=!0;break t}f===n(l)&&r(l),A(F)}else r(l);f=n(l)}if(f!==null)H=!0;else{var $=n(c);$!==null&&V(T,$.startTime-F),H=!1}}break e}finally{f=null,d=q,h=!1}H=void 0}}finally{H?L():M=!1}}}var L;if(typeof _=="function")L=function(){_(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=N,L=function(){D.postMessage(null)}}else L=function(){v(N,0)};function V(F,H){I=v(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var q=d;d=H;try{return F()}finally{d=q}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=d;d=F;try{return H()}finally{d=q}},t.unstable_scheduleCallback=function(F,H,q){var W=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=q+z,F={id:u++,callback:H,priorityLevel:F,startTime:q,expirationTime:z,sortIndex:-1},q>W?(F.sortIndex=q,e(c,F),n(l)===null&&F===n(c)&&(y?(b(I),I=-1):y=!0,V(T,q-W))):(F.sortIndex=z,e(l,F),g||h||(g=!0,M||(M=!0,L()))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var H=d;return function(){var q=d;d=H;try{return F.apply(this,arguments)}finally{d=q}}}})(FZ);zZ.exports=FZ;var oM=zZ.exports;const dve=ca(oM);var jZ={exports:{}},ss={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hve=E;function BZ(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Uf(){}var Qa={d:{f:Uf,r:function(){throw Error(BZ(522))},D:Uf,C:Uf,L:Uf,m:Uf,X:Uf,S:Uf,M:Uf},p:0,findDOMNode:null},pve=Symbol.for("react.portal");function mve(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pve,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var mb=hve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function uP(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qa;ss.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(BZ(299));return mve(t,e,null,n)};ss.flushSync=function(t){var e=mb.T,n=Qa.p;try{if(mb.T=null,Qa.p=2,t)return t()}finally{mb.T=e,Qa.p=n,Qa.d.f()}};ss.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Qa.d.C(t,e))};ss.prefetchDNS=function(t){typeof t=="string"&&Qa.d.D(t)};ss.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=uP(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Qa.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Qa.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ss.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=uP(e.as,e.crossOrigin);Qa.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Qa.d.M(t)};ss.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=uP(n,e.crossOrigin);Qa.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ss.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=uP(e.as,e.crossOrigin);Qa.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Qa.d.m(t)};ss.requestFormReset=function(t){Qa.d.r(t)};ss.unstable_batchedUpdates=function(t,e){return t(e)};ss.useFormState=function(t,e,n){return mb.H.useFormState(t,e,n)};ss.useFormStatus=function(){return mb.H.useHostTransitionStatus()};ss.version="19.2.0";function VZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VZ)}catch(t){console.error(t)}}VZ(),jZ.exports=ss;var fP=jZ.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=oM,HZ=E,gve=fP;function nt(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function GZ(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x_(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WZ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $Z(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function J8(t){if(x_(t)!==t)throw Error(nt(188))}function vve(t){var e=t.alternate;if(!e){if(e=x_(t),e===null)throw Error(nt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return J8(i),t;if(a===r)return J8(i),e;a=a.sibling}throw Error(nt(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(nt(189))}}if(n.alternate!==r)throw Error(nt(190))}if(n.tag!==3)throw Error(nt(188));return n.stateNode.current===n?t:e}function qZ(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=qZ(t),e!==null)return e;t=t.sibling}return null}var Mr=Object.assign,yve=Symbol.for("react.element"),CS=Symbol.for("react.transitional.element"),Jx=Symbol.for("react.portal"),Jg=Symbol.for("react.fragment"),XZ=Symbol.for("react.strict_mode"),n2=Symbol.for("react.profiler"),KZ=Symbol.for("react.consumer"),_u=Symbol.for("react.context"),Y4=Symbol.for("react.forward_ref"),r2=Symbol.for("react.suspense"),i2=Symbol.for("react.suspense_list"),Z4=Symbol.for("react.memo"),Zf=Symbol.for("react.lazy"),a2=Symbol.for("react.activity"),xve=Symbol.for("react.memo_cache_sentinel"),Q8=Symbol.iterator;function rx(t){return t===null||typeof t!="object"?null:(t=Q8&&t[Q8]||t["@@iterator"],typeof t=="function"?t:null)}var bve=Symbol.for("react.client.reference");function s2(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===bve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jg:return"Fragment";case n2:return"Profiler";case XZ:return"StrictMode";case r2:return"Suspense";case i2:return"SuspenseList";case a2:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Jx:return"Portal";case _u:return t.displayName||"Context";case KZ:return(t._context.displayName||"Context")+".Consumer";case Y4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z4:return e=t.displayName||null,e!==null?e:s2(t.type)||"Memo";case Zf:e=t._payload,t=t._init;try{return s2(t(e))}catch{}}return null}var Qx=Array.isArray,Zt=HZ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wn=gve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_p={pending:!1,data:null,method:null,action:null},o2=[],Qg=-1;function Pc(t){return{current:t}}function sa(t){0>Qg||(t.current=o2[Qg],o2[Qg]=null,Qg--)}function gr(t,e){Qg++,o2[Qg]=t.current,t.current=e}var vc=Pc(null),s1=Pc(null),Sd=Pc(null),lM=Pc(null);function cM(t,e){switch(gr(Sd,e),gr(s1,t),gr(vc,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?aH(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=aH(e),t=mee(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}sa(vc),gr(vc,t)}function Yv(){sa(vc),sa(s1),sa(Sd)}function l2(t){t.memoizedState!==null&&gr(lM,t);var e=vc.current,n=mee(e,t.type);e!==n&&(gr(s1,t),gr(vc,n))}function uM(t){s1.current===t&&(sa(vc),sa(s1)),lM.current===t&&(sa(lM),v1._currentValue=_p)}var ek,eV;function Kh(t){if(ek===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ek=e&&e[1]||"",eV=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ek+t+eV}var tk=!1;function nk(t,e){if(!t||tk)return"";tk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var d=h}Reflect.construct(t,[],f)}else{try{f.call()}catch(h){d=h}t.call(f.prototype)}}else{try{throw Error()}catch(h){d=h}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&d&&typeof h.stack=="string")return[h.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u=`
`+l[r].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=r&&0<=i);break}}}finally{tk=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Kh(n):""}function _ve(t,e){switch(t.tag){case 26:case 27:case 5:return Kh(t.type);case 16:return Kh("Lazy");case 13:return t.child!==e&&e!==null?Kh("Suspense Fallback"):Kh("Suspense");case 19:return Kh("SuspenseList");case 0:case 15:return nk(t.type,!1);case 11:return nk(t.type.render,!1);case 1:return nk(t.type,!0);case 31:return Kh("Activity");default:return""}}function tV(t){try{var e="",n=null;do e+=_ve(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var c2=Object.prototype.hasOwnProperty,J4=Hi.unstable_scheduleCallback,rk=Hi.unstable_cancelCallback,wve=Hi.unstable_shouldYield,Sve=Hi.unstable_requestPaint,io=Hi.unstable_now,Eve=Hi.unstable_getCurrentPriorityLevel,YZ=Hi.unstable_ImmediatePriority,ZZ=Hi.unstable_UserBlockingPriority,fM=Hi.unstable_NormalPriority,Ave=Hi.unstable_LowPriority,JZ=Hi.unstable_IdlePriority,Mve=Hi.log,Tve=Hi.unstable_setDisableYieldValue,b_=null,ao=null;function pd(t){if(typeof Mve=="function"&&Tve(t),ao&&typeof ao.setStrictMode=="function")try{ao.setStrictMode(b_,t)}catch{}}var so=Math.clz32?Math.clz32:Ive,Cve=Math.log,Pve=Math.LN2;function Ive(t){return t>>>=0,t===0?32:31-(Cve(t)/Pve|0)|0}var PS=256,IS=262144,OS=4194304;function Yh(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dP(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Yh(r):(s&=o,s!==0?i=Yh(s):n||(n=o&~t,n!==0&&(i=Yh(n))))):(o=r&~a,o!==0?i=Yh(o):s!==0?i=Yh(s):n||(n=r&~t,n!==0&&(i=Yh(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function __(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Ove(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QZ(){var t=OS;return OS<<=1,!(OS&62914560)&&(OS=4194304),t}function ik(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function w_(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kve(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-so(n),f=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(d!==null)for(c[u]=null,u=0;u<d.length;u++){var h=d[u];h!==null&&(h.lane&=-536870913)}n&=~f}r!==0&&eJ(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function eJ(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-so(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function tJ(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-so(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function nJ(t,e){var n=e&-e;return n=n&42?1:Q4(n),n&(t.suspendedLanes|e)?0:n}function Q4(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function e5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function rJ(){var t=Wn.p;return t!==0?t:(t=window.event,t===void 0?32:Mee(t.type))}function nV(t,e){var n=Wn.p;try{return Wn.p=t,e()}finally{Wn.p=n}}var Yd=Math.random().toString(36).slice(2),Sa="__reactFiber$"+Yd,Os="__reactProps$"+Yd,F0="__reactContainer$"+Yd,u2="__reactEvents$"+Yd,Nve="__reactListeners$"+Yd,Rve="__reactHandles$"+Yd,rV="__reactResources$"+Yd,S_="__reactMarker$"+Yd;function t5(t){delete t[Sa],delete t[Os],delete t[u2],delete t[Nve],delete t[Rve]}function ev(t){var e=t[Sa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[F0]||n[Sa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uH(t);t!==null;){if(n=t[Sa])return n;t=uH(t)}return e}t=n,n=t.parentNode}return null}function j0(t){if(t=t[Sa]||t[F0]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function eb(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(nt(33))}function Mv(t){var e=t[rV];return e||(e=t[rV]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function na(t){t[S_]=!0}var iJ=new Set,aJ={};function dm(t,e){Zv(t,e),Zv(t+"Capture",e)}function Zv(t,e){for(aJ[t]=e,t=0;t<e.length;t++)iJ.add(e[t])}var Dve=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iV={},aV={};function Lve(t){return c2.call(aV,t)?!0:c2.call(iV,t)?!1:Dve.test(t)?aV[t]=!0:(iV[t]=!0,!1)}function _A(t,e,n){if(Lve(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function kS(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Qc(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function ko(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sJ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uve(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function f2(t){if(!t._valueTracker){var e=sJ(t)?"checked":"value";t._valueTracker=Uve(t,e,""+t[e])}}function oJ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sJ(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dM(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zve=/[\n"\\]/g;function Lo(t){return t.replace(zve,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function d2(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ko(e)):t.value!==""+ko(e)&&(t.value=""+ko(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?h2(t,s,ko(e)):n!=null?h2(t,s,ko(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ko(o):t.removeAttribute("name")}function lJ(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){f2(t);return}n=n!=null?""+ko(n):"",e=e!=null?""+ko(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),f2(t)}function h2(t,e,n){e==="number"&&dM(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Tv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cJ(t,e,n){if(e!=null&&(e=""+ko(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ko(n):""}function uJ(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(nt(92));if(Qx(r)){if(1<r.length)throw Error(nt(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=ko(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),f2(t)}function Jv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fve=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sV(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Fve.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function fJ(t,e,n){if(e!=null&&typeof e!="object")throw Error(nt(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&sV(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&sV(t,a,e[a])}function n5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jve=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bve=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wA(t){return Bve.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function wu(){}var p2=null;function r5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tv=null,Cv=null;function oV(t){var e=j0(t);if(e&&(t=e.stateNode)){var n=t[Os]||null;e:switch(t=e.stateNode,e.type){case"input":if(d2(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lo(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Os]||null;if(!i)throw Error(nt(90));d2(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&oJ(r)}break e;case"textarea":cJ(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Tv(t,!!n.multiple,e,!1)}}}var ak=!1;function dJ(t,e,n){if(ak)return t(e,n);ak=!0;try{var r=t(e);return r}finally{if(ak=!1,(tv!==null||Cv!==null)&&(EP(),tv&&(e=tv,t=Cv,Cv=tv=null,oV(e),t)))for(e=0;e<t.length;e++)oV(t[e])}}function o1(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Os]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(nt(231,e,typeof n));return n}var Fu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m2=!1;if(Fu)try{var ix={};Object.defineProperty(ix,"passive",{get:function(){m2=!0}}),window.addEventListener("test",ix,ix),window.removeEventListener("test",ix,ix)}catch{m2=!1}var md=null,i5=null,SA=null;function hJ(){if(SA)return SA;var t,e=i5,n=e.length,r,i="value"in md?md.value:md.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return SA=i.slice(t,1<r?1-r:void 0)}function EA(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function NS(){return!0}function lV(){return!1}function Rs(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?NS:lV,this.isPropagationStopped=lV,this}return Mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=NS)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=NS)},persist:function(){},isPersistent:NS}),e}var hm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hP=Rs(hm),E_=Mr({},hm,{view:0,detail:0}),Vve=Rs(E_),sk,ok,ax,pP=Mr({},E_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ax&&(ax&&t.type==="mousemove"?(sk=t.screenX-ax.screenX,ok=t.screenY-ax.screenY):ok=sk=0,ax=t),sk)},movementY:function(t){return"movementY"in t?t.movementY:ok}}),cV=Rs(pP),Hve=Mr({},pP,{dataTransfer:0}),Gve=Rs(Hve),Wve=Mr({},E_,{relatedTarget:0}),lk=Rs(Wve),$ve=Mr({},hm,{animationName:0,elapsedTime:0,pseudoElement:0}),qve=Rs($ve),Xve=Mr({},hm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kve=Rs(Xve),Yve=Mr({},hm,{data:0}),uV=Rs(Yve),Zve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qve[t])?!!e[t]:!1}function a5(){return e0e}var t0e=Mr({},E_,{key:function(t){if(t.key){var e=Zve[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=EA(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jve[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a5,charCode:function(t){return t.type==="keypress"?EA(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?EA(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n0e=Rs(t0e),r0e=Mr({},pP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fV=Rs(r0e),i0e=Mr({},E_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a5}),a0e=Rs(i0e),s0e=Mr({},hm,{propertyName:0,elapsedTime:0,pseudoElement:0}),o0e=Rs(s0e),l0e=Mr({},pP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c0e=Rs(l0e),u0e=Mr({},hm,{newState:0,oldState:0}),f0e=Rs(u0e),d0e=[9,13,27,32],s5=Fu&&"CompositionEvent"in window,gb=null;Fu&&"documentMode"in document&&(gb=document.documentMode);var h0e=Fu&&"TextEvent"in window&&!gb,pJ=Fu&&(!s5||gb&&8<gb&&11>=gb),dV=" ",hV=!1;function mJ(t,e){switch(t){case"keyup":return d0e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gJ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nv=!1;function p0e(t,e){switch(t){case"compositionend":return gJ(e);case"keypress":return e.which!==32?null:(hV=!0,dV);case"textInput":return t=e.data,t===dV&&hV?null:t;default:return null}}function m0e(t,e){if(nv)return t==="compositionend"||!s5&&mJ(t,e)?(t=hJ(),SA=i5=md=null,nv=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pJ&&e.locale!=="ko"?null:e.data;default:return null}}var g0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pV(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g0e[t.type]:e==="textarea"}function vJ(t,e,n,r){tv?Cv?Cv.push(r):Cv=[r]:tv=r,e=IM(e,"onChange"),0<e.length&&(n=new hP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vb=null,l1=null;function v0e(t){dee(t,0)}function mP(t){var e=eb(t);if(oJ(e))return t}function mV(t,e){if(t==="change")return e}var yJ=!1;if(Fu){var ck;if(Fu){var uk="oninput"in document;if(!uk){var gV=document.createElement("div");gV.setAttribute("oninput","return;"),uk=typeof gV.oninput=="function"}ck=uk}else ck=!1;yJ=ck&&(!document.documentMode||9<document.documentMode)}function vV(){vb&&(vb.detachEvent("onpropertychange",xJ),l1=vb=null)}function xJ(t){if(t.propertyName==="value"&&mP(l1)){var e=[];vJ(e,l1,t,r5(t)),dJ(v0e,e)}}function y0e(t,e,n){t==="focusin"?(vV(),vb=e,l1=n,vb.attachEvent("onpropertychange",xJ)):t==="focusout"&&vV()}function x0e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mP(l1)}function b0e(t,e){if(t==="click")return mP(e)}function _0e(t,e){if(t==="input"||t==="change")return mP(e)}function w0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fo=typeof Object.is=="function"?Object.is:w0e;function c1(t,e){if(fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c2.call(e,i)||!fo(t[i],e[i]))return!1}return!0}function yV(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xV(t,e){var n=yV(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yV(n)}}function bJ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bJ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _J(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=dM(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dM(t.document)}return e}function o5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var S0e=Fu&&"documentMode"in document&&11>=document.documentMode,rv=null,g2=null,yb=null,v2=!1;function bV(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v2||rv==null||rv!==dM(r)||(r=rv,"selectionStart"in r&&o5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yb&&c1(yb,r)||(yb=r,r=IM(g2,"onSelect"),0<r.length&&(e=new hP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rv)))}function Oh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var iv={animationend:Oh("Animation","AnimationEnd"),animationiteration:Oh("Animation","AnimationIteration"),animationstart:Oh("Animation","AnimationStart"),transitionrun:Oh("Transition","TransitionRun"),transitionstart:Oh("Transition","TransitionStart"),transitioncancel:Oh("Transition","TransitionCancel"),transitionend:Oh("Transition","TransitionEnd")},fk={},wJ={};Fu&&(wJ=document.createElement("div").style,"AnimationEvent"in window||(delete iv.animationend.animation,delete iv.animationiteration.animation,delete iv.animationstart.animation),"TransitionEvent"in window||delete iv.transitionend.transition);function pm(t){if(fk[t])return fk[t];if(!iv[t])return t;var e=iv[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wJ)return fk[t]=e[n];return t}var SJ=pm("animationend"),EJ=pm("animationiteration"),AJ=pm("animationstart"),E0e=pm("transitionrun"),A0e=pm("transitionstart"),M0e=pm("transitioncancel"),MJ=pm("transitionend"),TJ=new Map,y2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");y2.push("scrollEnd");function Vl(t,e){TJ.set(t,e),dm(e,[t])}var hM=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Oo=[],av=0,l5=0;function gP(){for(var t=av,e=l5=av=0;e<t;){var n=Oo[e];Oo[e++]=null;var r=Oo[e];Oo[e++]=null;var i=Oo[e];Oo[e++]=null;var a=Oo[e];if(Oo[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&CJ(n,i,a)}}function vP(t,e,n,r){Oo[av++]=t,Oo[av++]=e,Oo[av++]=n,Oo[av++]=r,l5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function c5(t,e,n,r){return vP(t,e,n,r),pM(t)}function mm(t,e){return vP(t,null,null,e),pM(t)}function CJ(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-so(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function pM(t){if(50<Tb)throw Tb=0,F2=null,Error(nt(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var sv={};function T0e(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(t,e,n,r){return new T0e(t,e,n,r)}function u5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ou(t,e){var n=t.alternate;return n===null?(n=Js(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function PJ(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function AA(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")u5(t)&&(s=1);else if(typeof t=="string")s=kye(t,n,vc.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case a2:return t=Js(31,n,e,i),t.elementType=a2,t.lanes=a,t;case Jg:return wp(n.children,i,a,e);case XZ:s=8,i|=24;break;case n2:return t=Js(12,n,e,i|2),t.elementType=n2,t.lanes=a,t;case r2:return t=Js(13,n,e,i),t.elementType=r2,t.lanes=a,t;case i2:return t=Js(19,n,e,i),t.elementType=i2,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _u:s=10;break e;case KZ:s=9;break e;case Y4:s=11;break e;case Z4:s=14;break e;case Zf:s=16,r=null;break e}s=29,n=Error(nt(130,t===null?"null":typeof t,"")),r=null}return e=Js(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function wp(t,e,n,r){return t=Js(7,t,r,e),t.lanes=n,t}function dk(t,e,n){return t=Js(6,t,null,e),t.lanes=n,t}function IJ(t){var e=Js(18,null,null,0);return e.stateNode=t,e}function hk(t,e,n){return e=Js(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var _V=new WeakMap;function Uo(t,e){if(typeof t=="object"&&t!==null){var n=_V.get(t);return n!==void 0?n:(e={value:t,source:e,stack:tV(e)},_V.set(t,e),e)}return{value:t,source:e,stack:tV(e)}}var ov=[],lv=0,mM=null,u1=0,No=[],Ro=0,Ud=null,fc=1,dc="";function du(t,e){ov[lv++]=u1,ov[lv++]=mM,mM=t,u1=e}function OJ(t,e,n){No[Ro++]=fc,No[Ro++]=dc,No[Ro++]=Ud,Ud=t;var r=fc;t=dc;var i=32-so(r)-1;r&=~(1<<i),n+=1;var a=32-so(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fc=1<<32-so(e)+i|n<<i|r,dc=a+t}else fc=1<<a|n<<i|r,dc=t}function f5(t){t.return!==null&&(du(t,1),OJ(t,1,0))}function d5(t){for(;t===mM;)mM=ov[--lv],ov[lv]=null,u1=ov[--lv],ov[lv]=null;for(;t===Ud;)Ud=No[--Ro],No[Ro]=null,dc=No[--Ro],No[Ro]=null,fc=No[--Ro],No[Ro]=null}function kJ(t,e){No[Ro++]=fc,No[Ro++]=dc,No[Ro++]=Ud,fc=e.id,dc=e.overflow,Ud=t}var Ea=null,wr=null,Pn=!1,Ed=null,zo=!1,x2=Error(nt(519));function zd(t){var e=Error(nt(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw f1(Uo(e,t)),x2}function wV(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Sa]=t,e[Os]=r,n){case"dialog":bn("cancel",e),bn("close",e);break;case"iframe":case"object":case"embed":bn("load",e);break;case"video":case"audio":for(n=0;n<m1.length;n++)bn(m1[n],e);break;case"source":bn("error",e);break;case"img":case"image":case"link":bn("error",e),bn("load",e);break;case"details":bn("toggle",e);break;case"input":bn("invalid",e),lJ(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":bn("invalid",e);break;case"textarea":bn("invalid",e),uJ(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||pee(e.textContent,n)?(r.popover!=null&&(bn("beforetoggle",e),bn("toggle",e)),r.onScroll!=null&&bn("scroll",e),r.onScrollEnd!=null&&bn("scrollend",e),r.onClick!=null&&(e.onclick=wu),e=!0):e=!1,e||zd(t,!0)}function SV(t){for(Ea=t.return;Ea;)switch(Ea.tag){case 5:case 31:case 13:zo=!1;return;case 27:case 3:zo=!0;return;default:Ea=Ea.return}}function fg(t){if(t!==Ea)return!1;if(!Pn)return SV(t),Pn=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||G2(t.type,t.memoizedProps)),n=!n),n&&wr&&zd(t),SV(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));wr=cH(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));wr=cH(t)}else e===27?(e=wr,Zd(t.type)?(t=X2,X2=null,wr=t):wr=e):wr=Ea?qo(t.stateNode.nextSibling):null;return!0}function zp(){wr=Ea=null,Pn=!1}function pk(){var t=Ed;return t!==null&&(_s===null?_s=t:_s.push.apply(_s,t),Ed=null),t}function f1(t){Ed===null?Ed=[t]:Ed.push(t)}var b2=Pc(null),gm=null,Su=null;function rd(t,e,n){gr(b2,e._currentValue),e._currentValue=n}function ku(t){t._currentValue=b2.current,sa(b2)}function _2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function w2(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),_2(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(nt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_2(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function B0(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(nt(387));if(s=s.memoizedProps,s!==null){var o=i.type;fo(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===lM.current){if(s=i.alternate,s===null)throw Error(nt(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(v1):t=[v1])}i=i.return}t!==null&&w2(e,t,n,r),e.flags|=262144}function gM(t){for(t=t.firstContext;t!==null;){if(!fo(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fp(t){gm=t,Su=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Aa(t){return NJ(gm,t)}function RS(t,e){return gm===null&&Fp(t),NJ(t,e)}function NJ(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Su===null){if(t===null)throw Error(nt(308));Su=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Su=Su.next=e;return n}var C0e=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},P0e=Hi.unstable_scheduleCallback,I0e=Hi.unstable_NormalPriority,Ci={$$typeof:_u,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h5(){return{controller:new C0e,data:new Map,refCount:0}}function A_(t){t.refCount--,t.refCount===0&&P0e(I0e,function(){t.controller.abort()})}var xb=null,S2=0,Qv=0,Pv=null;function O0e(t,e){if(xb===null){var n=xb=[];S2=0,Qv=z5(),Pv={status:"pending",value:void 0,then:function(r){n.push(r)}}}return S2++,e.then(EV,EV),e}function EV(){if(--S2===0&&xb!==null){Pv!==null&&(Pv.status="fulfilled");var t=xb;xb=null,Qv=0,Pv=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function k0e(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var AV=Zt.S;Zt.S=function(t,e){qQ=io(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&O0e(t,e),AV!==null&&AV(t,e)};var Sp=Pc(null);function p5(){var t=Sp.current;return t!==null?t:fr.pooledCache}function MA(t,e){e===null?gr(Sp,Sp.current):gr(Sp,e.pool)}function RJ(){var t=p5();return t===null?null:{parent:Ci._currentValue,pool:t}}var V0=Error(nt(460)),m5=Error(nt(474)),yP=Error(nt(542)),vM={then:function(){}};function MV(t){return t=t.status,t==="fulfilled"||t==="rejected"}function DJ(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(wu,wu),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,CV(t),t;default:if(typeof e.status=="string")e.then(wu,wu);else{if(t=fr,t!==null&&100<t.shellSuspendCounter)throw Error(nt(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,CV(t),t}throw Ep=e,V0}}function Zh(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ep=n,V0):n}}var Ep=null;function TV(){if(Ep===null)throw Error(nt(459));var t=Ep;return Ep=null,t}function CV(t){if(t===V0||t===yP)throw Error(nt(483))}var Iv=null,d1=0;function DS(t){var e=d1;return d1+=1,Iv===null&&(Iv=[]),DJ(Iv,t,e)}function sx(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function LS(t,e){throw e.$$typeof===yve?Error(nt(525)):(t=Object.prototype.toString.call(e),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function LJ(t){function e(v,b){if(t){var _=v.deletions;_===null?(v.deletions=[b],v.flags|=16):_.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v){for(var b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(v,b){return v=Ou(v,b),v.index=0,v.sibling=null,v}function a(v,b,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<b?(v.flags|=67108866,b):_):(v.flags|=67108866,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,b,_,A){return b===null||b.tag!==6?(b=dk(_,v.mode,A),b.return=v,b):(b=i(b,_),b.return=v,b)}function l(v,b,_,A){var T=_.type;return T===Jg?u(v,b,_.props.children,A,_.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zf&&Zh(T)===b.type)?(b=i(b,_.props),sx(b,_),b.return=v,b):(b=AA(_.type,_.key,_.props,null,v.mode,A),sx(b,_),b.return=v,b)}function c(v,b,_,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=hk(_,v.mode,A),b.return=v,b):(b=i(b,_.children||[]),b.return=v,b)}function u(v,b,_,A,T){return b===null||b.tag!==7?(b=wp(_,v.mode,A,T),b.return=v,b):(b=i(b,_),b.return=v,b)}function f(v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=dk(""+b,v.mode,_),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case CS:return _=AA(b.type,b.key,b.props,null,v.mode,_),sx(_,b),_.return=v,_;case Jx:return b=hk(b,v.mode,_),b.return=v,b;case Zf:return b=Zh(b),f(v,b,_)}if(Qx(b)||rx(b))return b=wp(b,v.mode,_,null),b.return=v,b;if(typeof b.then=="function")return f(v,DS(b),_);if(b.$$typeof===_u)return f(v,RS(v,b),_);LS(v,b)}return null}function d(v,b,_,A){var T=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return T!==null?null:o(v,b,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case CS:return _.key===T?l(v,b,_,A):null;case Jx:return _.key===T?c(v,b,_,A):null;case Zf:return _=Zh(_),d(v,b,_,A)}if(Qx(_)||rx(_))return T!==null?null:u(v,b,_,A,null);if(typeof _.then=="function")return d(v,b,DS(_),A);if(_.$$typeof===_u)return d(v,b,RS(v,_),A);LS(v,_)}return null}function h(v,b,_,A,T){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return v=v.get(_)||null,o(b,v,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case CS:return v=v.get(A.key===null?_:A.key)||null,l(b,v,A,T);case Jx:return v=v.get(A.key===null?_:A.key)||null,c(b,v,A,T);case Zf:return A=Zh(A),h(v,b,_,A,T)}if(Qx(A)||rx(A))return v=v.get(_)||null,u(b,v,A,T,null);if(typeof A.then=="function")return h(v,b,_,DS(A),T);if(A.$$typeof===_u)return h(v,b,_,RS(b,A),T);LS(b,A)}return null}function g(v,b,_,A){for(var T=null,M=null,I=b,O=b=0,P=null;I!==null&&O<_.length;O++){I.index>O?(P=I,I=null):P=I.sibling;var k=d(v,I,_[O],A);if(k===null){I===null&&(I=P);break}t&&I&&k.alternate===null&&e(v,I),b=a(k,b,O),M===null?T=k:M.sibling=k,M=k,I=P}if(O===_.length)return n(v,I),Pn&&du(v,O),T;if(I===null){for(;O<_.length;O++)I=f(v,_[O],A),I!==null&&(b=a(I,b,O),M===null?T=I:M.sibling=I,M=I);return Pn&&du(v,O),T}for(I=r(I);O<_.length;O++)P=h(I,v,O,_[O],A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?O:P.key),b=a(P,b,O),M===null?T=P:M.sibling=P,M=P);return t&&I.forEach(function(N){return e(v,N)}),Pn&&du(v,O),T}function y(v,b,_,A){if(_==null)throw Error(nt(151));for(var T=null,M=null,I=b,O=b=0,P=null,k=_.next();I!==null&&!k.done;O++,k=_.next()){I.index>O?(P=I,I=null):P=I.sibling;var N=d(v,I,k.value,A);if(N===null){I===null&&(I=P);break}t&&I&&N.alternate===null&&e(v,I),b=a(N,b,O),M===null?T=N:M.sibling=N,M=N,I=P}if(k.done)return n(v,I),Pn&&du(v,O),T;if(I===null){for(;!k.done;O++,k=_.next())k=f(v,k.value,A),k!==null&&(b=a(k,b,O),M===null?T=k:M.sibling=k,M=k);return Pn&&du(v,O),T}for(I=r(I);!k.done;O++,k=_.next())k=h(I,v,O,k.value,A),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?O:k.key),b=a(k,b,O),M===null?T=k:M.sibling=k,M=k);return t&&I.forEach(function(L){return e(v,L)}),Pn&&du(v,O),T}function x(v,b,_,A){if(typeof _=="object"&&_!==null&&_.type===Jg&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case CS:e:{for(var T=_.key;b!==null;){if(b.key===T){if(T=_.type,T===Jg){if(b.tag===7){n(v,b.sibling),A=i(b,_.props.children),A.return=v,v=A;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zf&&Zh(T)===b.type){n(v,b.sibling),A=i(b,_.props),sx(A,_),A.return=v,v=A;break e}n(v,b);break}else e(v,b);b=b.sibling}_.type===Jg?(A=wp(_.props.children,v.mode,A,_.key),A.return=v,v=A):(A=AA(_.type,_.key,_.props,null,v.mode,A),sx(A,_),A.return=v,v=A)}return s(v);case Jx:e:{for(T=_.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(v,b.sibling),A=i(b,_.children||[]),A.return=v,v=A;break e}else{n(v,b);break}else e(v,b);b=b.sibling}A=hk(_,v.mode,A),A.return=v,v=A}return s(v);case Zf:return _=Zh(_),x(v,b,_,A)}if(Qx(_))return g(v,b,_,A);if(rx(_)){if(T=rx(_),typeof T!="function")throw Error(nt(150));return _=T.call(_),y(v,b,_,A)}if(typeof _.then=="function")return x(v,b,DS(_),A);if(_.$$typeof===_u)return x(v,b,RS(v,_),A);LS(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,b!==null&&b.tag===6?(n(v,b.sibling),A=i(b,_),A.return=v,v=A):(n(v,b),A=dk(_,v.mode,A),A.return=v,v=A),s(v)):n(v,b)}return function(v,b,_,A){try{d1=0;var T=x(v,b,_,A);return Iv=null,T}catch(I){if(I===V0||I===yP)throw I;var M=Js(29,I,null,v.mode);return M.lanes=A,M.return=v,M}finally{}}}var jp=LJ(!0),UJ=LJ(!1),Jf=!1;function g5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function E2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ad(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Md(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Hn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=pM(t),CJ(t,null,n),e}return vP(t,r,e,n),pM(t)}function bb(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tJ(t,n)}}function mk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var A2=!1;function _b(){if(A2){var t=Pv;if(t!==null)throw t}}function wb(t,e,n,r){A2=!1;var i=t.updateQueue;Jf=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var d=o.lane&-536870913,h=d!==o.lane;if(h?(An&d)===d:(r&d)===d){d!==0&&d===Qv&&(A2=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=t,y=o;d=e;var x=n;switch(y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(x,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(x,f,d):g,d==null)break e;f=Mr({},f,d);break e;case 2:Jf=!0}}d=o.callback,d!==null&&(t.flags|=64,h&&(t.flags|=8192),h=i.callbacks,h===null?i.callbacks=[d]:h.push(d))}else h={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),jd|=s,t.lanes=s,t.memoizedState=f}}function zJ(t,e){if(typeof t!="function")throw Error(nt(191,t));t.call(e)}function FJ(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)zJ(n[t],e)}var e0=Pc(null),yM=Pc(0);function PV(t,e){t=Hu,gr(yM,t),gr(e0,e),Hu=t|e.baseLanes}function M2(){gr(yM,Hu),gr(e0,e0.current)}function v5(){Hu=yM.current,sa(e0),sa(yM)}var ho=Pc(null),$o=null;function id(t){var e=t.alternate;gr(ui,ui.current&1),gr(ho,t),$o===null&&(e===null||e0.current!==null||e.memoizedState!==null)&&($o=t)}function T2(t){gr(ui,ui.current),gr(ho,t),$o===null&&($o=t)}function jJ(t){t.tag===22?(gr(ui,ui.current),gr(ho,t),$o===null&&($o=t)):ad()}function ad(){gr(ui,ui.current),gr(ho,ho.current)}function Zs(t){sa(ho),$o===t&&($o=null),sa(ui)}var ui=Pc(0);function xM(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||$2(n)||q2(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ju=0,fn=null,ir=null,Mi=null,bM=!1,Ov=!1,Bp=!1,_M=0,h1=0,kv=null,N0e=0;function Jr(){throw Error(nt(321))}function y5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fo(t[n],e[n]))return!1;return!0}function x5(t,e,n,r,i,a){return ju=a,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zt.H=t===null||t.memoizedState===null?vQ:I5,Bp=!1,a=n(r,i),Bp=!1,Ov&&(a=VJ(e,n,r,i)),BJ(t),a}function BJ(t){Zt.H=p1;var e=ir!==null&&ir.next!==null;if(ju=0,Mi=ir=fn=null,bM=!1,h1=0,kv=null,e)throw Error(nt(300));t===null||Ii||(t=t.dependencies,t!==null&&gM(t)&&(Ii=!0))}function VJ(t,e,n,r){fn=t;var i=0;do{if(Ov&&(kv=null),h1=0,Ov=!1,25<=i)throw Error(nt(301));if(i+=1,Mi=ir=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Zt.H=yQ,a=e(n,r)}while(Ov);return a}function R0e(){var t=Zt.H,e=t.useState()[0];return e=typeof e.then=="function"?M_(e):e,t=t.useState()[0],(ir!==null?ir.memoizedState:null)!==t&&(fn.flags|=1024),e}function b5(){var t=_M!==0;return _M=0,t}function _5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function w5(t){if(bM){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}bM=!1}ju=0,Mi=ir=fn=null,Ov=!1,h1=_M=0,kv=null}function Ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mi===null?fn.memoizedState=Mi=t:Mi=Mi.next=t,Mi}function pi(){if(ir===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=ir.next;var e=Mi===null?fn.memoizedState:Mi.next;if(e!==null)Mi=e,ir=t;else{if(t===null)throw fn.alternate===null?Error(nt(467)):Error(nt(310));ir=t,t={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},Mi===null?fn.memoizedState=Mi=t:Mi=Mi.next=t}return Mi}function xP(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function M_(t){var e=h1;return h1+=1,kv===null&&(kv=[]),t=DJ(kv,t,e),e=fn,(Mi===null?e.memoizedState:Mi.next)===null&&(e=e.alternate,Zt.H=e===null||e.memoizedState===null?vQ:I5),t}function bP(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return M_(t);if(t.$$typeof===_u)return Aa(t)}throw Error(nt(438,String(t)))}function S5(t){var e=null,n=fn.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=fn.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=xP(),fn.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=xve;return e.index++,n}function Bu(t,e){return typeof e=="function"?e(t):e}function TA(t){var e=pi();return E5(e,ir,t)}function E5(t,e,n){var r=t.queue;if(r===null)throw Error(nt(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,c=e,u=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(An&f)===f:(ju&f)===f){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Qv&&(u=!0);else if((ju&d)===d){c=c.next,d===Qv&&(u=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,fn.lanes|=d,jd|=d;f=c.action,Bp&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,s=a):l=l.next=d,fn.lanes|=f,jd|=f;c=c.next}while(c!==null&&c!==e);if(l===null?s=a:l.next=o,!fo(a,t.memoizedState)&&(Ii=!0,u&&(n=Pv,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function gk(t){var e=pi(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);fo(a,e.memoizedState)||(Ii=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function HJ(t,e,n){var r=fn,i=pi(),a=Pn;if(a){if(n===void 0)throw Error(nt(407));n=n()}else n=e();var s=!fo((ir||i).memoizedState,n);if(s&&(i.memoizedState=n,Ii=!0),i=i.queue,A5($J.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||Mi!==null&&Mi.memoizedState.tag&1){if(r.flags|=2048,t0(9,{destroy:void 0},WJ.bind(null,r,i,n,e),null),fr===null)throw Error(nt(349));a||ju&127||GJ(r,e,n)}return n}function GJ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e=xP(),fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WJ(t,e,n,r){e.value=n,e.getSnapshot=r,qJ(e)&&XJ(t)}function $J(t,e,n){return n(function(){qJ(e)&&XJ(t)})}function qJ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fo(t,n)}catch{return!0}}function XJ(t){var e=mm(t,2);e!==null&&Ps(e,t,2)}function C2(t){var e=Ka();if(typeof t=="function"){var n=t;if(t=n(),Bp){pd(!0);try{n()}finally{pd(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:t},e}function KJ(t,e,n,r){return t.baseState=n,E5(t,ir,typeof r=="function"?r:Bu)}function D0e(t,e,n,r,i){if(wP(t))throw Error(nt(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};Zt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,YJ(e,a)):(a.next=n.next,e.pending=n.next=a)}}function YJ(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=Zt.T,s={};Zt.T=s;try{var o=n(i,r),l=Zt.S;l!==null&&l(s,o),IV(t,e,o)}catch(c){P2(t,e,c)}finally{a!==null&&s.types!==null&&(a.types=s.types),Zt.T=a}}else try{a=n(i,r),IV(t,e,a)}catch(c){P2(t,e,c)}}function IV(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){OV(t,e,r)},function(r){return P2(t,e,r)}):OV(t,e,n)}function OV(t,e,n){e.status="fulfilled",e.value=n,ZJ(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,YJ(t,n)))}function P2(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,ZJ(e),e=e.next;while(e!==r)}t.action=null}function ZJ(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function JJ(t,e){return e}function kV(t,e){if(Pn){var n=fr.formState;if(n!==null){e:{var r=fn;if(Pn){if(wr){t:{for(var i=wr,a=zo;i.nodeType!==8;){if(!a){i=null;break t}if(i=qo(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){wr=qo(i.nextSibling),r=i.data==="F!";break e}}zd(r)}r=!1}r&&(e=n[0])}}return n=Ka(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JJ,lastRenderedState:e},n.queue=r,n=pQ.bind(null,fn,r),r.dispatch=n,r=C2(!1),a=P5.bind(null,fn,!1,r.queue),r=Ka(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=D0e.bind(null,fn,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function NV(t){var e=pi();return QJ(e,ir,t)}function QJ(t,e,n){if(e=E5(t,e,JJ)[0],t=TA(Bu)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=M_(e)}catch(s){throw s===V0?yP:s}else r=e;e=pi();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(fn.flags|=2048,t0(9,{destroy:void 0},L0e.bind(null,i,n),null)),[r,a,t]}function L0e(t,e){t.action=e}function RV(t){var e=pi(),n=ir;if(n!==null)return QJ(e,n,t);pi(),e=e.memoizedState,n=pi();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function t0(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=fn.updateQueue,e===null&&(e=xP(),fn.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function eQ(){return pi().memoizedState}function CA(t,e,n,r){var i=Ka();fn.flags|=t,i.memoizedState=t0(1|e,{destroy:void 0},n,r===void 0?null:r)}function _P(t,e,n,r){var i=pi();r=r===void 0?null:r;var a=i.memoizedState.inst;ir!==null&&r!==null&&y5(r,ir.memoizedState.deps)?i.memoizedState=t0(e,a,n,r):(fn.flags|=t,i.memoizedState=t0(1|e,a,n,r))}function DV(t,e){CA(8390656,8,t,e)}function A5(t,e){_P(2048,8,t,e)}function U0e(t){fn.flags|=4;var e=fn.updateQueue;if(e===null)e=xP(),fn.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function tQ(t){var e=pi().memoizedState;return U0e({ref:e,nextImpl:t}),function(){if(Hn&2)throw Error(nt(440));return e.impl.apply(void 0,arguments)}}function nQ(t,e){return _P(4,2,t,e)}function rQ(t,e){return _P(4,4,t,e)}function iQ(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aQ(t,e,n){n=n!=null?n.concat([t]):null,_P(4,4,iQ.bind(null,e,t),n)}function M5(){}function sQ(t,e){var n=pi();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&y5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oQ(t,e){var n=pi();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&y5(e,r[1]))return r[0];if(r=t(),Bp){pd(!0);try{t()}finally{pd(!1)}}return n.memoizedState=[r,e],r}function T5(t,e,n){return n===void 0||ju&1073741824&&!(An&261930)?t.memoizedState=e:(t.memoizedState=n,t=KQ(),fn.lanes|=t,jd|=t,n)}function lQ(t,e,n,r){return fo(n,e)?n:e0.current!==null?(t=T5(t,n,r),fo(t,e)||(Ii=!0),t):!(ju&42)||ju&1073741824&&!(An&261930)?(Ii=!0,t.memoizedState=n):(t=KQ(),fn.lanes|=t,jd|=t,e)}function cQ(t,e,n,r,i){var a=Wn.p;Wn.p=a!==0&&8>a?a:8;var s=Zt.T,o={};Zt.T=o,P5(t,!1,e,n);try{var l=i(),c=Zt.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=k0e(l,r);Sb(t,e,u,oo(t))}else Sb(t,e,r,oo(t))}catch(f){Sb(t,e,{then:function(){},status:"rejected",reason:f},oo())}finally{Wn.p=a,s!==null&&o.types!==null&&(s.types=o.types),Zt.T=s}}function z0e(){}function I2(t,e,n,r){if(t.tag!==5)throw Error(nt(476));var i=uQ(t).queue;cQ(t,i,e,_p,n===null?z0e:function(){return fQ(t),n(r)})}function uQ(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:_p,baseState:_p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:_p},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function fQ(t){var e=uQ(t);e.next===null&&(e=t.alternate.memoizedState),Sb(t,e.next.queue,{},oo())}function C5(){return Aa(v1)}function dQ(){return pi().memoizedState}function hQ(){return pi().memoizedState}function F0e(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=oo();t=Ad(n);var r=Md(e,t,n);r!==null&&(Ps(r,e,n),bb(r,e,n)),e={cache:h5()},t.payload=e;return}e=e.return}}function j0e(t,e,n){var r=oo();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},wP(t)?mQ(e,n):(n=c5(t,e,n,r),n!==null&&(Ps(n,t,r),gQ(n,e,r)))}function pQ(t,e,n){var r=oo();Sb(t,e,n,r)}function Sb(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(wP(t))mQ(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,fo(o,s))return vP(t,e,i,0),fr===null&&gP(),!1}catch{}finally{}if(n=c5(t,e,i,r),n!==null)return Ps(n,t,r),gQ(n,e,r),!0}return!1}function P5(t,e,n,r){if(r={lane:2,revertLane:z5(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},wP(t)){if(e)throw Error(nt(479))}else e=c5(t,n,r,2),e!==null&&Ps(e,t,2)}function wP(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function mQ(t,e){Ov=bM=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gQ(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tJ(t,n)}}var p1={readContext:Aa,use:bP,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useLayoutEffect:Jr,useInsertionEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useSyncExternalStore:Jr,useId:Jr,useHostTransitionStatus:Jr,useFormState:Jr,useActionState:Jr,useOptimistic:Jr,useMemoCache:Jr,useCacheRefresh:Jr};p1.useEffectEvent=Jr;var vQ={readContext:Aa,use:bP,useCallback:function(t,e){return Ka().memoizedState=[t,e===void 0?null:e],t},useContext:Aa,useEffect:DV,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,CA(4194308,4,iQ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return CA(4194308,4,t,e)},useInsertionEffect:function(t,e){CA(4,2,t,e)},useMemo:function(t,e){var n=Ka();e=e===void 0?null:e;var r=t();if(Bp){pd(!0);try{t()}finally{pd(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ka();if(n!==void 0){var i=n(e);if(Bp){pd(!0);try{n(e)}finally{pd(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=j0e.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=Ka();return t={current:t},e.memoizedState=t},useState:function(t){t=C2(t);var e=t.queue,n=pQ.bind(null,fn,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:M5,useDeferredValue:function(t,e){var n=Ka();return T5(n,t,e)},useTransition:function(){var t=C2(!1);return t=cQ.bind(null,fn,t.queue,!0,!1),Ka().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=fn,i=Ka();if(Pn){if(n===void 0)throw Error(nt(407));n=n()}else{if(n=e(),fr===null)throw Error(nt(349));An&127||GJ(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,DV($J.bind(null,r,a,t),[t]),r.flags|=2048,t0(9,{destroy:void 0},WJ.bind(null,r,a,n,e),null),n},useId:function(){var t=Ka(),e=fr.identifierPrefix;if(Pn){var n=dc,r=fc;n=(r&~(1<<32-so(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=_M++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=N0e++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:C5,useFormState:kV,useActionState:kV,useOptimistic:function(t){var e=Ka();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=P5.bind(null,fn,!0,n),n.dispatch=e,[t,e]},useMemoCache:S5,useCacheRefresh:function(){return Ka().memoizedState=F0e.bind(null,fn)},useEffectEvent:function(t){var e=Ka(),n={impl:t};return e.memoizedState=n,function(){if(Hn&2)throw Error(nt(440));return n.impl.apply(void 0,arguments)}}},I5={readContext:Aa,use:bP,useCallback:sQ,useContext:Aa,useEffect:A5,useImperativeHandle:aQ,useInsertionEffect:nQ,useLayoutEffect:rQ,useMemo:oQ,useReducer:TA,useRef:eQ,useState:function(){return TA(Bu)},useDebugValue:M5,useDeferredValue:function(t,e){var n=pi();return lQ(n,ir.memoizedState,t,e)},useTransition:function(){var t=TA(Bu)[0],e=pi().memoizedState;return[typeof t=="boolean"?t:M_(t),e]},useSyncExternalStore:HJ,useId:dQ,useHostTransitionStatus:C5,useFormState:NV,useActionState:NV,useOptimistic:function(t,e){var n=pi();return KJ(n,ir,t,e)},useMemoCache:S5,useCacheRefresh:hQ};I5.useEffectEvent=tQ;var yQ={readContext:Aa,use:bP,useCallback:sQ,useContext:Aa,useEffect:A5,useImperativeHandle:aQ,useInsertionEffect:nQ,useLayoutEffect:rQ,useMemo:oQ,useReducer:gk,useRef:eQ,useState:function(){return gk(Bu)},useDebugValue:M5,useDeferredValue:function(t,e){var n=pi();return ir===null?T5(n,t,e):lQ(n,ir.memoizedState,t,e)},useTransition:function(){var t=gk(Bu)[0],e=pi().memoizedState;return[typeof t=="boolean"?t:M_(t),e]},useSyncExternalStore:HJ,useId:dQ,useHostTransitionStatus:C5,useFormState:RV,useActionState:RV,useOptimistic:function(t,e){var n=pi();return ir!==null?KJ(n,ir,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:S5,useCacheRefresh:hQ};yQ.useEffectEvent=tQ;function vk(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var O2={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=oo(),i=Ad(r);i.payload=e,n!=null&&(i.callback=n),e=Md(t,i,r),e!==null&&(Ps(e,t,r),bb(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=oo(),i=Ad(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Md(t,i,r),e!==null&&(Ps(e,t,r),bb(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=oo(),r=Ad(n);r.tag=2,e!=null&&(r.callback=e),e=Md(t,r,n),e!==null&&(Ps(e,t,n),bb(e,t,n))}};function LV(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!c1(n,r)||!c1(i,a):!0}function UV(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&O2.enqueueReplaceState(e,e.state,null)}function Vp(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Mr({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function xQ(t){hM(t)}function bQ(t){console.error(t)}function _Q(t){hM(t)}function wM(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function zV(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function k2(t,e,n){return n=Ad(n),n.tag=3,n.payload={element:null},n.callback=function(){wM(t,e)},n}function wQ(t){return t=Ad(t),t.tag=3,t}function SQ(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){zV(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){zV(e,n,r),typeof i!="function"&&(Td===null?Td=new Set([this]):Td.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function B0e(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&B0(e,n,i,!0),n=ho.current,n!==null){switch(n.tag){case 31:case 13:return $o===null?TM():n.alternate===null&&ti===0&&(ti=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===vM?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Ck(t,r,i)),!1;case 22:return n.flags|=65536,r===vM?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Ck(t,r,i)),!1}throw Error(nt(435,n.tag))}return Ck(t,r,i),TM(),!1}if(Pn)return e=ho.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==x2&&(t=Error(nt(422),{cause:r}),f1(Uo(t,n)))):(r!==x2&&(e=Error(nt(423),{cause:r}),f1(Uo(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Uo(r,n),i=k2(t.stateNode,r,i),mk(t,i),ti!==4&&(ti=2)),!1;var a=Error(nt(520),{cause:r});if(a=Uo(a,n),Mb===null?Mb=[a]:Mb.push(a),ti!==4&&(ti=2),e===null)return!0;r=Uo(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=k2(n.stateNode,r,t),mk(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Td===null||!Td.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=wQ(i),SQ(i,t,n,r),mk(n,i),!1}n=n.return}while(n!==null);return!1}var O5=Error(nt(461)),Ii=!1;function _a(t,e,n,r){e.child=t===null?UJ(e,null,n,r):jp(e,t.child,n,r)}function FV(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Fp(e),r=x5(t,e,n,s,a,i),o=b5(),t!==null&&!Ii?(_5(t,e,i),Vu(t,e,i)):(Pn&&o&&f5(e),e.flags|=1,_a(t,e,r,i),e.child)}function jV(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!u5(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,EQ(t,e,a,r,i)):(t=AA(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!k5(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:c1,n(s,r)&&t.ref===e.ref)return Vu(t,e,i)}return e.flags|=1,t=Ou(a,r),t.ref=e.ref,t.return=e,e.child=t}function EQ(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(c1(a,r)&&t.ref===e.ref)if(Ii=!1,e.pendingProps=r=a,k5(t,i))t.flags&131072&&(Ii=!0);else return e.lanes=t.lanes,Vu(t,e,i)}return N2(t,e,n,r,i)}function AQ(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return BV(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&MA(e,a!==null?a.cachePool:null),a!==null?PV(e,a):M2(),jJ(e);else return r=e.lanes=536870912,BV(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(MA(e,a.cachePool),PV(e,a),ad(),e.memoizedState=null):(t!==null&&MA(e,null),M2(),ad());return _a(t,e,i,n),e.child}function tb(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function BV(t,e,n,r,i){var a=p5();return a=a===null?null:{parent:Ci._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&MA(e,null),M2(),jJ(e),t!==null&&B0(t,e,r,!0),e.childLanes=i,null}function PA(t,e){return e=SM({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function VV(t,e,n){return jp(e,t.child,null,n),t=PA(e,e.pendingProps),t.flags|=2,Zs(e),e.memoizedState=null,t}function V0e(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Pn){if(r.mode==="hidden")return t=PA(e,r),e.lanes=536870912,tb(null,t);if(T2(e),(t=wr)?(t=vee(t,zo),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ud!==null?{id:fc,overflow:dc}:null,retryLane:536870912,hydrationErrors:null},n=IJ(t),n.return=e,e.child=n,Ea=e,wr=null)):t=null,t===null)throw zd(e);return e.lanes=536870912,null}return PA(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(T2(e),i)if(e.flags&256)e.flags&=-257,e=VV(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(nt(558));else if(Ii||B0(t,e,n,!1),i=(n&t.childLanes)!==0,Ii||i){if(r=fr,r!==null&&(s=nJ(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,mm(t,s),Ps(r,t,s),O5;TM(),e=VV(t,e,n)}else t=a.treeContext,wr=qo(s.nextSibling),Ea=e,Pn=!0,Ed=null,zo=!1,t!==null&&kJ(e,t),e=PA(e,r),e.flags|=4096;return e}return t=Ou(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function IA(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(nt(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function N2(t,e,n,r,i){return Fp(e),n=x5(t,e,n,r,void 0,i),r=b5(),t!==null&&!Ii?(_5(t,e,i),Vu(t,e,i)):(Pn&&r&&f5(e),e.flags|=1,_a(t,e,n,i),e.child)}function HV(t,e,n,r,i,a){return Fp(e),e.updateQueue=null,n=VJ(e,r,n,i),BJ(t),r=b5(),t!==null&&!Ii?(_5(t,e,a),Vu(t,e,a)):(Pn&&r&&f5(e),e.flags|=1,_a(t,e,n,a),e.child)}function GV(t,e,n,r,i){if(Fp(e),e.stateNode===null){var a=sv,s=n.contextType;typeof s=="object"&&s!==null&&(a=Aa(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=O2,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},g5(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Aa(s):sv,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(vk(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&O2.enqueueReplaceState(a,a.state,null),wb(e,r,a,i),_b(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Vp(n,o);a.props=l;var c=a.context,u=n.contextType;s=sv,typeof u=="object"&&u!==null&&(s=Aa(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&UV(e,a,r,s),Jf=!1;var d=e.memoizedState;a.state=d,wb(e,r,a,i),_b(),c=e.memoizedState,o||d!==c||Jf?(typeof f=="function"&&(vk(e,n,f,r),c=e.memoizedState),(l=Jf||LV(e,n,l,r,d,c,s))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,E2(t,e),s=e.memoizedProps,u=Vp(n,s),a.props=u,f=e.pendingProps,d=a.context,c=n.contextType,l=sv,typeof c=="object"&&c!==null&&(l=Aa(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&UV(e,a,r,l),Jf=!1,d=e.memoizedState,a.state=d,wb(e,r,a,i),_b();var h=e.memoizedState;s!==f||d!==h||Jf||t!==null&&t.dependencies!==null&&gM(t.dependencies)?(typeof o=="function"&&(vk(e,n,o,r),h=e.memoizedState),(u=Jf||LV(e,n,u,r,d,h,l)||t!==null&&t.dependencies!==null&&gM(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,IA(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=jp(e,t.child,null,i),e.child=jp(e,null,n,i)):_a(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Vu(t,e,i),t}function WV(t,e,n,r){return zp(),e.flags|=256,_a(t,e,n,r),e.child}var yk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xk(t){return{baseLanes:t,cachePool:RJ()}}function bk(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=eo),t}function MQ(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(ui.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pn){if(i?id(e):ad(),(t=wr)?(t=vee(t,zo),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ud!==null?{id:fc,overflow:dc}:null,retryLane:536870912,hydrationErrors:null},n=IJ(t),n.return=e,e.child=n,Ea=e,wr=null)):t=null,t===null)throw zd(e);return q2(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(ad(),i=e.mode,o=SM({mode:"hidden",children:o},i),r=wp(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=xk(n),r.childLanes=bk(t,s,n),e.memoizedState=yk,tb(null,r)):(id(e),R2(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(id(e),e.flags&=-257,e=_k(t,e,n)):e.memoizedState!==null?(ad(),e.child=t.child,e.flags|=128,e=null):(ad(),o=r.fallback,i=e.mode,r=SM({mode:"visible",children:r.children},i),o=wp(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,jp(e,t.child,null,n),r=e.child,r.memoizedState=xk(n),r.childLanes=bk(t,s,n),e.memoizedState=yk,e=tb(null,r));else if(id(e),q2(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error(nt(419)),r.stack="",r.digest=s,f1({value:r,source:null,stack:null}),e=_k(t,e,n)}else if(Ii||B0(t,e,n,!1),s=(n&t.childLanes)!==0,Ii||s){if(s=fr,s!==null&&(r=nJ(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,mm(t,r),Ps(s,t,r),O5;$2(o)||TM(),e=_k(t,e,n)}else $2(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,wr=qo(o.nextSibling),Ea=e,Pn=!0,Ed=null,zo=!1,t!==null&&kJ(e,t),e=R2(e,r.children),e.flags|=4096);return e}return i?(ad(),o=r.fallback,i=e.mode,l=t.child,c=l.sibling,r=Ou(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=Ou(c,o):(o=wp(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,tb(null,r),r=e.child,o=t.child.memoizedState,o===null?o=xk(n):(i=o.cachePool,i!==null?(l=Ci._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=RJ(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=bk(t,s,n),e.memoizedState=yk,tb(t.child,r)):(id(e),n=t.child,t=n.sibling,n=Ou(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function R2(t,e){return e=SM({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function SM(t,e){return t=Js(22,t,null,e),t.lanes=0,t}function _k(t,e,n){return jp(e,t.child,null,n),t=R2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $V(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_2(t.return,e,n)}function wk(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function TQ(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=ui.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,gr(ui,s),_a(t,e,r,n),r=Pn?u1:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$V(t,n,e);else if(t.tag===19)$V(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xM(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wk(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xM(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wk(e,!0,n,null,a,r);break;case"together":wk(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Vu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jd|=e.lanes,!(n&e.childLanes))if(t!==null){if(B0(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(nt(153));if(e.child!==null){for(t=e.child,n=Ou(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ou(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k5(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&gM(t)))}function H0e(t,e,n){switch(e.tag){case 3:cM(e,e.stateNode.containerInfo),rd(e,Ci,t.memoizedState.cache),zp();break;case 27:case 5:l2(e);break;case 4:cM(e,e.stateNode.containerInfo);break;case 10:rd(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,T2(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(id(e),e.flags|=128,null):n&e.child.childLanes?MQ(t,e,n):(id(e),t=Vu(t,e,n),t!==null?t.sibling:null);id(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(B0(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return TQ(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gr(ui,ui.current),r)break;return null;case 22:return e.lanes=0,AQ(t,e,n,e.pendingProps);case 24:rd(e,Ci,t.memoizedState.cache)}return Vu(t,e,n)}function CQ(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ii=!0;else{if(!k5(t,n)&&!(e.flags&128))return Ii=!1,H0e(t,e,n);Ii=!!(t.flags&131072)}else Ii=!1,Pn&&e.flags&1048576&&OJ(e,u1,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Zh(e.elementType),e.type=t,typeof t=="function")u5(t)?(r=Vp(t,r),e.tag=1,e=GV(null,e,t,r,n)):(e.tag=0,e=N2(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===Y4){e.tag=11,e=FV(null,e,t,r,n);break e}else if(i===Z4){e.tag=14,e=jV(null,e,t,r,n);break e}}throw e=s2(t)||t,Error(nt(306,e,""))}}return e;case 0:return N2(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Vp(r,e.pendingProps),GV(t,e,r,i,n);case 3:e:{if(cM(e,e.stateNode.containerInfo),t===null)throw Error(nt(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,E2(t,e),wb(e,r,null,n);var s=e.memoizedState;if(r=s.cache,rd(e,Ci,r),r!==a.cache&&w2(e,[Ci],n,!0),_b(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=WV(t,e,r,n);break e}else if(r!==i){i=Uo(Error(nt(424)),e),f1(i),e=WV(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wr=qo(t.firstChild),Ea=e,Pn=!0,Ed=null,zo=!0,n=UJ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zp(),r===i){e=Vu(t,e,n);break e}_a(t,e,r,n)}e=e.child}return e;case 26:return IA(t,e),t===null?(n=dH(e.type,null,e.pendingProps,null))?e.memoizedState=n:Pn||(n=e.type,t=e.pendingProps,r=OM(Sd.current).createElement(n),r[Sa]=e,r[Os]=t,Ma(r,n,t),na(r),e.stateNode=r):e.memoizedState=dH(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return l2(e),t===null&&Pn&&(r=e.stateNode=yee(e.type,e.pendingProps,Sd.current),Ea=e,zo=!0,i=wr,Zd(e.type)?(X2=i,wr=qo(r.firstChild)):wr=i),_a(t,e,e.pendingProps.children,n),IA(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pn&&((i=r=wr)&&(r=xye(r,e.type,e.pendingProps,zo),r!==null?(e.stateNode=r,Ea=e,wr=qo(r.firstChild),zo=!1,i=!0):i=!1),i||zd(e)),l2(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,G2(i,a)?r=null:s!==null&&G2(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=x5(t,e,R0e,null,null,n),v1._currentValue=i),IA(t,e),_a(t,e,r,n),e.child;case 6:return t===null&&Pn&&((t=n=wr)&&(n=bye(n,e.pendingProps,zo),n!==null?(e.stateNode=n,Ea=e,wr=null,t=!0):t=!1),t||zd(e)),null;case 13:return MQ(t,e,n);case 4:return cM(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jp(e,null,r,n):_a(t,e,r,n),e.child;case 11:return FV(t,e,e.type,e.pendingProps,n);case 7:return _a(t,e,e.pendingProps,n),e.child;case 8:return _a(t,e,e.pendingProps.children,n),e.child;case 12:return _a(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,rd(e,e.type,r.value),_a(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Fp(e),i=Aa(i),r=r(i),e.flags|=1,_a(t,e,r,n),e.child;case 14:return jV(t,e,e.type,e.pendingProps,n);case 15:return EQ(t,e,e.type,e.pendingProps,n);case 19:return TQ(t,e,n);case 31:return V0e(t,e,n);case 22:return AQ(t,e,n,e.pendingProps);case 24:return Fp(e),r=Aa(Ci),t===null?(i=p5(),i===null&&(i=fr,a=h5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},g5(e),rd(e,Ci,i)):(t.lanes&n&&(E2(t,e),wb(e,null,null,n),_b()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),rd(e,Ci,r)):(r=a.cache,rd(e,Ci,r),r!==i.cache&&w2(e,[Ci],n,!0))),_a(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(nt(156,e.tag))}function eu(t){t.flags|=4}function Sk(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(JQ())t.flags|=8192;else throw Ep=vM,m5}else t.flags&=-16777217}function qV(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!_ee(e))if(JQ())t.flags|=8192;else throw Ep=vM,m5}function US(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?QZ():536870912,t.lanes|=e,n0|=e)}function ox(t,e){if(!Pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function br(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G0e(t,e,n){var r=e.pendingProps;switch(d5(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(e),null;case 1:return br(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),ku(Ci),Yv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fg(e)?eu(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pk())),br(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(eu(e),a!==null?(br(e),qV(e,a)):(br(e),Sk(e,i,null,r,n))):a?a!==t.memoizedState?(eu(e),br(e),qV(e,a)):(br(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&eu(e),br(e),Sk(e,i,t,r,n)),null;case 27:if(uM(e),n=Sd.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&eu(e);else{if(!r){if(e.stateNode===null)throw Error(nt(166));return br(e),null}t=vc.current,fg(e)?wV(e):(t=yee(i,r,n),e.stateNode=t,eu(e))}return br(e),null;case 5:if(uM(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&eu(e);else{if(!r){if(e.stateNode===null)throw Error(nt(166));return br(e),null}if(a=vc.current,fg(e))wV(e);else{var s=OM(Sd.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Sa]=e,a[Os]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(Ma(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&eu(e)}}return br(e),Sk(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&eu(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(nt(166));if(t=Sd.current,fg(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Ea,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Sa]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||pee(t.nodeValue,n)),t||zd(e,!0)}else t=OM(t).createTextNode(r),t[Sa]=e,e.stateNode=t}return br(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=fg(e),n!==null){if(t===null){if(!r)throw Error(nt(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(557));t[Sa]=e}else zp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;br(e),t=!1}else n=pk(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Zs(e),e):(Zs(e),null);if(e.flags&128)throw Error(nt(558))}return br(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=fg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(nt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(nt(317));i[Sa]=e}else zp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;br(e),i=!1}else i=pk(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Zs(e),e):(Zs(e),null)}return Zs(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),US(e,e.updateQueue),br(e),null);case 4:return Yv(),t===null&&F5(e.stateNode.containerInfo),br(e),null;case 10:return ku(e.type),br(e),null;case 19:if(sa(ui),r=e.memoizedState,r===null)return br(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)ox(r,!1);else{if(ti!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xM(t),a!==null){for(e.flags|=128,ox(r,!1),t=a.updateQueue,e.updateQueue=t,US(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)PJ(n,t),n=n.sibling;return gr(ui,ui.current&1|2),Pn&&du(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&io()>AM&&(e.flags|=128,i=!0,ox(r,!1),e.lanes=4194304)}else{if(!i)if(t=xM(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,US(e,t),ox(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Pn)return br(e),null}else 2*io()-r.renderingStartTime>AM&&n!==536870912&&(e.flags|=128,i=!0,ox(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=io(),t.sibling=null,n=ui.current,gr(ui,i?n&1|2:n&1),Pn&&du(e,r.treeForkCount),t):(br(e),null);case 22:case 23:return Zs(e),v5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(br(e),e.subtreeFlags&6&&(e.flags|=8192)):br(e),n=e.updateQueue,n!==null&&US(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&sa(Sp),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ku(Ci),br(e),null;case 25:return null;case 30:return null}throw Error(nt(156,e.tag))}function W0e(t,e){switch(d5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ku(Ci),Yv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return uM(e),null;case 31:if(e.memoizedState!==null){if(Zs(e),e.alternate===null)throw Error(nt(340));zp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Zs(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(nt(340));zp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sa(ui),null;case 4:return Yv(),null;case 10:return ku(e.type),null;case 22:case 23:return Zs(e),v5(),t!==null&&sa(Sp),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ku(Ci),null;case 25:return null;default:return null}}function PQ(t,e){switch(d5(e),e.tag){case 3:ku(Ci),Yv();break;case 26:case 27:case 5:uM(e);break;case 4:Yv();break;case 31:e.memoizedState!==null&&Zs(e);break;case 13:Zs(e);break;case 19:sa(ui);break;case 10:ku(e.type);break;case 22:case 23:Zs(e),v5(),t!==null&&sa(Sp);break;case 24:ku(Ci)}}function T_(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Jn(e,e.return,o)}}function Fd(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(u){Jn(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Jn(e,e.return,u)}}function IQ(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{FJ(e,n)}catch(r){Jn(t,t.return,r)}}}function OQ(t,e,n){n.props=Vp(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Jn(t,e,r)}}function Eb(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Jn(t,e,i)}}function hc(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Jn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Jn(t,e,i)}else n.current=null}function kQ(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Jn(t,t.return,i)}}function Ek(t,e,n){try{var r=t.stateNode;hye(r,t.type,n,e),r[Os]=e}catch(i){Jn(t,t.return,i)}}function NQ(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zd(t.type)||t.tag===4}function Ak(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zd(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function D2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wu));else if(r!==4&&(r===27&&Zd(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(D2(t,e,n),t=t.sibling;t!==null;)D2(t,e,n),t=t.sibling}function EM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Zd(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(EM(t,e,n),t=t.sibling;t!==null;)EM(t,e,n),t=t.sibling}function RQ(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ma(e,r,n),e[Sa]=t,e[Os]=n}catch(a){Jn(t,t.return,a)}}var pu=!1,Ti=!1,Mk=!1,XV=typeof WeakSet=="function"?WeakSet:Set,ta=null;function $0e(t,e){if(t=t.containerInfo,V2=DM,t=_J(t),o5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(o=s),d===a&&++u===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(H2={focusedElem:t,selectionRange:n},DM=!1,ta=e;ta!==null;)if(e=ta,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ta=t;else for(;ta!==null;){switch(e=ta,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=Vp(n.type,i);t=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){Jn(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)W2(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":W2(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(nt(163))}if(t=e.sibling,t!==null){t.return=e.return,ta=t;break}ta=e.return}}function DQ(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:nu(t,n),r&4&&T_(5,n);break;case 1:if(nu(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Jn(n,n.return,s)}else{var i=Vp(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Jn(n,n.return,s)}}r&64&&IQ(n),r&512&&Eb(n,n.return);break;case 3:if(nu(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{FJ(t,e)}catch(s){Jn(n,n.return,s)}}break;case 27:e===null&&r&4&&RQ(n);case 26:case 5:nu(t,n),e===null&&r&4&&kQ(n),r&512&&Eb(n,n.return);break;case 12:nu(t,n);break;case 31:nu(t,n),r&4&&zQ(t,n);break;case 13:nu(t,n),r&4&&FQ(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=tye.bind(null,n),_ye(t,n))));break;case 22:if(r=n.memoizedState!==null||pu,!r){e=e!==null&&e.memoizedState!==null||Ti,i=pu;var a=Ti;pu=r,(Ti=e)&&!a?fu(t,n,(n.subtreeFlags&8772)!==0):nu(t,n),pu=i,Ti=a}break;case 30:break;default:nu(t,n)}}function LQ(t){var e=t.alternate;e!==null&&(t.alternate=null,LQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&t5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ir=null,xs=!1;function tu(t,e,n){for(n=n.child;n!==null;)UQ(t,e,n),n=n.sibling}function UQ(t,e,n){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(b_,n)}catch{}switch(n.tag){case 26:Ti||hc(n,e),tu(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ti||hc(n,e);var r=Ir,i=xs;Zd(n.type)&&(Ir=n.stateNode,xs=!1),tu(t,e,n),Cb(n.stateNode),Ir=r,xs=i;break;case 5:Ti||hc(n,e);case 6:if(r=Ir,i=xs,Ir=null,tu(t,e,n),Ir=r,xs=i,Ir!==null)if(xs)try{(Ir.nodeType===9?Ir.body:Ir.nodeName==="HTML"?Ir.ownerDocument.body:Ir).removeChild(n.stateNode)}catch(a){Jn(n,e,a)}else try{Ir.removeChild(n.stateNode)}catch(a){Jn(n,e,a)}break;case 18:Ir!==null&&(xs?(t=Ir,oH(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),s0(t)):oH(Ir,n.stateNode));break;case 4:r=Ir,i=xs,Ir=n.stateNode.containerInfo,xs=!0,tu(t,e,n),Ir=r,xs=i;break;case 0:case 11:case 14:case 15:Fd(2,n,e),Ti||Fd(4,n,e),tu(t,e,n);break;case 1:Ti||(hc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&OQ(n,e,r)),tu(t,e,n);break;case 21:tu(t,e,n);break;case 22:Ti=(r=Ti)||n.memoizedState!==null,tu(t,e,n),Ti=r;break;default:tu(t,e,n)}}function zQ(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{s0(t)}catch(n){Jn(e,e.return,n)}}}function FQ(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{s0(t)}catch(n){Jn(e,e.return,n)}}function q0e(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new XV),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new XV),e;default:throw Error(nt(435,t.tag))}}function zS(t,e){var n=q0e(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=nye.bind(null,t,r);r.then(i,i)}})}function ps(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Zd(o.type)){Ir=o.stateNode,xs=!1;break e}break;case 5:Ir=o.stateNode,xs=!1;break e;case 3:case 4:Ir=o.stateNode.containerInfo,xs=!0;break e}o=o.return}if(Ir===null)throw Error(nt(160));UQ(a,s,i),Ir=null,xs=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)jQ(e,t),e=e.sibling}var Sl=null;function jQ(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ps(e,t),ms(t),r&4&&(Fd(3,t,t.return),T_(3,t),Fd(5,t,t.return));break;case 1:ps(e,t),ms(t),r&512&&(Ti||n===null||hc(n,n.return)),r&64&&pu&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Sl;if(ps(e,t),ms(t),r&512&&(Ti||n===null||hc(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[S_]||a[Sa]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Ma(a,r,n),a[Sa]=t,na(a),r=a;break e;case"link":var s=pH("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Ma(a,r,n),i.head.appendChild(a);break;case"meta":if(s=pH("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Ma(a,r,n),i.head.appendChild(a);break;default:throw Error(nt(468,r))}a[Sa]=t,na(a),r=a}t.stateNode=r}else mH(i,t.type,t.stateNode);else t.stateNode=hH(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?mH(i,t.type,t.stateNode):hH(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Ek(t,t.memoizedProps,n.memoizedProps)}break;case 27:ps(e,t),ms(t),r&512&&(Ti||n===null||hc(n,n.return)),n!==null&&r&4&&Ek(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ps(e,t),ms(t),r&512&&(Ti||n===null||hc(n,n.return)),t.flags&32){i=t.stateNode;try{Jv(i,"")}catch(g){Jn(t,t.return,g)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Ek(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Mk=!0);break;case 6:if(ps(e,t),ms(t),r&4){if(t.stateNode===null)throw Error(nt(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(g){Jn(t,t.return,g)}}break;case 3:if(NA=null,i=Sl,Sl=kM(e.containerInfo),ps(e,t),Sl=i,ms(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{s0(e.containerInfo)}catch(g){Jn(t,t.return,g)}Mk&&(Mk=!1,BQ(t));break;case 4:r=Sl,Sl=kM(t.stateNode.containerInfo),ps(e,t),ms(t),Sl=r;break;case 12:ps(e,t),ms(t);break;case 31:ps(e,t),ms(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zS(t,r)));break;case 13:ps(e,t),ms(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(SP=io()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zS(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=pu,u=Ti;if(pu=c||i,Ti=u||l,ps(e,t),Ti=u,pu=c,ms(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||pu||Ti||Jh(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){Jn(l,l.return,g)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){Jn(l,l.return,g)}}}else if(e.tag===18){if(n===null){l=e;try{var h=l.stateNode;i?lH(h,!0):lH(l.stateNode,!1)}catch(g){Jn(l,l.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,zS(t,n))));break;case 19:ps(e,t),ms(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zS(t,r)));break;case 30:break;case 21:break;default:ps(e,t),ms(t)}}function ms(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(NQ(r)){n=r;break}r=r.return}if(n==null)throw Error(nt(160));switch(n.tag){case 27:var i=n.stateNode,a=Ak(t);EM(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Jv(s,""),n.flags&=-33);var o=Ak(t);EM(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Ak(t);D2(t,c,l);break;default:throw Error(nt(161))}}catch(u){Jn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BQ(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;BQ(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function nu(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)DQ(t,e.alternate,e),e=e.sibling}function Jh(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Fd(4,e,e.return),Jh(e);break;case 1:hc(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&OQ(e,e.return,n),Jh(e);break;case 27:Cb(e.stateNode);case 26:case 5:hc(e,e.return),Jh(e);break;case 22:e.memoizedState===null&&Jh(e);break;case 30:Jh(e);break;default:Jh(e)}t=t.sibling}}function fu(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:fu(i,a,n),T_(4,a);break;case 1:if(fu(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Jn(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)zJ(l[i],o)}catch(c){Jn(r,r.return,c)}}n&&s&64&&IQ(a),Eb(a,a.return);break;case 27:RQ(a);case 26:case 5:fu(i,a,n),n&&r===null&&s&4&&kQ(a),Eb(a,a.return);break;case 12:fu(i,a,n);break;case 31:fu(i,a,n),n&&s&4&&zQ(i,a);break;case 13:fu(i,a,n),n&&s&4&&FQ(i,a);break;case 22:a.memoizedState===null&&fu(i,a,n),Eb(a,a.return);break;case 30:break;default:fu(i,a,n)}e=e.sibling}}function N5(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&A_(n))}function R5(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&A_(t))}function ml(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)VQ(t,e,n,r),e=e.sibling}function VQ(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:ml(t,e,n,r),i&2048&&T_(9,e);break;case 1:ml(t,e,n,r);break;case 3:ml(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&A_(t)));break;case 12:if(i&2048){ml(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Jn(e,e.return,l)}}else ml(t,e,n,r);break;case 31:ml(t,e,n,r);break;case 13:ml(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?ml(t,e,n,r):Ab(t,e):a._visibility&2?ml(t,e,n,r):(a._visibility|=2,Kg(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&N5(s,e);break;case 24:ml(t,e,n,r),i&2048&&R5(e.alternate,e);break;default:ml(t,e,n,r)}}function Kg(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Kg(a,s,o,l,i),T_(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?Kg(a,s,o,l,i):Ab(a,s):(u._visibility|=2,Kg(a,s,o,l,i)),i&&c&2048&&N5(s.alternate,s);break;case 24:Kg(a,s,o,l,i),i&&c&2048&&R5(s.alternate,s);break;default:Kg(a,s,o,l,i)}e=e.sibling}}function Ab(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Ab(n,r),i&2048&&N5(r.alternate,r);break;case 24:Ab(n,r),i&2048&&R5(r.alternate,r);break;default:Ab(n,r)}e=e.sibling}}var nb=8192;function dg(t,e,n){if(t.subtreeFlags&nb)for(t=t.child;t!==null;)HQ(t,e,n),t=t.sibling}function HQ(t,e,n){switch(t.tag){case 26:dg(t,e,n),t.flags&nb&&t.memoizedState!==null&&Nye(n,Sl,t.memoizedState,t.memoizedProps);break;case 5:dg(t,e,n);break;case 3:case 4:var r=Sl;Sl=kM(t.stateNode.containerInfo),dg(t,e,n),Sl=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=nb,nb=16777216,dg(t,e,n),nb=r):dg(t,e,n));break;default:dg(t,e,n)}}function GQ(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function lx(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];ta=r,$Q(r,t)}GQ(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)WQ(t),t=t.sibling}function WQ(t){switch(t.tag){case 0:case 11:case 15:lx(t),t.flags&2048&&Fd(9,t,t.return);break;case 3:lx(t);break;case 12:lx(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,OA(t)):lx(t);break;default:lx(t)}}function OA(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];ta=r,$Q(r,t)}GQ(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Fd(8,e,e.return),OA(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,OA(e));break;default:OA(e)}t=t.sibling}}function $Q(t,e){for(;ta!==null;){var n=ta;switch(n.tag){case 0:case 11:case 15:Fd(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:A_(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ta=r;else e:for(n=t;ta!==null;){r=ta;var i=r.sibling,a=r.return;if(LQ(r),r===n){ta=null;break e}if(i!==null){i.return=a,ta=i;break e}ta=a}}}var X0e={getCacheForType:function(t){var e=Aa(Ci),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Aa(Ci).controller.signal}},K0e=typeof WeakMap=="function"?WeakMap:Map,Hn=0,fr=null,_n=null,An=0,Yn=0,Ys=null,gd=!1,H0=!1,D5=!1,Hu=0,ti=0,jd=0,Ap=0,L5=0,eo=0,n0=0,Mb=null,_s=null,L2=!1,SP=0,qQ=0,AM=1/0,MM=null,Td=null,ji=0,Cd=null,r0=null,Nu=0,U2=0,z2=null,XQ=null,Tb=0,F2=null;function oo(){return Hn&2&&An!==0?An&-An:Zt.T!==null?z5():rJ()}function KQ(){if(eo===0)if(!(An&536870912)||Pn){var t=IS;IS<<=1,!(IS&3932160)&&(IS=262144),eo=t}else eo=536870912;return t=ho.current,t!==null&&(t.flags|=32),eo}function Ps(t,e,n){(t===fr&&(Yn===2||Yn===9)||t.cancelPendingCommit!==null)&&(i0(t,0),vd(t,An,eo,!1)),w_(t,n),(!(Hn&2)||t!==fr)&&(t===fr&&(!(Hn&2)&&(Ap|=n),ti===4&&vd(t,An,eo,!1)),Ic(t))}function YQ(t,e,n){if(Hn&6)throw Error(nt(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||__(t,e),i=r?J0e(t,e):Tk(t,e,!0),a=r;do{if(i===0){H0&&!r&&vd(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!Y0e(n)){i=Tk(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Mb;var l=o.current.memoizedState.isDehydrated;if(l&&(i0(o,s).flags|=256),s=Tk(o,s,!1),s!==2){if(D5&&!l){o.errorRecoveryDisabledLanes|=a,Ap|=a,i=4;break e}a=_s,_s=i,a!==null&&(_s===null?_s=a:_s.push.apply(_s,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){i0(t,0),vd(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(nt(345));case 4:if((e&4194048)!==e)break;case 6:vd(r,e,eo,!gd);break e;case 2:_s=null;break;case 3:case 5:break;default:throw Error(nt(329))}if((e&62914560)===e&&(i=SP+300-io(),10<i)){if(vd(r,e,eo,!gd),dP(r,0,!0)!==0)break e;Nu=e,r.timeoutHandle=gee(KV.bind(null,r,n,_s,MM,L2,e,eo,Ap,n0,gd,a,"Throttled",-0,0),i);break e}KV(r,n,_s,MM,L2,e,eo,Ap,n0,gd,a,null,-0,0)}}break}while(!0);Ic(t)}function KV(t,e,n,r,i,a,s,o,l,c,u,f,d,h){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wu},HQ(e,a,f);var g=(a&62914560)===a?SP-io():(a&4194048)===a?qQ-io():0;if(g=Rye(f,g),g!==null){Nu=a,t.cancelPendingCommit=g(ZV.bind(null,t,e,a,n,r,i,s,o,l,u,f,null,d,h)),vd(t,a,s,!c);return}}ZV(t,e,a,n,r,i,s,o,l)}function Y0e(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fo(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vd(t,e,n,r){e&=~L5,e&=~Ap,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-so(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&eJ(t,n,e)}function EP(){return Hn&6?!0:(C_(0),!1)}function U5(){if(_n!==null){if(Yn===0)var t=_n.return;else t=_n,Su=gm=null,w5(t),Iv=null,d1=0,t=_n;for(;t!==null;)PQ(t.alternate,t),t=t.return;_n=null}}function i0(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,gye(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Nu=0,U5(),fr=t,_n=n=Ou(t.current,null),An=e,Yn=0,Ys=null,gd=!1,H0=__(t,e),D5=!1,n0=eo=L5=Ap=jd=ti=0,_s=Mb=null,L2=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-so(r),a=1<<i;e|=t[i],r&=~a}return Hu=e,gP(),n}function ZQ(t,e){fn=null,Zt.H=p1,e===V0||e===yP?(e=TV(),Yn=3):e===m5?(e=TV(),Yn=4):Yn=e===O5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ys=e,_n===null&&(ti=1,wM(t,Uo(e,t.current)))}function JQ(){var t=ho.current;return t===null?!0:(An&4194048)===An?$o===null:(An&62914560)===An||An&536870912?t===$o:!1}function QQ(){var t=Zt.H;return Zt.H=p1,t===null?p1:t}function eee(){var t=Zt.A;return Zt.A=X0e,t}function TM(){ti=4,gd||(An&4194048)!==An&&ho.current!==null||(H0=!0),!(jd&134217727)&&!(Ap&134217727)||fr===null||vd(fr,An,eo,!1)}function Tk(t,e,n){var r=Hn;Hn|=2;var i=QQ(),a=eee();(fr!==t||An!==e)&&(MM=null,i0(t,e)),e=!1;var s=ti;e:do try{if(Yn!==0&&_n!==null){var o=_n,l=Ys;switch(Yn){case 8:U5(),s=6;break e;case 3:case 2:case 9:case 6:ho.current===null&&(e=!0);var c=Yn;if(Yn=0,Ys=null,cv(t,o,l,c),n&&H0){s=0;break e}break;default:c=Yn,Yn=0,Ys=null,cv(t,o,l,c)}}Z0e(),s=ti;break}catch(u){ZQ(t,u)}while(!0);return e&&t.shellSuspendCounter++,Su=gm=null,Hn=r,Zt.H=i,Zt.A=a,_n===null&&(fr=null,An=0,gP()),s}function Z0e(){for(;_n!==null;)tee(_n)}function J0e(t,e){var n=Hn;Hn|=2;var r=QQ(),i=eee();fr!==t||An!==e?(MM=null,AM=io()+500,i0(t,e)):H0=__(t,e);e:do try{if(Yn!==0&&_n!==null){e=_n;var a=Ys;t:switch(Yn){case 1:Yn=0,Ys=null,cv(t,e,a,1);break;case 2:case 9:if(MV(a)){Yn=0,Ys=null,YV(e);break}e=function(){Yn!==2&&Yn!==9||fr!==t||(Yn=7),Ic(t)},a.then(e,e);break e;case 3:Yn=7;break e;case 4:Yn=5;break e;case 7:MV(a)?(Yn=0,Ys=null,YV(e)):(Yn=0,Ys=null,cv(t,e,a,7));break;case 5:var s=null;switch(_n.tag){case 26:s=_n.memoizedState;case 5:case 27:var o=_n;if(s?_ee(s):o.stateNode.complete){Yn=0,Ys=null;var l=o.sibling;if(l!==null)_n=l;else{var c=o.return;c!==null?(_n=c,AP(c)):_n=null}break t}}Yn=0,Ys=null,cv(t,e,a,5);break;case 6:Yn=0,Ys=null,cv(t,e,a,6);break;case 8:U5(),ti=6;break e;default:throw Error(nt(462))}}Q0e();break}catch(u){ZQ(t,u)}while(!0);return Su=gm=null,Zt.H=r,Zt.A=i,Hn=n,_n!==null?0:(fr=null,An=0,gP(),ti)}function Q0e(){for(;_n!==null&&!wve();)tee(_n)}function tee(t){var e=CQ(t.alternate,t,Hu);t.memoizedProps=t.pendingProps,e===null?AP(t):_n=e}function YV(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=HV(n,e,e.pendingProps,e.type,void 0,An);break;case 11:e=HV(n,e,e.pendingProps,e.type.render,e.ref,An);break;case 5:w5(e);default:PQ(n,e),e=_n=PJ(e,Hu),e=CQ(n,e,Hu)}t.memoizedProps=t.pendingProps,e===null?AP(t):_n=e}function cv(t,e,n,r){Su=gm=null,w5(e),Iv=null,d1=0;var i=e.return;try{if(B0e(t,i,e,n,An)){ti=1,wM(t,Uo(n,t.current)),_n=null;return}}catch(a){if(i!==null)throw _n=i,a;ti=1,wM(t,Uo(n,t.current)),_n=null;return}e.flags&32768?(Pn||r===1?t=!0:H0||An&536870912?t=!1:(gd=t=!0,(r===2||r===9||r===3||r===6)&&(r=ho.current,r!==null&&r.tag===13&&(r.flags|=16384))),nee(e,t)):AP(e)}function AP(t){var e=t;do{if(e.flags&32768){nee(e,gd);return}t=e.return;var n=G0e(e.alternate,e,Hu);if(n!==null){_n=n;return}if(e=e.sibling,e!==null){_n=e;return}_n=e=t}while(e!==null);ti===0&&(ti=5)}function nee(t,e){do{var n=W0e(t.alternate,t);if(n!==null){n.flags&=32767,_n=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){_n=t;return}_n=t=n}while(t!==null);ti=6,_n=null}function ZV(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do MP();while(ji!==0);if(Hn&6)throw Error(nt(327));if(e!==null){if(e===t.current)throw Error(nt(177));if(a=e.lanes|e.childLanes,a|=l5,kve(t,n,a,s,o,l),t===fr&&(_n=fr=null,An=0),r0=e,Cd=t,Nu=n,U2=a,z2=i,XQ=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,rye(fM,function(){return oee(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Zt.T,Zt.T=null,i=Wn.p,Wn.p=2,s=Hn,Hn|=4;try{$0e(t,e,n)}finally{Hn=s,Wn.p=i,Zt.T=r}}ji=1,ree(),iee(),aee()}}function ree(){if(ji===1){ji=0;var t=Cd,e=r0,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Zt.T,Zt.T=null;var r=Wn.p;Wn.p=2;var i=Hn;Hn|=4;try{jQ(e,t);var a=H2,s=_J(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&bJ(o.ownerDocument.documentElement,o)){if(l!==null&&o5(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var h=d.getSelection(),g=o.textContent.length,y=Math.min(l.start,g),x=l.end===void 0?y:Math.min(l.end,g);!h.extend&&y>x&&(s=x,x=y,y=s);var v=xV(o,y),b=xV(o,x);if(v&&b&&(h.rangeCount!==1||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var _=f.createRange();_.setStart(v.node,v.offset),h.removeAllRanges(),y>x?(h.addRange(_),h.extend(b.node,b.offset)):(_.setEnd(b.node,b.offset),h.addRange(_))}}}}for(f=[],h=o;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var A=f[o];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}DM=!!V2,H2=V2=null}finally{Hn=i,Wn.p=r,Zt.T=n}}t.current=e,ji=2}}function iee(){if(ji===2){ji=0;var t=Cd,e=r0,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Zt.T,Zt.T=null;var r=Wn.p;Wn.p=2;var i=Hn;Hn|=4;try{DQ(t,e.alternate,e)}finally{Hn=i,Wn.p=r,Zt.T=n}}ji=3}}function aee(){if(ji===4||ji===3){ji=0,Sve();var t=Cd,e=r0,n=Nu,r=XQ;e.subtreeFlags&10256||e.flags&10256?ji=5:(ji=0,r0=Cd=null,see(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Td=null),e5(n),e=e.stateNode,ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(b_,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Zt.T,i=Wn.p,Wn.p=2,Zt.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{Zt.T=e,Wn.p=i}}Nu&3&&MP(),Ic(t),i=t.pendingLanes,n&261930&&i&42?t===F2?Tb++:(Tb=0,F2=t):Tb=0,C_(0)}}function see(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,A_(e)))}function MP(){return ree(),iee(),aee(),oee()}function oee(){if(ji!==5)return!1;var t=Cd,e=U2;U2=0;var n=e5(Nu),r=Zt.T,i=Wn.p;try{Wn.p=32>n?32:n,Zt.T=null,n=z2,z2=null;var a=Cd,s=Nu;if(ji=0,r0=Cd=null,Nu=0,Hn&6)throw Error(nt(331));var o=Hn;if(Hn|=4,WQ(a.current),VQ(a,a.current,s,n),Hn=o,C_(0,!1),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(b_,a)}catch{}return!0}finally{Wn.p=i,Zt.T=r,see(t,e)}}function JV(t,e,n){e=Uo(n,e),e=k2(t.stateNode,e,2),t=Md(t,e,2),t!==null&&(w_(t,2),Ic(t))}function Jn(t,e,n){if(t.tag===3)JV(t,t,n);else for(;e!==null;){if(e.tag===3){JV(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Td===null||!Td.has(r))){t=Uo(n,t),n=wQ(2),r=Md(e,n,2),r!==null&&(SQ(n,r,e,t),w_(r,2),Ic(r));break}}e=e.return}}function Ck(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K0e;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(D5=!0,i.add(n),t=eye.bind(null,t,e,n),e.then(t,t))}function eye(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,fr===t&&(An&n)===n&&(ti===4||ti===3&&(An&62914560)===An&&300>io()-SP?!(Hn&2)&&i0(t,0):L5|=n,n0===An&&(n0=0)),Ic(t)}function lee(t,e){e===0&&(e=QZ()),t=mm(t,e),t!==null&&(w_(t,e),Ic(t))}function tye(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lee(t,n)}function nye(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(nt(314))}r!==null&&r.delete(e),lee(t,n)}function rye(t,e){return J4(t,e)}var CM=null,Yg=null,j2=!1,PM=!1,Pk=!1,yd=0;function Ic(t){t!==Yg&&t.next===null&&(Yg===null?CM=Yg=t:Yg=Yg.next=t),PM=!0,j2||(j2=!0,aye())}function C_(t,e){if(!Pk&&PM){Pk=!0;do for(var n=!1,r=CM;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-so(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,QV(r,a))}else a=An,a=dP(r,r===fr?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||__(r,a)||(n=!0,QV(r,a));r=r.next}while(n);Pk=!1}}function iye(){cee()}function cee(){PM=j2=!1;var t=0;yd!==0&&mye()&&(t=yd);for(var e=io(),n=null,r=CM;r!==null;){var i=r.next,a=uee(r,e);a===0?(r.next=null,n===null?CM=i:n.next=i,i===null&&(Yg=n)):(n=r,(t!==0||a&3)&&(PM=!0)),r=i}ji!==0&&ji!==5||C_(t),yd!==0&&(yd=0)}function uee(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-so(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=Ove(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=fr,n=An,n=dP(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Yn===2||Yn===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&rk(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||__(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&rk(r),e5(n)){case 2:case 8:n=ZZ;break;case 32:n=fM;break;case 268435456:n=JZ;break;default:n=fM}return r=fee.bind(null,t),n=J4(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&rk(r),t.callbackPriority=2,t.callbackNode=null,2}function fee(t,e){if(ji!==0&&ji!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(MP()&&t.callbackNode!==n)return null;var r=An;return r=dP(t,t===fr?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(YQ(t,r,e),uee(t,io()),t.callbackNode!=null&&t.callbackNode===n?fee.bind(null,t):null)}function QV(t,e){if(MP())return null;YQ(t,e,!0)}function aye(){vye(function(){Hn&6?J4(YZ,iye):cee()})}function z5(){if(yd===0){var t=Qv;t===0&&(t=PS,PS<<=1,!(PS&261888)&&(PS=256)),yd=t}return yd}function eH(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wA(""+t)}function tH(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function sye(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=eH((i[Os]||null).action),s=r.submitter;s&&(e=(e=s[Os]||null)?eH(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new hP("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(yd!==0){var l=s?tH(i,s):new FormData(i);I2(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?tH(i,s):new FormData(i),I2(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Ik=0;Ik<y2.length;Ik++){var Ok=y2[Ik],oye=Ok.toLowerCase(),lye=Ok[0].toUpperCase()+Ok.slice(1);Vl(oye,"on"+lye)}Vl(SJ,"onAnimationEnd");Vl(EJ,"onAnimationIteration");Vl(AJ,"onAnimationStart");Vl("dblclick","onDoubleClick");Vl("focusin","onFocus");Vl("focusout","onBlur");Vl(E0e,"onTransitionRun");Vl(A0e,"onTransitionStart");Vl(M0e,"onTransitionCancel");Vl(MJ,"onTransitionEnd");Zv("onMouseEnter",["mouseout","mouseover"]);Zv("onMouseLeave",["mouseout","mouseover"]);Zv("onPointerEnter",["pointerout","pointerover"]);Zv("onPointerLeave",["pointerout","pointerover"]);dm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dm("onBeforeInput",["compositionend","keypress","textInput","paste"]);dm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var m1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cye=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(m1));function dee(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){hM(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){hM(u)}i.currentTarget=null,a=l}}}}function bn(t,e){var n=e[u2];n===void 0&&(n=e[u2]=new Set);var r=t+"__bubble";n.has(r)||(hee(e,t,2,!1),n.add(r))}function kk(t,e,n){var r=0;e&&(r|=4),hee(n,t,r,e)}var FS="_reactListening"+Math.random().toString(36).slice(2);function F5(t){if(!t[FS]){t[FS]=!0,iJ.forEach(function(n){n!=="selectionchange"&&(cye.has(n)||kk(n,!1,t),kk(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[FS]||(e[FS]=!0,kk("selectionchange",!1,e))}}function hee(t,e,n,r){switch(Mee(e)){case 2:var i=Uye;break;case 8:i=zye;break;default:i=H5}n=i.bind(null,e,n,t),i=void 0,!m2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Nk(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=ev(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}dJ(function(){var c=a,u=r5(n),f=[];e:{var d=TJ.get(t);if(d!==void 0){var h=hP,g=t;switch(t){case"keypress":if(EA(n)===0)break e;case"keydown":case"keyup":h=n0e;break;case"focusin":g="focus",h=lk;break;case"focusout":g="blur",h=lk;break;case"beforeblur":case"afterblur":h=lk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=cV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Gve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=a0e;break;case SJ:case EJ:case AJ:h=qve;break;case MJ:h=o0e;break;case"scroll":case"scrollend":h=Vve;break;case"wheel":h=c0e;break;case"copy":case"cut":case"paste":h=Kve;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=fV;break;case"toggle":case"beforetoggle":h=f0e}var y=(e&4)!==0,x=!y&&(t==="scroll"||t==="scrollend"),v=y?d!==null?d+"Capture":null:d;y=[];for(var b=c,_;b!==null;){var A=b;if(_=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||_===null||v===null||(A=o1(b,v),A!=null&&y.push(g1(b,A,_))),x)break;b=b.return}0<y.length&&(d=new h(d,g,null,n,u),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==p2&&(g=n.relatedTarget||n.fromElement)&&(ev(g)||g[F0]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?ev(g):null,g!==null&&(x=x_(g),y=g.tag,g!==x||y!==5&&y!==27&&y!==6)&&(g=null)):(h=null,g=c),h!==g)){if(y=cV,A="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=fV,A="onPointerLeave",v="onPointerEnter",b="pointer"),x=h==null?d:eb(h),_=g==null?d:eb(g),d=new y(A,b+"leave",h,n,u),d.target=x,d.relatedTarget=_,A=null,ev(u)===c&&(y=new y(v,b+"enter",g,n,u),y.target=_,y.relatedTarget=x,A=y),x=A,h&&g)t:{for(y=uye,v=h,b=g,_=0,A=v;A;A=y(A))_++;A=0;for(var T=b;T;T=y(T))A++;for(;0<_-A;)v=y(v),_--;for(;0<A-_;)b=y(b),A--;for(;_--;){if(v===b||b!==null&&v===b.alternate){y=v;break t}v=y(v),b=y(b)}y=null}else y=null;h!==null&&nH(f,d,h,y,!1),g!==null&&x!==null&&nH(f,x,g,y,!0)}}e:{if(d=c?eb(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var M=mV;else if(pV(d))if(yJ)M=_0e;else{M=x0e;var I=y0e}else h=d.nodeName,!h||h.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&n5(c.elementType)&&(M=mV):M=b0e;if(M&&(M=M(t,c))){vJ(f,M,n,u);break e}I&&I(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&h2(d,"number",d.value)}switch(I=c?eb(c):window,t){case"focusin":(pV(I)||I.contentEditable==="true")&&(rv=I,g2=c,yb=null);break;case"focusout":yb=g2=rv=null;break;case"mousedown":v2=!0;break;case"contextmenu":case"mouseup":case"dragend":v2=!1,bV(f,n,u);break;case"selectionchange":if(S0e)break;case"keydown":case"keyup":bV(f,n,u)}var O;if(s5)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else nv?mJ(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(pJ&&n.locale!=="ko"&&(nv||P!=="onCompositionStart"?P==="onCompositionEnd"&&nv&&(O=hJ()):(md=u,i5="value"in md?md.value:md.textContent,nv=!0)),I=IM(c,P),0<I.length&&(P=new uV(P,t,null,n,u),f.push({event:P,listeners:I}),O?P.data=O:(O=gJ(n),O!==null&&(P.data=O)))),(O=h0e?p0e(t,n):m0e(t,n))&&(P=IM(c,"onBeforeInput"),0<P.length&&(I=new uV("onBeforeInput","beforeinput",null,n,u),f.push({event:I,listeners:P}),I.data=O)),sye(f,t,c,n,u)}dee(f,e)})}function g1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function IM(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=o1(t,n),i!=null&&r.unshift(g1(t,i,a)),i=o1(t,e),i!=null&&r.push(g1(t,i,a))),t.tag===3)return r;t=t.return}return[]}function uye(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nH(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=o1(n,a),c!=null&&s.unshift(g1(n,c,l))):i||(c=o1(n,a),c!=null&&s.push(g1(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var fye=/\r\n?/g,dye=/\u0000|\uFFFD/g;function rH(t){return(typeof t=="string"?t:""+t).replace(fye,`
`).replace(dye,"")}function pee(t,e){return e=rH(e),rH(t)===e}function rr(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Jv(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Jv(t,""+r);break;case"className":kS(t,"class",r);break;case"tabIndex":kS(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":kS(t,n,r);break;case"style":fJ(t,r,a);break;case"data":if(e!=="object"){kS(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=wA(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&rr(t,e,"name",i.name,i,null),rr(t,e,"formEncType",i.formEncType,i,null),rr(t,e,"formMethod",i.formMethod,i,null),rr(t,e,"formTarget",i.formTarget,i,null)):(rr(t,e,"encType",i.encType,i,null),rr(t,e,"method",i.method,i,null),rr(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=wA(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=wu);break;case"onScroll":r!=null&&bn("scroll",t);break;case"onScrollEnd":r!=null&&bn("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(nt(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(nt(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=wA(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":bn("beforetoggle",t),bn("toggle",t),_A(t,"popover",r);break;case"xlinkActuate":Qc(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Qc(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Qc(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Qc(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Qc(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Qc(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Qc(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Qc(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Qc(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":_A(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=jve.get(n)||n,_A(t,n,r))}}function B2(t,e,n,r,i,a){switch(n){case"style":fJ(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(nt(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(nt(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Jv(t,r):(typeof r=="number"||typeof r=="bigint")&&Jv(t,""+r);break;case"onScroll":r!=null&&bn("scroll",t);break;case"onScrollEnd":r!=null&&bn("scrollend",t);break;case"onClick":r!=null&&(t.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aJ.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Os]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):_A(t,n,r)}}}function Ma(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bn("error",t),bn("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(nt(137,e));default:rr(t,e,a,s,n,null)}}i&&rr(t,e,"srcSet",n.srcSet,n,null),r&&rr(t,e,"src",n.src,n,null);return;case"input":bn("invalid",t);var o=a=s=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":i=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(nt(137,e));break;default:rr(t,e,r,u,n,null)}}lJ(t,a,o,l,c,s,i,!1);return;case"select":bn("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:rr(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?Tv(t,!!r,e,!1):n!=null&&Tv(t,!!r,n,!0);return;case"textarea":bn("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(nt(91));break;default:rr(t,e,s,o,n,null)}uJ(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:rr(t,e,l,r,n,null)}return;case"dialog":bn("beforetoggle",t),bn("toggle",t),bn("cancel",t),bn("close",t);break;case"iframe":case"object":bn("load",t);break;case"video":case"audio":for(r=0;r<m1.length;r++)bn(m1[r],t);break;case"image":bn("error",t),bn("load",t);break;case"details":bn("toggle",t);break;case"embed":case"source":case"link":bn("error",t),bn("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(nt(137,e));default:rr(t,e,c,r,n,null)}return;default:if(n5(e)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&B2(t,e,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&rr(t,e,o,r,n,null))}function hye(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,c=null,u=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(h)||rr(t,e,h,null,r,f)}}for(var d in r){var h=r[d];if(f=n[d],r.hasOwnProperty(d)&&(h!=null||f!=null))switch(d){case"type":a=h;break;case"name":i=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(nt(137,e));break;default:h!==f&&rr(t,e,d,h,r,f)}}d2(t,s,o,l,c,u,a,i);return;case"select":h=s=o=d=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":h=l;default:r.hasOwnProperty(a)||rr(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":d=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&rr(t,e,i,a,r,l)}e=o,n=s,r=h,d!=null?Tv(t,!!n,d,!1):!!r!=!!n&&(e!=null?Tv(t,!!n,e,!0):Tv(t,!!n,n?[]:"",!1));return;case"textarea":h=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:rr(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":d=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(nt(91));break;default:i!==a&&rr(t,e,s,i,r,a)}cJ(t,d,h);return;case"option":for(var g in n)if(d=n[g],n.hasOwnProperty(g)&&d!=null&&!r.hasOwnProperty(g))switch(g){case"selected":t.selected=!1;break;default:rr(t,e,g,null,r,d)}for(l in r)if(d=r[l],h=n[l],r.hasOwnProperty(l)&&d!==h&&(d!=null||h!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:rr(t,e,l,d,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!r.hasOwnProperty(y)&&rr(t,e,y,null,r,d);for(c in r)if(d=r[c],h=n[c],r.hasOwnProperty(c)&&d!==h&&(d!=null||h!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(nt(137,e));break;default:rr(t,e,c,d,r,h)}return;default:if(n5(e)){for(var x in n)d=n[x],n.hasOwnProperty(x)&&d!==void 0&&!r.hasOwnProperty(x)&&B2(t,e,x,void 0,r,d);for(u in r)d=r[u],h=n[u],!r.hasOwnProperty(u)||d===h||d===void 0&&h===void 0||B2(t,e,u,d,r,h);return}}for(var v in n)d=n[v],n.hasOwnProperty(v)&&d!=null&&!r.hasOwnProperty(v)&&rr(t,e,v,null,r,d);for(f in r)d=r[f],h=n[f],!r.hasOwnProperty(f)||d===h||d==null&&h==null||rr(t,e,f,d,r,h)}function iH(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pye(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&iH(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,f=l.initiatorType;u&&iH(f)&&(l=l.responseEnd,s+=u*(l<o?1:(o-c)/(l-c)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var V2=null,H2=null;function OM(t){return t.nodeType===9?t:t.ownerDocument}function aH(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mee(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function G2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rk=null;function mye(){var t=window.event;return t&&t.type==="popstate"?t===Rk?!1:(Rk=t,!0):(Rk=null,!1)}var gee=typeof setTimeout=="function"?setTimeout:void 0,gye=typeof clearTimeout=="function"?clearTimeout:void 0,sH=typeof Promise=="function"?Promise:void 0,vye=typeof queueMicrotask=="function"?queueMicrotask:typeof sH<"u"?function(t){return sH.resolve(null).then(t).catch(yye)}:gee;function yye(t){setTimeout(function(){throw t})}function Zd(t){return t==="head"}function oH(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),s0(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Cb(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Cb(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[S_]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Cb(t.ownerDocument.body);n=i}while(n);s0(e)}function lH(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function W2(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":W2(n),t5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function xye(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[S_])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=qo(t.nextSibling),t===null)break}return null}function bye(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=qo(t.nextSibling),t===null))return null;return t}function vee(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=qo(t.nextSibling),t===null))return null;return t}function $2(t){return t.data==="$?"||t.data==="$~"}function q2(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _ye(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var X2=null;function cH(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return qo(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function uH(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function yee(t,e,n){switch(e=OM(n),t){case"html":if(t=e.documentElement,!t)throw Error(nt(452));return t;case"head":if(t=e.head,!t)throw Error(nt(453));return t;case"body":if(t=e.body,!t)throw Error(nt(454));return t;default:throw Error(nt(451))}}function Cb(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);t5(t)}var Zo=new Map,fH=new Set;function kM(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sf=Wn.d;Wn.d={f:wye,r:Sye,D:Eye,C:Aye,L:Mye,m:Tye,X:Pye,S:Cye,M:Iye};function wye(){var t=sf.f(),e=EP();return t||e}function Sye(t){var e=j0(t);e!==null&&e.tag===5&&e.type==="form"?fQ(e):sf.r(t)}var G0=typeof document>"u"?null:document;function xee(t,e,n){var r=G0;if(r&&typeof e=="string"&&e){var i=Lo(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),fH.has(i)||(fH.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Ma(e,"link",t),na(e),r.head.appendChild(e)))}}function Eye(t){sf.D(t),xee("dns-prefetch",t,null)}function Aye(t,e){sf.C(t,e),xee("preconnect",t,e)}function Mye(t,e,n){sf.L(t,e,n);var r=G0;if(r&&t&&e){var i='link[rel="preload"][as="'+Lo(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Lo(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Lo(n.imageSizes)+'"]')):i+='[href="'+Lo(t)+'"]';var a=i;switch(e){case"style":a=a0(t);break;case"script":a=W0(t)}Zo.has(a)||(t=Mr({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Zo.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(P_(a))||e==="script"&&r.querySelector(I_(a))||(e=r.createElement("link"),Ma(e,"link",t),na(e),r.head.appendChild(e)))}}function Tye(t,e){sf.m(t,e);var n=G0;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Lo(r)+'"][href="'+Lo(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=W0(t)}if(!Zo.has(a)&&(t=Mr({rel:"modulepreload",href:t},e),Zo.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(I_(a)))return}r=n.createElement("link"),Ma(r,"link",t),na(r),n.head.appendChild(r)}}}function Cye(t,e,n){sf.S(t,e,n);var r=G0;if(r&&t){var i=Mv(r).hoistableStyles,a=a0(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(P_(a)))o.loading=5;else{t=Mr({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Zo.get(a))&&j5(t,n);var l=s=r.createElement("link");na(l),Ma(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,kA(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function Pye(t,e){sf.X(t,e);var n=G0;if(n&&t){var r=Mv(n).hoistableScripts,i=W0(t),a=r.get(i);a||(a=n.querySelector(I_(i)),a||(t=Mr({src:t,async:!0},e),(e=Zo.get(i))&&B5(t,e),a=n.createElement("script"),na(a),Ma(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function Iye(t,e){sf.M(t,e);var n=G0;if(n&&t){var r=Mv(n).hoistableScripts,i=W0(t),a=r.get(i);a||(a=n.querySelector(I_(i)),a||(t=Mr({src:t,async:!0,type:"module"},e),(e=Zo.get(i))&&B5(t,e),a=n.createElement("script"),na(a),Ma(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function dH(t,e,n,r){var i=(i=Sd.current)?kM(i):null;if(!i)throw Error(nt(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=a0(n.href),n=Mv(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=a0(n.href);var a=Mv(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(P_(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Zo.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Zo.set(t,n),a||Oye(i,t,n,s.state))),e&&r===null)throw Error(nt(528,""));return s}if(e&&r!==null)throw Error(nt(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=W0(n),n=Mv(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(nt(444,t))}}function a0(t){return'href="'+Lo(t)+'"'}function P_(t){return'link[rel="stylesheet"]['+t+"]"}function bee(t){return Mr({},t,{"data-precedence":t.precedence,precedence:null})}function Oye(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ma(e,"link",n),na(e),t.head.appendChild(e))}function W0(t){return'[src="'+Lo(t)+'"]'}function I_(t){return"script[async]"+t}function hH(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Lo(n.href)+'"]');if(r)return e.instance=r,na(r),r;var i=Mr({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),na(r),Ma(r,"style",i),kA(r,n.precedence,t),e.instance=r;case"stylesheet":i=a0(n.href);var a=t.querySelector(P_(i));if(a)return e.state.loading|=4,e.instance=a,na(a),a;r=bee(n),(i=Zo.get(i))&&j5(r,i),a=(t.ownerDocument||t).createElement("link"),na(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Ma(a,"link",r),e.state.loading|=4,kA(a,n.precedence,t),e.instance=a;case"script":return a=W0(n.src),(i=t.querySelector(I_(a)))?(e.instance=i,na(i),i):(r=n,(i=Zo.get(a))&&(r=Mr({},n),B5(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),na(i),Ma(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(nt(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,kA(r,n.precedence,t));return e.instance}function kA(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function j5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function B5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var NA=null;function pH(t,e,n){if(NA===null){var r=new Map,i=NA=new Map;i.set(n,r)}else i=NA,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[S_]||a[Sa]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function mH(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function kye(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function _ee(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Nye(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=a0(r.href),a=e.querySelector(P_(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=NM.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,na(a);return}a=e.ownerDocument||e,r=bee(r),(i=Zo.get(i))&&j5(r,i),a=a.createElement("link"),na(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Ma(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=NM.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Dk=0;function Rye(t,e){return t.stylesheets&&t.count===0&&RA(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&RA(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Dk===0&&(Dk=62500*pye());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&RA(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Dk?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function NM(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)RA(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var RM=null;function RA(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,RM=new Map,e.forEach(Dye,t),RM=null,NM.call(t))}function Dye(t,e){if(!(e.state.loading&4)){var n=RM.get(t);if(n)var r=n.get(null);else{n=new Map,RM.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=NM.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var v1={$$typeof:_u,Provider:null,Consumer:null,_currentValue:_p,_currentValue2:_p,_threadCount:0};function Lye(t,e,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ik(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ik(0),this.hiddenUpdates=ik(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function wee(t,e,n,r,i,a,s,o,l,c,u,f){return t=new Lye(t,e,n,s,l,c,u,f,o),e=1,a===!0&&(e|=24),a=Js(3,null,null,e),t.current=a,a.stateNode=t,e=h5(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},g5(a),t}function See(t){return t?(t=sv,t):sv}function Eee(t,e,n,r,i,a){i=See(i),r.context===null?r.context=i:r.pendingContext=i,r=Ad(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Md(t,r,e),n!==null&&(Ps(n,t,e),bb(n,t,e))}function gH(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function V5(t,e){gH(t,e),(t=t.alternate)&&gH(t,e)}function Aee(t){if(t.tag===13||t.tag===31){var e=mm(t,67108864);e!==null&&Ps(e,t,67108864),V5(t,67108864)}}function vH(t){if(t.tag===13||t.tag===31){var e=oo();e=Q4(e);var n=mm(t,e);n!==null&&Ps(n,t,e),V5(t,e)}}var DM=!0;function Uye(t,e,n,r){var i=Zt.T;Zt.T=null;var a=Wn.p;try{Wn.p=2,H5(t,e,n,r)}finally{Wn.p=a,Zt.T=i}}function zye(t,e,n,r){var i=Zt.T;Zt.T=null;var a=Wn.p;try{Wn.p=8,H5(t,e,n,r)}finally{Wn.p=a,Zt.T=i}}function H5(t,e,n,r){if(DM){var i=K2(r);if(i===null)Nk(t,e,r,LM,n),yH(t,r);else if(jye(i,t,e,n,r))r.stopPropagation();else if(yH(t,r),e&4&&-1<Fye.indexOf(t)){for(;i!==null;){var a=j0(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Yh(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-so(s);o.entanglements[1]|=l,s&=~l}Ic(a),!(Hn&6)&&(AM=io()+500,C_(0))}}break;case 31:case 13:o=mm(a,2),o!==null&&Ps(o,a,2),EP(),V5(a,2)}if(a=K2(r),a===null&&Nk(t,e,r,LM,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Nk(t,e,r,null,n)}}function K2(t){return t=r5(t),G5(t)}var LM=null;function G5(t){if(LM=null,t=ev(t),t!==null){var e=x_(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=WZ(e),t!==null)return t;t=null}else if(n===31){if(t=$Z(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return LM=t,null}function Mee(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eve()){case YZ:return 2;case ZZ:return 8;case fM:case Ave:return 32;case JZ:return 268435456;default:return 32}default:return 32}}var Y2=!1,Pd=null,Id=null,Od=null,y1=new Map,x1=new Map,sd=[],Fye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yH(t,e){switch(t){case"focusin":case"focusout":Pd=null;break;case"dragenter":case"dragleave":Id=null;break;case"mouseover":case"mouseout":Od=null;break;case"pointerover":case"pointerout":y1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":x1.delete(e.pointerId)}}function cx(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=j0(e),e!==null&&Aee(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jye(t,e,n,r,i){switch(e){case"focusin":return Pd=cx(Pd,t,e,n,r,i),!0;case"dragenter":return Id=cx(Id,t,e,n,r,i),!0;case"mouseover":return Od=cx(Od,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return y1.set(a,cx(y1.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,x1.set(a,cx(x1.get(a)||null,t,e,n,r,i)),!0}return!1}function Tee(t){var e=ev(t.target);if(e!==null){var n=x_(e);if(n!==null){if(e=n.tag,e===13){if(e=WZ(n),e!==null){t.blockedOn=e,nV(t.priority,function(){vH(n)});return}}else if(e===31){if(e=$Z(n),e!==null){t.blockedOn=e,nV(t.priority,function(){vH(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function DA(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=K2(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);p2=r,n.target.dispatchEvent(r),p2=null}else return e=j0(n),e!==null&&Aee(e),t.blockedOn=n,!1;e.shift()}return!0}function xH(t,e,n){DA(t)&&n.delete(e)}function Bye(){Y2=!1,Pd!==null&&DA(Pd)&&(Pd=null),Id!==null&&DA(Id)&&(Id=null),Od!==null&&DA(Od)&&(Od=null),y1.forEach(xH),x1.forEach(xH)}function jS(t,e){t.blockedOn===e&&(t.blockedOn=null,Y2||(Y2=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,Bye)))}var BS=null;function bH(t){BS!==t&&(BS=t,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,function(){BS===t&&(BS=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(G5(r||n)===null)continue;break}var a=j0(n);a!==null&&(t.splice(e,3),e-=3,I2(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function s0(t){function e(l){return jS(l,t)}Pd!==null&&jS(Pd,t),Id!==null&&jS(Id,t),Od!==null&&jS(Od,t),y1.forEach(e),x1.forEach(e);for(var n=0;n<sd.length;n++){var r=sd[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<sd.length&&(n=sd[0],n.blockedOn===null);)Tee(n),n.blockedOn===null&&sd.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Os]||null;if(typeof a=="function")s||bH(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Os]||null)o=s.formAction;else if(G5(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),bH(n)}}}function Cee(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function W5(t){this._internalRoot=t}TP.prototype.render=W5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(nt(409));var n=e.current,r=oo();Eee(n,r,t,e,null,null)};TP.prototype.unmount=W5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eee(t.current,2,null,t,null,null),EP(),e[F0]=null}};function TP(t){this._internalRoot=t}TP.prototype.unstable_scheduleHydration=function(t){if(t){var e=rJ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sd.length&&e!==0&&e<sd[n].priority;n++);sd.splice(n,0,t),n===0&&Tee(t)}};var _H=HZ.version;if(_H!=="19.2.0")throw Error(nt(527,_H,"19.2.0"));Wn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=vve(e),t=t!==null?qZ(t):null,t=t===null?null:t.stateNode,t};var Vye={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Zt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var VS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!VS.isDisabled&&VS.supportsFiber)try{b_=VS.inject(Vye),ao=VS}catch{}}cP.createRoot=function(t,e){if(!GZ(t))throw Error(nt(299));var n=!1,r="",i=xQ,a=bQ,s=_Q;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wee(t,1,!1,null,null,n,r,null,i,a,s,Cee),t[F0]=e.current,F5(t),new W5(e)};cP.hydrateRoot=function(t,e,n){if(!GZ(t))throw Error(nt(299));var r=!1,i="",a=xQ,s=bQ,o=_Q,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=wee(t,1,!0,e,n??null,r,i,l,a,s,o,Cee),e.context=See(null),n=e.current,r=oo(),r=Q4(r),i=Ad(r),i.callback=null,Md(n,i,r),n=r,e.current.lanes=n,w_(e,n),Ic(e),t[F0]=e.current,F5(t),new TP(e)};cP.version="19.2.0";function Pee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pee)}catch(t){console.error(t)}}Pee(),UZ.exports=cP;var Iee=UZ.exports;const Hye=ca(Iee),Gye=()=>{};var wH={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wye=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},kee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let d=(o&15)<<2|c>>6,h=c&63;l||(h=64,s||(d=64)),r.push(n[u],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Oee(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Wye(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new $ye;const d=a<<2|o>>4;if(r.push(d),c!==64){const h=o<<4&240|c>>2;if(r.push(h),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qye=function(t){const e=Oee(t);return kee.encodeByteArray(e,!0)},Nee=function(t){return qye(t).replace(/\./g,"")},Ree=function(t){try{return kee.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kye=()=>Xye().__FIREBASE_DEFAULTS__,Yye=()=>{if(typeof process>"u"||typeof wH>"u")return;const t=wH.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ree(t[1]);return e&&JSON.parse(e)},$5=()=>{try{return Gye()||Kye()||Yye()||Zye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jye=t=>{var e,n;return(n=(e=$5())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Dee=()=>{var t;return(t=$5())==null?void 0:t.config},Lee=t=>{var e;return(e=$5())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function exe(t){return(await fetch(t,{credentials:"include"})).ok}const Pb={};function txe(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pb))Pb[e]?t.emulator.push(e):t.prod.push(e);return t}function nxe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SH=!1;function rxe(t,e){if(typeof window>"u"||typeof document>"u"||!CP(window.location.host)||Pb[t]===e||Pb[t]||SH)return;Pb[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=txe().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,h){d.setAttribute("width","24"),d.setAttribute("id",h),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{SH=!0,s()},d}function u(d,h){d.setAttribute("id",h),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=nxe(r),h=n("text"),g=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),x=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const _=d.element;o(_),u(x,y);const A=c();l(b,v),_.append(b,g,x,A),document.body.appendChild(_)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ixe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(is())}function axe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sxe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oxe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lxe(){const t=is();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cxe(){try{return typeof indexedDB=="object"}catch{return!1}}function uxe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fxe="FirebaseError";class Jd extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fxe,Object.setPrototypeOf(this,Jd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O_.prototype.create)}}class O_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?dxe(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Jd(i,o,r)}}function dxe(t,e){return t.replace(hxe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hxe=/\{\$([^}]+)}/g;function pxe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function o0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(EH(a)&&EH(s)){if(!o0(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EH(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rb(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ib(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mxe(t,e){const n=new gxe(t,e);return n.subscribe.bind(n)}class gxe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vxe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lk),i.error===void 0&&(i.error=Lk),i.complete===void 0&&(i.complete=Lk);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vxe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lk(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){return t&&t._delegate?t._delegate:t}class l0{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yxe=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qye;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bxe(e))try{this.getOrInitializeService({instanceIdentifier:Qh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Qh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qh){return this.instances.has(e)}getOptions(e=Qh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xxe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qh){return this.component?this.component.multipleInstances?e:Qh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xxe(t){return t===Qh?void 0:t}function bxe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _xe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yxe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(cr||(cr={}));const wxe={debug:cr.DEBUG,verbose:cr.VERBOSE,info:cr.INFO,warn:cr.WARN,error:cr.ERROR,silent:cr.SILENT},Sxe=cr.INFO,Exe={[cr.DEBUG]:"log",[cr.VERBOSE]:"log",[cr.INFO]:"info",[cr.WARN]:"warn",[cr.ERROR]:"error"},Axe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Exe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uee{constructor(e){this.name=e,this._logLevel=Sxe,this._logHandler=Axe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wxe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,cr.DEBUG,...e),this._logHandler(this,cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,cr.VERBOSE,...e),this._logHandler(this,cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,cr.INFO,...e),this._logHandler(this,cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,cr.WARN,...e),this._logHandler(this,cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,cr.ERROR,...e),this._logHandler(this,cr.ERROR,...e)}}const Mxe=(t,e)=>e.some(n=>t instanceof n);let AH,MH;function Txe(){return AH||(AH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cxe(){return MH||(MH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zee=new WeakMap,Z2=new WeakMap,Fee=new WeakMap,Uk=new WeakMap,q5=new WeakMap;function Pxe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(kd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zee.set(n,t)}).catch(()=>{}),q5.set(e,t),e}function Ixe(t){if(Z2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Z2.set(t,e)}let J2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Z2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fee.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Oxe(t){J2=t(J2)}function kxe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zk(this),e,...n);return Fee.set(r,e.sort?e.sort():[e]),kd(r)}:Cxe().includes(t)?function(...e){return t.apply(zk(this),e),kd(zee.get(this))}:function(...e){return kd(t.apply(zk(this),e))}}function Nxe(t){return typeof t=="function"?kxe(t):(t instanceof IDBTransaction&&Ixe(t),Mxe(t,Txe())?new Proxy(t,J2):t)}function kd(t){if(t instanceof IDBRequest)return Pxe(t);if(Uk.has(t))return Uk.get(t);const e=Nxe(t);return e!==t&&(Uk.set(t,e),q5.set(e,t)),e}const zk=t=>q5.get(t);function Rxe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=kd(s);return r&&s.addEventListener("upgradeneeded",l=>{r(kd(s.result),l.oldVersion,l.newVersion,kd(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Dxe=["get","getKey","getAll","getAllKeys","count"],Lxe=["put","add","delete","clear"],Fk=new Map;function TH(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fk.get(e))return Fk.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lxe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Dxe.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Fk.set(e,a),a}Oxe(t=>({...t,get:(e,n,r)=>TH(e,n)||t.get(e,n,r),has:(e,n)=>!!TH(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uxe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zxe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zxe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q2="@firebase/app",CH="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Uee("@firebase/app"),Fxe="@firebase/app-compat",jxe="@firebase/analytics-compat",Bxe="@firebase/analytics",Vxe="@firebase/app-check-compat",Hxe="@firebase/app-check",Gxe="@firebase/auth",Wxe="@firebase/auth-compat",$xe="@firebase/database",qxe="@firebase/data-connect",Xxe="@firebase/database-compat",Kxe="@firebase/functions",Yxe="@firebase/functions-compat",Zxe="@firebase/installations",Jxe="@firebase/installations-compat",Qxe="@firebase/messaging",ebe="@firebase/messaging-compat",tbe="@firebase/performance",nbe="@firebase/performance-compat",rbe="@firebase/remote-config",ibe="@firebase/remote-config-compat",abe="@firebase/storage",sbe="@firebase/storage-compat",obe="@firebase/firestore",lbe="@firebase/ai",cbe="@firebase/firestore-compat",ube="firebase",fbe="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="[DEFAULT]",dbe={[Q2]:"fire-core",[Fxe]:"fire-core-compat",[Bxe]:"fire-analytics",[jxe]:"fire-analytics-compat",[Hxe]:"fire-app-check",[Vxe]:"fire-app-check-compat",[Gxe]:"fire-auth",[Wxe]:"fire-auth-compat",[$xe]:"fire-rtdb",[qxe]:"fire-data-connect",[Xxe]:"fire-rtdb-compat",[Kxe]:"fire-fn",[Yxe]:"fire-fn-compat",[Zxe]:"fire-iid",[Jxe]:"fire-iid-compat",[Qxe]:"fire-fcm",[ebe]:"fire-fcm-compat",[tbe]:"fire-perf",[nbe]:"fire-perf-compat",[rbe]:"fire-rc",[ibe]:"fire-rc-compat",[abe]:"fire-gcs",[sbe]:"fire-gcs-compat",[obe]:"fire-fst",[cbe]:"fire-fst-compat",[lbe]:"fire-vertex","fire-js":"fire-js",[ube]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new Map,hbe=new Map,tD=new Map;function PH(t,e){try{t.container.addComponent(e)}catch(n){Gu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function b1(t){const e=t.name;if(tD.has(e))return Gu.debug(`There were multiple attempts to register component ${e}.`),!1;tD.set(e,t);for(const n of UM.values())PH(n,t);for(const n of hbe.values())PH(n,t);return!0}function jee(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ml(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pbe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nd=new O_("app","Firebase",pbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mbe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new l0("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=fbe;function Bee(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eD,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Nd.create("bad-app-name",{appName:String(i)});if(n||(n=Dee()),!n)throw Nd.create("no-options");const a=UM.get(i);if(a){if(o0(n,a.options)&&o0(r,a.config))return a;throw Nd.create("duplicate-app",{appName:i})}const s=new _xe(i);for(const l of tD.values())s.addComponent(l);const o=new mbe(n,r,s);return UM.set(i,o),o}function gbe(t=eD){const e=UM.get(t);if(!e&&t===eD&&Dee())return Bee();if(!e)throw Nd.create("no-app",{appName:t});return e}function Nv(t,e,n){let r=dbe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gu.warn(s.join(" "));return}b1(new l0(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vbe="firebase-heartbeat-database",ybe=1,_1="firebase-heartbeat-store";let jk=null;function Vee(){return jk||(jk=Rxe(vbe,ybe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_1)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nd.create("idb-open",{originalErrorMessage:t.message})})),jk}async function xbe(t){try{const n=(await Vee()).transaction(_1),r=await n.objectStore(_1).get(Hee(t));return await n.done,r}catch(e){if(e instanceof Jd)Gu.warn(e.message);else{const n=Nd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gu.warn(n.message)}}}async function IH(t,e){try{const r=(await Vee()).transaction(_1,"readwrite");await r.objectStore(_1).put(e,Hee(t)),await r.done}catch(n){if(n instanceof Jd)Gu.warn(n.message);else{const r=Nd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gu.warn(r.message)}}}function Hee(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bbe=1024,_be=30;class wbe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ebe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=OH();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_be){const s=Abe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OH(),{heartbeatsToSend:r,unsentEntries:i}=Sbe(this._heartbeatsCache.heartbeats),a=Nee(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Gu.warn(n),""}}}function OH(){return new Date().toISOString().substring(0,10)}function Sbe(t,e=bbe){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),kH(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kH(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ebe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cxe()?uxe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xbe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IH(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IH(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kH(t){return Nee(JSON.stringify({version:2,heartbeats:t})).length}function Abe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mbe(t){b1(new l0("platform-logger",e=>new Uxe(e),"PRIVATE")),b1(new l0("heartbeat",e=>new wbe(e),"PRIVATE")),Nv(Q2,CH,t),Nv(Q2,CH,"esm2020"),Nv("fire-js","")}Mbe("");function Gee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tbe=Gee,Wee=new O_("auth","Firebase",Gee());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new Uee("@firebase/auth");function Cbe(t,...e){zM.logLevel<=cr.WARN&&zM.warn(`Auth (${N_}): ${t}`,...e)}function LA(t,...e){zM.logLevel<=cr.ERROR&&zM.error(`Auth (${N_}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t,...e){throw X5(t,...e)}function yc(t,...e){return X5(t,...e)}function $ee(t,e,n){const r={...Tbe(),[e]:n};return new O_("auth","Firebase",r).create(e,{appName:t.name})}function Ru(t){return $ee(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Wee.create(t,...e)}function qt(t,e,...n){if(!t)throw X5(e,...n)}function Eu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw LA(e),new Error(e)}function Wu(t,e){t||Eu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Pbe(){return NH()==="http:"||NH()==="https:"}function NH(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ibe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pbe()||sxe()||"connection"in navigator)?navigator.onLine:!0}function Obe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wu(n>e,"Short delay should be less than long delay!"),this.isMobile=ixe()||oxe()}get(){return Ibe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e){Wu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Eu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Eu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Eu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nbe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rbe=new R_(3e4,6e4);function of(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function kc(t,e,n,r,i={}){return Xee(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=k_({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return axe()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&CP(t.emulatorConfig.host)&&(c.credentials="include"),qee.fetch()(await Kee(t,t.config.apiHost,n,o),c)})}async function Xee(t,e,n){t._canInitEmulator=!1;const r={...kbe,...e};try{const i=new Lbe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw HS(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw HS(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw HS(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw HS(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $ee(t,u,c);Ul(t,u)}}catch(i){if(i instanceof Jd)throw i;Ul(t,"network-request-failed",{message:String(i)})}}async function D_(t,e,n,r,i={}){const a=await kc(t,e,n,r,i);return"mfaPendingCredential"in a&&Ul(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Kee(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?K5(t.config,i):`${t.config.apiScheme}://${i}`;return Nbe.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Dbe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lbe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yc(this.auth,"network-request-failed")),Rbe.get())})}}function HS(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yc(t,e,r);return i.customData._tokenResponse=n,i}function RH(t){return t!==void 0&&t.enterprise!==void 0}class Ube{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Dbe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zbe(t,e){return kc(t,"GET","/v2/recaptchaConfig",of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fbe(t,e){return kc(t,"POST","/v1/accounts:delete",e)}async function FM(t,e){return kc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jbe(t,e=!1){const n=Oc(t),r=await n.getIdToken(e),i=Y5(r);qt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ib(Bk(i.auth_time)),issuedAtTime:Ib(Bk(i.iat)),expirationTime:Ib(Bk(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Bk(t){return Number(t)*1e3}function Y5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return LA("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ree(n);return i?JSON.parse(i):(LA("Failed to decode base64 JWT payload"),null)}catch(i){return LA("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DH(t){const e=Y5(t);return qt(e,"internal-error"),qt(typeof e.exp<"u","internal-error"),qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jd&&Bbe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bbe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vbe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ib(this.lastLoginAt),this.creationTime=Ib(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t){var f;const e=t.auth,n=await t.getIdToken(),r=await c0(t,FM(e,{idToken:n}));qt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?Yee(i.providerUserInfo):[],s=Gbe(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rD(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Hbe(t){const e=Oc(t);await jM(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Gbe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yee(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wbe(t,e){const n=await Xee(t,{},async()=>{const r=k_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Kee(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&CP(t.emulatorConfig.host)&&(l.credentials="include"),qee.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $be(t,e){return kc(t,"POST","/v2/accounts:revokeToken",of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt(typeof e.idToken<"u","internal-error"),qt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qt(e.length!==0,"internal-error");const n=DH(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Wbe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Rv;return r&&(qt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(qt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(qt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rv,this.toJSON())}_performRefresh(){return Eu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e){qt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ol{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Vbe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rD(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await c0(this,this.stsTokenManager.getToken(this.auth,e));return qt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jbe(this,e)}reload(){return Hbe(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ol({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jM(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ml(this.auth.app))return Promise.reject(Ru(this.auth));const e=await this.getIdToken();return await c0(this,Fbe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:h,providerData:g,stsTokenManager:y}=n;qt(f&&y,e,"internal-error");const x=Rv.fromJSON(this.name,y);qt(typeof f=="string",e,"internal-error"),zf(r,e.name),zf(i,e.name),qt(typeof d=="boolean",e,"internal-error"),qt(typeof h=="boolean",e,"internal-error"),zf(a,e.name),zf(s,e.name),zf(o,e.name),zf(l,e.name),zf(c,e.name),zf(u,e.name);const v=new Ol({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:h,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:x,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(v.providerData=g.map(b=>({...b}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Rv;i.updateFromServerResponse(n);const a=new Ol({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jM(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Yee(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Rv;o.updateFromIdToken(r);const l=new Ol({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new rD(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new Map;function Au(t){Wu(t instanceof Function,"Expected a class definition");let e=LH.get(t);return e?(Wu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LH.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zee.type="NONE";const UH=Zee;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e,n){return`firebase:${t}:${e}:${n}`}class Dv{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=UA(this.userKey,i.apiKey,a),this.fullPersistenceKey=UA("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await FM(this.auth,{idToken:e}).catch(()=>{});return n?Ol._fromGetAccountInfoResponse(this.auth,n,e):null}return Ol._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dv(Au(UH),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Au(UH);const s=UA(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const d=await FM(e,{idToken:u}).catch(()=>{});if(!d)break;f=await Ol._fromGetAccountInfoResponse(e,d,u)}else f=Ol._fromJSON(e,u);c!==a&&(o=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Dv(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Dv(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tte(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jee(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rte(e))return"Blackberry";if(ite(e))return"Webos";if(Qee(e))return"Safari";if((e.includes("chrome/")||ete(e))&&!e.includes("edge/"))return"Chrome";if(nte(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Jee(t=is()){return/firefox\//i.test(t)}function Qee(t=is()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ete(t=is()){return/crios\//i.test(t)}function tte(t=is()){return/iemobile/i.test(t)}function nte(t=is()){return/android/i.test(t)}function rte(t=is()){return/blackberry/i.test(t)}function ite(t=is()){return/webos/i.test(t)}function Z5(t=is()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qbe(t=is()){var e;return Z5(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Xbe(){return lxe()&&document.documentMode===10}function ate(t=is()){return Z5(t)||nte(t)||ite(t)||rte(t)||/windows phone/i.test(t)||tte(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(t,e=[]){let n;switch(t){case"Browser":n=zH(is());break;case"Worker":n=`${zH(is())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${N_}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kbe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ybe(t,e={}){return kc(t,"GET","/v2/passwordPolicy",of(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zbe=6;class Jbe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Zbe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qbe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FH(this),this.idTokenSubscription=new FH(this),this.beforeStateQueue=new Kbe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wee,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Au(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Dv.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await FM(this,{idToken:e}),r=await Ol._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Ml(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jM(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Obe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ml(this.app))return Promise.reject(Ru(this));const n=e?Oc(e):null;return n&&qt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ml(this.app)?Promise.reject(Ru(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ml(this.app)?Promise.reject(Ru(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Au(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ybe(this),n=new Jbe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new O_("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $be(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Au(e)||this._popupRedirectResolver;qt(n,this,"argument-error"),this.redirectPersistenceManager=await Dv.create(this,[Au(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ste(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ml(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Cbe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vm(t){return Oc(t)}class FH{constructor(e){this.auth=e,this.observer=null,this.addObserver=mxe(n=>this.observer=n)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e1e(t){PP=t}function ote(t){return PP.loadJS(t)}function t1e(){return PP.recaptchaEnterpriseScript}function n1e(){return PP.gapiScript}function r1e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i1e{constructor(){this.enterprise=new a1e}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class a1e{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const s1e="recaptcha-enterprise",lte="NO_RECAPTCHA";class o1e{constructor(e){this.type=s1e,this.auth=vm(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{zbe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ube(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;RH(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(lte)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i1e().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&RH(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=t1e();l.length!==0&&(l+=o),ote(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function jH(t,e,n,r=!1,i=!1){const a=new o1e(t);let s;if(i)s=lte;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function iD(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await jH(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jH(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1e(t,e){const n=jee(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(o0(a,e??{}))return i;Ul(i,"already-initialized")}return n.initialize({options:e})}function c1e(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Au);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u1e(t,e,n){const r=vm(t);qt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=cte(e),{host:s,port:o}=f1e(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qt(o0(c,r.config.emulator)&&o0(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,CP(s)?(exe(`${a}//${s}${l}`),rxe("Auth",!0)):d1e()}function cte(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f1e(t){const e=cte(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:BH(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:BH(s)}}}function BH(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d1e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Eu("not implemented")}_getIdTokenResponse(e){return Eu("not implemented")}_linkToIdToken(e,n){return Eu("not implemented")}_getReauthenticationResolver(e){return Eu("not implemented")}}async function h1e(t,e){return kc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1e(t,e){return D_(t,"POST","/v1/accounts:signInWithPassword",of(t,e))}async function m1e(t,e){return kc(t,"POST","/v1/accounts:sendOobCode",of(t,e))}async function g1e(t,e){return m1e(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1e(t,e){return D_(t,"POST","/v1/accounts:signInWithEmailLink",of(t,e))}async function y1e(t,e){return D_(t,"POST","/v1/accounts:signInWithEmailLink",of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends J5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new w1(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new w1(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iD(e,n,"signInWithPassword",p1e);case"emailLink":return v1e(e,{email:this._email,oobCode:this._password});default:Ul(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iD(e,r,"signUpPassword",h1e);case"emailLink":return y1e(e,{idToken:n,email:this._email,oobCode:this._password});default:Ul(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lv(t,e){return D_(t,"POST","/v1/accounts:signInWithIdp",of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1e="http://localhost";class Hp extends J5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ul("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Hp(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Lv(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lv(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lv(e,n)}buildRequest(){const e={requestUri:x1e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=k_(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _1e(t){const e=rb(ib(t)).link,n=e?rb(ib(e)).deep_link_id:null,r=rb(ib(t)).deep_link_id;return(r?rb(ib(r)).link:null)||r||n||e||t}class Q5{constructor(e){const n=rb(ib(e)),r=n.apiKey??null,i=n.oobCode??null,a=b1e(n.mode??null);qt(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_1e(e);try{return new Q5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.providerId=$0.PROVIDER_ID}static credential(e,n){return w1._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Q5.parseLink(n);return qt(r,"argument-error"),w1._fromEmailAndCode(e,r.code,r.tenantId)}}$0.PROVIDER_ID="password";$0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends ute{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends L_{constructor(){super("facebook.com")}static credential(e){return Hp._fromParams({providerId:od.PROVIDER_ID,signInMethod:od.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return od.credentialFromTaggedObject(e)}static credentialFromError(e){return od.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return od.credential(e.oauthAccessToken)}catch{return null}}}od.FACEBOOK_SIGN_IN_METHOD="facebook.com";od.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends L_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hp._fromParams({providerId:ld.PROVIDER_ID,signInMethod:ld.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ld.credentialFromTaggedObject(e)}static credentialFromError(e){return ld.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ld.credential(n,r)}catch{return null}}}ld.GOOGLE_SIGN_IN_METHOD="google.com";ld.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends L_{constructor(){super("github.com")}static credential(e){return Hp._fromParams({providerId:cd.PROVIDER_ID,signInMethod:cd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cd.credentialFromTaggedObject(e)}static credentialFromError(e){return cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cd.credential(e.oauthAccessToken)}catch{return null}}}cd.GITHUB_SIGN_IN_METHOD="github.com";cd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends L_{constructor(){super("twitter.com")}static credential(e,n){return Hp._fromParams({providerId:ud.PROVIDER_ID,signInMethod:ud.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ud.credentialFromTaggedObject(e)}static credentialFromError(e){return ud.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ud.credential(n,r)}catch{return null}}}ud.TWITTER_SIGN_IN_METHOD="twitter.com";ud.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1e(t,e){return D_(t,"POST","/v1/accounts:signUp",of(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ol._fromIdTokenResponse(e,r,i),s=VH(r);return new Gp({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=VH(r);return new Gp({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function VH(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM extends Jd{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,BM.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new BM(e,n,r,i)}}function fte(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?BM._fromErrorAndOperation(t,a,e,r):a})}async function S1e(t,e,n=!1){const r=await c0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gp._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1e(t,e,n=!1){const{auth:r}=t;if(Ml(r.app))return Promise.reject(Ru(r));const i="reauthenticate";try{const a=await c0(t,fte(r,i,e,t),n);qt(a.idToken,r,"internal-error");const s=Y5(a.idToken);qt(s,r,"internal-error");const{sub:o}=s;return qt(t.uid===o,r,"user-mismatch"),Gp._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ul(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dte(t,e,n=!1){if(Ml(t.app))return Promise.reject(Ru(t));const r="signIn",i=await fte(t,r,e),a=await Gp._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function A1e(t,e){return dte(vm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hte(t){const e=vm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function M1e(t,e,n){if(Ml(t.app))return Promise.reject(Ru(t));const r=vm(t),s=await iD(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w1e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hte(t),l}),o=await Gp._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function T1e(t,e,n){return Ml(t.app)?Promise.reject(Ru(t)):A1e(Oc(t),$0.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hte(t),r})}async function pte(t,e){const n=Oc(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await g1e(n.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1e(t,e){return kc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1e(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Oc(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await c0(r,C1e(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function I1e(t,e,n,r){return Oc(t).onIdTokenChanged(e,n,r)}function O1e(t,e,n){return Oc(t).beforeAuthStateChanged(e,n)}function k1e(t,e,n,r){return Oc(t).onAuthStateChanged(e,n,r)}const VM="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(VM,"1"),this.storage.removeItem(VM),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1e=1e3,R1e=10;class gte extends mte{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ate(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Xbe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R1e):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gte.type="LOCAL";const D1e=gte;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte extends mte{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vte.type="SESSION";const yte=vte;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new IP(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await L1e(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}IP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=eU("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(d.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(){return window}function z1e(t){xc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xte(){return typeof xc().WorkerGlobalScope<"u"&&typeof xc().importScripts=="function"}async function F1e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j1e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function B1e(){return xte()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="firebaseLocalStorageDb",V1e=1,HM="firebaseLocalStorage",_te="fbase_key";class U_{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function OP(t,e){return t.transaction([HM],e?"readwrite":"readonly").objectStore(HM)}function H1e(){const t=indexedDB.deleteDatabase(bte);return new U_(t).toPromise()}function aD(){const t=indexedDB.open(bte,V1e);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(HM,{keyPath:_te})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(HM)?e(r):(r.close(),await H1e(),e(await aD()))})})}async function HH(t,e,n){const r=OP(t,!0).put({[_te]:e,value:n});return new U_(r).toPromise()}async function G1e(t,e){const n=OP(t,!1).get(e),r=await new U_(n).toPromise();return r===void 0?null:r.value}function GH(t,e){const n=OP(t,!0).delete(e);return new U_(n).toPromise()}const W1e=800,$1e=3;class wte{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aD(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$1e)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xte()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=IP._getInstance(B1e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await F1e(),!this.activeServiceWorker)return;this.sender=new U1e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j1e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aD();return await HH(e,VM,"1"),await GH(e,VM),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HH(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G1e(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GH(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=OP(i,!1).getAll();return new U_(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wte.type="LOCAL";const q1e=wte;new R_(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1e(t,e){return e?Au(e):(qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU extends J5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lv(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K1e(t){return dte(t.auth,new tU(t),t.bypassAuthState)}function Y1e(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),E1e(n,new tU(t),t.bypassAuthState)}async function Z1e(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),S1e(n,new tU(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K1e;case"linkViaPopup":case"linkViaRedirect":return Z1e;case"reauthViaPopup":case"reauthViaRedirect":return Y1e;default:Ul(this.auth,"internal-error")}}resolve(e){Wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1e=new R_(2e3,1e4);class uv extends Ste{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,uv.currentPopupAction&&uv.currentPopupAction.cancel(),uv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qt(e,this.auth,"internal-error"),e}async onExecution(){Wu(this.filter.length===1,"Popup operations only handle one event");const e=eU();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J1e.get())};e()}}uv.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1e="pendingRedirect",zA=new Map;class e_e extends Ste{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zA.get(this.auth._key());if(!e){try{const r=await t_e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zA.set(this.auth._key(),e)}return this.bypassAuthState||zA.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t_e(t,e){const n=i_e(e),r=r_e(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function n_e(t,e){zA.set(t._key(),e)}function r_e(t){return Au(t._redirectPersistence)}function i_e(t){return UA(Q1e,t.config.apiKey,t.name)}async function a_e(t,e,n=!1){if(Ml(t.app))return Promise.reject(Ru(t));const r=vm(t),i=X1e(r,e),s=await new e_e(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_e=10*60*1e3;class o_e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l_e(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ete(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(yc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s_e&&this.cachedEventUids.clear(),this.cachedEventUids.has(WH(e))}saveEventToCache(e){this.cachedEventUids.add(WH(e)),this.lastProcessedEventTime=Date.now()}}function WH(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ete({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l_e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ete(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_e(t,e={}){return kc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f_e=/^https?/;async function d_e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c_e(t);for(const n of e)try{if(h_e(n))return}catch{}Ul(t,"unauthorized-domain")}function h_e(t){const e=nD(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!f_e.test(n))return!1;if(u_e.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_e=new R_(3e4,6e4);function $H(){const t=xc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m_e(t){return new Promise((e,n)=>{var i,a,s;function r(){$H(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$H(),n(yc(t,"network-request-failed"))},timeout:p_e.get()})}if((a=(i=xc().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=xc().gapi)!=null&&s.load)r();else{const o=r1e("iframefcb");return xc()[o]=()=>{gapi.load?r():n(yc(t,"network-request-failed"))},ote(`${n1e()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw FA=null,e})}let FA=null;function g_e(t){return FA=FA||m_e(t),FA}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_e=new R_(5e3,15e3),y_e="__/auth/iframe",x_e="emulator/auth/iframe",b_e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},__e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w_e(t){const e=t.config;qt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K5(e,x_e):`https://${t.config.authDomain}/${y_e}`,r={apiKey:e.apiKey,appName:t.name,v:N_},i=__e.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${k_(r).slice(1)}`}async function S_e(t){const e=await g_e(t),n=xc().gapi;return qt(n,t,"internal-error"),e.open({where:document.body,url:w_e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b_e,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=yc(t,"network-request-failed"),o=xc().setTimeout(()=>{a(s)},v_e.get());function l(){xc().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A_e=500,M_e=600,T_e="_blank",C_e="http://localhost";class qH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P_e(t,e,n,r=A_e,i=M_e){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...E_e,width:r.toString(),height:i.toString(),top:a,left:s},c=is().toLowerCase();n&&(o=ete(c)?T_e:n),Jee(c)&&(e=e||C_e,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,g])=>`${d}${h}=${g},`,"");if(qbe(c)&&o!=="_self")return I_e(e||"",o),new qH(null);const f=window.open(e||"",o,u);qt(f,t,"popup-blocked");try{f.focus()}catch{}return new qH(f)}function I_e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_e="__/auth/handler",k_e="emulator/auth/handler",N_e=encodeURIComponent("fac");async function XH(t,e,n,r,i,a){qt(t.config.authDomain,t,"auth-domain-config-required"),qt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:N_,eventId:i};if(e instanceof ute){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",pxe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof L_){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${N_e}=${encodeURIComponent(l)}`:"";return`${R_e(t)}?${k_(o).slice(1)}${c}`}function R_e({config:t}){return t.emulator?K5(t,k_e):`https://${t.authDomain}/${O_e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="webStorageSupport";class D_e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yte,this._completeRedirectFn=a_e,this._overrideRedirectResult=n_e}async _openPopup(e,n,r,i){var s;Wu((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await XH(e,n,r,nD(),i);return P_e(e,a,eU())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await XH(e,n,r,nD(),i);return z1e(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Wu(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S_e(e),r=new o_e(e);return n.register("authEvent",i=>(qt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vk,{type:Vk},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Vk];a!==void 0&&n(!!a),Ul(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d_e(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ate()||Qee()||Z5()}}const L_e=D_e;var KH="@firebase/auth",YH="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F_e(t){b1(new l0("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;qt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ste(t)},c=new Qbe(r,i,a,l);return c1e(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),b1(new l0("auth-internal",e=>{const n=vm(e.getProvider("auth").getImmediate());return(r=>new U_e(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nv(KH,YH,z_e(t)),Nv(KH,YH,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_e=5*60,B_e=Lee("authIdTokenMaxAge")||j_e;let ZH=null;const V_e=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B_e)return;const i=n==null?void 0:n.token;ZH!==i&&(ZH=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H_e(t=gbe()){const e=jee(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l1e(t,{popupRedirectResolver:L_e,persistence:[q1e,D1e,yte]}),r=Lee("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=V_e(a.toString());O1e(n,s,()=>s(n.currentUser)),I1e(n,o=>s(o))}}const i=Jye("auth");return i&&u1e(n,`http://${i}`),n}function G_e(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}e1e({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=yc("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",G_e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F_e("Browser");var W_e="firebase",$_e="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nv(W_e,$_e,"app");const q_e={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyDPgulVdBfKn5-37hj3DzJsBtok3ALfqCA",VITE_FIREBASE_APP_ID:"1:593026023874:web:4c66a8a1c94c174a5a165b",VITE_FIREBASE_AUTH_DOMAIN:"ragquery-ddb60.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-BJQ19XME2W",VITE_FIREBASE_MESSAGING_SENDER_ID:"593026023874",VITE_FIREBASE_PROJECT_ID:"ragquery-ddb60",VITE_FIREBASE_STORAGE_BUCKET:"ragquery-ddb60.firebasestorage.app"},X_e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID"],Hk=X_e.filter(t=>!q_e[t]);if(Hk.length>0)throw console.error(""),console.error(" Missing required Firebase environment variables:"),Hk.forEach(t=>console.error(`    ${t}`)),console.error(""),console.error("Please add these to your .env or .env.local file."),console.error(""),new Error(`Missing Firebase configuration: ${Hk.join(", ")}`);const K_e={apiKey:"AIzaSyDPgulVdBfKn5-37hj3DzJsBtok3ALfqCA",authDomain:"ragquery-ddb60.firebaseapp.com",projectId:"ragquery-ddb60",storageBucket:"ragquery-ddb60.firebasestorage.app",messagingSenderId:"593026023874",appId:"1:593026023874:web:4c66a8a1c94c174a5a165b",measurementId:"G-BJQ19XME2W"},Y_e=Bee(K_e),Ob=H_e(Y_e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J_e=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),JH=t=>{const e=J_e(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ate=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Q_e=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ewe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const twe=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>E.createElement("svg",{ref:l,...ewe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ate("lucide",i),...!a&&!Q_e(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>E.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(t,e)=>{const n=E.forwardRef(({className:r,...i},a)=>E.createElement(twe,{ref:a,iconNode:e,className:Ate(`lucide-${Z_e(JH(t))}`,`lucide-${t}`,r),...i}));return n.displayName=JH(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nwe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],rwe=Bt("activity",nwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iwe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],awe=Bt("arrow-left",iwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const swe=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],owe=Bt("audio-lines",swe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lwe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nU=Bt("book-open",lwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cwe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Mte=Bt("bot",cwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uwe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fwe=Bt("briefcase",uwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dwe=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],sD=Bt("chart-no-axes-column-increasing",dwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hwe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Uv=Bt("check",hwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pwe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kP=Bt("chevron-down",pwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mwe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rU=Bt("chevron-right",mwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gwe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vwe=Bt("chevron-left",gwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ywe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xwe=Bt("chevron-up",ywe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bwe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QH=Bt("clock",bwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _we=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wwe=Bt("dollar-sign",_we);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Swe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Tte=Bt("download",Swe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ewe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Cte=Bt("external-link",Ewe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Awe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Mwe=Bt("file-code",Awe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Wp=Bt("file-text",Twe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cwe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Pwe=Bt("file-up",Cwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iwe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Owe=Bt("image",Iwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kwe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],oD=Bt("info",kwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nwe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Rwe=Bt("layers",Nwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dwe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Lwe=Bt("layout-dashboard",Dwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uwe=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],zwe=Bt("layout-template",Uwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fwe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],jwe=Bt("lightbulb",Fwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bwe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],e9=Bt("link",Bwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vwe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jo=Bt("loader-circle",Vwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hwe=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Bd=Bt("maximize",Hwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gwe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Wwe=Bt("message-square",Gwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $we=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],qwe=Bt("monitor-play",$we);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xwe=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Kwe=Bt("music",Xwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ywe=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Pte=Bt("network",Ywe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zwe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Jwe=Bt("palette",Zwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qwe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eSe=Bt("pen-line",Qwe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tSe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],nSe=Bt("pen-tool",tSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rSe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],iSe=Bt("play",rSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aSe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sSe=Bt("plus",aSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oSe=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],lD=Bt("presentation",oSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lSe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],cSe=Bt("printer",lSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uSe=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],fSe=Bt("refresh-ccw",uSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dSe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ite=Bt("refresh-cw",dSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hSe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pSe=Bt("rotate-ccw",hSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mSe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],iU=Bt("send",mSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gSe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t9=Bt("settings",gSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vSe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ySe=Bt("share-2",vSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xSe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Du=Bt("sparkles",xSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bSe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_Se=Bt("square-pen",bSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wSe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],SSe=Bt("square",wSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ESe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ASe=Bt("star",ESe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MSe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],n9=Bt("trash-2",MSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TSe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CSe=Bt("trending-up",TSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PSe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ote=Bt("upload",PSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ISe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OSe=Bt("users",ISe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kSe=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],kte=Bt("youtube",kSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NSe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nte=Bt("x",NSe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RSe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],S1=Bt("zoom-out",RSe),r9=({onSubmit:t,isLoading:e})=>{const[n,r]=E.useState(""),[i,a]=E.useState(!1),[s,o]=E.useState(!1),l=E.useRef(null);E.useEffect(()=>{const u=f=>{l.current&&!l.current.contains(f.target)&&a(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const c=u=>{u.preventDefault(),n.trim()&&(t(n.trim(),s),r(""),o(!1))};return S.jsxs("div",{className:"w-full max-w-2xl mx-auto relative",children:[S.jsx("form",{onSubmit:c,className:"relative group",children:S.jsxs("div",{className:"flex items-center gap-3 bg-[#202124] rounded-full px-4 py-3 border border-transparent group-focus-within:border-neutral-700 transition-all duration-200 shadow-sm",children:[S.jsx("div",{className:"flex-shrink-0 text-neutral-400 hover:text-neutral-200 cursor-pointer transition-colors relative",onClick:()=>a(!i),title:"Supported Sources",children:S.jsx(oD,{size:18,strokeWidth:2})}),S.jsxs("div",{className:"flex-1 flex items-center min-w-0",children:[S.jsx("span",{className:"text-neutral-500 font-medium mr-0.5 select-none",children:"https://"}),S.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Paste a web link or YouTube URL...",className:"flex-1 bg-transparent text-neutral-200 placeholder-neutral-600 outline-none text-base font-normal min-w-0",disabled:e,autoComplete:"off"})]}),S.jsx("div",{className:`flex-shrink-0 cursor-pointer transition-colors ${s?"text-yellow-400 fill-yellow-400":"text-neutral-400 hover:text-neutral-200"}`,onClick:()=>o(!s),title:s?"Remove from Favorites":"Mark as Favorite",children:S.jsx(ASe,{size:18,strokeWidth:2,fill:s?"currentColor":"none"})})]})}),i&&S.jsxs("div",{ref:l,className:"absolute top-full left-0 mt-2 p-4 bg-[#202124] border border-neutral-800 rounded-xl shadow-xl z-50 w-64 animate-in fade-in zoom-in-95 duration-200",children:[S.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"Supported Sources"}),S.jsxs("ul",{className:"space-y-2 text-xs text-neutral-400",children:[S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-500"}),"Public Websites & Articles"]}),S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),"YouTube Videos"]}),S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),"PDF URLs"]})]})]})]})};var Rte={exports:{}},DSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LSe=DSe,USe=LSe;function Dte(){}function Lte(){}Lte.resetWarningCache=Dte;var zSe=function(){function t(r,i,a,s,o,l){if(l!==USe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Lte,resetWarningCache:Dte};return n.PropTypes=n,n};Rte.exports=zSe();var FSe=Rte.exports;const lr=ca(FSe);function ym(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}const jSe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function u0(t,e,n){const r=BSe(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&i9(r,"path",a),i9(r,"relativePath",a),r}function BSe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=jSe.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function i9(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const VSe=[".DS_Store","Thumbs.db"];function HSe(t){return ym(this,void 0,void 0,function*(){return GM(t)&&GSe(t.dataTransfer)?XSe(t.dataTransfer,t.type):WSe(t)?$Se(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?qSe(t):[]})}function GSe(t){return GM(t)}function WSe(t){return GM(t)&&GM(t.target)}function GM(t){return typeof t=="object"&&t!==null}function $Se(t){return cD(t.target.files).map(e=>u0(e))}function qSe(t){return ym(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>u0(n))})}function XSe(t,e){return ym(this,void 0,void 0,function*(){if(t.items){const n=cD(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(KSe));return a9(Ute(r))}return a9(cD(t.files).map(n=>u0(n)))})}function a9(t){return t.filter(e=>VSe.indexOf(e.name)===-1)}function cD(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function KSe(t){if(typeof t.webkitGetAsEntry!="function")return s9(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?zte(e):s9(t,e)}function Ute(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?Ute(n):[n]],[])}function s9(t,e){return ym(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const s=yield a.getFile();return s.handle=a,u0(s)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return u0(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function YSe(t){return ym(this,void 0,void 0,function*(){return t.isDirectory?zte(t):ZSe(t)})}function zte(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function a(){e.readEntries(s=>ym(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(YSe));i.push(o),a()}else try{const o=yield Promise.all(i);n(o)}catch(o){r(o)}}),s=>{r(s)})}a()})}function ZSe(t){return ym(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=u0(r,t.fullPath);e(i)},r=>{n(r)})})})}var Gk=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):i===o})}return!0};function o9(t){return eEe(t)||QSe(t)||jte(t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eEe(t){if(Array.isArray(t))return uD(t)}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E1(t,e){return rEe(t)||nEe(t,e)||jte(t,e)||tEe()}function tEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jte(t,e){if(t){if(typeof t=="string")return uD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uD(t,e)}}function uD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function rEe(t){if(Array.isArray(t))return t}var iEe=typeof Gk=="function"?Gk:Gk.default,aEe="file-invalid-type",sEe="file-too-large",oEe="file-too-small",lEe="too-many-files",cEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:aEe,message:"File type must be ".concat(r)}},u9=function(e){return{code:sEe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},f9=function(e){return{code:oEe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},uEe={code:lEe,message:"Too many files"};function Bte(t,e){var n=t.type==="application/x-moz-file"||iEe(t,e);return[n,n?null:cEe(e)]}function Vte(t,e,n){if(sp(t.size))if(sp(e)&&sp(n)){if(t.size>n)return[!1,u9(n)];if(t.size<e)return[!1,f9(e)]}else{if(sp(e)&&t.size<e)return[!1,f9(e)];if(sp(n)&&t.size>n)return[!1,u9(n)]}return[!0,null]}function sp(t){return t!=null}function fEe(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,a=t.multiple,s=t.maxFiles,o=t.validator;return!a&&e.length>1||a&&s>=1&&e.length>s?!1:e.every(function(l){var c=Bte(l,n),u=E1(c,1),f=u[0],d=Vte(l,r,i),h=E1(d,1),g=h[0],y=o?o(l):null;return f&&g&&!y})}function WM(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function GS(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function d9(t){t.preventDefault()}function dEe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function hEe(t){return t.indexOf("Edge/")!==-1}function pEe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return dEe(t)||hEe(t)}function Ql(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return e.some(function(o){return!WM(r)&&o&&o.apply(void 0,[r].concat(a)),WM(r)})}}function mEe(){return"showOpenFilePicker"in window}function gEe(t){if(sp(t)){var e=Object.entries(t).filter(function(n){var r=E1(n,2),i=r[0],a=r[1],s=!0;return Hte(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(a)||!a.every(Gte))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=E1(r,2),a=i[0],s=i[1];return c9(c9({},n),{},Fte({},a,s))},{});return[{description:"Files",accept:e}]}return t}function vEe(t){if(sp(t))return Object.entries(t).reduce(function(e,n){var r=E1(n,2),i=r[0],a=r[1];return[].concat(o9(e),[i],o9(a))},[]).filter(function(e){return Hte(e)||Gte(e)}).join(",")}function yEe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function xEe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Hte(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function Gte(t){return/^.*\.[\w]+$/.test(t)}var bEe=["children"],_Ee=["open"],wEe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],SEe=["refKey","onChange","onClick"];function EEe(t){return TEe(t)||MEe(t)||Wte(t)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TEe(t){if(Array.isArray(t))return fD(t)}function Wk(t,e){return IEe(t)||PEe(t,e)||Wte(t,e)||CEe()}function CEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(t,e){if(t){if(typeof t=="string")return fD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fD(t,e)}}function fD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function IEe(t){if(Array.isArray(t))return t}function h9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(n),!0).forEach(function(r){dD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $M(t,e){if(t==null)return{};var n=OEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var aU=E.forwardRef(function(t,e){var n=t.children,r=$M(t,bEe),i=sU(r),a=i.open,s=$M(i,_Ee);return E.useImperativeHandle(e,function(){return{open:a}},[a]),He.createElement(E.Fragment,null,n(Br(Br({},s),{},{open:a})))});aU.displayName="Dropzone";var $te={disabled:!1,getFilesFromEvent:HSe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};aU.defaultProps=$te;aU.propTypes={children:lr.func,accept:lr.objectOf(lr.arrayOf(lr.string)),multiple:lr.bool,preventDropOnDocument:lr.bool,noClick:lr.bool,noKeyboard:lr.bool,noDrag:lr.bool,noDragEventsBubbling:lr.bool,minSize:lr.number,maxSize:lr.number,maxFiles:lr.number,disabled:lr.bool,getFilesFromEvent:lr.func,onFileDialogCancel:lr.func,onFileDialogOpen:lr.func,useFsAccessApi:lr.bool,autoFocus:lr.bool,onDragEnter:lr.func,onDragLeave:lr.func,onDragOver:lr.func,onDrop:lr.func,onDropAccepted:lr.func,onDropRejected:lr.func,onError:lr.func,validator:lr.func};var hD={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function sU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Br(Br({},$te),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,s=e.minSize,o=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,h=e.onDropAccepted,g=e.onDropRejected,y=e.onFileDialogCancel,x=e.onFileDialogOpen,v=e.useFsAccessApi,b=e.autoFocus,_=e.preventDropOnDocument,A=e.noClick,T=e.noKeyboard,M=e.noDrag,I=e.noDragEventsBubbling,O=e.onError,P=e.validator,k=E.useMemo(function(){return vEe(n)},[n]),N=E.useMemo(function(){return gEe(n)},[n]),L=E.useMemo(function(){return typeof x=="function"?x:p9},[x]),B=E.useMemo(function(){return typeof y=="function"?y:p9},[y]),D=E.useRef(null),V=E.useRef(null),F=E.useReducer(kEe,hD),H=Wk(F,2),q=H[0],W=H[1],z=q.isFocused,$=q.isFileDialogActive,Z=E.useRef(typeof window<"u"&&window.isSecureContext&&v&&mEe()),G=function(){!Z.current&&$&&setTimeout(function(){if(V.current){var ee=V.current.files;ee.length||(W({type:"closeDialog"}),B())}},300)};E.useEffect(function(){return window.addEventListener("focus",G,!1),function(){window.removeEventListener("focus",G,!1)}},[V,$,B,Z]);var ie=E.useRef([]),ue=function(ee){D.current&&D.current.contains(ee.target)||(ee.preventDefault(),ie.current=[])};E.useEffect(function(){return _&&(document.addEventListener("dragover",d9,!1),document.addEventListener("drop",ue,!1)),function(){_&&(document.removeEventListener("dragover",d9),document.removeEventListener("drop",ue))}},[D,_]),E.useEffect(function(){return!r&&b&&D.current&&D.current.focus(),function(){}},[D,b,r]);var te=E.useCallback(function(j){O?O(j):console.error(j)},[O]),ae=E.useCallback(function(j){j.preventDefault(),j.persist(),ye(j),ie.current=[].concat(EEe(ie.current),[j.target]),GS(j)&&Promise.resolve(i(j)).then(function(ee){if(!(WM(j)&&!I)){var re=ee.length,se=re>0&&fEe({files:ee,accept:k,minSize:s,maxSize:a,multiple:o,maxFiles:l,validator:P}),ce=re>0&&!se;W({isDragAccept:se,isDragReject:ce,isDragActive:!0,type:"setDraggedFiles"}),c&&c(j)}}).catch(function(ee){return te(ee)})},[i,c,te,I,k,s,a,o,l,P]),he=E.useCallback(function(j){j.preventDefault(),j.persist(),ye(j);var ee=GS(j);if(ee&&j.dataTransfer)try{j.dataTransfer.dropEffect="copy"}catch{}return ee&&f&&f(j),!1},[f,I]),le=E.useCallback(function(j){j.preventDefault(),j.persist(),ye(j);var ee=ie.current.filter(function(se){return D.current&&D.current.contains(se)}),re=ee.indexOf(j.target);re!==-1&&ee.splice(re,1),ie.current=ee,!(ee.length>0)&&(W({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),GS(j)&&u&&u(j))},[D,u,I]),be=E.useCallback(function(j,ee){var re=[],se=[];j.forEach(function(ce){var Oe=Bte(ce,k),De=Wk(Oe,2),Ge=De[0],rt=De[1],Re=Vte(ce,s,a),Ue=Wk(Re,2),Be=Ue[0],Je=Ue[1],We=P?P(ce):null;if(Ge&&Be&&!We)re.push(ce);else{var ut=[rt,Je];We&&(ut=ut.concat(We)),se.push({file:ce,errors:ut.filter(function(pe){return pe})})}}),(!o&&re.length>1||o&&l>=1&&re.length>l)&&(re.forEach(function(ce){se.push({file:ce,errors:[uEe]})}),re.splice(0)),W({acceptedFiles:re,fileRejections:se,isDragReject:se.length>0,type:"setFiles"}),d&&d(re,se,ee),se.length>0&&g&&g(se,ee),re.length>0&&h&&h(re,ee)},[W,o,k,s,a,l,d,h,g,P]),Ie=E.useCallback(function(j){j.preventDefault(),j.persist(),ye(j),ie.current=[],GS(j)&&Promise.resolve(i(j)).then(function(ee){WM(j)&&!I||be(ee,j)}).catch(function(ee){return te(ee)}),W({type:"reset"})},[i,be,te,I]),fe=E.useCallback(function(){if(Z.current){W({type:"openDialog"}),L();var j={multiple:o,types:N};window.showOpenFilePicker(j).then(function(ee){return i(ee)}).then(function(ee){be(ee,null),W({type:"closeDialog"})}).catch(function(ee){yEe(ee)?(B(ee),W({type:"closeDialog"})):xEe(ee)?(Z.current=!1,V.current?(V.current.value=null,V.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(ee)});return}V.current&&(W({type:"openDialog"}),L(),V.current.value=null,V.current.click())},[W,L,B,v,be,te,N,o]),Ye=E.useCallback(function(j){!D.current||!D.current.isEqualNode(j.target)||(j.key===" "||j.key==="Enter"||j.keyCode===32||j.keyCode===13)&&(j.preventDefault(),fe())},[D,fe]),we=E.useCallback(function(){W({type:"focus"})},[]),Te=E.useCallback(function(){W({type:"blur"})},[]),Ee=E.useCallback(function(){A||(pEe()?setTimeout(fe,0):fe())},[A,fe]),ke=function(ee){return r?null:ee},Y=function(ee){return T?null:ke(ee)},xe=function(ee){return M?null:ke(ee)},ye=function(ee){I&&ee.stopPropagation()},me=E.useMemo(function(){return function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=j.refKey,re=ee===void 0?"ref":ee,se=j.role,ce=j.onKeyDown,Oe=j.onFocus,De=j.onBlur,Ge=j.onClick,rt=j.onDragEnter,Re=j.onDragOver,Ue=j.onDragLeave,Be=j.onDrop,Je=$M(j,wEe);return Br(Br(dD({onKeyDown:Y(Ql(ce,Ye)),onFocus:Y(Ql(Oe,we)),onBlur:Y(Ql(De,Te)),onClick:ke(Ql(Ge,Ee)),onDragEnter:xe(Ql(rt,ae)),onDragOver:xe(Ql(Re,he)),onDragLeave:xe(Ql(Ue,le)),onDrop:xe(Ql(Be,Ie)),role:typeof se=="string"&&se!==""?se:"presentation"},re,D),!r&&!T?{tabIndex:0}:{}),Je)}},[D,Ye,we,Te,Ee,ae,he,le,Ie,T,M,r]),Pe=E.useCallback(function(j){j.stopPropagation()},[]),K=E.useMemo(function(){return function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=j.refKey,re=ee===void 0?"ref":ee,se=j.onChange,ce=j.onClick,Oe=$M(j,SEe),De=dD({accept:k,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ke(Ql(se,Ie)),onClick:ke(Ql(ce,Pe)),tabIndex:-1},re,V);return Br(Br({},De),Oe)}},[V,n,o,Ie,r]);return Br(Br({},q),{},{isFocused:z&&!r,getRootProps:me,getInputProps:K,rootRef:D,inputRef:V,open:ke(fe)})}function kEe(t,e){switch(e.type){case"focus":return Br(Br({},t),{},{isFocused:!0});case"blur":return Br(Br({},t),{},{isFocused:!1});case"openDialog":return Br(Br({},hD),{},{isFileDialogActive:!0});case"closeDialog":return Br(Br({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Br(Br({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Br(Br({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Br({},hD);default:return t}}function p9(){}const NEe=()=>S.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),REe=()=>S.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),DEe=()=>S.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),LEe=()=>S.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),UEe=()=>S.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),m9=({onFileUpload:t,onTextUpload:e,isProcessing:n})=>{const r=(i,a,s,o)=>{const l=E.useCallback(d=>{d.length>0&&t(d[0],a)},[]),{getRootProps:c,getInputProps:u,isDragActive:f}=sU({onDrop:l,accept:i,multiple:!1,disabled:n});return S.jsxs("div",{...c(),className:`relative group cursor-pointer bg-neutral-900 border border-neutral-800 rounded-xl p-2 transition-all duration-300 shadow-[0_0_20px_-5px_rgba(249,115,22,0.3)] hover:scale-105 hover:bg-gradient-to-br hover:from-orange-500/20 hover:to-red-500/20 hover:border-orange-500/50 hover:text-orange-100 hover:shadow-[0_0_25px_-5px_rgba(249,115,22,0.5)] ${f?"bg-orange-500/30 scale-105 shadow-orange-500/40":""} ${n?"opacity-50 cursor-not-allowed":""}`,children:[S.jsx("input",{...u()}),S.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[S.jsx("div",{className:"p-2 rounded-full bg-neutral-800 group-hover:bg-neutral-800/80 transition-colors",children:S.jsx(s,{})}),S.jsx("div",{className:"text-center",children:S.jsx("div",{className:"font-medium text-xs text-neutral-200 group-hover:text-white transition-colors",children:o})})]})]})};return S.jsxs("div",{className:"w-full",children:[S.jsx("h3",{className:"text-xs font-semibold text-neutral-400 mb-2 text-center uppercase tracking-wider",children:"Add Knowledge Source"}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[r({"application/pdf":[".pdf"]},"pdf",NEe,"PDF"),r({"image/*":[".png",".jpg",".jpeg",".webp"]},"image",REe,"Image"),r({"audio/*":[".mp3",".wav",".m4a",".ogg"]},"audio",DEe,"Audio"),S.jsx("div",{onClick:()=>!n&&alert("Use the link input above to add websites"),className:`relative group cursor-pointer bg-neutral-900 border border-neutral-800 rounded-xl p-2 transition-all duration-300 shadow-[0_0_20px_-5px_rgba(249,115,22,0.3)] hover:scale-105 hover:bg-gradient-to-br hover:from-orange-500/20 hover:to-red-500/20 hover:border-orange-500/50 hover:text-orange-100 hover:shadow-[0_0_25px_-5px_rgba(249,115,22,0.5)] ${n?"opacity-50 cursor-not-allowed":""}`,children:S.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[S.jsx("div",{className:"p-2 rounded-full bg-neutral-800 group-hover:bg-neutral-800/80 transition-colors",children:S.jsx(LEe,{})}),S.jsx("div",{className:"text-center",children:S.jsx("div",{className:"font-medium text-xs text-neutral-200 group-hover:text-white transition-colors",children:"Website"})})]})}),S.jsx("div",{onClick:()=>!n&&e(),className:`relative group cursor-pointer bg-neutral-900 border border-neutral-800 rounded-xl p-2 transition-all duration-300 shadow-[0_0_20px_-5px_rgba(249,115,22,0.3)] hover:scale-105 hover:bg-gradient-to-br hover:from-orange-500/20 hover:to-red-500/20 hover:border-orange-500/50 hover:text-orange-100 hover:shadow-[0_0_25px_-5px_rgba(249,115,22,0.5)] ${n?"opacity-50 cursor-not-allowed":""}`,children:S.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[S.jsx("div",{className:"p-2 rounded-full bg-neutral-800 group-hover:bg-neutral-800/80 transition-colors",children:S.jsx(UEe,{})}),S.jsx("div",{className:"text-center",children:S.jsx("div",{className:"font-medium text-xs text-neutral-200 group-hover:text-white transition-colors",children:"Text"})})]})})]})]})},zEe=({sources:t,onDelete:e,onRename:n,selectedSources:r,onToggleSource:i,onToggleAll:a})=>{const[s,o]=E.useState(null),[l,c]=E.useState(""),u=(x,v)=>{x.stopPropagation(),o(v.id),c(v.title)},f=x=>{x.stopPropagation(),s&&l.trim()&&n(s,l.trim()),o(null),c("")},d=x=>{x.stopPropagation(),o(null),c("")},h=x=>{x.key==="Enter"?f(x):x.key==="Escape"&&d(x)};if(t.length===0)return null;const g=t.length>0&&r.length===t.length,y=x=>{const v="w-10 h-10 rounded-lg flex items-center justify-center text-[10px] font-bold border shadow-sm";switch(x){case"pdf":return S.jsx("div",{className:`${v} bg-red-500/10 border-red-500/20 text-red-400`,children:"PDF"});case"image":return S.jsx("div",{className:`${v} bg-purple-500/10 border-purple-500/20 text-purple-400`,children:"IMG"});case"audio":return S.jsx("div",{className:`${v} bg-blue-500/10 border-blue-500/20 text-blue-400`,children:"MP3"});case"url":return S.jsx("div",{className:`${v} bg-cyan-500/10 border-cyan-500/20 text-cyan-400`,children:"WEB"});case"youtube":return S.jsx("div",{className:`${v} bg-red-600/10 border-red-600/20 text-red-500`,children:"YT"});case"text":return S.jsx("div",{className:`${v} bg-neutral-500/10 border-neutral-500/20 text-neutral-400`,children:"TXT"});default:return S.jsx("div",{className:`${v} bg-neutral-500/10 border-neutral-500/20 text-neutral-400`,children:"FILE"})}};return S.jsxs("div",{className:"w-full",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6 px-2",children:[S.jsxs("h3",{className:"text-sm font-semibold text-neutral-400 uppercase tracking-wider",children:["Your Sources (",t.length,")"]}),S.jsx("button",{onClick:a,className:"text-xs font-medium text-orange-400 hover:text-orange-300 transition-colors",children:g?"Deselect All":"Select All"})]}),S.jsx("div",{className:"space-y-3",children:t.map((x,v)=>{const b=r.includes(x.id),_=s===x.id;return S.jsxs("div",{onClick:()=>!_&&i(x.id),className:`group relative flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all duration-300 border ${b?"bg-neutral-800 border-orange-500/50 shadow-lg shadow-orange-500/5":"bg-neutral-900/50 border-transparent hover:bg-gradient-to-br hover:from-orange-500/10 hover:to-red-500/10 hover:border-orange-500/50 hover:shadow-[0_0_15px_-3px_rgba(249,115,22,0.2)]"}`,children:[S.jsx("div",{className:"absolute -left-2 -top-2 w-5 h-5 rounded-full bg-neutral-800 border border-neutral-700 flex items-center justify-center text-[10px] text-neutral-500 font-medium shadow-sm z-10",children:v+1}),S.jsx("div",{className:"flex-shrink-0 transition-transform duration-300 group-hover:scale-105",children:y(x.type)}),S.jsx("div",{className:"flex-1 min-w-0",children:_?S.jsxs("div",{className:"flex items-center gap-2",onClick:A=>A.stopPropagation(),children:[S.jsx("input",{type:"text",value:l,onChange:A=>c(A.target.value),onKeyDown:h,autoFocus:!0,className:"flex-1 bg-neutral-700 text-white text-sm px-2 py-1 rounded border border-orange-500/50 focus:outline-none focus:border-orange-500"}),S.jsx("button",{onClick:f,className:"p-1 text-green-400 hover:text-green-300 hover:bg-green-400/10 rounded",title:"Save",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),S.jsx("button",{onClick:d,className:"p-1 text-neutral-400 hover:text-white hover:bg-neutral-600 rounded",title:"Cancel",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:`text-sm font-medium truncate transition-colors ${b?"text-white":"text-neutral-300 group-hover:text-white"}`,children:x.title}),x.is_starred&&S.jsx("svg",{className:"w-4 h-4 text-yellow-400 fill-yellow-400 flex-shrink-0",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:S.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})]}),S.jsx("div",{className:"text-[10px] text-neutral-500 mt-0.5",children:new Date(x.created_at).toLocaleDateString()})]})}),!_&&S.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200",children:[S.jsx("button",{onClick:A=>u(A,x),className:"p-1.5 text-neutral-500 hover:text-orange-400 hover:bg-orange-400/10 rounded-lg transition-all duration-200",title:"Rename source",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),S.jsx("button",{onClick:A=>{A.stopPropagation(),e(x.id)},className:"p-1.5 text-neutral-500 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-all duration-200",title:"Delete source",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),b&&S.jsx("div",{className:"absolute right-2 top-2 w-2 h-2 rounded-full bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.5)]"})]},x.id)})})]})};function FEe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const jEe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,BEe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VEe={};function g9(t,e){return(VEe.jsx?BEe:jEe).test(t)}const HEe=/[ \t\n\f\r]/g;function GEe(t){return typeof t=="object"?t.type==="text"?v9(t.value):!1:v9(t)}function v9(t){return t.replace(HEe,"")===""}class z_{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}z_.prototype.normal={};z_.prototype.property={};z_.prototype.space=void 0;function qte(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new z_(n,r,e)}function pD(t){return t.toLowerCase()}class Ds{constructor(e,n){this.attribute=n,this.property=e}}Ds.prototype.attribute="";Ds.prototype.booleanish=!1;Ds.prototype.boolean=!1;Ds.prototype.commaOrSpaceSeparated=!1;Ds.prototype.commaSeparated=!1;Ds.prototype.defined=!1;Ds.prototype.mustUseProperty=!1;Ds.prototype.number=!1;Ds.prototype.overloadedBoolean=!1;Ds.prototype.property="";Ds.prototype.spaceSeparated=!1;Ds.prototype.space=void 0;let WEe=0;const hn=xm(),Si=xm(),mD=xm(),pt=xm(),hr=xm(),zv=xm(),Ks=xm();function xm(){return 2**++WEe}const gD=Object.freeze(Object.defineProperty({__proto__:null,boolean:hn,booleanish:Si,commaOrSpaceSeparated:Ks,commaSeparated:zv,number:pt,overloadedBoolean:mD,spaceSeparated:hr},Symbol.toStringTag,{value:"Module"})),$k=Object.keys(gD);class oU extends Ds{constructor(e,n,r,i){let a=-1;if(super(e,n),y9(this,"space",i),typeof r=="number")for(;++a<$k.length;){const s=$k[a];y9(this,$k[a],(r&gD[s])===gD[s])}}}oU.prototype.defined=!0;function y9(t,e,n){n&&(t[e]=n)}function q0(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new oU(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[pD(r)]=r,n[pD(a.attribute)]=r}return new z_(e,n,t.space)}const Xte=q0({properties:{ariaActiveDescendant:null,ariaAtomic:Si,ariaAutoComplete:null,ariaBusy:Si,ariaChecked:Si,ariaColCount:pt,ariaColIndex:pt,ariaColSpan:pt,ariaControls:hr,ariaCurrent:null,ariaDescribedBy:hr,ariaDetails:null,ariaDisabled:Si,ariaDropEffect:hr,ariaErrorMessage:null,ariaExpanded:Si,ariaFlowTo:hr,ariaGrabbed:Si,ariaHasPopup:null,ariaHidden:Si,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:hr,ariaLevel:pt,ariaLive:null,ariaModal:Si,ariaMultiLine:Si,ariaMultiSelectable:Si,ariaOrientation:null,ariaOwns:hr,ariaPlaceholder:null,ariaPosInSet:pt,ariaPressed:Si,ariaReadOnly:Si,ariaRelevant:null,ariaRequired:Si,ariaRoleDescription:hr,ariaRowCount:pt,ariaRowIndex:pt,ariaRowSpan:pt,ariaSelected:Si,ariaSetSize:pt,ariaSort:null,ariaValueMax:pt,ariaValueMin:pt,ariaValueNow:pt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Kte(t,e){return e in t?t[e]:e}function Yte(t,e){return Kte(t,e.toLowerCase())}const $Ee=q0({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zv,acceptCharset:hr,accessKey:hr,action:null,allow:null,allowFullScreen:hn,allowPaymentRequest:hn,allowUserMedia:hn,alt:null,as:null,async:hn,autoCapitalize:null,autoComplete:hr,autoFocus:hn,autoPlay:hn,blocking:hr,capture:null,charSet:null,checked:hn,cite:null,className:hr,cols:pt,colSpan:null,content:null,contentEditable:Si,controls:hn,controlsList:hr,coords:pt|zv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:hn,defer:hn,dir:null,dirName:null,disabled:hn,download:mD,draggable:Si,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:hn,formTarget:null,headers:hr,height:pt,hidden:mD,high:pt,href:null,hrefLang:null,htmlFor:hr,httpEquiv:hr,id:null,imageSizes:null,imageSrcSet:null,inert:hn,inputMode:null,integrity:null,is:null,isMap:hn,itemId:null,itemProp:hr,itemRef:hr,itemScope:hn,itemType:hr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:hn,low:pt,manifest:null,max:null,maxLength:pt,media:null,method:null,min:null,minLength:pt,multiple:hn,muted:hn,name:null,nonce:null,noModule:hn,noValidate:hn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:hn,optimum:pt,pattern:null,ping:hr,placeholder:null,playsInline:hn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:hn,referrerPolicy:null,rel:hr,required:hn,reversed:hn,rows:pt,rowSpan:pt,sandbox:hr,scope:null,scoped:hn,seamless:hn,selected:hn,shadowRootClonable:hn,shadowRootDelegatesFocus:hn,shadowRootMode:null,shape:null,size:pt,sizes:null,slot:null,span:pt,spellCheck:Si,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pt,step:null,style:null,tabIndex:pt,target:null,title:null,translate:null,type:null,typeMustMatch:hn,useMap:null,value:Si,width:pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:hr,axis:null,background:null,bgColor:null,border:pt,borderColor:null,bottomMargin:pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:hn,declare:hn,event:null,face:null,frame:null,frameBorder:null,hSpace:pt,leftMargin:pt,link:null,longDesc:null,lowSrc:null,marginHeight:pt,marginWidth:pt,noResize:hn,noHref:hn,noShade:hn,noWrap:hn,object:null,profile:null,prompt:null,rev:null,rightMargin:pt,rules:null,scheme:null,scrolling:Si,standby:null,summary:null,text:null,topMargin:pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:hn,disableRemotePlayback:hn,prefix:null,property:null,results:pt,security:null,unselectable:null},space:"html",transform:Yte}),qEe=q0({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ks,accentHeight:pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pt,amplitude:pt,arabicForm:null,ascent:pt,attributeName:null,attributeType:null,azimuth:pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pt,by:null,calcMode:null,capHeight:pt,className:hr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pt,diffuseConstant:pt,direction:null,display:null,dur:null,divisor:pt,dominantBaseline:null,download:hn,dx:null,dy:null,edgeMode:null,editable:null,elevation:pt,enableBackground:null,end:null,event:null,exponent:pt,externalResourcesRequired:null,fill:null,fillOpacity:pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zv,g2:zv,glyphName:zv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pt,horizOriginX:pt,horizOriginY:pt,id:null,ideographic:pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pt,k:pt,k1:pt,k2:pt,k3:pt,k4:pt,kernelMatrix:Ks,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pt,overlineThickness:pt,paintOrder:null,panose1:null,path:null,pathLength:pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:hr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pt,pointsAtY:pt,pointsAtZ:pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ks,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ks,rev:Ks,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ks,requiredFeatures:Ks,requiredFonts:Ks,requiredFormats:Ks,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pt,specularExponent:pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pt,strikethroughThickness:pt,string:null,stroke:null,strokeDashArray:Ks,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pt,strokeOpacity:pt,strokeWidth:null,style:null,surfaceScale:pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ks,tabIndex:pt,tableValues:null,target:null,targetX:pt,targetY:pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ks,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pt,underlineThickness:pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pt,values:null,vAlphabetic:pt,vMathematical:pt,vectorEffect:null,vHanging:pt,vIdeographic:pt,version:null,vertAdvY:pt,vertOriginX:pt,vertOriginY:pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Kte}),Zte=q0({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Jte=q0({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yte}),Qte=q0({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),XEe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},KEe=/[A-Z]/g,x9=/-[a-z]/g,YEe=/^data[-\w.:]+$/i;function ZEe(t,e){const n=pD(e);let r=e,i=Ds;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&YEe.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(x9,QEe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!x9.test(a)){let s=a.replace(KEe,JEe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=oU}return new i(r,e)}function JEe(t){return"-"+t.toLowerCase()}function QEe(t){return t.charAt(1).toUpperCase()}const eAe=qte([Xte,$Ee,Zte,Jte,Qte],"html"),lU=qte([Xte,qEe,Zte,Jte,Qte],"svg");function tAe(t){return t.join(" ").trim()}var cU={},b9=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,nAe=/\n/g,rAe=/^\s*/,iAe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,aAe=/^:\s*/,sAe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,oAe=/^[;\s]*/,lAe=/^\s+|\s+$/g,cAe=`
`,_9="/",w9="*",op="",uAe="comment",fAe="declaration";function dAe(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var y=g.match(nAe);y&&(n+=y.length);var x=g.lastIndexOf(cAe);r=~x?g.length-x:r+g.length}function a(){var g={line:n,column:r};return function(y){return y.position=new s(g),c(),y}}function s(g){this.start=g,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(g){var y=new Error(e.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(g){var y=g.exec(t);if(y){var x=y[0];return i(x),t=t.slice(x.length),y}}function c(){l(rAe)}function u(g){var y;for(g=g||[];y=f();)y!==!1&&g.push(y);return g}function f(){var g=a();if(!(_9!=t.charAt(0)||w9!=t.charAt(1))){for(var y=2;op!=t.charAt(y)&&(w9!=t.charAt(y)||_9!=t.charAt(y+1));)++y;if(y+=2,op===t.charAt(y-1))return o("End of comment missing");var x=t.slice(2,y-2);return r+=2,i(x),t=t.slice(y),r+=2,g({type:uAe,comment:x})}}function d(){var g=a(),y=l(iAe);if(y){if(f(),!l(aAe))return o("property missing ':'");var x=l(sAe),v=g({type:fAe,property:S9(y[0].replace(b9,op)),value:x?S9(x[0].replace(b9,op)):op});return l(oAe),v}}function h(){var g=[];u(g);for(var y;y=d();)y!==!1&&(g.push(y),u(g));return g}return c(),h()}function S9(t){return t?t.replace(lAe,op):op}var hAe=dAe,pAe=sM&&sM.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cU,"__esModule",{value:!0});cU.default=gAe;const mAe=pAe(hAe);function gAe(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,mAe.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var NP={};Object.defineProperty(NP,"__esModule",{value:!0});NP.camelCase=void 0;var vAe=/^--[a-zA-Z0-9_-]+$/,yAe=/-([a-z])/g,xAe=/^[^-]+$/,bAe=/^-(webkit|moz|ms|o|khtml)-/,_Ae=/^-(ms)-/,wAe=function(t){return!t||xAe.test(t)||vAe.test(t)},SAe=function(t,e){return e.toUpperCase()},E9=function(t,e){return"".concat(e,"-")},EAe=function(t,e){return e===void 0&&(e={}),wAe(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(_Ae,E9):t=t.replace(bAe,E9),t.replace(yAe,SAe))};NP.camelCase=EAe;var AAe=sM&&sM.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},MAe=AAe(cU),TAe=NP;function vD(t,e){var n={};return!t||typeof t!="string"||(0,MAe.default)(t,function(r,i){r&&i&&(n[(0,TAe.camelCase)(r,e)]=i)}),n}vD.default=vD;var CAe=vD;const PAe=ca(CAe),ene=tne("end"),uU=tne("start");function tne(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function IAe(t){const e=uU(t),n=ene(t);if(e&&n)return{start:e,end:n}}function kb(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?A9(t.position):"start"in t||"end"in t?A9(t):"line"in t||"column"in t?yD(t):""}function yD(t){return M9(t&&t.line)+":"+M9(t&&t.column)}function A9(t){return yD(t&&t.start)+"-"+yD(t&&t.end)}function M9(t){return t&&typeof t=="number"?t:1}class Ha extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=kb(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ha.prototype.file="";Ha.prototype.name="";Ha.prototype.reason="";Ha.prototype.message="";Ha.prototype.stack="";Ha.prototype.column=void 0;Ha.prototype.line=void 0;Ha.prototype.ancestors=void 0;Ha.prototype.cause=void 0;Ha.prototype.fatal=void 0;Ha.prototype.place=void 0;Ha.prototype.ruleId=void 0;Ha.prototype.source=void 0;const fU={}.hasOwnProperty,OAe=new Map,kAe=/[A-Z]/g,NAe=new Set(["table","tbody","thead","tfoot","tr"]),RAe=new Set(["td","th"]),nne="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function DAe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=HAe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=VAe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lU:eAe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=rne(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function rne(t,e,n){if(e.type==="element")return LAe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return UAe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return FAe(t,e,n);if(e.type==="mdxjsEsm")return zAe(t,e);if(e.type==="root")return jAe(t,e,n);if(e.type==="text")return BAe(t,e)}function LAe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=lU,t.schema=i),t.ancestors.push(e);const a=ane(t,e.tagName,!1),s=GAe(t,e);let o=hU(t,e);return NAe.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!GEe(l):!0})),ine(t,s,a,e),dU(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function UAe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}A1(t,e.position)}function zAe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);A1(t,e.position)}function FAe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=lU,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:ane(t,e.name,!0),s=WAe(t,e),o=hU(t,e);return ine(t,s,a,e),dU(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function jAe(t,e,n){const r={};return dU(r,hU(t,e)),t.create(e,t.Fragment,r,n)}function BAe(t,e){return e.value}function ine(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function dU(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function VAe(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function HAe(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=uU(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function GAe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&fU.call(e.properties,i)){const a=$Ae(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&RAe.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function WAe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else A1(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else A1(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function hU(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:OAe;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=rne(t,a,s);o!==void 0&&n.push(o)}return n}function $Ae(t,e,n){const r=ZEe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?FEe(n):tAe(n)),r.property==="style"){let i=typeof n=="object"?n:qAe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=XAe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?XEe[r.property]||r.property:r.attribute,n]}}function qAe(t,e){try{return PAe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ha("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=nne+"#cannot-parse-style-attribute",i}}function ane(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=g9(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=g9(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return fU.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);A1(t)}function A1(t,e){const n=new Ha("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=nne+"#cannot-handle-mdx-estrees-without-createevaluater",n}function XAe(t){const e={};let n;for(n in t)fU.call(t,n)&&(e[KAe(n)]=t[n]);return e}function KAe(t){let e=t.replace(kAe,YAe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function YAe(t){return"-"+t.toLowerCase()}const qk={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ZAe={};function JAe(t,e){const n=ZAe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return sne(t,r,i)}function sne(t,e,n){if(QAe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return T9(t.children,e,n)}return Array.isArray(t)?T9(t,e,n):""}function T9(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=sne(t[i],e,n);return r.join("")}function QAe(t){return!!(t&&typeof t=="object")}const C9=document.createElement("i");function pU(t){const e="&"+t+";";C9.innerHTML=e;const n=C9.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Sc(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Do(t,e){return t.length>0?(Sc(t,t.length,0,e),t):e}const P9={}.hasOwnProperty;function eMe(t){const e={};let n=-1;for(;++n<t.length;)tMe(e,t[n]);return e}function tMe(t,e){let n;for(n in e){const i=(P9.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){P9.call(i,s)||(i[s]=[]);const o=a[s];nMe(i[s],Array.isArray(o)?o:o?[o]:[])}}}function nMe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Sc(t,0,0,r)}function one(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Fv(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const oc=Qd(/[A-Za-z]/),to=Qd(/[\dA-Za-z]/),rMe=Qd(/[#-'*+\--9=?A-Z^-~]/);function xD(t){return t!==null&&(t<32||t===127)}const bD=Qd(/\d/),iMe=Qd(/[\dA-Fa-f]/),aMe=Qd(/[!-/:-@[-`{-~]/);function Jt(t){return t!==null&&t<-2}function Is(t){return t!==null&&(t<0||t===32)}function Vn(t){return t===-2||t===-1||t===32}const sMe=Qd(new RegExp("\\p{P}|\\p{S}","u")),oMe=Qd(/\s/);function Qd(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function X0(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&to(t.charCodeAt(n+1))&&to(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function mr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Vn(l)?(t.enter(n),o(l)):e(l)}function o(l){return Vn(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const lMe={tokenize:cMe};function cMe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),mr(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Jt(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const uMe={tokenize:fMe},I9={tokenize:dMe};function fMe(t){const e=this,n=[];let r=0,i,a,s;return o;function o(_){if(r<n.length){const A=n[r];return e.containerState=A[1],t.attempt(A[0].continuation,l,c)(_)}return c(_)}function l(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const A=e.events.length;let T=A,M;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){M=e.events[T][1].end;break}v(r);let I=A;for(;I<e.events.length;)e.events[I][1].end={...M},I++;return Sc(e.events,T+1,0,e.events.slice(A)),e.events.length=I,c(_)}return o(_)}function c(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return g(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(I9,u,f)(_)}function u(_){return i&&b(),v(r),d(_)}function f(_){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,g(_)}function d(_){return e.containerState={},t.attempt(I9,h,g)(_)}function h(_){return r++,n.push([e.currentConstruct,e.containerState]),d(_)}function g(_){if(_===null){i&&b(),v(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),y(_)}function y(_){if(_===null){x(t.exit("chunkFlow"),!0),v(0),t.consume(_);return}return Jt(_)?(t.consume(_),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(_),y)}function x(_,A){const T=e.sliceStream(_);if(A&&T.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(T),e.parser.lazy[_.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<s&&(!i.events[M][1].end||i.events[M][1].end.offset>s))return;const I=e.events.length;let O=I,P,k;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(P){k=e.events[O][1].end;break}P=!0}for(v(r),M=I;M<e.events.length;)e.events[M][1].end={...k},M++;Sc(e.events,O+1,0,e.events.slice(I)),e.events.length=M}}function v(_){let A=n.length;for(;A-- >_;){const T=n[A];e.containerState=T[1],T[0].exit.call(e,t)}n.length=_}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function dMe(t,e,n){return mr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function O9(t){if(t===null||Is(t)||oMe(t))return 1;if(sMe(t))return 2}function mU(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const _D={name:"attention",resolveAll:hMe,tokenize:pMe};function hMe(t,e){let n=-1,r,i,a,s,o,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},d={...t[n][1].start};k9(f,-l),k9(d,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:d},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Do(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Do(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Do(c,mU(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Do(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Do(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Sc(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function pMe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=O9(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),u=O9(l),f=!u||u===2&&i||n.includes(l),d=!i||i===2&&u||n.includes(r);return c._open=!!(a===42?f:f&&(i||!d)),c._close=!!(a===42?d:d&&(u||!f)),e(l)}}function k9(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const mMe={name:"autolink",tokenize:gMe};function gMe(t,e,n){let r=0;return i;function i(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(h){return oc(h)?(t.consume(h),s):h===64?n(h):c(h)}function s(h){return h===43||h===45||h===46||to(h)?(r=1,o(h)):c(h)}function o(h){return h===58?(t.consume(h),r=0,l):(h===43||h===45||h===46||to(h))&&r++<32?(t.consume(h),o):(r=0,c(h))}function l(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||xD(h)?n(h):(t.consume(h),l)}function c(h){return h===64?(t.consume(h),u):rMe(h)?(t.consume(h),c):n(h)}function u(h){return to(h)?f(h):n(h)}function f(h){return h===46?(t.consume(h),r=0,u):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):d(h)}function d(h){if((h===45||to(h))&&r++<63){const g=h===45?d:f;return t.consume(h),g}return n(h)}}const RP={partial:!0,tokenize:vMe};function vMe(t,e,n){return r;function r(a){return Vn(a)?mr(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Jt(a)?e(a):n(a)}}const lne={continuation:{tokenize:xMe},exit:bMe,name:"blockQuote",tokenize:yMe};function yMe(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Vn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function xMe(t,e,n){const r=this;return i;function i(s){return Vn(s)?mr(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(lne,e,n)(s)}}function bMe(t){t.exit("blockQuote")}const cne={name:"characterEscape",tokenize:_Me};function _Me(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return aMe(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const une={name:"characterReference",tokenize:wMe};function wMe(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=to,u(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=iMe,u):(t.enter("characterReferenceValue"),a=7,s=bD,u(f))}function u(f){if(f===59&&i){const d=t.exit("characterReferenceValue");return s===to&&!pU(r.sliceSerialize(d))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),u):n(f)}}const N9={partial:!0,tokenize:EMe},R9={concrete:!0,name:"codeFenced",tokenize:SMe};function SMe(t,e,n){const r=this,i={partial:!0,tokenize:T};let a=0,s=0,o;return l;function l(M){return c(M)}function c(M){const I=r.events[r.events.length-1];return a=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,o=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(M)}function u(M){return M===o?(s++,t.consume(M),u):s<3?n(M):(t.exit("codeFencedFenceSequence"),Vn(M)?mr(t,f,"whitespace")(M):f(M))}function f(M){return M===null||Jt(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(N9,y,A)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(M))}function d(M){return M===null||Jt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(M)):Vn(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),mr(t,h,"whitespace")(M)):M===96&&M===o?n(M):(t.consume(M),d)}function h(M){return M===null||Jt(M)?f(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(M))}function g(M){return M===null||Jt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(M)):M===96&&M===o?n(M):(t.consume(M),g)}function y(M){return t.attempt(i,A,x)(M)}function x(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),v}function v(M){return a>0&&Vn(M)?mr(t,b,"linePrefix",a+1)(M):b(M)}function b(M){return M===null||Jt(M)?t.check(N9,y,A)(M):(t.enter("codeFlowValue"),_(M))}function _(M){return M===null||Jt(M)?(t.exit("codeFlowValue"),b(M)):(t.consume(M),_)}function A(M){return t.exit("codeFenced"),e(M)}function T(M,I,O){let P=0;return k;function k(V){return M.enter("lineEnding"),M.consume(V),M.exit("lineEnding"),N}function N(V){return M.enter("codeFencedFence"),Vn(V)?mr(M,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):L(V)}function L(V){return V===o?(M.enter("codeFencedFenceSequence"),B(V)):O(V)}function B(V){return V===o?(P++,M.consume(V),B):P>=s?(M.exit("codeFencedFenceSequence"),Vn(V)?mr(M,D,"whitespace")(V):D(V)):O(V)}function D(V){return V===null||Jt(V)?(M.exit("codeFencedFence"),I(V)):O(V)}}}function EMe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const Xk={name:"codeIndented",tokenize:MMe},AMe={partial:!0,tokenize:TMe};function MMe(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),mr(t,a,"linePrefix",5)(c)}function a(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Jt(c)?t.attempt(AMe,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||Jt(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function TMe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Jt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):mr(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):Jt(s)?i(s):n(s)}}const CMe={name:"codeText",previous:IMe,resolve:PMe,tokenize:OMe};function PMe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function IMe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function OMe(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,u(f)):Jt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Jt(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function u(f){return f===96?(t.consume(f),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class kMe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ux(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ux(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ux(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ux(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ux(this.left,n.reverse())}}}function ux(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function fne(t){const e={};let n=-1,r,i,a,s,o,l,c;const u=new kMe(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,NMe(u,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=u.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},o=u.slice(i,n),o.unshift(r),u.splice(i,n-i+1,o))}}return Sc(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function NMe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let u,f,d=-1,h=n,g=0,y=0;const x=[y];for(;h;){for(;t.get(++i)[1]!==h;);a.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<o.length;)o[d][0]==="exit"&&o[d-1][0]==="enter"&&o[d][1].type===o[d-1][1].type&&o[d][1].start.line!==o[d][1].end.line&&(y=d+1,x.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):x.pop(),d=x.length;d--;){const v=o.slice(x[d],x[d+1]),b=a.pop();l.push([b,b+v.length-1]),t.splice(b,2,v)}for(l.reverse(),d=-1;++d<l.length;)c[g+l[d][0]]=g+l[d][1],g+=l[d][1]-l[d][0]-1;return c}const RMe={resolve:LMe,tokenize:UMe},DMe={partial:!0,tokenize:zMe};function LMe(t){return fne(t),t}function UMe(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Jt(o)?t.check(DMe,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zMe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),mr(t,a,"linePrefix")}function a(s){if(s===null||Jt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function dne(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(v){return v===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(v),t.exit(a),d):v===null||v===32||v===41||xD(v)?n(v):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),y(v))}function d(v){return v===62?(t.enter(a),t.consume(v),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(t.exit("chunkString"),t.exit(o),d(v)):v===null||v===60||Jt(v)?n(v):(t.consume(v),v===92?g:h)}function g(v){return v===60||v===62||v===92?(t.consume(v),h):h(v)}function y(v){return!u&&(v===null||v===41||Is(v))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(v)):u<c&&v===40?(t.consume(v),u++,y):v===41?(t.consume(v),u--,y):v===null||v===32||v===40||xD(v)?n(v):(t.consume(v),v===92?x:y)}function x(v){return v===40||v===41||v===92?(t.consume(v),y):y(v)}}function hne(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(h){return t.enter(r),t.enter(i),t.consume(h),t.exit(i),t.enter(a),u}function u(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(t.exit(a),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):Jt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Jt(h)||o++>999?(t.exit("chunkString"),u(h)):(t.consume(h),l||(l=!Vn(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(t.consume(h),o++,f):f(h)}}function pne(t,e,n,r,i,a){let s;return o;function o(d){return d===34||d===39||d===40?(t.enter(r),t.enter(i),t.consume(d),t.exit(i),s=d===40?41:d,l):n(d)}function l(d){return d===s?(t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):(t.enter(a),c(d))}function c(d){return d===s?(t.exit(a),l(s)):d===null?n(d):Jt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),mr(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(d))}function u(d){return d===s||d===null||Jt(d)?(t.exit("chunkString"),c(d)):(t.consume(d),d===92?f:u)}function f(d){return d===s||d===92?(t.consume(d),u):u(d)}}function Nb(t,e){let n;return r;function r(i){return Jt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Vn(i)?mr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const FMe={name:"definition",tokenize:BMe},jMe={partial:!0,tokenize:VMe};function BMe(t,e,n){const r=this;let i;return a;function a(h){return t.enter("definition"),s(h)}function s(h){return hne.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=Fv(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),l):n(h)}function l(h){return Is(h)?Nb(t,c)(h):c(h)}function c(h){return dne(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return t.attempt(jMe,f,f)(h)}function f(h){return Vn(h)?mr(t,d,"whitespace")(h):d(h)}function d(h){return h===null||Jt(h)?(t.exit("definition"),r.parser.defined.push(i),e(h)):n(h)}}function VMe(t,e,n){return r;function r(o){return Is(o)?Nb(t,i)(o):n(o)}function i(o){return pne(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Vn(o)?mr(t,s,"whitespace")(o):s(o)}function s(o){return o===null||Jt(o)?e(o):n(o)}}const HMe={name:"hardBreakEscape",tokenize:GMe};function GMe(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Jt(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const WMe={name:"headingAtx",resolve:$Me,tokenize:qMe};function $Me(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Sc(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function qMe(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),a(u)}function a(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(t.consume(u),s):u===null||Is(u)?(t.exit("atxHeadingSequence"),o(u)):n(u)}function o(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||Jt(u)?(t.exit("atxHeading"),e(u)):Vn(u)?mr(t,o,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Is(u)?(t.exit("atxHeadingText"),o(u)):(t.consume(u),c)}}const XMe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],D9=["pre","script","style","textarea"],KMe={concrete:!0,name:"htmlFlow",resolveTo:JMe,tokenize:QMe},YMe={partial:!0,tokenize:tTe},ZMe={partial:!0,tokenize:eTe};function JMe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function QMe(t,e,n){const r=this;let i,a,s,o,l;return c;function c(G){return u(G)}function u(G){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(G),f}function f(G){return G===33?(t.consume(G),d):G===47?(t.consume(G),a=!0,y):G===63?(t.consume(G),i=3,r.interrupt?e:z):oc(G)?(t.consume(G),s=String.fromCharCode(G),x):n(G)}function d(G){return G===45?(t.consume(G),i=2,h):G===91?(t.consume(G),i=5,o=0,g):oc(G)?(t.consume(G),i=4,r.interrupt?e:z):n(G)}function h(G){return G===45?(t.consume(G),r.interrupt?e:z):n(G)}function g(G){const ie="CDATA[";return G===ie.charCodeAt(o++)?(t.consume(G),o===ie.length?r.interrupt?e:L:g):n(G)}function y(G){return oc(G)?(t.consume(G),s=String.fromCharCode(G),x):n(G)}function x(G){if(G===null||G===47||G===62||Is(G)){const ie=G===47,ue=s.toLowerCase();return!ie&&!a&&D9.includes(ue)?(i=1,r.interrupt?e(G):L(G)):XMe.includes(s.toLowerCase())?(i=6,ie?(t.consume(G),v):r.interrupt?e(G):L(G)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(G):a?b(G):_(G))}return G===45||to(G)?(t.consume(G),s+=String.fromCharCode(G),x):n(G)}function v(G){return G===62?(t.consume(G),r.interrupt?e:L):n(G)}function b(G){return Vn(G)?(t.consume(G),b):k(G)}function _(G){return G===47?(t.consume(G),k):G===58||G===95||oc(G)?(t.consume(G),A):Vn(G)?(t.consume(G),_):k(G)}function A(G){return G===45||G===46||G===58||G===95||to(G)?(t.consume(G),A):T(G)}function T(G){return G===61?(t.consume(G),M):Vn(G)?(t.consume(G),T):_(G)}function M(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(t.consume(G),l=G,I):Vn(G)?(t.consume(G),M):O(G)}function I(G){return G===l?(t.consume(G),l=null,P):G===null||Jt(G)?n(G):(t.consume(G),I)}function O(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||Is(G)?T(G):(t.consume(G),O)}function P(G){return G===47||G===62||Vn(G)?_(G):n(G)}function k(G){return G===62?(t.consume(G),N):n(G)}function N(G){return G===null||Jt(G)?L(G):Vn(G)?(t.consume(G),N):n(G)}function L(G){return G===45&&i===2?(t.consume(G),F):G===60&&i===1?(t.consume(G),H):G===62&&i===4?(t.consume(G),$):G===63&&i===3?(t.consume(G),z):G===93&&i===5?(t.consume(G),W):Jt(G)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(YMe,Z,B)(G)):G===null||Jt(G)?(t.exit("htmlFlowData"),B(G)):(t.consume(G),L)}function B(G){return t.check(ZMe,D,Z)(G)}function D(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),V}function V(G){return G===null||Jt(G)?B(G):(t.enter("htmlFlowData"),L(G))}function F(G){return G===45?(t.consume(G),z):L(G)}function H(G){return G===47?(t.consume(G),s="",q):L(G)}function q(G){if(G===62){const ie=s.toLowerCase();return D9.includes(ie)?(t.consume(G),$):L(G)}return oc(G)&&s.length<8?(t.consume(G),s+=String.fromCharCode(G),q):L(G)}function W(G){return G===93?(t.consume(G),z):L(G)}function z(G){return G===62?(t.consume(G),$):G===45&&i===2?(t.consume(G),z):L(G)}function $(G){return G===null||Jt(G)?(t.exit("htmlFlowData"),Z(G)):(t.consume(G),$)}function Z(G){return t.exit("htmlFlow"),e(G)}}function eTe(t,e,n){const r=this;return i;function i(s){return Jt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function tTe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(RP,e,n)}}const nTe={name:"htmlText",tokenize:rTe};function rTe(t,e,n){const r=this;let i,a,s;return o;function o(z){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(z),l}function l(z){return z===33?(t.consume(z),c):z===47?(t.consume(z),T):z===63?(t.consume(z),_):oc(z)?(t.consume(z),O):n(z)}function c(z){return z===45?(t.consume(z),u):z===91?(t.consume(z),a=0,g):oc(z)?(t.consume(z),b):n(z)}function u(z){return z===45?(t.consume(z),h):n(z)}function f(z){return z===null?n(z):z===45?(t.consume(z),d):Jt(z)?(s=f,H(z)):(t.consume(z),f)}function d(z){return z===45?(t.consume(z),h):f(z)}function h(z){return z===62?F(z):z===45?d(z):f(z)}function g(z){const $="CDATA[";return z===$.charCodeAt(a++)?(t.consume(z),a===$.length?y:g):n(z)}function y(z){return z===null?n(z):z===93?(t.consume(z),x):Jt(z)?(s=y,H(z)):(t.consume(z),y)}function x(z){return z===93?(t.consume(z),v):y(z)}function v(z){return z===62?F(z):z===93?(t.consume(z),v):y(z)}function b(z){return z===null||z===62?F(z):Jt(z)?(s=b,H(z)):(t.consume(z),b)}function _(z){return z===null?n(z):z===63?(t.consume(z),A):Jt(z)?(s=_,H(z)):(t.consume(z),_)}function A(z){return z===62?F(z):_(z)}function T(z){return oc(z)?(t.consume(z),M):n(z)}function M(z){return z===45||to(z)?(t.consume(z),M):I(z)}function I(z){return Jt(z)?(s=I,H(z)):Vn(z)?(t.consume(z),I):F(z)}function O(z){return z===45||to(z)?(t.consume(z),O):z===47||z===62||Is(z)?P(z):n(z)}function P(z){return z===47?(t.consume(z),F):z===58||z===95||oc(z)?(t.consume(z),k):Jt(z)?(s=P,H(z)):Vn(z)?(t.consume(z),P):F(z)}function k(z){return z===45||z===46||z===58||z===95||to(z)?(t.consume(z),k):N(z)}function N(z){return z===61?(t.consume(z),L):Jt(z)?(s=N,H(z)):Vn(z)?(t.consume(z),N):P(z)}function L(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),i=z,B):Jt(z)?(s=L,H(z)):Vn(z)?(t.consume(z),L):(t.consume(z),D)}function B(z){return z===i?(t.consume(z),i=void 0,V):z===null?n(z):Jt(z)?(s=B,H(z)):(t.consume(z),B)}function D(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Is(z)?P(z):(t.consume(z),D)}function V(z){return z===47||z===62||Is(z)?P(z):n(z)}function F(z){return z===62?(t.consume(z),t.exit("htmlTextData"),t.exit("htmlText"),e):n(z)}function H(z){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),q}function q(z){return Vn(z)?mr(t,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):W(z)}function W(z){return t.enter("htmlTextData"),s(z)}}const gU={name:"labelEnd",resolveAll:oTe,resolveTo:lTe,tokenize:cTe},iTe={tokenize:uTe},aTe={tokenize:fTe},sTe={tokenize:dTe};function oTe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Sc(t,0,t.length,n),t}function lTe(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},u={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Do(o,t.slice(a+1,a+r+3)),o=Do(o,[["enter",u,e]]),o=Do(o,mU(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Do(o,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),o=Do(o,t.slice(s+1)),o=Do(o,[["exit",l,e]]),Sc(t,a,t.length,o),t}function cTe(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(d){return a?a._inactive?f(d):(s=r.parser.defined.includes(Fv(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),l):n(d)}function l(d){return d===40?t.attempt(iTe,u,s?u:f)(d):d===91?t.attempt(aTe,u,s?c:f)(d):s?u(d):f(d)}function c(d){return t.attempt(sTe,u,f)(d)}function u(d){return e(d)}function f(d){return a._balanced=!0,n(d)}}function uTe(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Is(f)?Nb(t,a)(f):a(f)}function a(f){return f===41?u(f):dne(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Is(f)?Nb(t,l)(f):u(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?pne(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return Is(f)?Nb(t,u)(f):u(f)}function u(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function fTe(t,e,n){const r=this;return i;function i(o){return hne.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(Fv(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function dTe(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const hTe={name:"labelStartImage",resolveAll:gU.resolveAll,tokenize:pTe};function pTe(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const mTe={name:"labelStartLink",resolveAll:gU.resolveAll,tokenize:gTe};function gTe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Kk={name:"lineEnding",tokenize:vTe};function vTe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),mr(t,e,"linePrefix")}}const jA={name:"thematicBreak",tokenize:yTe};function yTe(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Jt(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Vn(c)?mr(t,o,"whitespace")(c):o(c))}}const vs={continuation:{tokenize:wTe},exit:ETe,name:"list",tokenize:_Te},xTe={partial:!0,tokenize:ATe},bTe={partial:!0,tokenize:STe};function _Te(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:bD(h)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(jA,n,c)(h):c(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(h)}return n(h)}function l(h){return bD(h)&&++s<10?(t.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),c(h)):n(h)}function c(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(RP,r.interrupt?n:u,t.attempt(xTe,d,f))}function u(h){return r.containerState.initialBlankLine=!0,a++,d(h)}function f(h){return Vn(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function wTe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(RP,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,mr(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Vn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(bTe,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,mr(t,t.attempt(vs,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function STe(t,e,n){const r=this;return mr(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function ETe(t){t.exit(this.containerState.type)}function ATe(t,e,n){const r=this;return mr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Vn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const L9={name:"setextUnderline",resolveTo:MTe,tokenize:TTe};function MTe(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function TTe(t,e,n){const r=this;let i;return a;function a(c){let u=r.events.length,f;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){f=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),Vn(c)?mr(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Jt(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const CTe={tokenize:PTe};function PTe(t){const e=this,n=t.attempt(RP,r,t.attempt(this.parser.constructs.flowInitial,i,mr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(RMe,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const ITe={resolveAll:gne()},OTe=mne("string"),kTe=mne("text");function mne(t){return{resolveAll:gne(t==="text"?NTe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function gne(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function NTe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const RTe={42:vs,43:vs,45:vs,48:vs,49:vs,50:vs,51:vs,52:vs,53:vs,54:vs,55:vs,56:vs,57:vs,62:lne},DTe={91:FMe},LTe={[-2]:Xk,[-1]:Xk,32:Xk},UTe={35:WMe,42:jA,45:[L9,jA],60:KMe,61:L9,95:jA,96:R9,126:R9},zTe={38:une,92:cne},FTe={[-5]:Kk,[-4]:Kk,[-3]:Kk,33:hTe,38:une,42:_D,60:[mMe,nTe],91:mTe,92:[HMe,cne],93:gU,95:_D,96:CMe},jTe={null:[_D,ITe]},BTe={null:[42,95]},VTe={null:[]},HTe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:BTe,contentInitial:DTe,disable:VTe,document:RTe,flow:UTe,flowInitial:LTe,insideSpan:jTe,string:zTe,text:FTe},Symbol.toStringTag,{value:"Module"}));function GTe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:I(T),check:I(M),consume:b,enter:_,exit:A,interrupt:I(M,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:t,previous:null,sliceSerialize:d,sliceStream:h,write:f};let u=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(N){return s=Do(s,N),x(),s[s.length-1]!==null?[]:(O(e,0),c.events=mU(a,c.events,c),c.events)}function d(N,L){return $Te(h(N),L)}function h(N){return WTe(s,N)}function g(){const{_bufferIndex:N,_index:L,line:B,column:D,offset:V}=r;return{_bufferIndex:N,_index:L,line:B,column:D,offset:V}}function y(N){i[N.line]=N.column,k()}function x(){let N;for(;r._index<s.length;){const L=s[r._index];if(typeof L=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<L.length;)v(L.charCodeAt(r._bufferIndex));else v(L)}}function v(N){u=u(N)}function b(N){Jt(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,k()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=N}function _(N,L){const B=L||{};return B.type=N,B.start=g(),c.events.push(["enter",B,c]),o.push(B),B}function A(N){const L=o.pop();return L.end=g(),c.events.push(["exit",L,c]),L}function T(N,L){O(N,L.from)}function M(N,L){L.restore()}function I(N,L){return B;function B(D,V,F){let H,q,W,z;return Array.isArray(D)?Z(D):"tokenize"in D?Z([D]):$(D);function $(te){return ae;function ae(he){const le=he!==null&&te[he],be=he!==null&&te.null,Ie=[...Array.isArray(le)?le:le?[le]:[],...Array.isArray(be)?be:be?[be]:[]];return Z(Ie)(he)}}function Z(te){return H=te,q=0,te.length===0?F:G(te[q])}function G(te){return ae;function ae(he){return z=P(),W=te,te.partial||(c.currentConstruct=te),te.name&&c.parser.constructs.disable.null.includes(te.name)?ue():te.tokenize.call(L?Object.assign(Object.create(c),L):c,l,ie,ue)(he)}}function ie(te){return N(W,z),V}function ue(te){return z.restore(),++q<H.length?G(H[q]):F}}}function O(N,L){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&Sc(c.events,L,c.events.length-L,N.resolve(c.events.slice(L),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function P(){const N=g(),L=c.previous,B=c.currentConstruct,D=c.events.length,V=Array.from(o);return{from:D,restore:F};function F(){r=N,c.previous=L,c.currentConstruct=B,c.events.length=D,o=V,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function WTe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function $Te(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function qTe(t){const r={constructs:eMe([HTe,...(t||{}).extensions||[]]),content:i(lMe),defined:[],document:i(uMe),flow:i(CTe),lazy:{},string:i(OTe),text:i(kTe)};return r;function i(a){return s;function s(o){return GTe(r,a,o)}}}function XTe(t){for(;!fne(t););return t}const U9=/[\0\t\n\r]/g;function KTe(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,u,f,d,h;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(U9.lastIndex=f,c=U9.exec(a),d=c&&c.index!==void 0?c.index:a.length,h=a.charCodeAt(d),!c){e=a.slice(f);break}if(h===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(a.slice(f,d)),t+=d-f),h){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=d+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const YTe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ZTe(t){return t.replace(YTe,JTe)}function JTe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return one(n.slice(a?2:1),a?16:10)}return pU(n)||t}const vne={}.hasOwnProperty;function QTe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),eCe(n)(XTe(qTe(n).document().write(KTe()(t,e,!0))))}function eCe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(xe),autolinkProtocol:P,autolinkEmail:P,atxHeading:a(Te),blockQuote:a(be),characterEscape:P,characterReference:P,codeFenced:a(Ie),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Ie,s),codeText:a(fe,s),codeTextData:P,data:P,codeFlowValue:P,definition:a(Ye),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(we),hardBreakEscape:a(Ee),hardBreakTrailing:a(Ee),htmlFlow:a(ke,s),htmlFlowData:P,htmlText:a(ke,s),htmlTextData:P,image:a(Y),label:s,link:a(xe),listItem:a(me),listItemValue:d,listOrdered:a(ye,f),listUnordered:a(ye),paragraph:a(Pe),reference:G,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Te),strong:a(K),thematicBreak:a(ee)},exit:{atxHeading:l(),atxHeadingSequence:T,autolink:l(),autolinkEmail:le,autolinkProtocol:he,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:te,characterReference:ae,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:k,codeIndented:l(v),codeText:l(V),codeTextData:k,data:k,definition:l(),definitionDestinationString:A,definitionLabelString:b,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(L),hardBreakTrailing:l(L),htmlFlow:l(B),htmlFlowData:k,htmlText:l(D),htmlTextData:k,image:l(H),label:W,labelText:q,lineEnding:N,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ie,resourceDestinationString:z,resourceTitleString:$,resource:Z,setextHeading:l(O),setextHeadingLineSequence:I,setextHeadingText:M,strong:l(),thematicBreak:l()}};yne(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(re){let se={type:"root",children:[]};const ce={stack:[se],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:u,data:n},Oe=[];let De=-1;for(;++De<re.length;)if(re[De][1].type==="listOrdered"||re[De][1].type==="listUnordered")if(re[De][0]==="enter")Oe.push(De);else{const Ge=Oe.pop();De=i(re,Ge,De)}for(De=-1;++De<re.length;){const Ge=e[re[De][0]];vne.call(Ge,re[De][1].type)&&Ge[re[De][1].type].call(Object.assign({sliceSerialize:re[De][2].sliceSerialize},ce),re[De][1])}if(ce.tokenStack.length>0){const Ge=ce.tokenStack[ce.tokenStack.length-1];(Ge[1]||z9).call(ce,void 0,Ge[0])}for(se.position={start:Ff(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:Ff(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<e.transforms.length;)se=e.transforms[De](se)||se;return se}function i(re,se,ce){let Oe=se-1,De=-1,Ge=!1,rt,Re,Ue,Be;for(;++Oe<=ce;){const Je=re[Oe];switch(Je[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Je[0]==="enter"?De++:De--,Be=void 0;break}case"lineEndingBlank":{Je[0]==="enter"&&(rt&&!Be&&!De&&!Ue&&(Ue=Oe),Be=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Be=void 0}if(!De&&Je[0]==="enter"&&Je[1].type==="listItemPrefix"||De===-1&&Je[0]==="exit"&&(Je[1].type==="listUnordered"||Je[1].type==="listOrdered")){if(rt){let We=Oe;for(Re=void 0;We--;){const ut=re[We];if(ut[1].type==="lineEnding"||ut[1].type==="lineEndingBlank"){if(ut[0]==="exit")continue;Re&&(re[Re][1].type="lineEndingBlank",Ge=!0),ut[1].type="lineEnding",Re=We}else if(!(ut[1].type==="linePrefix"||ut[1].type==="blockQuotePrefix"||ut[1].type==="blockQuotePrefixWhitespace"||ut[1].type==="blockQuoteMarker"||ut[1].type==="listItemIndent"))break}Ue&&(!Re||Ue<Re)&&(rt._spread=!0),rt.end=Object.assign({},Re?re[Re][1].start:Je[1].end),re.splice(Re||Oe,0,["exit",rt,Je[2]]),Oe++,ce++}if(Je[1].type==="listItemPrefix"){const We={type:"listItem",_spread:!1,start:Object.assign({},Je[1].start),end:void 0};rt=We,re.splice(Oe,0,["enter",We,Je[2]]),Oe++,ce++,Ue=void 0,Be=!0}}}return re[se][1]._spread=Ge,ce}function a(re,se){return ce;function ce(Oe){o.call(this,re(Oe),Oe),se&&se.call(this,Oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(re,se,ce){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([se,ce||void 0]),re.position={start:Ff(se.start),end:void 0}}function l(re){return se;function se(ce){re&&re.call(this,ce),c.call(this,ce)}}function c(re,se){const ce=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==re.type&&(se?se.call(this,re,Oe[0]):(Oe[1]||z9).call(this,re,Oe[0]));else throw new Error("Cannot close `"+re.type+"` ("+kb({start:re.start,end:re.end})+"): its not open");ce.position.end=Ff(re.end)}function u(){return JAe(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(re){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function h(){const re=this.resume(),se=this.stack[this.stack.length-1];se.lang=re}function g(){const re=this.resume(),se=this.stack[this.stack.length-1];se.meta=re}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const re=this.resume(),se=this.stack[this.stack.length-1];se.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const re=this.resume(),se=this.stack[this.stack.length-1];se.value=re.replace(/(\r?\n|\r)$/g,"")}function b(re){const se=this.resume(),ce=this.stack[this.stack.length-1];ce.label=se,ce.identifier=Fv(this.sliceSerialize(re)).toLowerCase()}function _(){const re=this.resume(),se=this.stack[this.stack.length-1];se.title=re}function A(){const re=this.resume(),se=this.stack[this.stack.length-1];se.url=re}function T(re){const se=this.stack[this.stack.length-1];if(!se.depth){const ce=this.sliceSerialize(re).length;se.depth=ce}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function I(re){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function P(re){const ce=this.stack[this.stack.length-1].children;let Oe=ce[ce.length-1];(!Oe||Oe.type!=="text")&&(Oe=j(),Oe.position={start:Ff(re.start),end:void 0},ce.push(Oe)),this.stack.push(Oe)}function k(re){const se=this.stack.pop();se.value+=this.sliceSerialize(re),se.position.end=Ff(re.end)}function N(re){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ce=se.children[se.children.length-1];ce.position.end=Ff(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(se.type)&&(P.call(this,re),k.call(this,re))}function L(){this.data.atHardBreak=!0}function B(){const re=this.resume(),se=this.stack[this.stack.length-1];se.value=re}function D(){const re=this.resume(),se=this.stack[this.stack.length-1];se.value=re}function V(){const re=this.resume(),se=this.stack[this.stack.length-1];se.value=re}function F(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=se,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function H(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=se,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function q(re){const se=this.sliceSerialize(re),ce=this.stack[this.stack.length-2];ce.label=ZTe(se),ce.identifier=Fv(se).toLowerCase()}function W(){const re=this.stack[this.stack.length-1],se=this.resume(),ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,ce.type==="link"){const Oe=re.children;ce.children=Oe}else ce.alt=se}function z(){const re=this.resume(),se=this.stack[this.stack.length-1];se.url=re}function $(){const re=this.resume(),se=this.stack[this.stack.length-1];se.title=re}function Z(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function ie(re){const se=this.resume(),ce=this.stack[this.stack.length-1];ce.label=se,ce.identifier=Fv(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function ue(re){this.data.characterReferenceType=re.type}function te(re){const se=this.sliceSerialize(re),ce=this.data.characterReferenceType;let Oe;ce?(Oe=one(se,ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=pU(se);const De=this.stack[this.stack.length-1];De.value+=Oe}function ae(re){const se=this.stack.pop();se.position.end=Ff(re.end)}function he(re){k.call(this,re);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(re)}function le(re){k.call(this,re);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(re)}function be(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function fe(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function Te(){return{type:"heading",depth:0,children:[]}}function Ee(){return{type:"break"}}function ke(){return{type:"html",value:""}}function Y(){return{type:"image",title:null,url:"",alt:null}}function xe(){return{type:"link",title:null,url:"",children:[]}}function ye(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function me(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function Pe(){return{type:"paragraph",children:[]}}function K(){return{type:"strong",children:[]}}function j(){return{type:"text",value:""}}function ee(){return{type:"thematicBreak"}}}function Ff(t){return{line:t.line,column:t.column,offset:t.offset}}function yne(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?yne(t,r):tCe(t,r)}}function tCe(t,e){let n;for(n in e)if(vne.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function z9(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+kb({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+kb({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+kb({start:e.start,end:e.end})+") is still open")}function nCe(t){const e=this;e.parser=n;function n(r){return QTe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function rCe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function iCe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function aCe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function sCe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oCe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lCe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=X0(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function cCe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uCe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function xne(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function fCe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xne(t,e);const i={src:X0(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function dCe(t,e){const n={src:X0(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function hCe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function pCe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xne(t,e);const i={href:X0(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function mCe(t,e){const n={href:X0(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function gCe(t,e,n){const r=t.all(e),i=n?vCe(n):bne(e),a={},s=[];if(typeof e.checked=="boolean"){const u=r[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const u=r[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function vCe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=bne(n[r])}return e}function bne(t){const e=t.spread;return e??t.children.length>1}function yCe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function xCe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bCe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function _Ce(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wCe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=uU(e.children[1]),l=ene(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function SCe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],d={},h=s?s[l]:void 0;h&&(d.align=h);let g={type:"element",tagName:a,properties:d,children:[]};f&&(g.children=t.all(f),t.patch(f,g),g=t.applyData(f,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function ECe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const F9=9,j9=32;function ACe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(B9(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(B9(e.slice(i),i>0,!1)),a.join("")}function B9(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===F9||a===j9;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===F9||a===j9;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function MCe(t,e){const n={type:"text",value:ACe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function TCe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const CCe={blockquote:rCe,break:iCe,code:aCe,delete:sCe,emphasis:oCe,footnoteReference:lCe,heading:cCe,html:uCe,imageReference:fCe,image:dCe,inlineCode:hCe,linkReference:pCe,link:mCe,listItem:gCe,list:yCe,paragraph:xCe,root:bCe,strong:_Ce,table:wCe,tableCell:ECe,tableRow:SCe,text:MCe,thematicBreak:TCe,toml:WS,yaml:WS,definition:WS,footnoteDefinition:WS};function WS(){}const _ne=-1,DP=0,Rb=1,qM=2,vU=3,yU=4,xU=5,bU=6,wne=7,Sne=8,V9=typeof self=="object"?self:globalThis,PCe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case DP:case _ne:return n(s,i);case Rb:{const o=n([],i);for(const l of s)o.push(r(l));return o}case qM:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case vU:return n(new Date(s),i);case yU:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case xU:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case bU:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case wne:{const{name:o,message:l}=s;return n(new V9[o](l),i)}case Sne:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new V9[a](s),i)};return r},H9=t=>PCe(new Map,t)(0),hg="",{toString:ICe}={},{keys:OCe}=Object,fx=t=>{const e=typeof t;if(e!=="object"||!t)return[DP,e];const n=ICe.call(t).slice(8,-1);switch(n){case"Array":return[Rb,hg];case"Object":return[qM,hg];case"Date":return[vU,hg];case"RegExp":return[yU,hg];case"Map":return[xU,hg];case"Set":return[bU,hg];case"DataView":return[Rb,n]}return n.includes("Array")?[Rb,n]:n.includes("Error")?[wne,n]:[qM,n]},$S=([t,e])=>t===DP&&(e==="function"||e==="symbol"),kCe=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=fx(s);switch(o){case DP:{let u=s;switch(l){case"bigint":o=Sne,u=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([_ne],s)}return i([o,u],s)}case Rb:{if(l){let d=s;return l==="DataView"?d=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(s)),i([l,[...d]],s)}const u=[],f=i([o,u],s);for(const d of s)u.push(a(d));return f}case qM:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const u=[],f=i([o,u],s);for(const d of OCe(s))(t||!$S(fx(s[d])))&&u.push([a(d),a(s[d])]);return f}case vU:return i([o,s.toISOString()],s);case yU:{const{source:u,flags:f}=s;return i([o,{source:u,flags:f}],s)}case xU:{const u=[],f=i([o,u],s);for(const[d,h]of s)(t||!($S(fx(d))||$S(fx(h))))&&u.push([a(d),a(h)]);return f}case bU:{const u=[],f=i([o,u],s);for(const d of s)(t||!$S(fx(d)))&&u.push(a(d));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},G9=(t,{json:e,lossy:n}={})=>{const r=[];return kCe(!(e||n),!!e,new Map,r)(t),r},XM=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?H9(G9(t,e)):structuredClone(t):(t,e)=>H9(G9(t,e));function NCe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function RCe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function DCe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||NCe,r=t.options.footnoteBackLabel||RCe,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),f=String(c.identifier).toUpperCase(),d=X0(f.toLowerCase());let h=0;const g=[],y=t.footnoteCounts.get(f);for(;y!==void 0&&++h<=y;){g.length>0&&g.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,h);typeof b=="string"&&(b={type:"text",value:b}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=u[u.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...g)}else u.push(...g);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+d},children:t.wrap(u,!0)};t.patch(c,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...XM(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const Ene=function(t){if(t==null)return FCe;if(typeof t=="function")return LP(t);if(typeof t=="object")return Array.isArray(t)?LCe(t):UCe(t);if(typeof t=="string")return zCe(t);throw new Error("Expected function, string, or object as test")};function LCe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ene(t[n]);return LP(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function UCe(t){const e=t;return LP(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function zCe(t){return LP(e);function e(n){return n&&n.type===t}}function LP(t){return e;function e(n,r,i){return!!(jCe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function FCe(){return!0}function jCe(t){return t!==null&&typeof t=="object"&&"type"in t}const Ane=[],BCe=!0,W9=!1,VCe="skip";function HCe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=Ene(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Ane,g,y,x;if((!e||a(l,c,u[u.length-1]||void 0))&&(h=GCe(n(l,u)),h[0]===W9))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==VCe)for(y=(r?v.children.length:-1)+s,x=u.concat(v);y>-1&&y<v.children.length;){const b=v.children[y];if(g=o(b,y,x)(),g[0]===W9)return g;y=typeof g[1]=="number"?g[1]:y+s}}return h}}}function GCe(t){return Array.isArray(t)?t:typeof t=="number"?[BCe,t]:t==null?Ane:[t]}function Mne(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),HCe(t,a,o,i);function o(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return s(l,f,u)}}const wD={}.hasOwnProperty,WCe={};function $Ce(t,e){const n=e||WCe,r=new Map,i=new Map,a=new Map,s={...CCe,...n.handlers},o={all:c,applyData:XCe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:qCe,wrap:YCe};return Mne(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?r:i,d=String(u.identifier).toUpperCase();f.has(d)||f.set(d,u)}}),o;function l(u,f){const d=u.type,h=o.handlers[d];if(wD.call(o.handlers,d)&&h)return h(o,u,f);if(o.options.passThrough&&o.options.passThrough.includes(d)){if("children"in u){const{children:y,...x}=u,v=XM(x);return v.children=o.all(u),v}return XM(u)}return(o.options.unknownHandler||KCe)(o,u,f)}function c(u){const f=[];if("children"in u){const d=u.children;let h=-1;for(;++h<d.length;){const g=o.one(d[h],u);if(g){if(h&&d[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=$9(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=$9(y.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function qCe(t,e){t.position&&(e.position=IAe(t))}function XCe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,XM(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function KCe(t,e){const n=e.data||{},r="value"in e&&!(wD.call(n,"hProperties")||wD.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function YCe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function $9(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function q9(t,e){const n=$Ce(t,e),r=n.one(t,void 0),i=DCe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function ZCe(t,e){return t&&"run"in t?async function(n,r){const i=q9(n,{file:r,...e});await t.run(i,r)}:function(n,r){return q9(n,{file:r,...t||e})}}function X9(t){if(t)throw t}var BA=Object.prototype.hasOwnProperty,Tne=Object.prototype.toString,K9=Object.defineProperty,Y9=Object.getOwnPropertyDescriptor,Z9=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Tne.call(e)==="[object Array]"},J9=function(e){if(!e||Tne.call(e)!=="[object Object]")return!1;var n=BA.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&BA.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||BA.call(e,i)},Q9=function(e,n){K9&&n.name==="__proto__"?K9(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},eG=function(e,n){if(n==="__proto__")if(BA.call(e,n)){if(Y9)return Y9(e,n).value}else return;return e[n]},JCe=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=eG(o,n),i=eG(e,n),o!==i&&(u&&i&&(J9(i)||(a=Z9(i)))?(a?(a=!1,s=r&&Z9(r)?r:[]):s=r&&J9(r)?r:{},Q9(o,{name:n,newValue:t(u,s,i)})):typeof i<"u"&&Q9(o,{name:n,newValue:i}));return o};const Yk=ca(JCe);function SD(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function QCe(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const u=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?ePe(u,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function ePe(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const u=c;if(o&&n)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const ic={basename:tPe,dirname:nPe,extname:rPe,join:iPe,sep:"/"};function tPe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');F_(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function nPe(t){if(F_(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function rPe(t){F_(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function iPe(...t){let e=-1,n;for(;++e<t.length;)F_(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":aPe(n)}function aPe(t){F_(t);const e=t.codePointAt(0)===47;let n=sPe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function sPe(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function F_(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const oPe={cwd:lPe};function lPe(){return"/"}function ED(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function cPe(t){if(typeof t=="string")t=new URL(t);else if(!ED(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return uPe(t)}function uPe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Zk=["history","path","basename","stem","extname","dirname"];class Cne{constructor(e){let n;e?ED(e)?n={path:e}:typeof e=="string"||fPe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":oPe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Zk.length;){const a=Zk[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Zk.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ic.basename(this.path):void 0}set basename(e){Qk(e,"basename"),Jk(e,"basename"),this.path=ic.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ic.dirname(this.path):void 0}set dirname(e){tG(this.basename,"dirname"),this.path=ic.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ic.extname(this.path):void 0}set extname(e){if(Jk(e,"extname"),tG(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ic.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ED(e)&&(e=cPe(e)),Qk(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ic.basename(this.path,this.extname):void 0}set stem(e){Qk(e,"stem"),Jk(e,"stem"),this.path=ic.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ha(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Jk(t,e){if(t&&t.includes(ic.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ic.sep+"`")}function Qk(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function tG(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function fPe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const dPe=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},hPe={}.hasOwnProperty;class _U extends dPe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=QCe()}copy(){const e=new _U;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Yk(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(nN("data",this.frozen),this.namespace[e]=n,this):hPe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(nN("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=qS(e),r=this.parser||this.Parser;return eN("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),eN("process",this.parser||this.Parser),tN("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=qS(e),l=r.parse(o);r.run(l,o,function(u,f,d){if(u||!f||!d)return c(u);const h=f,g=r.stringify(h,d);gPe(g)?d.value=g:d.result=g,c(u,d)});function c(u,f){u||!f?s(u):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),eN("processSync",this.parser||this.Parser),tN("processSync",this.compiler||this.Compiler),this.process(e,i),rG("processSync","process",n),r;function i(a,s){n=!0,X9(a),r=s}}run(e,n,r){nG(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=qS(n);i.run(e,l,c);function c(u,f,d){const h=f||e;u?o(u):s?s(h):r(void 0,h,d)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),rG("runSync","run",r),i;function a(s,o){X9(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=qS(n),i=this.compiler||this.Compiler;return tN("stringify",i),nG(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(nN("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Yk(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===c){d=f;break}if(d===-1)r.push([c,...u]);else if(u.length>0){let[h,...g]=u;const y=r[d][1];SD(y)&&SD(h)&&(h=Yk(!0,y,h)),r[d]=[c,h,...g]}}}}const pPe=new _U().freeze();function eN(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function tN(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function nN(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function nG(t){if(!SD(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function rG(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function qS(t){return mPe(t)?t:new Cne(t)}function mPe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function gPe(t){return typeof t=="string"||vPe(t)}function vPe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const yPe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",iG=[],aG={allowDangerousHtml:!0},xPe=/^(https?|ircs?|mailto|xmpp)$/i,bPe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Pne(t){const e=_Pe(t),n=wPe(t);return SPe(e.runSync(e.parse(n),n),t)}function _Pe(t){const e=t.rehypePlugins||iG,n=t.remarkPlugins||iG,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...aG}:aG;return pPe().use(nCe).use(n).use(ZCe,r).use(e)}function wPe(t){const e=t.children||"",n=new Cne;return typeof e=="string"&&(n.value=e),n}function SPe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||EPe;for(const u of bPe)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+yPe+u.id,void 0);return Mne(t,c),DAe(t,{Fragment:S.Fragment,components:i,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function c(u,f,d){if(u.type==="raw"&&d&&typeof f=="number")return s?d.children.splice(f,1):d.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let h;for(h in qk)if(Object.hasOwn(qk,h)&&Object.hasOwn(u.properties,h)){const g=u.properties[h],y=qk[h];(y===null||y.includes(u.tagName))&&(u.properties[h]=l(String(g||""),h,u))}}if(u.type==="element"){let h=n?!n.includes(u.tagName):a?a.includes(u.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(u,f,d)),h&&d&&typeof f=="number")return o&&u.children?d.children.splice(f,1,...u.children):d.children.splice(f,1),f}}}function EPe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||xPe.test(t.slice(0,e))?t:""}const APe=({text:t,speed:e=10,onComplete:n,stopped:r=!1})=>{const[i,a]=E.useState(""),[s,o]=E.useState(0);return E.useEffect(()=>{r&&s<t.length&&(a(t),o(t.length),n==null||n())},[r,t,s,n]),E.useEffect(()=>{if(!r)if(s<t.length){const l=setTimeout(()=>{a(c=>c+t[s]),o(c=>c+1)},e);return()=>clearTimeout(l)}else n&&s===t.length&&t.length>0&&n()},[s,t,e,n,r]),E.useEffect(()=>{a(""),o(0)},[t]),S.jsxs("div",{className:"typewriter-container",children:[S.jsx(Pne,{children:i}),s<t.length&&!r&&S.jsx("span",{className:"inline-block w-2 h-5 bg-orange-500 ml-1 animate-pulse align-middle"})]})},Pi=He.forwardRef(({className:t="",variant:e="default",size:n="md",isLoading:r,leftIcon:i,rightIcon:a,children:s,...o},l)=>{const c="inline-flex items-center justify-center rounded-xl font-medium transition-all duration-300 focus:outline-none disabled:opacity-50 disabled:pointer-events-none",u={default:"bg-white text-black hover:bg-neutral-200 border border-transparent",premium:"bg-gradient-to-br from-orange-500/20 to-red-500/20 border border-orange-500/50 text-orange-100 shadow-[0_0_20px_-5px_rgba(249,115,22,0.3)] hover:shadow-[0_0_25px_-5px_rgba(249,115,22,0.5)] hover:border-orange-500/70 hover:bg-orange-500/10 active:scale-95 relative overflow-hidden","premium-subtle":"bg-neutral-900 text-neutral-200 border border-neutral-800 shadow-[0_0_20px_-5px_rgba(249,115,22,0.3)] hover:bg-gradient-to-br hover:from-orange-500/20 hover:to-red-500/20 hover:border-orange-500/50 hover:text-orange-100 hover:shadow-[0_0_25px_-5px_rgba(249,115,22,0.5)] active:scale-95 relative overflow-hidden",ghost:"bg-transparent text-neutral-400 hover:text-white hover:bg-white/5",outline:"bg-transparent border border-neutral-800 text-neutral-300 hover:border-neutral-600 hover:text-white",secondary:"bg-neutral-800 text-neutral-200 hover:bg-neutral-700 border border-neutral-700"},f={sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2 text-sm",lg:"h-12 px-6 text-base",icon:"h-10 w-10 p-2"},d=`
            ${c}
            ${u[e]}
            ${f[n]}
            ${t}
        `;return S.jsxs("button",{ref:l,className:d.trim().replace(/\s+/g," "),disabled:r||o.disabled,...o,children:[e==="premium"&&S.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-orange-500/10 to-transparent opacity-50 blur-sm pointer-events-none"}),r?S.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}):i?S.jsx("span",{className:"mr-2",children:i}):null,s,!r&&a&&S.jsx("span",{className:"ml-2",children:a})]})});Pi.displayName="Button";const Ine=E.createContext(null);function wU(){const t=E.useContext(Ine);if(!t)throw new Error("useSidebar must be used within a SidebarProvider");return t}function MPe({children:t,style:e}){const[n,r]=E.useState(!1);return S.jsx(Ine.Provider,{value:{open:n,setOpen:r,toggleSidebar:()=>r(i=>!i)},children:S.jsx("div",{style:e,className:"group/sidebar-wrapper flex min-h-screen w-full has-[[data-variant=inset]]:bg-sidebar",children:t})})}function TPe({className:t,...e}){return S.jsx("main",{className:`relative flex min-h-screen flex-1 flex-col bg-background peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow ${t}`,...e})}function CPe({className:t,...e}){const{toggleSidebar:n}=wU();return S.jsxs(Pi,{onClick:n,variant:"premium-subtle",size:"icon",className:t,...e,children:[S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),S.jsx("path",{d:"M9 3v18"})]}),S.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}const SU=({storageKey:t,onSelectItem:e,title:n="History"})=>{const[r,i]=He.useState([]),[a,s]=He.useState(!0);He.useEffect(()=>{const d=localStorage.getItem(t);if(d)try{i(JSON.parse(d))}catch(h){console.error("Failed to parse history:",h)}},[t]);const o=(d,h)=>{h.stopPropagation();const g=r.filter(y=>y.id!==d);i(g),localStorage.setItem(t,JSON.stringify(g))},l=()=>{i([]),localStorage.removeItem(t)},c=d=>{const h=new Date(d),y=Math.floor((new Date().getTime()-h.getTime())/(1e3*60*60*24));return y===0?h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):y===1?"Yesterday":y<7?h.toLocaleDateString([],{weekday:"short"}):h.toLocaleDateString([],{month:"short",day:"numeric"})},f=(d=>{const h={Today:[],Yesterday:[],"This Week":[],Older:[]},g=new Date;return d.forEach(y=>{const x=new Date(y.timestamp),v=Math.floor((g.getTime()-x.getTime())/(1e3*60*60*24));v===0?h.Today.push(y):v===1?h.Yesterday.push(y):v<7?h["This Week"].push(y):h.Older.push(y)}),h})(r);return r.length===0?S.jsxs("div",{className:"px-3 py-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2",children:[S.jsx(QH,{size:12}),S.jsx("span",{children:n})]}),S.jsx("p",{className:"text-xs text-neutral-600 italic",children:"No history yet"})]}):S.jsxs("div",{className:"px-3 py-2",children:[S.jsxs("div",{className:"flex items-center justify-between cursor-pointer mb-2",onClick:()=>s(!a),children:[S.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-neutral-500 uppercase tracking-wider",children:[S.jsx(QH,{size:12}),S.jsx("span",{children:n}),S.jsxs("span",{className:"text-neutral-600",children:["(",r.length,")"]})]}),S.jsx("button",{onClick:d=>{d.stopPropagation(),l()},className:"text-neutral-600 hover:text-red-400 transition-colors p-1",title:"Clear all",children:S.jsx(n9,{size:12})})]}),a&&S.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(f).map(([d,h])=>h.length>0&&S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] font-medium text-neutral-600 uppercase tracking-wider mb-1 mt-2",children:d}),h.map(g=>S.jsxs("div",{onClick:()=>e(g),className:"group flex items-center gap-2 p-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[S.jsx(pSe,{size:12,className:"text-neutral-600 flex-shrink-0"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-xs text-neutral-300 truncate",children:g.query}),S.jsxs("p",{className:"text-[10px] text-neutral-600",children:[g.type&&S.jsxs("span",{className:"text-orange-500/70",children:[g.type,"  "]}),c(g.timestamp)]})]}),S.jsx("button",{onClick:y=>o(g.id,y),className:"opacity-0 group-hover:opacity-100 text-neutral-600 hover:text-red-400 transition-all p-1",children:S.jsx(n9,{size:12})})]},g.id))]},d))})]})},bm=(t,e,n,r)=>{const i=localStorage.getItem(t);let a=i?JSON.parse(i):[];const s={id:Date.now().toString(),query:e,timestamp:Date.now(),type:n,agent:r};return a=a.filter(o=>o.query!==e),a=[s,...a].slice(0,50),localStorage.setItem(t,JSON.stringify(a)),a};function PPe({user:t,onNewChat:e,children:n,className:r,projects:i=[],onSelectProject:a,onCreateProject:s,searchQuery:o="",onSearchChange:l,onRenameProject:c,onDeleteProject:u,onOpenLibrary:f,onHistorySelect:d,...h}){const{open:g,setOpen:y}=wU(),x=He.useRef(!1),[v,b]=He.useState("sources"),[_,A]=He.useState(!1),[T,M]=He.useState(!1),I=He.useRef(null);He.useEffect(()=>{_&&I.current&&I.current.focus()},[_]);const O=()=>{x.current=!0,y(!0)},P=()=>{x.current=!1,setTimeout(()=>{x.current||y(!1)},300)};return S.jsxs("div",{onMouseEnter:O,onMouseLeave:P,className:`flex flex-col h-full bg-black text-neutral-200 border-r border-white/5 transition-all duration-300 ease-out overflow-hidden ${g?"w-[260px]":"w-[48px]"} ${r}`,...h,children:[!g&&S.jsxs("div",{className:"w-[48px] h-full flex flex-col items-center py-3 gap-3",children:[S.jsx("button",{onClick:e,className:"w-9 h-9 rounded-lg bg-white/5 hover:bg-orange-500/20 flex items-center justify-center text-neutral-400 hover:text-orange-400 transition-all",title:"New Chat",children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("path",{d:"M12 8v8"}),S.jsx("path",{d:"M8 12h8"})]})}),S.jsx("button",{onClick:f,className:"w-9 h-9 rounded-lg hover:bg-white/5 flex items-center justify-center text-neutral-500 hover:text-white transition-all",title:"Library",children:S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M3 6h18M3 12h18M3 18h18"})})}),S.jsx("div",{className:"flex-1"}),S.jsx("div",{className:"text-xs text-neutral-600 rotate-90 whitespace-nowrap",children:"Hover to expand"})]}),g&&S.jsxs("div",{className:"min-w-[260px] h-full flex flex-col",children:[S.jsxs("div",{className:"flex-1 overflow-y-auto",children:[S.jsx("div",{className:"px-3 pt-2 pb-1",children:S.jsx(Pi,{onClick:e,variant:"premium-subtle",className:"w-full justify-start gap-2 py-2",leftIcon:S.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("path",{d:"M12 8v8"}),S.jsx("path",{d:"M8 12h8"})]}),children:"New chat"})}),S.jsx("div",{className:"px-3 pb-0.5",children:_?S.jsxs("div",{className:"relative",children:[S.jsxs("svg",{className:"absolute left-3 top-2 h-4 w-4 text-orange-500",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"11",cy:"11",r:"8"}),S.jsx("path",{d:"M21 21l-4.35-4.35"})]}),S.jsx("input",{ref:I,type:"text",placeholder:"Search sources...",value:o,onChange:k=>l==null?void 0:l(k.target.value),onBlur:()=>!o&&A(!1),className:"w-full bg-neutral-900 text-neutral-200 text-sm rounded-lg pl-9 pr-3 py-1.5 border border-orange-500/50 focus:border-orange-500 focus:ring-1 focus:ring-orange-500/50 focus:outline-none placeholder-neutral-500 transition-all"})]}):S.jsxs("button",{onClick:()=>A(!0),className:"group flex items-center gap-2 w-full px-2 py-1.5 text-sm text-neutral-300 hover:text-orange-400 hover:bg-orange-500/10 rounded-lg transition-all duration-200",children:[S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:text-orange-400",children:[S.jsx("circle",{cx:"11",cy:"11",r:"8"}),S.jsx("path",{d:"M21 21l-4.35-4.35"})]}),S.jsx("span",{children:"Search sources"})]})}),S.jsx("div",{className:"px-3 pb-0.5",children:S.jsxs("button",{onClick:f,className:"group flex items-center gap-2 w-full px-2 py-1.5 text-sm text-neutral-300 hover:text-orange-400 hover:bg-orange-500/10 rounded-lg transition-all duration-200",children:[S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:text-orange-400",children:[S.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),S.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),S.jsx("span",{children:"Library"})]})}),S.jsx("div",{className:"px-3 pb-0.5",children:S.jsxs("button",{onClick:()=>M(!T),className:"group flex items-center justify-between w-full px-2 py-1.5 text-sm text-neutral-300 hover:text-orange-400 hover:bg-orange-500/10 rounded-lg transition-all duration-200",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:text-orange-400",children:S.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),S.jsx("span",{children:"Projects"}),i.length>0&&S.jsxs("span",{className:"text-xs text-neutral-500",children:["(",i.length,")"]})]}),S.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`text-neutral-500 group-hover:text-orange-400 transition-transform duration-200 ${T?"rotate-180":""}`,children:S.jsx("polyline",{points:"6 9 12 15 18 9"})})]})}),T&&S.jsxs("div",{className:"px-3 pb-1",children:[i.length>0?S.jsx("div",{className:"space-y-0 pl-5",children:i.map(k=>S.jsxs("div",{className:"group flex items-center w-full hover:bg-white/5 rounded-md transition-all duration-200 pr-1",children:[S.jsx("button",{onClick:()=>a==null?void 0:a(k),className:"flex-1 flex items-center gap-2 px-2 py-1 text-sm text-neutral-500 group-hover:text-white truncate text-left transition-colors",children:S.jsx("span",{className:"truncate",children:k.name})}),S.jsxs("div",{className:"hidden group-hover:flex items-center gap-0.5",children:[S.jsx("button",{onClick:N=>{N.stopPropagation(),c==null||c(k)},className:"p-0.5 text-neutral-500 hover:text-white transition-colors",title:"Rename",children:S.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[S.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),S.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),S.jsx("button",{onClick:N=>{N.stopPropagation(),u==null||u(k)},className:"p-0.5 text-neutral-500 hover:text-red-400 transition-colors",title:"Delete",children:S.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[S.jsx("polyline",{points:"3 6 5 6 21 6"}),S.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},k.id))}):S.jsx("div",{className:"pl-5 py-1 text-xs text-neutral-600 italic",children:"No projects yet"}),S.jsxs("button",{onClick:s,className:"mt-1 ml-5 flex items-center gap-1 px-2 py-1 text-xs text-orange-400/70 hover:text-orange-400 transition-colors",children:[S.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[S.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),S.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),S.jsx("span",{children:"New project"})]})]}),S.jsx("div",{className:"border-t border-white/5 mx-3 my-1"}),S.jsx("div",{className:"px-3 py-1",children:S.jsxs("div",{className:"flex bg-white/5 rounded-md p-0.5",children:[S.jsx("button",{onClick:()=>b("sources"),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-all ${v==="sources"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"text-neutral-500 hover:text-neutral-300"}`,children:"Sources"}),S.jsx("button",{onClick:()=>b("history"),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-all ${v==="history"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"text-neutral-500 hover:text-neutral-300"}`,children:"History"})]})}),v==="sources"?S.jsx("div",{className:"px-3 py-2",children:n}):S.jsx(SU,{storageKey:"ares_chat_history",title:"Chat History",onSelectItem:k=>{d==null||d(k),b("sources")}})]}),S.jsx("div",{className:"p-3 border-t border-white/5 flex-shrink-0",children:t?S.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 bg-gradient-to-t from-white/5 to-transparent rounded-xl border border-white/5 hover:border-white/10 transition-all group",children:[S.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center text-white font-medium text-xs shadow-lg shadow-purple-900/20",children:t.email?t.email.substring(0,2).toUpperCase():"NN"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-sm font-medium text-neutral-200 truncate group-hover:text-white transition-colors",children:t.displayName||"Naresh N"}),S.jsx("div",{className:"text-xs text-neutral-500 truncate",children:"Free Plan"})]}),S.jsx(Pi,{variant:"premium-subtle",size:"sm",className:"h-7 px-2 text-xs",children:"Upgrade"})]}):S.jsx("div",{className:"px-2 py-2 text-sm text-neutral-400",children:"Not signed in"})})]})]})}const IPe=({isOpen:t,onClose:e,sources:n})=>{const[r,i]=E.useState("images");if(!t)return null;const a=n.filter(l=>l.type==="image"),s=n.filter(l=>l.type==="audio"),o=l=>{if(!l.metadata)return null;try{const c=typeof l.metadata=="string"?JSON.parse(l.metadata):l.metadata;return(c==null?void 0:c.thumbnail)||null}catch{return null}};return S.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl max-w-4xl w-full max-h-[85vh] flex flex-col shadow-2xl shadow-orange-900/20",children:[S.jsxs("div",{className:"p-6 border-b border-neutral-800 flex justify-between items-center",children:[S.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-orange-500",children:S.jsx("path",{d:"M3 6h18M3 12h18M3 18h18"})}),"Library"]}),S.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white transition-colors",children:S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),S.jsxs("div",{className:"flex border-b border-neutral-800",children:[S.jsxs("button",{onClick:()=>i("images"),className:`flex-1 py-3 text-sm font-medium transition-colors ${r==="images"?"text-orange-500 border-b-2 border-orange-500":"text-neutral-400 hover:text-neutral-200"}`,children:["Images (",a.length,")"]}),S.jsxs("button",{onClick:()=>i("audio"),className:`flex-1 py-3 text-sm font-medium transition-colors ${r==="audio"?"text-orange-500 border-b-2 border-orange-500":"text-neutral-400 hover:text-neutral-200"}`,children:["Audio (",s.length,")"]})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r==="images"&&S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.map(l=>{const c=o(l);return S.jsxs("div",{className:"group relative aspect-square bg-neutral-800 rounded-lg overflow-hidden border border-neutral-700 hover:border-orange-500/50 transition-colors",children:[c?S.jsx("img",{src:c,alt:l.title,className:"absolute inset-0 w-full h-full object-cover"}):S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4 text-center",children:[S.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-neutral-600 mb-2",children:[S.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),S.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),S.jsx("polyline",{points:"21 15 16 10 5 21"})]}),S.jsx("span",{className:"text-xs text-neutral-400 line-clamp-2",children:l.title})]}),S.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-3",children:[S.jsx("p",{className:"text-xs text-white font-medium truncate",children:l.title}),S.jsx("p",{className:"text-[10px] text-neutral-400",children:new Date(l.created_at).toLocaleDateString()})]})]},l.id)}),a.length===0&&S.jsx("div",{className:"col-span-full text-center py-12 text-neutral-500",children:"No images uploaded yet."})]}),r==="audio"&&S.jsxs("div",{className:"space-y-3",children:[s.map(l=>S.jsx("div",{className:"bg-neutral-800/50 border border-neutral-800 rounded-lg p-4 hover:border-neutral-700 transition-colors",children:S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg text-orange-500 mt-1",children:S.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),S.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),S.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),S.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h3",{className:"text-sm font-medium text-white truncate mb-1",children:l.title}),S.jsx("p",{className:"text-xs text-neutral-400 line-clamp-2",children:l.content}),S.jsx("div",{className:"mt-2 text-[10px] text-neutral-600 uppercase tracking-wider",children:new Date(l.created_at).toLocaleDateString()})]})]})},l.id)),s.length===0&&S.jsx("div",{className:"text-center py-12 text-neutral-500",children:"No audio files uploaded yet."})]})]})]})})};function os(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=os(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var One={exports:{}},kne={},Nne={exports:{}},Rne={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=E;function OPe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kPe=typeof Object.is=="function"?Object.is:OPe,NPe=f0.useState,RPe=f0.useEffect,DPe=f0.useLayoutEffect,LPe=f0.useDebugValue;function UPe(t,e){var n=e(),r=NPe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return DPe(function(){i.value=n,i.getSnapshot=e,rN(i)&&a({inst:i})},[t,n,e]),RPe(function(){return rN(i)&&a({inst:i}),t(function(){rN(i)&&a({inst:i})})},[t]),LPe(n),n}function rN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kPe(t,n)}catch{return!0}}function zPe(t,e){return e()}var FPe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zPe:UPe;Rne.useSyncExternalStore=f0.useSyncExternalStore!==void 0?f0.useSyncExternalStore:FPe;Nne.exports=Rne;var jPe=Nne.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP=E,BPe=jPe;function VPe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HPe=typeof Object.is=="function"?Object.is:VPe,GPe=BPe.useSyncExternalStore,WPe=UP.useRef,$Pe=UP.useEffect,qPe=UP.useMemo,XPe=UP.useDebugValue;kne.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=WPe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=qPe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var g=s.value;if(i(g,h))return f=g}return f=h}if(g=f,HPe(u,h))return g;var y=r(h);return i!==void 0&&i(g,y)?(u=h,g):(u=h,f=y)}var c=!1,u,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var o=GPe(t,a[0],a[1]);return $Pe(function(){s.hasValue=!0,s.value=o},[o]),XPe(o),o};One.exports=kne;var Dne=One.exports;const Lne=ca(Dne),KPe={},sG=t=>{let e;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(g=>g(e,h))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(KPe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},YPe=t=>t?sG(t):sG,{useDebugValue:ZPe}=He,{useSyncExternalStoreWithSelector:JPe}=Lne,QPe=t=>t;function Une(t,e=QPe,n){const r=JPe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return ZPe(r),r}const oG=(t,e)=>{const n=YPe(t),r=(i,a=e)=>Une(n,i,a);return Object.assign(r,n),r},e3e=(t,e)=>t?oG(t,e):oG;function Ba(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var t3e={value:()=>{}};function zP(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new VA(n)}function VA(t){this._=t}function n3e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}VA.prototype=zP.prototype={constructor:VA,on:function(t,e){var n=this._,r=n3e(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=r3e(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=lG(n[i],t.name,e);else if(e==null)for(i in n)n[i]=lG(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new VA(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function r3e(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function lG(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=t3e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var AD="http://www.w3.org/1999/xhtml";const cG={svg:"http://www.w3.org/2000/svg",xhtml:AD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function FP(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),cG.hasOwnProperty(e)?{space:cG[e],local:t}:t}function i3e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===AD&&e.documentElement.namespaceURI===AD?e.createElement(t):e.createElementNS(n,t)}}function a3e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zne(t){var e=FP(t);return(e.local?a3e:i3e)(e)}function s3e(){}function EU(t){return t==null?s3e:function(){return this.querySelector(t)}}function o3e(t){typeof t!="function"&&(t=EU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new po(r,this._parents)}function l3e(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function c3e(){return[]}function Fne(t){return t==null?c3e:function(){return this.querySelectorAll(t)}}function u3e(t){return function(){return l3e(t.apply(this,arguments))}}function f3e(t){typeof t=="function"?t=u3e(t):t=Fne(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new po(r,i)}function jne(t){return function(){return this.matches(t)}}function Bne(t){return function(e){return e.matches(t)}}var d3e=Array.prototype.find;function h3e(t){return function(){return d3e.call(this.children,t)}}function p3e(){return this.firstElementChild}function m3e(t){return this.select(t==null?p3e:h3e(typeof t=="function"?t:Bne(t)))}var g3e=Array.prototype.filter;function v3e(){return Array.from(this.children)}function y3e(t){return function(){return g3e.call(this.children,t)}}function x3e(t){return this.selectAll(t==null?v3e:y3e(typeof t=="function"?t:Bne(t)))}function b3e(t){typeof t!="function"&&(t=jne(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new po(r,this._parents)}function Vne(t){return new Array(t.length)}function _3e(){return new po(this._enter||this._groups.map(Vne),this._parents)}function KM(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}KM.prototype={constructor:KM,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function w3e(t){return function(){return t}}function S3e(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new KM(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function E3e(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,f=a.length,d=new Array(u),h;for(o=0;o<u;++o)(l=e[o])&&(d[o]=h=s.call(l,l.__data__,o,e)+"",c.has(h)?i[o]=l:c.set(h,l));for(o=0;o<f;++o)h=s.call(t,a[o],o,a)+"",(l=c.get(h))?(r[o]=l,l.__data__=a[o],c.delete(h)):n[o]=new KM(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(d[o])===l&&(i[o]=l)}function A3e(t){return t.__data__}function M3e(t,e){if(!arguments.length)return Array.from(this,A3e);var n=e?E3e:S3e,r=this._parents,i=this._groups;typeof t!="function"&&(t=w3e(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],f=i[c],d=f.length,h=T3e(t.call(u,u&&u.__data__,c,r)),g=h.length,y=o[c]=new Array(g),x=s[c]=new Array(g),v=l[c]=new Array(d);n(u,f,y,x,v,h,e);for(var b=0,_=0,A,T;b<g;++b)if(A=y[b]){for(b>=_&&(_=b+1);!(T=x[_])&&++_<g;);A._next=T||null}}return s=new po(s,r),s._enter=o,s._exit=l,s}function T3e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function C3e(){return new po(this._exit||this._groups.map(Vne),this._parents)}function P3e(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function I3e(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,d=o[l]=new Array(f),h,g=0;g<f;++g)(h=c[g]||u[g])&&(d[g]=h);for(;l<i;++l)o[l]=n[l];return new po(o,this._parents)}function O3e(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function k3e(t){t||(t=N3e);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new po(i,this._parents).order()}function N3e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function R3e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function D3e(){return Array.from(this)}function L3e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function U3e(){let t=0;for(const e of this)++t;return t}function z3e(){return!this.node()}function F3e(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function j3e(t){return function(){this.removeAttribute(t)}}function B3e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function V3e(t,e){return function(){this.setAttribute(t,e)}}function H3e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function G3e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function W3e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $3e(t,e){var n=FP(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?B3e:j3e:typeof e=="function"?n.local?W3e:G3e:n.local?H3e:V3e)(n,e))}function Hne(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function q3e(t){return function(){this.style.removeProperty(t)}}function X3e(t,e,n){return function(){this.style.setProperty(t,e,n)}}function K3e(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Y3e(t,e,n){return arguments.length>1?this.each((e==null?q3e:typeof e=="function"?K3e:X3e)(t,e,n??"")):d0(this.node(),t)}function d0(t,e){return t.style.getPropertyValue(e)||Hne(t).getComputedStyle(t,null).getPropertyValue(e)}function Z3e(t){return function(){delete this[t]}}function J3e(t,e){return function(){this[t]=e}}function Q3e(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function eIe(t,e){return arguments.length>1?this.each((e==null?Z3e:typeof e=="function"?Q3e:J3e)(t,e)):this.node()[t]}function Gne(t){return t.trim().split(/^|\s+/)}function AU(t){return t.classList||new Wne(t)}function Wne(t){this._node=t,this._names=Gne(t.getAttribute("class")||"")}Wne.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $ne(t,e){for(var n=AU(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function qne(t,e){for(var n=AU(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function tIe(t){return function(){$ne(this,t)}}function nIe(t){return function(){qne(this,t)}}function rIe(t,e){return function(){(e.apply(this,arguments)?$ne:qne)(this,t)}}function iIe(t,e){var n=Gne(t+"");if(arguments.length<2){for(var r=AU(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?rIe:e?tIe:nIe)(n,e))}function aIe(){this.textContent=""}function sIe(t){return function(){this.textContent=t}}function oIe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function lIe(t){return arguments.length?this.each(t==null?aIe:(typeof t=="function"?oIe:sIe)(t)):this.node().textContent}function cIe(){this.innerHTML=""}function uIe(t){return function(){this.innerHTML=t}}function fIe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function dIe(t){return arguments.length?this.each(t==null?cIe:(typeof t=="function"?fIe:uIe)(t)):this.node().innerHTML}function hIe(){this.nextSibling&&this.parentNode.appendChild(this)}function pIe(){return this.each(hIe)}function mIe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gIe(){return this.each(mIe)}function vIe(t){var e=typeof t=="function"?t:zne(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function yIe(){return null}function xIe(t,e){var n=typeof t=="function"?t:zne(t),r=e==null?yIe:typeof e=="function"?e:EU(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bIe(){var t=this.parentNode;t&&t.removeChild(this)}function _Ie(){return this.each(bIe)}function wIe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function SIe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function EIe(t){return this.select(t?SIe:wIe)}function AIe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function MIe(t){return function(e){t.call(this,e,this.__data__)}}function TIe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function CIe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function PIe(t,e,n){return function(){var r=this.__on,i,a=MIe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function IIe(t,e,n){var r=TIe(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?PIe:CIe,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function Xne(t,e,n){var r=Hne(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function OIe(t,e){return function(){return Xne(this,t,e)}}function kIe(t,e){return function(){return Xne(this,t,e.apply(this,arguments))}}function NIe(t,e){return this.each((typeof e=="function"?kIe:OIe)(t,e))}function*RIe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var Kne=[null];function po(t,e){this._groups=t,this._parents=e}function j_(){return new po([[document.documentElement]],Kne)}function DIe(){return this}po.prototype=j_.prototype={constructor:po,select:o3e,selectAll:f3e,selectChild:m3e,selectChildren:x3e,filter:b3e,data:M3e,enter:_3e,exit:C3e,join:P3e,merge:I3e,selection:DIe,order:O3e,sort:k3e,call:R3e,nodes:D3e,node:L3e,size:U3e,empty:z3e,each:F3e,attr:$3e,style:Y3e,property:eIe,classed:iIe,text:lIe,html:dIe,raise:pIe,lower:gIe,append:vIe,insert:xIe,remove:_Ie,clone:EIe,datum:AIe,on:IIe,dispatch:NIe,[Symbol.iterator]:RIe};function Tl(t){return typeof t=="string"?new po([[document.querySelector(t)]],[document.documentElement]):new po([[t]],Kne)}function LIe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ac(t,e){if(t=LIe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const UIe={passive:!1},M1={capture:!0,passive:!1};function iN(t){t.stopImmediatePropagation()}function jv(t){t.preventDefault(),t.stopImmediatePropagation()}function Yne(t){var e=t.document.documentElement,n=Tl(t).on("dragstart.drag",jv,M1);"onselectstart"in e?n.on("selectstart.drag",jv,M1):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Zne(t,e){var n=t.document.documentElement,r=Tl(t).on("dragstart.drag",null);e&&(r.on("click.drag",jv,M1),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const XS=t=>()=>t;function MD(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:s,y:o,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}MD.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function zIe(t){return!t.ctrlKey&&!t.button}function FIe(){return this.parentNode}function jIe(t,e){return e??{x:t.x,y:t.y}}function BIe(){return navigator.maxTouchPoints||"ontouchstart"in this}function VIe(){var t=zIe,e=FIe,n=jIe,r=BIe,i={},a=zP("start","drag","end"),s=0,o,l,c,u,f=0;function d(A){A.on("mousedown.drag",h).filter(r).on("touchstart.drag",x).on("touchmove.drag",v,UIe).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(A,T){if(!(u||!t.call(this,A,T))){var M=_(this,e.call(this,A,T),A,T,"mouse");M&&(Tl(A.view).on("mousemove.drag",g,M1).on("mouseup.drag",y,M1),Yne(A.view),iN(A),c=!1,o=A.clientX,l=A.clientY,M("start",A))}}function g(A){if(jv(A),!c){var T=A.clientX-o,M=A.clientY-l;c=T*T+M*M>f}i.mouse("drag",A)}function y(A){Tl(A.view).on("mousemove.drag mouseup.drag",null),Zne(A.view,c),jv(A),i.mouse("end",A)}function x(A,T){if(t.call(this,A,T)){var M=A.changedTouches,I=e.call(this,A,T),O=M.length,P,k;for(P=0;P<O;++P)(k=_(this,I,A,T,M[P].identifier,M[P]))&&(iN(A),k("start",A,M[P]))}}function v(A){var T=A.changedTouches,M=T.length,I,O;for(I=0;I<M;++I)(O=i[T[I].identifier])&&(jv(A),O("drag",A,T[I]))}function b(A){var T=A.changedTouches,M=T.length,I,O;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),I=0;I<M;++I)(O=i[T[I].identifier])&&(iN(A),O("end",A,T[I]))}function _(A,T,M,I,O,P){var k=a.copy(),N=ac(P||M,T),L,B,D;if((D=n.call(A,new MD("beforestart",{sourceEvent:M,target:d,identifier:O,active:s,x:N[0],y:N[1],dx:0,dy:0,dispatch:k}),I))!=null)return L=D.x-N[0]||0,B=D.y-N[1]||0,function V(F,H,q){var W=N,z;switch(F){case"start":i[O]=V,z=s++;break;case"end":delete i[O],--s;case"drag":N=ac(q||H,T),z=s;break}k.call(F,A,new MD(F,{sourceEvent:H,subject:D,target:d,identifier:O,active:z,x:N[0]+L,y:N[1]+B,dx:N[0]-W[0],dy:N[1]-W[1],dispatch:k}),I)}}return d.filter=function(A){return arguments.length?(t=typeof A=="function"?A:XS(!!A),d):t},d.container=function(A){return arguments.length?(e=typeof A=="function"?A:XS(A),d):e},d.subject=function(A){return arguments.length?(n=typeof A=="function"?A:XS(A),d):n},d.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:XS(!!A),d):r},d.on=function(){var A=a.on.apply(a,arguments);return A===a?d:A},d.clickDistance=function(A){return arguments.length?(f=(A=+A)*A,d):Math.sqrt(f)},d}function MU(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Jne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function B_(){}var T1=.7,YM=1/T1,Bv="\\s*([+-]?\\d+)\\s*",C1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HIe=/^#([0-9a-f]{3,8})$/,GIe=new RegExp(`^rgb\\(${Bv},${Bv},${Bv}\\)$`),WIe=new RegExp(`^rgb\\(${bc},${bc},${bc}\\)$`),$Ie=new RegExp(`^rgba\\(${Bv},${Bv},${Bv},${C1}\\)$`),qIe=new RegExp(`^rgba\\(${bc},${bc},${bc},${C1}\\)$`),XIe=new RegExp(`^hsl\\(${C1},${bc},${bc}\\)$`),KIe=new RegExp(`^hsla\\(${C1},${bc},${bc},${C1}\\)$`),uG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MU(B_,$p,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fG,formatHex:fG,formatHex8:YIe,formatHsl:ZIe,formatRgb:dG,toString:dG});function fG(){return this.rgb().formatHex()}function YIe(){return this.rgb().formatHex8()}function ZIe(){return Qne(this).formatHsl()}function dG(){return this.rgb().formatRgb()}function $p(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=HIe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hG(e):n===3?new As(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?KS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?KS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=GIe.exec(t))?new As(e[1],e[2],e[3],1):(e=WIe.exec(t))?new As(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$Ie.exec(t))?KS(e[1],e[2],e[3],e[4]):(e=qIe.exec(t))?KS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XIe.exec(t))?gG(e[1],e[2]/100,e[3]/100,1):(e=KIe.exec(t))?gG(e[1],e[2]/100,e[3]/100,e[4]):uG.hasOwnProperty(t)?hG(uG[t]):t==="transparent"?new As(NaN,NaN,NaN,0):null}function hG(t){return new As(t>>16&255,t>>8&255,t&255,1)}function KS(t,e,n,r){return r<=0&&(t=e=n=NaN),new As(t,e,n,r)}function JIe(t){return t instanceof B_||(t=$p(t)),t?(t=t.rgb(),new As(t.r,t.g,t.b,t.opacity)):new As}function TD(t,e,n,r){return arguments.length===1?JIe(t):new As(t,e,n,r??1)}function As(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}MU(As,TD,Jne(B_,{brighter(t){return t=t==null?YM:Math.pow(YM,t),new As(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?T1:Math.pow(T1,t),new As(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new As(Mp(this.r),Mp(this.g),Mp(this.b),ZM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pG,formatHex:pG,formatHex8:QIe,formatRgb:mG,toString:mG}));function pG(){return`#${cp(this.r)}${cp(this.g)}${cp(this.b)}`}function QIe(){return`#${cp(this.r)}${cp(this.g)}${cp(this.b)}${cp((isNaN(this.opacity)?1:this.opacity)*255)}`}function mG(){const t=ZM(this.opacity);return`${t===1?"rgb(":"rgba("}${Mp(this.r)}, ${Mp(this.g)}, ${Mp(this.b)}${t===1?")":`, ${t})`}`}function ZM(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cp(t){return t=Mp(t),(t<16?"0":"")+t.toString(16)}function gG(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cl(t,e,n,r)}function Qne(t){if(t instanceof Cl)return new Cl(t.h,t.s,t.l,t.opacity);if(t instanceof B_||(t=$p(t)),!t)return new Cl;if(t instanceof Cl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Cl(s,o,l,t.opacity)}function eOe(t,e,n,r){return arguments.length===1?Qne(t):new Cl(t,e,n,r??1)}function Cl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}MU(Cl,eOe,Jne(B_,{brighter(t){return t=t==null?YM:Math.pow(YM,t),new Cl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?T1:Math.pow(T1,t),new Cl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new As(aN(t>=240?t-240:t+120,i,r),aN(t,i,r),aN(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cl(vG(this.h),YS(this.s),YS(this.l),ZM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ZM(this.opacity);return`${t===1?"hsl(":"hsla("}${vG(this.h)}, ${YS(this.s)*100}%, ${YS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vG(t){return t=(t||0)%360,t<0?t+360:t}function YS(t){return Math.max(0,Math.min(1,t||0))}function aN(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const TU=t=>()=>t;function tOe(t,e){return function(n){return t+n*e}}function nOe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function rOe(t){return(t=+t)==1?ere:function(e,n){return n-e?nOe(e,n,t):TU(isNaN(e)?n:e)}}function ere(t,e){var n=e-t;return n?tOe(t,n):TU(isNaN(t)?e:t)}const JM=function t(e){var n=rOe(e);function r(i,a){var s=n((i=TD(i)).r,(a=TD(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=ere(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function iOe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function aOe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sOe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=K0(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function oOe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function El(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function lOe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=K0(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var CD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sN=new RegExp(CD.source,"g");function cOe(t){return function(){return t}}function uOe(t){return function(e){return t(e)+""}}function tre(t,e){var n=CD.lastIndex=sN.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=CD.exec(t))&&(i=sN.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:El(r,i)})),n=sN.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?uOe(l[0].x):cOe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function K0(t,e){var n=typeof e,r;return e==null||n==="boolean"?TU(e):(n==="number"?El:n==="string"?(r=$p(e))?(e=r,JM):tre:e instanceof $p?JM:e instanceof Date?oOe:aOe(e)?iOe:Array.isArray(e)?sOe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lOe:El)(t,e)}function CU(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var yG=180/Math.PI,PD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nre(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*yG,skewX:Math.atan(l)*yG,scaleX:s,scaleY:o}}var ZS;function fOe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?PD:nre(e.a,e.b,e.c,e.d,e.e,e.f)}function dOe(t){return t==null||(ZS||(ZS=document.createElementNS("http://www.w3.org/2000/svg","g")),ZS.setAttribute("transform",t),!(t=ZS.transform.baseVal.consolidate()))?PD:(t=t.matrix,nre(t.a,t.b,t.c,t.d,t.e,t.f))}function rre(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,f,d,h,g){if(c!==f||u!==d){var y=h.push("translate(",null,e,null,n);g.push({i:y-4,x:El(c,f)},{i:y-2,x:El(u,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}function s(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:El(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function o(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:El(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,g){if(c!==f||u!==d){var y=h.push(i(h)+"scale(",null,",",null,")");g.push({i:y-4,x:El(c,f)},{i:y-2,x:El(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,f,d),s(c.rotate,u.rotate,f,d),o(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var g=-1,y=d.length,x;++g<y;)f[(x=d[g]).i]=x.x(h);return f.join("")}}}var hOe=rre(fOe,"px, ","px)","deg)"),pOe=rre(dOe,", ",")",")"),mOe=1e-12;function xG(t){return((t=Math.exp(t))+1/t)/2}function gOe(t){return((t=Math.exp(t))-1/t)/2}function vOe(t){return((t=Math.exp(2*t))-1)/(t+1)}const yOe=function t(e,n,r){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],f=s[1],d=s[2],h=u-o,g=f-l,y=h*h+g*g,x,v;if(y<mOe)v=Math.log(d/c)/e,x=function(I){return[o+I*h,l+I*g,c*Math.exp(e*I*v)]};else{var b=Math.sqrt(y),_=(d*d-c*c+r*y)/(2*c*n*b),A=(d*d-c*c-r*y)/(2*d*n*b),T=Math.log(Math.sqrt(_*_+1)-_),M=Math.log(Math.sqrt(A*A+1)-A);v=(M-T)/e,x=function(I){var O=I*v,P=xG(T),k=c/(n*b)*(P*vOe(e*O+T)-gOe(T));return[o+k*h,l+k*g,c*P/xG(e*O+T)]}}return x.duration=v*1e3*e/Math.SQRT2,x}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},i}(Math.SQRT2,2,4);function xOe(t,e){e===void 0&&(e=t,t=K0);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}var h0=0,ab=0,dx=0,ire=1e3,QM,sb,eT=0,qp=0,jP=0,P1=typeof performance=="object"&&performance.now?performance:Date,are=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function PU(){return qp||(are(bOe),qp=P1.now()+jP)}function bOe(){qp=0}function tT(){this._call=this._time=this._next=null}tT.prototype=sre.prototype={constructor:tT,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?PU():+n)+(e==null?0:+e),!this._next&&sb!==this&&(sb?sb._next=this:QM=this,sb=this),this._call=t,this._time=n,ID()},stop:function(){this._call&&(this._call=null,this._time=1/0,ID())}};function sre(t,e,n){var r=new tT;return r.restart(t,e,n),r}function _Oe(){PU(),++h0;for(var t=QM,e;t;)(e=qp-t._time)>=0&&t._call.call(void 0,e),t=t._next;--h0}function bG(){qp=(eT=P1.now())+jP,h0=ab=0;try{_Oe()}finally{h0=0,SOe(),qp=0}}function wOe(){var t=P1.now(),e=t-eT;e>ire&&(jP-=e,eT=t)}function SOe(){for(var t,e=QM,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:QM=n);sb=t,ID(r)}function ID(t){if(!h0){ab&&(ab=clearTimeout(ab));var e=t-qp;e>24?(t<1/0&&(ab=setTimeout(bG,t-P1.now()-jP)),dx&&(dx=clearInterval(dx))):(dx||(eT=P1.now(),dx=setInterval(wOe,ire)),h0=1,are(bG))}}function _G(t,e,n){var r=new tT;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var EOe=zP("start","end","cancel","interrupt"),AOe=[],ore=0,wG=1,OD=2,HA=3,SG=4,kD=5,GA=6;function BP(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;MOe(t,n,{name:e,index:r,group:i,on:EOe,tween:AOe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ore})}function IU(t,e){var n=Hl(t,e);if(n.state>ore)throw new Error("too late; already scheduled");return n}function Nc(t,e){var n=Hl(t,e);if(n.state>HA)throw new Error("too late; already running");return n}function Hl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function MOe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=sre(a,0,n.time);function a(c){n.state=wG,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,d,h;if(n.state!==wG)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===HA)return _G(s);h.state===SG?(h.state=GA,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=GA,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(_G(function(){n.state===HA&&(n.state=SG,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=OD,n.on.call("start",t,t.__data__,n.index,n.group),n.state===OD){for(n.state=HA,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=kD,1),f=-1,d=i.length;++f<d;)i[f].call(t,u);n.state===kD&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=GA,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function WA(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>OD&&r.state<kD,r.state=GA,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function TOe(t){return this.each(function(){WA(this,t)})}function COe(t,e){var n,r;return function(){var i=Nc(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function POe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Nc(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function IOe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Hl(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?COe:POe)(n,t,e))}function OU(t,e,n){var r=t._id;return t.each(function(){var i=Nc(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Hl(i,r).value[e]}}function lre(t,e){var n;return(typeof e=="number"?El:e instanceof $p?JM:(n=$p(e))?(e=n,JM):tre)(t,e)}function OOe(t){return function(){this.removeAttribute(t)}}function kOe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function NOe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function ROe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function DOe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function LOe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function UOe(t,e){var n=FP(t),r=n==="transform"?pOe:lre;return this.attrTween(t,typeof e=="function"?(n.local?LOe:DOe)(n,r,OU(this,"attr."+t,e)):e==null?(n.local?kOe:OOe)(n):(n.local?ROe:NOe)(n,r,e))}function zOe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function FOe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function jOe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&FOe(t,a)),n}return i._value=e,i}function BOe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&zOe(t,a)),n}return i._value=e,i}function VOe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=FP(t);return this.tween(n,(r.local?jOe:BOe)(r,e))}function HOe(t,e){return function(){IU(this,t).delay=+e.apply(this,arguments)}}function GOe(t,e){return e=+e,function(){IU(this,t).delay=e}}function WOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?HOe:GOe)(e,t)):Hl(this.node(),e).delay}function $Oe(t,e){return function(){Nc(this,t).duration=+e.apply(this,arguments)}}function qOe(t,e){return e=+e,function(){Nc(this,t).duration=e}}function XOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$Oe:qOe)(e,t)):Hl(this.node(),e).duration}function KOe(t,e){if(typeof e!="function")throw new Error;return function(){Nc(this,t).ease=e}}function YOe(t){var e=this._id;return arguments.length?this.each(KOe(e,t)):Hl(this.node(),e).ease}function ZOe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Nc(this,t).ease=n}}function JOe(t){if(typeof t!="function")throw new Error;return this.each(ZOe(this._id,t))}function QOe(t){typeof t!="function"&&(t=jne(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new $u(r,this._parents,this._name,this._id)}function eke(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,f=s[o]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;o<r;++o)s[o]=e[o];return new $u(s,this._parents,this._name,this._id)}function tke(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function nke(t,e,n){var r,i,a=tke(e)?IU:Nc;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function rke(t,e){var n=this._id;return arguments.length<2?Hl(this.node(),n).on.on(t):this.each(nke(n,t,e))}function ike(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ake(){return this.on("end.remove",ike(this._id))}function ske(t){var e=this._name,n=this._id;typeof t!="function"&&(t=EU(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,f,d=0;d<l;++d)(u=o[d])&&(f=t.call(u,u.__data__,d,o))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,BP(c[d],e,n,d,c,Hl(u,n)));return new $u(a,this._parents,e,n)}function oke(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fne(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=t.call(u,u.__data__,f,l),h,g=Hl(u,n),y=0,x=d.length;y<x;++y)(h=d[y])&&BP(h,e,n,y,d,g);a.push(d),s.push(u)}return new $u(a,s,e,n)}var lke=j_.prototype.constructor;function cke(){return new lke(this._groups,this._parents)}function uke(t,e){var n,r,i;return function(){var a=d0(this,t),s=(this.style.removeProperty(t),d0(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function cre(t){return function(){this.style.removeProperty(t)}}function fke(t,e,n){var r,i=n+"",a;return function(){var s=d0(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function dke(t,e,n){var r,i,a;return function(){var s=d0(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),d0(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function hke(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=Nc(this,t),c=l.on,u=l.value[a]==null?o||(o=cre(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function pke(t,e,n){var r=(t+="")=="transform"?hOe:lre;return e==null?this.styleTween(t,uke(t,r)).on("end.style."+t,cre(t)):typeof e=="function"?this.styleTween(t,dke(t,r,OU(this,"style."+t,e))).each(hke(this._id,t)):this.styleTween(t,fke(t,r,e),n).on("end.style."+t,null)}function mke(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function gke(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&mke(t,s,n)),r}return a._value=e,a}function vke(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,gke(t,e,n??""))}function yke(t){return function(){this.textContent=t}}function xke(t){return function(){var e=t(this);this.textContent=e??""}}function bke(t){return this.tween("text",typeof t=="function"?xke(OU(this,"text",t)):yke(t==null?"":t+""))}function _ke(t){return function(e){this.textContent=t.call(this,e)}}function wke(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&_ke(i)),e}return r._value=t,r}function Ske(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,wke(t))}function Eke(){for(var t=this._name,e=this._id,n=ure(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=Hl(l,e);BP(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new $u(r,this._parents,t,n)}function Ake(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=Nc(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var Mke=0;function $u(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ure(){return++Mke}var ru=j_.prototype;$u.prototype={constructor:$u,select:ske,selectAll:oke,selectChild:ru.selectChild,selectChildren:ru.selectChildren,filter:QOe,merge:eke,selection:cke,transition:Eke,call:ru.call,nodes:ru.nodes,node:ru.node,size:ru.size,empty:ru.empty,each:ru.each,on:rke,attr:UOe,attrTween:VOe,style:pke,styleTween:vke,text:bke,textTween:Ske,remove:ake,tween:IOe,delay:WOe,duration:XOe,ease:YOe,easeVarying:JOe,end:Ake,[Symbol.iterator]:ru[Symbol.iterator]};function Tke(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Cke={time:null,delay:0,duration:250,ease:Tke};function Pke(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ike(t){var e,n;t instanceof $u?(e=t._id,t=t._name):(e=ure(),(n=Cke).time=PU(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&BP(l,t,e,c,s,n||Pke(l,e));return new $u(r,this._parents,t,e)}j_.prototype.interrupt=TOe;j_.prototype.transition=Ike;const JS=t=>()=>t;function Oke(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Mu(t,e,n){this.k=t,this.x=e,this.y=n}Mu.prototype={constructor:Mu,scale:function(t){return t===1?this:new Mu(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Mu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rd=new Mu(1,0,0);Mu.prototype;function oN(t){t.stopImmediatePropagation()}function hx(t){t.preventDefault(),t.stopImmediatePropagation()}function kke(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Nke(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function EG(){return this.__zoom||Rd}function Rke(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Dke(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lke(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function Uke(){var t=kke,e=Nke,n=Lke,r=Rke,i=Dke,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=yOe,c=zP("start","zoom","end"),u,f,d,h=500,g=150,y=0,x=10;function v(D){D.property("__zoom",EG).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(D,V,F,H){var q=D.selection?D.selection():D;q.property("__zoom",EG),D!==q?T(D,V,F,H):q.interrupt().each(function(){M(this,arguments).event(H).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},v.scaleBy=function(D,V,F,H){v.scaleTo(D,function(){var q=this.__zoom.k,W=typeof V=="function"?V.apply(this,arguments):V;return q*W},F,H)},v.scaleTo=function(D,V,F,H){v.transform(D,function(){var q=e.apply(this,arguments),W=this.__zoom,z=F==null?A(q):typeof F=="function"?F.apply(this,arguments):F,$=W.invert(z),Z=typeof V=="function"?V.apply(this,arguments):V;return n(_(b(W,Z),z,$),q,s)},F,H)},v.translateBy=function(D,V,F,H){v.transform(D,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof F=="function"?F.apply(this,arguments):F),e.apply(this,arguments),s)},null,H)},v.translateTo=function(D,V,F,H,q){v.transform(D,function(){var W=e.apply(this,arguments),z=this.__zoom,$=H==null?A(W):typeof H=="function"?H.apply(this,arguments):H;return n(Rd.translate($[0],$[1]).scale(z.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof F=="function"?-F.apply(this,arguments):-F),W,s)},H,q)};function b(D,V){return V=Math.max(a[0],Math.min(a[1],V)),V===D.k?D:new Mu(V,D.x,D.y)}function _(D,V,F){var H=V[0]-F[0]*D.k,q=V[1]-F[1]*D.k;return H===D.x&&q===D.y?D:new Mu(D.k,H,q)}function A(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function T(D,V,F,H){D.on("start.zoom",function(){M(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(H).end()}).tween("zoom",function(){var q=this,W=arguments,z=M(q,W).event(H),$=e.apply(q,W),Z=F==null?A($):typeof F=="function"?F.apply(q,W):F,G=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),ie=q.__zoom,ue=typeof V=="function"?V.apply(q,W):V,te=l(ie.invert(Z).concat(G/ie.k),ue.invert(Z).concat(G/ue.k));return function(ae){if(ae===1)ae=ue;else{var he=te(ae),le=G/he[2];ae=new Mu(le,Z[0]-he[0]*le,Z[1]-he[1]*le)}z.zoom(null,ae)}})}function M(D,V,F){return!F&&D.__zooming||new I(D,V)}function I(D,V){this.that=D,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,V),this.taps=0}I.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,V){return this.mouse&&D!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var V=Tl(this.that).datum();c.call(D,this.that,new Oke(D,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:c}),V)}};function O(D,...V){if(!t.apply(this,arguments))return;var F=M(this,V).event(D),H=this.__zoom,q=Math.max(a[0],Math.min(a[1],H.k*Math.pow(2,r.apply(this,arguments)))),W=ac(D);if(F.wheel)(F.mouse[0][0]!==W[0]||F.mouse[0][1]!==W[1])&&(F.mouse[1]=H.invert(F.mouse[0]=W)),clearTimeout(F.wheel);else{if(H.k===q)return;F.mouse=[W,H.invert(W)],WA(this),F.start()}hx(D),F.wheel=setTimeout(z,g),F.zoom("mouse",n(_(b(H,q),F.mouse[0],F.mouse[1]),F.extent,s));function z(){F.wheel=null,F.end()}}function P(D,...V){if(d||!t.apply(this,arguments))return;var F=D.currentTarget,H=M(this,V,!0).event(D),q=Tl(D.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",G,!0),W=ac(D,F),z=D.clientX,$=D.clientY;Yne(D.view),oN(D),H.mouse=[W,this.__zoom.invert(W)],WA(this),H.start();function Z(ie){if(hx(ie),!H.moved){var ue=ie.clientX-z,te=ie.clientY-$;H.moved=ue*ue+te*te>y}H.event(ie).zoom("mouse",n(_(H.that.__zoom,H.mouse[0]=ac(ie,F),H.mouse[1]),H.extent,s))}function G(ie){q.on("mousemove.zoom mouseup.zoom",null),Zne(ie.view,H.moved),hx(ie),H.event(ie).end()}}function k(D,...V){if(t.apply(this,arguments)){var F=this.__zoom,H=ac(D.changedTouches?D.changedTouches[0]:D,this),q=F.invert(H),W=F.k*(D.shiftKey?.5:2),z=n(_(b(F,W),H,q),e.apply(this,V),s);hx(D),o>0?Tl(this).transition().duration(o).call(T,z,H,D):Tl(this).call(v.transform,z,H,D)}}function N(D,...V){if(t.apply(this,arguments)){var F=D.touches,H=F.length,q=M(this,V,D.changedTouches.length===H).event(D),W,z,$,Z;for(oN(D),z=0;z<H;++z)$=F[z],Z=ac($,this),Z=[Z,this.__zoom.invert(Z),$.identifier],q.touch0?!q.touch1&&q.touch0[2]!==Z[2]&&(q.touch1=Z,q.taps=0):(q.touch0=Z,W=!0,q.taps=1+!!u);u&&(u=clearTimeout(u)),W&&(q.taps<2&&(f=Z[0],u=setTimeout(function(){u=null},h)),WA(this),q.start())}}function L(D,...V){if(this.__zooming){var F=M(this,V).event(D),H=D.changedTouches,q=H.length,W,z,$,Z;for(hx(D),W=0;W<q;++W)z=H[W],$=ac(z,this),F.touch0&&F.touch0[2]===z.identifier?F.touch0[0]=$:F.touch1&&F.touch1[2]===z.identifier&&(F.touch1[0]=$);if(z=F.that.__zoom,F.touch1){var G=F.touch0[0],ie=F.touch0[1],ue=F.touch1[0],te=F.touch1[1],ae=(ae=ue[0]-G[0])*ae+(ae=ue[1]-G[1])*ae,he=(he=te[0]-ie[0])*he+(he=te[1]-ie[1])*he;z=b(z,Math.sqrt(ae/he)),$=[(G[0]+ue[0])/2,(G[1]+ue[1])/2],Z=[(ie[0]+te[0])/2,(ie[1]+te[1])/2]}else if(F.touch0)$=F.touch0[0],Z=F.touch0[1];else return;F.zoom("touch",n(_(z,$,Z),F.extent,s))}}function B(D,...V){if(this.__zooming){var F=M(this,V).event(D),H=D.changedTouches,q=H.length,W,z;for(oN(D),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),W=0;W<q;++W)z=H[W],F.touch0&&F.touch0[2]===z.identifier?delete F.touch0:F.touch1&&F.touch1[2]===z.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(z=ac(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<x)){var $=Tl(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return v.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:JS(+D),v):r},v.filter=function(D){return arguments.length?(t=typeof D=="function"?D:JS(!!D),v):t},v.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:JS(!!D),v):i},v.extent=function(D){return arguments.length?(e=typeof D=="function"?D:JS([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),v):e},v.scaleExtent=function(D){return arguments.length?(a[0]=+D[0],a[1]=+D[1],v):[a[0],a[1]]},v.translateExtent=function(D){return arguments.length?(s[0][0]=+D[0][0],s[1][0]=+D[1][0],s[0][1]=+D[0][1],s[1][1]=+D[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(D){return arguments.length?(n=D,v):n},v.duration=function(D){return arguments.length?(o=+D,v):o},v.interpolate=function(D){return arguments.length?(l=D,v):l},v.on=function(){var D=c.on.apply(c,arguments);return D===c?v:D},v.clickDistance=function(D){return arguments.length?(y=(D=+D)*D,v):Math.sqrt(y)},v.tapDistance=function(D){return arguments.length?(x=+D,v):x},v}const VP=E.createContext(null),zke=VP.Provider,qu={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},fre=qu.error001();function Wr(t,e){const n=E.useContext(VP);if(n===null)throw new Error(fre);return Une(n,t,e)}const ua=()=>{const t=E.useContext(VP);if(t===null)throw new Error(fre);return E.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},Fke=t=>t.userSelectionActive?"none":"all";function dre({position:t,children:e,className:n,style:r,...i}){const a=Wr(Fke),s=`${t}`.split("-");return He.createElement("div",{className:os(["react-flow__panel",n,...s]),style:{...r,pointerEvents:a},...i},e)}function jke({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:He.createElement(dre,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},He.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Bke=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:s=[2,4],labelBgBorderRadius:o=2,children:l,className:c,...u})=>{const f=E.useRef(null),[d,h]=E.useState({x:0,y:0,width:0,height:0}),g=os(["react-flow__edge-textwrapper",c]);return E.useEffect(()=>{if(f.current){const y=f.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:He.createElement("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:g,visibility:d.width?"visible":"hidden",...u},i&&He.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:a,rx:o,ry:o}),He.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),l)};var Vke=E.memo(Bke);const kU=t=>({width:t.offsetWidth,height:t.offsetHeight}),p0=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),NU=(t={x:0,y:0},e)=>({x:p0(t.x,e[0][0],e[1][0]),y:p0(t.y,e[0][1],e[1][1])}),AG=(t,e,n)=>t<e?p0(Math.abs(t-e),1,50)/50:t>n?-p0(Math.abs(t-n),1,50)/50:0,hre=(t,e)=>{const n=AG(t.x,35,e.width-35)*20,r=AG(t.y,35,e.height-35)*20;return[n,r]},pre=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Hke=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),RU=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Gke=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),MG=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),ND=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},Wke=t=>Vo(t.width)&&Vo(t.height)&&Vo(t.x)&&Vo(t.y),Vo=t=>!isNaN(t)&&isFinite(t),ni=Symbol.for("internals"),mre=["Enter"," ","Escape"],$ke=(t,e)=>{},qke=t=>"nativeEvent"in t;function RD(t){var i,a;const e=qke(t)?t.nativeEvent:t,n=((a=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:a[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const gre=t=>"clientX"in t,Dd=(t,e)=>{var a,s;const n=gre(t),r=n?t.clientX:(a=t.touches)==null?void 0:a[0].clientX,i=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},nT=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},V_=({id:t,path:e,labelX:n,labelY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h=20})=>He.createElement(He.Fragment,null,He.createElement("path",{id:t,style:u,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&He.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Vo(n)&&Vo(r)?He.createElement(Vke,{x:n,y:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null);V_.displayName="BaseEdge";function px(t,e,n){return n===void 0?n:r=>{const i=e().edges.find(a=>a.id===t);i&&n(r,{...i})}}function vre({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,a=n<t?n+i:n-i,s=Math.abs(r-e)/2,o=r<e?r+s:r-s;return[a,o,i,s]}function yre({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:o}){const l=t*.125+i*.375+s*.375+n*.125,c=e*.125+a*.375+o*.375+r*.125,u=Math.abs(l-t),f=Math.abs(c-e);return[l,c,u,f]}var Xp;(function(t){t.Strict="strict",t.Loose="loose"})(Xp||(Xp={}));var up;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(up||(up={}));var I1;(function(t){t.Partial="partial",t.Full="full"})(I1||(I1={}));var fd;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(fd||(fd={}));var rT;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(rT||(rT={}));var jt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(jt||(jt={}));function TG({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===jt.Left||t===jt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function xre({sourceX:t,sourceY:e,sourcePosition:n=jt.Bottom,targetX:r,targetY:i,targetPosition:a=jt.Top}){const[s,o]=TG({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=TG({pos:a,x1:r,y1:i,x2:t,y2:e}),[u,f,d,h]=yre({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:o,targetControlX:l,targetControlY:c});return[`M${t},${e} C${s},${o} ${l},${c} ${r},${i}`,u,f,d,h]}const DU=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=jt.Bottom,targetPosition:a=jt.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,interactionWidth:y})=>{const[x,v,b]=xre({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:a});return He.createElement(V_,{path:x,labelX:v,labelY:b,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,interactionWidth:y})});DU.displayName="SimpleBezierEdge";const CG={[jt.Left]:{x:-1,y:0},[jt.Right]:{x:1,y:0},[jt.Top]:{x:0,y:-1},[jt.Bottom]:{x:0,y:1}},Xke=({source:t,sourcePosition:e=jt.Bottom,target:n})=>e===jt.Left||e===jt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},PG=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Kke({source:t,sourcePosition:e=jt.Bottom,target:n,targetPosition:r=jt.Top,center:i,offset:a}){const s=CG[e],o=CG[r],l={x:t.x+s.x*a,y:t.y+s.y*a},c={x:n.x+o.x*a,y:n.y+o.y*a},u=Xke({source:l,sourcePosition:e,target:c}),f=u.x!==0?"x":"y",d=u[f];let h=[],g,y;const x={x:0,y:0},v={x:0,y:0},[b,_,A,T]=vre({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[f]*o[f]===-1){g=i.x??b,y=i.y??_;const I=[{x:g,y:l.y},{x:g,y:c.y}],O=[{x:l.x,y},{x:c.x,y}];s[f]===d?h=f==="x"?I:O:h=f==="x"?O:I}else{const I=[{x:l.x,y:c.y}],O=[{x:c.x,y:l.y}];if(f==="x"?h=s.x===d?O:I:h=s.y===d?I:O,e===r){const B=Math.abs(t[f]-n[f]);if(B<=a){const D=Math.min(a-1,a-B);s[f]===d?x[f]=(l[f]>t[f]?-1:1)*D:v[f]=(c[f]>n[f]?-1:1)*D}}if(e!==r){const B=f==="x"?"y":"x",D=s[f]===o[B],V=l[B]>c[B],F=l[B]<c[B];(s[f]===1&&(!D&&V||D&&F)||s[f]!==1&&(!D&&F||D&&V))&&(h=f==="x"?I:O)}const P={x:l.x+x.x,y:l.y+x.y},k={x:c.x+v.x,y:c.y+v.y},N=Math.max(Math.abs(P.x-h[0].x),Math.abs(k.x-h[0].x)),L=Math.max(Math.abs(P.y-h[0].y),Math.abs(k.y-h[0].y));N>=L?(g=(P.x+k.x)/2,y=h[0].y):(g=h[0].x,y=(P.y+k.y)/2)}return[[t,{x:l.x+x.x,y:l.y+x.y},...h,{x:c.x+v.x,y:c.y+v.y},n],g,y,A,T]}function Yke(t,e,n,r){const i=Math.min(PG(t,e)/2,PG(e,n)/2,r),{x:a,y:s}=e;if(t.x===a&&a===n.x||t.y===s&&s===n.y)return`L${a} ${s}`;if(t.y===s){const c=t.x<n.x?-1:1,u=t.y<n.y?1:-1;return`L ${a+i*c},${s}Q ${a},${s} ${a},${s+i*u}`}const o=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${a},${s+i*l}Q ${a},${s} ${a+i*o},${s}`}function DD({sourceX:t,sourceY:e,sourcePosition:n=jt.Bottom,targetX:r,targetY:i,targetPosition:a=jt.Top,borderRadius:s=5,centerX:o,centerY:l,offset:c=20}){const[u,f,d,h,g]=Kke({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:a,center:{x:o,y:l},offset:c});return[u.reduce((x,v,b)=>{let _="";return b>0&&b<u.length-1?_=Yke(u[b-1],v,u[b+1],s):_=`${b===0?"M":"L"}${v.x} ${v.y}`,x+=_,x},""),f,d,h,g]}const HP=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:f=jt.Bottom,targetPosition:d=jt.Top,markerEnd:h,markerStart:g,pathOptions:y,interactionWidth:x})=>{const[v,b,_]=DD({sourceX:t,sourceY:e,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return He.createElement(V_,{path:v,labelX:b,labelY:_,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:g,interactionWidth:x})});HP.displayName="SmoothStepEdge";const LU=E.memo(t=>{var e;return He.createElement(HP,{...t,pathOptions:E.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});LU.displayName="StepEdge";function Zke({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,a,s,o]=vre({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,a,s,o]}const UU=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[g,y,x]=Zke({sourceX:t,sourceY:e,targetX:n,targetY:r});return He.createElement(V_,{path:g,labelX:y,labelY:x,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h})});UU.displayName="StraightEdge";function QS(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function IG({pos:t,x1:e,y1:n,x2:r,y2:i,c:a}){switch(t){case jt.Left:return[e-QS(e-r,a),n];case jt.Right:return[e+QS(r-e,a),n];case jt.Top:return[e,n-QS(n-i,a)];case jt.Bottom:return[e,n+QS(i-n,a)]}}function bre({sourceX:t,sourceY:e,sourcePosition:n=jt.Bottom,targetX:r,targetY:i,targetPosition:a=jt.Top,curvature:s=.25}){const[o,l]=IG({pos:n,x1:t,y1:e,x2:r,y2:i,c:s}),[c,u]=IG({pos:a,x1:r,y1:i,x2:t,y2:e,c:s}),[f,d,h,g]=yre({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${o},${l} ${c},${u} ${r},${i}`,f,d,h,g]}const iT=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=jt.Bottom,targetPosition:a=jt.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,pathOptions:y,interactionWidth:x})=>{const[v,b,_]=bre({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:a,curvature:y==null?void 0:y.curvature});return He.createElement(V_,{path:v,labelX:b,labelY:_,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,interactionWidth:x})});iT.displayName="BezierEdge";const zU=E.createContext(null),Jke=zU.Provider;zU.Consumer;const Qke=()=>E.useContext(zU),eNe=t=>"id"in t&&"source"in t&&"target"in t,tNe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,LD=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,nNe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),_re=(t,e)=>{if(!t.source||!t.target)return e;let n;return eNe(t)?n={...t}:n={...t,id:tNe(t)},nNe(n,e)?e:e.concat(n)},UD=({x:t,y:e},[n,r,i],a,[s,o])=>{const l={x:(t-n)/i,y:(e-r)/i};return a?{x:s*Math.round(l.x/s),y:o*Math.round(l.y/o)}:l},wre=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),Vv=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],i={x:t.position.x-n,y:t.position.y-r};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:i}},FU=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const{x:a,y:s}=Vv(i,e).positionAbsolute;return Hke(r,RU({x:a,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Gke(n)},Sre=(t,e,[n,r,i]=[0,0,1],a=!1,s=!1,o=[0,0])=>{const l={x:(e.x-n)/i,y:(e.y-r)/i,width:e.width/i,height:e.height/i},c=[];return t.forEach(u=>{const{width:f,height:d,selectable:h=!0,hidden:g=!1}=u;if(s&&!h||g)return!1;const{positionAbsolute:y}=Vv(u,o),x={x:y.x,y:y.y,width:f||0,height:d||0},v=ND(l,x),b=typeof f>"u"||typeof d>"u"||f===null||d===null,_=a&&v>0,A=(f||0)*(d||0);(b||_||v>=A||u.dragging)&&c.push(u)}),c},Ere=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},Are=(t,e,n,r,i,a=.1)=>{const s=e/(t.width*(1+a)),o=n/(t.height*(1+a)),l=Math.min(s,o),c=p0(l,r,i),u=t.x+t.width/2,f=t.y+t.height/2,d=e/2-u*c,h=n/2-f*c;return{x:d,y:h,zoom:c}},ep=(t,e=0)=>t.transition().duration(e);function OG(t,e,n,r){return(e[n]||[]).reduce((i,a)=>{var s,o;return`${t.id}-${a.id}-${n}`!==r&&i.push({id:a.id||null,type:n,nodeId:t.id,x:(((s=t.positionAbsolute)==null?void 0:s.x)??0)+a.x+a.width/2,y:(((o=t.positionAbsolute)==null?void 0:o.y)??0)+a.y+a.height/2}),i},[])}function rNe(t,e,n,r,i,a){const{x:s,y:o}=Dd(t),c=e.elementsFromPoint(s,o).find(g=>g.classList.contains("react-flow__handle"));if(c){const g=c.getAttribute("data-nodeid");if(g){const y=jU(void 0,c),x=c.getAttribute("data-handleid"),v=a({nodeId:g,id:x,type:y});if(v){const b=i.find(_=>_.nodeId===g&&_.type===y&&_.id===x);return{handle:{id:x,type:y,nodeId:g,x:(b==null?void 0:b.x)||n.x,y:(b==null?void 0:b.y)||n.y},validHandleResult:v}}}}let u=[],f=1/0;if(i.forEach(g=>{const y=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(y<=r){const x=a(g);y<=f&&(y<f?u=[{handle:g,validHandleResult:x}]:y===f&&u.push({handle:g,validHandleResult:x}),f=y)}}),!u.length)return{handle:null,validHandleResult:Mre()};if(u.length===1)return u[0];const d=u.some(({validHandleResult:g})=>g.isValid),h=u.some(({handle:g})=>g.type==="target");return u.find(({handle:g,validHandleResult:y})=>h?g.type==="target":d?y.isValid:!0)||u[0]}const iNe={source:null,target:null,sourceHandle:null,targetHandle:null},Mre=()=>({handleDomNode:null,isValid:!1,connection:iNe,endHandle:null});function Tre(t,e,n,r,i,a,s){const o=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),c={...Mre(),handleDomNode:l};if(l){const u=jU(void 0,l),f=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),g=l.classList.contains("connectableend"),y={source:o?f:n,sourceHandle:o?d:r,target:o?n:f,targetHandle:o?r:d};c.connection=y,h&&g&&(e===Xp.Strict?o&&u==="source"||!o&&u==="target":f!==n||d!==r)&&(c.endHandle={nodeId:f,handleId:d,type:u},c.isValid=a(y))}return c}function aNe({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((i,a)=>{if(a[ni]){const{handleBounds:s}=a[ni];let o=[],l=[];s&&(o=OG(a,s,"source",`${e}-${n}-${r}`),l=OG(a,s,"target",`${e}-${n}-${r}`)),i.push(...o,...l)}return i},[])}function jU(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function lN(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function sNe(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function Cre({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:i,getState:a,setState:s,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:c}){const u=pre(t.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:g,onConnectStart:y,panBy:x,getNodes:v,cancelConnection:b}=a();let _=0,A;const{x:T,y:M}=Dd(t),I=u==null?void 0:u.elementFromPoint(T,M),O=jU(l,I),P=d==null?void 0:d.getBoundingClientRect();if(!P||!O)return;let k,N=Dd(t,P),L=!1,B=null,D=!1,V=null;const F=aNe({nodes:v(),nodeId:n,handleId:e,handleType:O}),H=()=>{if(!h)return;const[z,$]=hre(N,P);x({x:z,y:$}),_=requestAnimationFrame(H)};s({connectionPosition:N,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:O,connectionStartHandle:{nodeId:n,handleId:e,type:O},connectionEndHandle:null}),y==null||y(t,{nodeId:n,handleId:e,handleType:O});function q(z){const{transform:$}=a();N=Dd(z,P);const{handle:Z,validHandleResult:G}=rNe(z,u,UD(N,$,!1,[1,1]),g,F,ie=>Tre(ie,f,n,e,i?"target":"source",o,u));if(A=Z,L||(H(),L=!0),V=G.handleDomNode,B=G.connection,D=G.isValid,s({connectionPosition:A&&D?wre({x:A.x,y:A.y},$):N,connectionStatus:sNe(!!A,D),connectionEndHandle:G.endHandle}),!A&&!D&&!V)return lN(k);B.source!==B.target&&V&&(lN(k),k=V,V.classList.add("connecting","react-flow__handle-connecting"),V.classList.toggle("valid",D),V.classList.toggle("react-flow__handle-valid",D))}function W(z){var $,Z;(A||V)&&B&&D&&(r==null||r(B)),(Z=($=a()).onConnectEnd)==null||Z.call($,z),l&&(c==null||c(z)),lN(k),b(),cancelAnimationFrame(_),L=!1,D=!1,B=null,V=null,u.removeEventListener("mousemove",q),u.removeEventListener("mouseup",W),u.removeEventListener("touchmove",q),u.removeEventListener("touchend",W)}u.addEventListener("mousemove",q),u.addEventListener("mouseup",W),u.addEventListener("touchmove",q),u.addEventListener("touchend",W)}const kG=()=>!0,oNe=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),lNe=(t,e,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n||(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n}},Pre=E.forwardRef(({type:t="source",position:e=jt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:s,onConnect:o,children:l,className:c,onMouseDown:u,onTouchStart:f,...d},h)=>{var P,k;const g=s||null,y=t==="target",x=ua(),v=Qke(),{connectOnClick:b,noPanClassName:_}=Wr(oNe,Ba),{connecting:A,clickConnecting:T}=Wr(lNe(v,g,t),Ba);v||(k=(P=x.getState()).onError)==null||k.call(P,"010",qu.error010());const M=N=>{const{defaultEdgeOptions:L,onConnect:B,hasDefaultEdges:D}=x.getState(),V={...L,...N};if(D){const{edges:F,setEdges:H}=x.getState();H(_re(V,F))}B==null||B(V),o==null||o(V)},I=N=>{if(!v)return;const L=gre(N);i&&(L&&N.button===0||!L)&&Cre({event:N,handleId:g,nodeId:v,onConnect:M,isTarget:y,getState:x.getState,setState:x.setState,isValidConnection:n||x.getState().isValidConnection||kG}),L?u==null||u(N):f==null||f(N)},O=N=>{const{onClickConnectStart:L,onClickConnectEnd:B,connectionClickStartHandle:D,connectionMode:V,isValidConnection:F}=x.getState();if(!v||!D&&!i)return;if(!D){L==null||L(N,{nodeId:v,handleId:g,handleType:t}),x.setState({connectionClickStartHandle:{nodeId:v,type:t,handleId:g}});return}const H=pre(N.target),q=n||F||kG,{connection:W,isValid:z}=Tre({nodeId:v,id:g,type:t},V,D.nodeId,D.handleId||null,D.type,q,H);z&&M(W),B==null||B(N),x.setState({connectionClickStartHandle:null})};return He.createElement("div",{"data-handleid":g,"data-nodeid":v,"data-handlepos":e,"data-id":`${v}-${g}-${t}`,className:os(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,c,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:a,connecting:T,connectionindicator:r&&(i&&!A||a&&A)}]),onMouseDown:I,onTouchStart:I,onClick:b?O:void 0,ref:h,...d},l)});Pre.displayName="Handle";var m0=E.memo(Pre);const Ire=({data:t,isConnectable:e,targetPosition:n=jt.Top,sourcePosition:r=jt.Bottom})=>He.createElement(He.Fragment,null,He.createElement(m0,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,He.createElement(m0,{type:"source",position:r,isConnectable:e}));Ire.displayName="DefaultNode";var zD=E.memo(Ire);const Ore=({data:t,isConnectable:e,sourcePosition:n=jt.Bottom})=>He.createElement(He.Fragment,null,t==null?void 0:t.label,He.createElement(m0,{type:"source",position:n,isConnectable:e}));Ore.displayName="InputNode";var kre=E.memo(Ore);const Nre=({data:t,isConnectable:e,targetPosition:n=jt.Top})=>He.createElement(He.Fragment,null,He.createElement(m0,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);Nre.displayName="OutputNode";var Rre=E.memo(Nre);const BU=()=>null;BU.displayName="GroupNode";const cNe=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),eE=t=>t.id;function uNe(t,e){return Ba(t.selectedNodes.map(eE),e.selectedNodes.map(eE))&&Ba(t.selectedEdges.map(eE),e.selectedEdges.map(eE))}const Dre=E.memo(({onSelectionChange:t})=>{const e=ua(),{selectedNodes:n,selectedEdges:r}=Wr(cNe,uNe);return E.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChange.forEach(a=>a(i))},[n,r,t]),null});Dre.displayName="SelectionListener";const fNe=t=>!!t.onSelectionChange;function dNe({onSelectionChange:t}){const e=Wr(fNe);return t||e?He.createElement(Dre,{onSelectionChange:t}):null}const hNe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function pg(t,e){E.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function gn(t,e,n){E.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const pNe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:a,onConnectEnd:s,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:g,minZoom:y,maxZoom:x,nodeExtent:v,onNodesChange:b,onEdgesChange:_,elementsSelectable:A,connectionMode:T,snapGrid:M,snapToGrid:I,translateExtent:O,connectOnClick:P,defaultEdgeOptions:k,fitView:N,fitViewOptions:L,onNodesDelete:B,onEdgesDelete:D,onNodeDrag:V,onNodeDragStart:F,onNodeDragStop:H,onSelectionDrag:q,onSelectionDragStart:W,onSelectionDragStop:z,noPanClassName:$,nodeOrigin:Z,rfId:G,autoPanOnConnect:ie,autoPanOnNodeDrag:ue,onError:te,connectionRadius:ae,isValidConnection:he,nodeDragThreshold:le})=>{const{setNodes:be,setEdges:Ie,setDefaultNodesAndEdges:fe,setMinZoom:Ye,setMaxZoom:we,setTranslateExtent:Te,setNodeExtent:Ee,reset:ke}=Wr(hNe,Ba),Y=ua();return E.useEffect(()=>{const xe=r==null?void 0:r.map(ye=>({...ye,...k}));return fe(n,xe),()=>{ke()}},[]),gn("defaultEdgeOptions",k,Y.setState),gn("connectionMode",T,Y.setState),gn("onConnect",i,Y.setState),gn("onConnectStart",a,Y.setState),gn("onConnectEnd",s,Y.setState),gn("onClickConnectStart",o,Y.setState),gn("onClickConnectEnd",l,Y.setState),gn("nodesDraggable",c,Y.setState),gn("nodesConnectable",u,Y.setState),gn("nodesFocusable",f,Y.setState),gn("edgesFocusable",d,Y.setState),gn("edgesUpdatable",h,Y.setState),gn("elementsSelectable",A,Y.setState),gn("elevateNodesOnSelect",g,Y.setState),gn("snapToGrid",I,Y.setState),gn("snapGrid",M,Y.setState),gn("onNodesChange",b,Y.setState),gn("onEdgesChange",_,Y.setState),gn("connectOnClick",P,Y.setState),gn("fitViewOnInit",N,Y.setState),gn("fitViewOnInitOptions",L,Y.setState),gn("onNodesDelete",B,Y.setState),gn("onEdgesDelete",D,Y.setState),gn("onNodeDrag",V,Y.setState),gn("onNodeDragStart",F,Y.setState),gn("onNodeDragStop",H,Y.setState),gn("onSelectionDrag",q,Y.setState),gn("onSelectionDragStart",W,Y.setState),gn("onSelectionDragStop",z,Y.setState),gn("noPanClassName",$,Y.setState),gn("nodeOrigin",Z,Y.setState),gn("rfId",G,Y.setState),gn("autoPanOnConnect",ie,Y.setState),gn("autoPanOnNodeDrag",ue,Y.setState),gn("onError",te,Y.setState),gn("connectionRadius",ae,Y.setState),gn("isValidConnection",he,Y.setState),gn("nodeDragThreshold",le,Y.setState),pg(t,be),pg(e,Ie),pg(y,Ye),pg(x,we),pg(O,Te),pg(v,Ee),null},NG={display:"none"},mNe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Lre="react-flow__node-desc",Ure="react-flow__edge-desc",gNe="react-flow__aria-live",vNe=t=>t.ariaLiveMessage;function yNe({rfId:t}){const e=Wr(vNe);return He.createElement("div",{id:`${gNe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:mNe},e)}function xNe({rfId:t,disableKeyboardA11y:e}){return He.createElement(He.Fragment,null,He.createElement("div",{id:`${Lre}-${t}`,style:NG},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),He.createElement("div",{id:`${Ure}-${t}`,style:NG},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&He.createElement(yNe,{rfId:t}))}var O1=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=E.useState(!1),i=E.useRef(!1),a=E.useRef(new Set([])),[s,o]=E.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(f=>typeof f=="string").map(f=>f.split("+")),u=c.reduce((f,d)=>f.concat(...d),[]);return[c,u]}return[[],[]]},[t]);return E.useEffect(()=>{const l=typeof document<"u"?document:null,c=(e==null?void 0:e.target)||l;if(t!==null){const u=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&RD(h))return!1;const y=DG(h.code,o);a.current.add(h[y]),RG(s,a.current,!1)&&(h.preventDefault(),r(!0))},f=h=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&RD(h))return!1;const y=DG(h.code,o);RG(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(h[y]),h.key==="Meta"&&a.current.clear(),i.current=!1},d=()=>{a.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[t,r]),n};function RG(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function DG(t,e){return e.includes(t)?"code":"key"}function zre(t,e,n,r){var o,l;const i=t.parentNode||t.parentId;if(!i)return n;const a=e.get(i),s=Vv(a,r);return zre(a,e,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((o=a[ni])==null?void 0:o.z)??0)>(n.z??0)?((l=a[ni])==null?void 0:l.z)??0:n.z??0},r)}function Fre(t,e,n){t.forEach(r=>{var a;const i=r.parentNode||r.parentId;if(i&&!t.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:o,z:l}=zre(r,t,{...r.position,z:((a=r[ni])==null?void 0:a.z)??0},e);r.positionAbsolute={x:s,y:o},r[ni].z=l,n!=null&&n[r.id]&&(r[ni].isParent=!0)}})}function cN(t,e,n,r){const i=new Map,a={},s=r?1e3:0;return t.forEach(o=>{var h;const l=(Vo(o.zIndex)?o.zIndex:0)+(o.selected?s:0),c=e.get(o.id),u={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},f=o.parentNode||o.parentId;f&&(a[f]=!0);const d=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==o.type;Object.defineProperty(u,ni,{enumerable:!1,value:{handleBounds:d||(h=c==null?void 0:c[ni])==null?void 0:h.handleBounds,z:l}}),i.set(o.id,u)}),Fre(i,n,a),i}function jre(t,e={}){const{getNodes:n,width:r,height:i,minZoom:a,maxZoom:s,d3Zoom:o,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:f}=t(),d=e.initial&&!c&&u;if(o&&l&&(d||!e.initial)){const g=n().filter(x=>{var b;const v=e.includeHiddenNodes?x.width&&x.height:!x.hidden;return(b=e.nodes)!=null&&b.length?v&&e.nodes.some(_=>_.id===x.id):v}),y=g.every(x=>x.width&&x.height);if(g.length>0&&y){const x=FU(g,f),{x:v,y:b,zoom:_}=Are(x,r,i,e.minZoom??a,e.maxZoom??s,e.padding??.1),A=Rd.translate(v,b).scale(_);return typeof e.duration=="number"&&e.duration>0?o.transform(ep(l,e.duration),A):o.transform(l,A),!0}}return!1}function bNe(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[ni]:r[ni],selected:n.selected})}),new Map(e)}function _Ne(t,e){return e.map(n=>{const r=t.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function tE({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:i,edges:a,onNodesChange:s,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:c}=n();t!=null&&t.length&&(l&&r({nodeInternals:bNe(t,i)}),s==null||s(t)),e!=null&&e.length&&(c&&r({edges:_Ne(e,a)}),o==null||o(e))}const mg=()=>{},wNe={zoomIn:mg,zoomOut:mg,zoomTo:mg,getZoom:()=>1,setViewport:mg,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:mg,fitBounds:mg,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},SNe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),ENe=()=>{const t=ua(),{d3Zoom:e,d3Selection:n}=Wr(SNe,Ba);return E.useMemo(()=>n&&e?{zoomIn:i=>e.scaleBy(ep(n,i==null?void 0:i.duration),1.2),zoomOut:i=>e.scaleBy(ep(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,a)=>e.scaleTo(ep(n,a==null?void 0:a.duration),i),getZoom:()=>t.getState().transform[2],setViewport:(i,a)=>{const[s,o,l]=t.getState().transform,c=Rd.translate(i.x??s,i.y??o).scale(i.zoom??l);e.transform(ep(n,a==null?void 0:a.duration),c)},getViewport:()=>{const[i,a,s]=t.getState().transform;return{x:i,y:a,zoom:s}},fitView:i=>jre(t.getState,i),setCenter:(i,a,s)=>{const{width:o,height:l,maxZoom:c}=t.getState(),u=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:c,f=o/2-i*u,d=l/2-a*u,h=Rd.translate(f,d).scale(u);e.transform(ep(n,s==null?void 0:s.duration),h)},fitBounds:(i,a)=>{const{width:s,height:o,minZoom:l,maxZoom:c}=t.getState(),{x:u,y:f,zoom:d}=Are(i,s,o,l,c,(a==null?void 0:a.padding)??.1),h=Rd.translate(u,f).scale(d);e.transform(ep(n,a==null?void 0:a.duration),h)},project:i=>{const{transform:a,snapToGrid:s,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),UD(i,a,s,o)},screenToFlowPosition:i=>{const{transform:a,snapToGrid:s,snapGrid:o,domNode:l}=t.getState();if(!l)return i;const{x:c,y:u}=l.getBoundingClientRect(),f={x:i.x-c,y:i.y-u};return UD(f,a,s,o)},flowToScreenPosition:i=>{const{transform:a,domNode:s}=t.getState();if(!s)return i;const{x:o,y:l}=s.getBoundingClientRect(),c=wre(i,a);return{x:c.x+o,y:c.y+l}},viewportInitialized:!0}:wNe,[e,n])};function VU(){const t=ENe(),e=ua(),n=E.useCallback(()=>e.getState().getNodes().map(y=>({...y})),[]),r=E.useCallback(y=>e.getState().nodeInternals.get(y),[]),i=E.useCallback(()=>{const{edges:y=[]}=e.getState();return y.map(x=>({...x}))},[]),a=E.useCallback(y=>{const{edges:x=[]}=e.getState();return x.find(v=>v.id===y)},[]),s=E.useCallback(y=>{const{getNodes:x,setNodes:v,hasDefaultNodes:b,onNodesChange:_}=e.getState(),A=x(),T=typeof y=="function"?y(A):y;if(b)v(T);else if(_){const M=T.length===0?A.map(I=>({type:"remove",id:I.id})):T.map(I=>({item:I,type:"reset"}));_(M)}},[]),o=E.useCallback(y=>{const{edges:x=[],setEdges:v,hasDefaultEdges:b,onEdgesChange:_}=e.getState(),A=typeof y=="function"?y(x):y;if(b)v(A);else if(_){const T=A.length===0?x.map(M=>({type:"remove",id:M.id})):A.map(M=>({item:M,type:"reset"}));_(T)}},[]),l=E.useCallback(y=>{const x=Array.isArray(y)?y:[y],{getNodes:v,setNodes:b,hasDefaultNodes:_,onNodesChange:A}=e.getState();if(_){const M=[...v(),...x];b(M)}else if(A){const T=x.map(M=>({item:M,type:"add"}));A(T)}},[]),c=E.useCallback(y=>{const x=Array.isArray(y)?y:[y],{edges:v=[],setEdges:b,hasDefaultEdges:_,onEdgesChange:A}=e.getState();if(_)b([...v,...x]);else if(A){const T=x.map(M=>({item:M,type:"add"}));A(T)}},[]),u=E.useCallback(()=>{const{getNodes:y,edges:x=[],transform:v}=e.getState(),[b,_,A]=v;return{nodes:y().map(T=>({...T})),edges:x.map(T=>({...T})),viewport:{x:b,y:_,zoom:A}}},[]),f=E.useCallback(({nodes:y,edges:x})=>{const{nodeInternals:v,getNodes:b,edges:_,hasDefaultNodes:A,hasDefaultEdges:T,onNodesDelete:M,onEdgesDelete:I,onNodesChange:O,onEdgesChange:P}=e.getState(),k=(y||[]).map(V=>V.id),N=(x||[]).map(V=>V.id),L=b().reduce((V,F)=>{const H=F.parentNode||F.parentId,q=!k.includes(F.id)&&H&&V.find(z=>z.id===H);return(typeof F.deletable=="boolean"?F.deletable:!0)&&(k.includes(F.id)||q)&&V.push(F),V},[]),B=_.filter(V=>typeof V.deletable=="boolean"?V.deletable:!0),D=B.filter(V=>N.includes(V.id));if(L||D){const V=Ere(L,B),F=[...D,...V],H=F.reduce((q,W)=>(q.includes(W.id)||q.push(W.id),q),[]);if((T||A)&&(T&&e.setState({edges:_.filter(q=>!H.includes(q.id))}),A&&(L.forEach(q=>{v.delete(q.id)}),e.setState({nodeInternals:new Map(v)}))),H.length>0&&(I==null||I(F),P&&P(H.map(q=>({id:q,type:"remove"})))),L.length>0&&(M==null||M(L),O)){const q=L.map(W=>({id:W.id,type:"remove"}));O(q)}}},[]),d=E.useCallback(y=>{const x=Wke(y),v=x?null:e.getState().nodeInternals.get(y.id);return!x&&!v?[null,null,x]:[x?y:MG(v),v,x]},[]),h=E.useCallback((y,x=!0,v)=>{const[b,_,A]=d(y);return b?(v||e.getState().getNodes()).filter(T=>{if(!A&&(T.id===_.id||!T.positionAbsolute))return!1;const M=MG(T),I=ND(M,b);return x&&I>0||I>=b.width*b.height}):[]},[]),g=E.useCallback((y,x,v=!0)=>{const[b]=d(y);if(!b)return!1;const _=ND(b,x);return v&&_>0||_>=b.width*b.height},[]);return E.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:s,setEdges:o,addNodes:l,addEdges:c,toObject:u,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:g}),[t,n,r,i,a,s,o,l,c,u,f,h,g])}const ANe={actInsideInputWithModifier:!1};var MNe=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=ua(),{deleteElements:r}=VU(),i=O1(t,ANe),a=O1(e);E.useEffect(()=>{if(i){const{edges:s,getNodes:o}=n.getState(),l=o().filter(u=>u.selected),c=s.filter(u=>u.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),E.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function TNe(t){const e=ua();E.useEffect(()=>{let n;const r=()=>{var a,s;if(!t.current)return;const i=kU(t.current);(i.height===0||i.width===0)&&((s=(a=e.getState()).onError)==null||s.call(a,"004",qu.error004())),e.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const HU={position:"absolute",width:"100%",height:"100%",top:0,left:0},CNe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,nE=t=>({x:t.x,y:t.y,zoom:t.k}),gg=(t,e)=>t.target.closest(`.${e}`),LG=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),UG=t=>{const e=t.ctrlKey&&nT()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},PNe=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),INe=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:a=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=up.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:g,maxZoom:y,zoomActivationKeyCode:x,preventScrolling:v=!0,children:b,noWheelClassName:_,noPanClassName:A})=>{const T=E.useRef(),M=ua(),I=E.useRef(!1),O=E.useRef(!1),P=E.useRef(null),k=E.useRef({x:0,y:0,zoom:0}),{d3Zoom:N,d3Selection:L,d3ZoomHandler:B,userSelectionActive:D}=Wr(PNe,Ba),V=O1(x),F=E.useRef(0),H=E.useRef(!1),q=E.useRef();return TNe(P),E.useEffect(()=>{if(P.current){const W=P.current.getBoundingClientRect(),z=Uke().scaleExtent([g,y]).translateExtent(h),$=Tl(P.current).call(z),Z=Rd.translate(d.x,d.y).scale(p0(d.zoom,g,y)),G=[[0,0],[W.width,W.height]],ie=z.constrain()(Z,G,h);z.transform($,ie),z.wheelDelta(UG),M.setState({d3Zoom:z,d3Selection:$,d3ZoomHandler:$.on("wheel.zoom"),transform:[ie.x,ie.y,ie.k],domNode:P.current.closest(".react-flow")})}},[]),E.useEffect(()=>{L&&N&&(s&&!V&&!D?L.on("wheel.zoom",W=>{if(gg(W,_))return!1;W.preventDefault(),W.stopImmediatePropagation();const z=L.property("__zoom").k||1;if(W.ctrlKey&&a){const he=ac(W),le=UG(W),be=z*Math.pow(2,le);N.scaleTo(L,be,he,W);return}const $=W.deltaMode===1?20:1;let Z=l===up.Vertical?0:W.deltaX*$,G=l===up.Horizontal?0:W.deltaY*$;!nT()&&W.shiftKey&&l!==up.Vertical&&(Z=W.deltaY*$,G=0),N.translateBy(L,-(Z/z)*o,-(G/z)*o,{internal:!0});const ie=nE(L.property("__zoom")),{onViewportChangeStart:ue,onViewportChange:te,onViewportChangeEnd:ae}=M.getState();clearTimeout(q.current),H.current||(H.current=!0,e==null||e(W,ie),ue==null||ue(ie)),H.current&&(t==null||t(W,ie),te==null||te(ie),q.current=setTimeout(()=>{n==null||n(W,ie),ae==null||ae(ie),H.current=!1},150))},{passive:!1}):typeof B<"u"&&L.on("wheel.zoom",function(W,z){if(!v&&W.type==="wheel"&&!W.ctrlKey||gg(W,_))return null;W.preventDefault(),B.call(this,W,z)},{passive:!1}))},[D,s,l,L,N,B,V,a,v,_,e,t,n]),E.useEffect(()=>{N&&N.on("start",W=>{var Z,G;if(!W.sourceEvent||W.sourceEvent.internal)return null;F.current=(Z=W.sourceEvent)==null?void 0:Z.button;const{onViewportChangeStart:z}=M.getState(),$=nE(W.transform);I.current=!0,k.current=$,((G=W.sourceEvent)==null?void 0:G.type)==="mousedown"&&M.setState({paneDragging:!0}),z==null||z($),e==null||e(W.sourceEvent,$)})},[N,e]),E.useEffect(()=>{N&&(D&&!I.current?N.on("zoom",null):D||N.on("zoom",W=>{var $;const{onViewportChange:z}=M.getState();if(M.setState({transform:[W.transform.x,W.transform.y,W.transform.k]}),O.current=!!(r&&LG(f,F.current??0)),(t||z)&&!(($=W.sourceEvent)!=null&&$.internal)){const Z=nE(W.transform);z==null||z(Z),t==null||t(W.sourceEvent,Z)}}))},[D,N,t,f,r]),E.useEffect(()=>{N&&N.on("end",W=>{if(!W.sourceEvent||W.sourceEvent.internal)return null;const{onViewportChangeEnd:z}=M.getState();if(I.current=!1,M.setState({paneDragging:!1}),r&&LG(f,F.current??0)&&!O.current&&r(W.sourceEvent),O.current=!1,(n||z)&&CNe(k.current,W.transform)){const $=nE(W.transform);k.current=$,clearTimeout(T.current),T.current=setTimeout(()=>{z==null||z($),n==null||n(W.sourceEvent,$)},s?150:0)}})},[N,s,f,n,r]),E.useEffect(()=>{N&&N.filter(W=>{const z=V||i,$=a&&W.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&W.button===1&&W.type==="mousedown"&&(gg(W,"react-flow__node")||gg(W,"react-flow__edge")))return!0;if(!f&&!z&&!s&&!c&&!a||D||!c&&W.type==="dblclick"||gg(W,_)&&W.type==="wheel"||gg(W,A)&&(W.type!=="wheel"||s&&W.type==="wheel"&&!V)||!a&&W.ctrlKey&&W.type==="wheel"||!z&&!s&&!$&&W.type==="wheel"||!f&&(W.type==="mousedown"||W.type==="touchstart")||Array.isArray(f)&&!f.includes(W.button)&&W.type==="mousedown")return!1;const Z=Array.isArray(f)&&f.includes(W.button)||!W.button||W.button<=1;return(!W.ctrlKey||W.type==="wheel")&&Z})},[D,N,i,a,s,c,f,u,V]),He.createElement("div",{className:"react-flow__renderer",ref:P,style:HU},b)},ONe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function kNe(){const{userSelectionActive:t,userSelectionRect:e}=Wr(ONe,Ba);return t&&e?He.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function zG(t,e){const n=e.parentNode||e.parentId,r=t.find(i=>i.id===n);if(r){const i=e.position.x+e.width-r.width,a=e.position.y+e.height-r.height;if(i>0||a>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),a>0&&(r.style.height+=a),e.position.x<0){const s=Math.abs(e.position.x);r.position.x=r.position.x-s,r.style.width+=s,e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);r.position.y=r.position.y-s,r.style.height+=s,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Bre(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,i)=>{const a=t.filter(o=>o.id===i.id);if(a.length===0)return r.push(i),r;const s={...i};for(const o of a)if(o)switch(o.type){case"select":{s.selected=o.selected;break}case"position":{typeof o.position<"u"&&(s.position=o.position),typeof o.positionAbsolute<"u"&&(s.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(s.dragging=o.dragging),s.expandParent&&zG(r,s);break}case"dimensions":{typeof o.dimensions<"u"&&(s.width=o.dimensions.width,s.height=o.dimensions.height),typeof o.updateStyle<"u"&&(s.style={...s.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(s.resizing=o.resizing),s.expandParent&&zG(r,s);break}case"remove":return r}return r.push(s),r},n)}function Vre(t,e){return Bre(t,e)}function NNe(t,e){return Bre(t,e)}const Qf=(t,e)=>({id:t,type:"select",selected:e});function fv(t,e){return t.reduce((n,r)=>{const i=e.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Qf(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Qf(r.id,!1))),n},[])}const uN=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},RNe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Hre=E.memo(({isSelecting:t,selectionMode:e=I1.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:s,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:f})=>{const d=E.useRef(null),h=ua(),g=E.useRef(0),y=E.useRef(0),x=E.useRef(),{userSelectionActive:v,elementsSelectable:b,dragging:_}=Wr(RNe,Ba),A=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,y.current=0},T=B=>{a==null||a(B),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},M=B=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){B.preventDefault();return}s==null||s(B)},I=o?B=>o(B):void 0,O=B=>{const{resetSelectedElements:D,domNode:V}=h.getState();if(x.current=V==null?void 0:V.getBoundingClientRect(),!b||!t||B.button!==0||B.target!==d.current||!x.current)return;const{x:F,y:H}=Dd(B,x.current);D(),h.setState({userSelectionRect:{width:0,height:0,startX:F,startY:H,x:F,y:H}}),r==null||r(B)},P=B=>{const{userSelectionRect:D,nodeInternals:V,edges:F,transform:H,onNodesChange:q,onEdgesChange:W,nodeOrigin:z,getNodes:$}=h.getState();if(!t||!x.current||!D)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Z=Dd(B,x.current),G=D.startX??0,ie=D.startY??0,ue={...D,x:Z.x<G?Z.x:G,y:Z.y<ie?Z.y:ie,width:Math.abs(Z.x-G),height:Math.abs(Z.y-ie)},te=$(),ae=Sre(V,ue,H,e===I1.Partial,!0,z),he=Ere(ae,F).map(be=>be.id),le=ae.map(be=>be.id);if(g.current!==le.length){g.current=le.length;const be=fv(te,le);be.length&&(q==null||q(be))}if(y.current!==he.length){y.current=he.length;const be=fv(F,he);be.length&&(W==null||W(be))}h.setState({userSelectionRect:ue})},k=B=>{if(B.button!==0)return;const{userSelectionRect:D}=h.getState();!v&&D&&B.target===d.current&&(T==null||T(B)),h.setState({nodesSelectionActive:g.current>0}),A(),i==null||i(B)},N=B=>{v&&(h.setState({nodesSelectionActive:g.current>0}),i==null||i(B)),A()},L=b&&(t||v);return He.createElement("div",{className:os(["react-flow__pane",{dragging:_,selection:t}]),onClick:L?void 0:uN(T,d),onContextMenu:uN(M,d),onWheel:uN(I,d),onMouseEnter:L?void 0:l,onMouseDown:L?O:void 0,onMouseMove:L?P:c,onMouseUp:L?k:void 0,onMouseLeave:L?N:u,ref:d,style:HU},f,He.createElement(kNe,null))});Hre.displayName="Pane";function Gre(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:Gre(r,e):!1}function FG(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function DNe(t,e,n,r){return Array.from(t.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!Gre(i,t))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>{var a,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=i.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function LNe(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function Wre(t,e,n,r,i=[0,0],a){const s=LNe(t,t.extent||r);let o=s;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const f=n.get(l),{x:d,y:h}=Vv(f,i).positionAbsolute;o=f&&Vo(d)&&Vo(h)&&Vo(f.width)&&Vo(f.height)?[[d+t.width*i[0],h+t.height*i[1]],[d+f.width-t.width+t.width*i[0],h+f.height-t.height+t.height*i[1]]]:o}else a==null||a("005",qu.error005()),o=s;else if(t.extent&&l&&t.extent!=="parent"){const f=n.get(l),{x:d,y:h}=Vv(f,i).positionAbsolute;o=[[t.extent[0][0]+d,t.extent[0][1]+h],[t.extent[1][0]+d,t.extent[1][1]+h]]}let c={x:0,y:0};if(l){const f=n.get(l);c=Vv(f,i).positionAbsolute}const u=o&&o!=="parent"?NU(e,o):e;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function fN({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[t?r.find(i=>i.id===t):r[0],r]}const jG=(t,e,n,r)=>{const i=e.querySelectorAll(t);if(!i||!i.length)return null;const a=Array.from(i),s=e.getBoundingClientRect(),o={x:s.width*r[0],y:s.height*r[1]};return a.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-s.left-o.x)/n,y:(c.top-s.top-o.y)/n,...kU(l)}})};function mx(t,e,n){return n===void 0?n:r=>{const i=e().nodeInternals.get(t);i&&n(r,{...i})}}function FD({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:o,onError:l}=e.getState(),c=o.get(t);if(!c){l==null||l("012",qu.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(a({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([t])}function UNe(){const t=ua();return E.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:a}=t.getState(),s=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:a?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:a?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function dN(t){return(e,n,r)=>t==null?void 0:t(e,r)}function $re({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,selectNodesOnDrag:s}){const o=ua(),[l,c]=E.useState(!1),u=E.useRef([]),f=E.useRef({x:null,y:null}),d=E.useRef(0),h=E.useRef(null),g=E.useRef({x:0,y:0}),y=E.useRef(null),x=E.useRef(!1),v=E.useRef(!1),b=E.useRef(!1),_=UNe();return E.useEffect(()=>{if(t!=null&&t.current){const A=Tl(t.current),T=({x:O,y:P})=>{const{nodeInternals:k,onNodeDrag:N,onSelectionDrag:L,updateNodePositions:B,nodeExtent:D,snapGrid:V,snapToGrid:F,nodeOrigin:H,onError:q}=o.getState();f.current={x:O,y:P};let W=!1,z={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&D){const Z=FU(u.current,H);z=RU(Z)}if(u.current=u.current.map(Z=>{const G={x:O-Z.distance.x,y:P-Z.distance.y};F&&(G.x=V[0]*Math.round(G.x/V[0]),G.y=V[1]*Math.round(G.y/V[1]));const ie=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];u.current.length>1&&D&&!Z.extent&&(ie[0][0]=Z.positionAbsolute.x-z.x+D[0][0],ie[1][0]=Z.positionAbsolute.x+(Z.width??0)-z.x2+D[1][0],ie[0][1]=Z.positionAbsolute.y-z.y+D[0][1],ie[1][1]=Z.positionAbsolute.y+(Z.height??0)-z.y2+D[1][1]);const ue=Wre(Z,G,k,ie,H,q);return W=W||Z.position.x!==ue.position.x||Z.position.y!==ue.position.y,Z.position=ue.position,Z.positionAbsolute=ue.positionAbsolute,Z}),!W)return;B(u.current,!0,!0),c(!0);const $=i?N:dN(L);if($&&y.current){const[Z,G]=fN({nodeId:i,dragItems:u.current,nodeInternals:k});$(y.current,Z,G)}},M=()=>{if(!h.current)return;const[O,P]=hre(g.current,h.current);if(O!==0||P!==0){const{transform:k,panBy:N}=o.getState();f.current.x=(f.current.x??0)-O/k[2],f.current.y=(f.current.y??0)-P/k[2],N({x:O,y:P})&&T(f.current)}d.current=requestAnimationFrame(M)},I=O=>{var H;const{nodeInternals:P,multiSelectionActive:k,nodesDraggable:N,unselectNodesAndEdges:L,onNodeDragStart:B,onSelectionDragStart:D}=o.getState();v.current=!0;const V=i?B:dN(D);(!s||!a)&&!k&&i&&((H=P.get(i))!=null&&H.selected||L()),i&&a&&s&&FD({id:i,store:o,nodeRef:t});const F=_(O);if(f.current=F,u.current=DNe(P,N,F,i),V&&u.current){const[q,W]=fN({nodeId:i,dragItems:u.current,nodeInternals:P});V(O.sourceEvent,q,W)}};if(e)A.on(".drag",null);else{const O=VIe().on("start",P=>{const{domNode:k,nodeDragThreshold:N}=o.getState();N===0&&I(P),b.current=!1;const L=_(P);f.current=L,h.current=(k==null?void 0:k.getBoundingClientRect())||null,g.current=Dd(P.sourceEvent,h.current)}).on("drag",P=>{var B,D;const k=_(P),{autoPanOnNodeDrag:N,nodeDragThreshold:L}=o.getState();if(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!x.current&&v.current&&N&&(x.current=!0,M()),!v.current){const V=k.xSnapped-(((B=f==null?void 0:f.current)==null?void 0:B.x)??0),F=k.ySnapped-(((D=f==null?void 0:f.current)==null?void 0:D.y)??0);Math.sqrt(V*V+F*F)>L&&I(P)}(f.current.x!==k.xSnapped||f.current.y!==k.ySnapped)&&u.current&&v.current&&(y.current=P.sourceEvent,g.current=Dd(P.sourceEvent,h.current),T(k))}}).on("end",P=>{if(!(!v.current||b.current)&&(c(!1),x.current=!1,v.current=!1,cancelAnimationFrame(d.current),u.current)){const{updateNodePositions:k,nodeInternals:N,onNodeDragStop:L,onSelectionDragStop:B}=o.getState(),D=i?L:dN(B);if(k(u.current,!1,!1),D){const[V,F]=fN({nodeId:i,dragItems:u.current,nodeInternals:N});D(P.sourceEvent,V,F)}}}).filter(P=>{const k=P.target;return!P.button&&(!n||!FG(k,`.${n}`,t))&&(!r||FG(k,r,t))});return A.call(O),()=>{A.on(".drag",null)}}}},[t,e,n,r,a,o,i,s,_]),l}function qre(){const t=ua();return E.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:a,getNodes:s,snapToGrid:o,snapGrid:l,onError:c,nodesDraggable:u}=t.getState(),f=s().filter(b=>b.selected&&(b.draggable||u&&typeof b.draggable>"u")),d=o?l[0]:5,h=o?l[1]:5,g=n.isShiftPressed?4:1,y=n.x*d*g,x=n.y*h*g,v=f.map(b=>{if(b.positionAbsolute){const _={x:b.positionAbsolute.x+y,y:b.positionAbsolute.y+x};o&&(_.x=l[0]*Math.round(_.x/l[0]),_.y=l[1]*Math.round(_.y/l[1]));const{positionAbsolute:A,position:T}=Wre(b,_,r,i,void 0,c);b.position=T,b.positionAbsolute=A}return b});a(v,!0,!1)},[])}const Hv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var gx=t=>{const e=({id:n,type:r,data:i,xPos:a,yPos:s,xPosOrigin:o,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:g,onDoubleClick:y,style:x,className:v,isDraggable:b,isSelectable:_,isConnectable:A,isFocusable:T,selectNodesOnDrag:M,sourcePosition:I,targetPosition:O,hidden:P,resizeObserver:k,dragHandle:N,zIndex:L,isParent:B,noDragClassName:D,noPanClassName:V,initialized:F,disableKeyboardA11y:H,ariaLabel:q,rfId:W,hasHandleBounds:z})=>{const $=ua(),Z=E.useRef(null),G=E.useRef(null),ie=E.useRef(I),ue=E.useRef(O),te=E.useRef(r),ae=_||b||u||f||d||h,he=qre(),le=mx(n,$.getState,f),be=mx(n,$.getState,d),Ie=mx(n,$.getState,h),fe=mx(n,$.getState,g),Ye=mx(n,$.getState,y),we=ke=>{const{nodeDragThreshold:Y}=$.getState();if(_&&(!M||!b||Y>0)&&FD({id:n,store:$,nodeRef:Z}),u){const xe=$.getState().nodeInternals.get(n);xe&&u(ke,{...xe})}},Te=ke=>{if(!RD(ke)&&!H)if(mre.includes(ke.key)&&_){const Y=ke.key==="Escape";FD({id:n,store:$,unselect:Y,nodeRef:Z})}else b&&c&&Object.prototype.hasOwnProperty.call(Hv,ke.key)&&($.setState({ariaLiveMessage:`Moved selected node ${ke.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~s}`}),he({x:Hv[ke.key].x,y:Hv[ke.key].y,isShiftPressed:ke.shiftKey}))};E.useEffect(()=>()=>{G.current&&(k==null||k.unobserve(G.current),G.current=null)},[]),E.useEffect(()=>{if(Z.current&&!P){const ke=Z.current;(!F||!z||G.current!==ke)&&(G.current&&(k==null||k.unobserve(G.current)),k==null||k.observe(ke),G.current=ke)}},[P,F,z]),E.useEffect(()=>{const ke=te.current!==r,Y=ie.current!==I,xe=ue.current!==O;Z.current&&(ke||Y||xe)&&(ke&&(te.current=r),Y&&(ie.current=I),xe&&(ue.current=O),$.getState().updateNodeDimensions([{id:n,nodeElement:Z.current,forceUpdate:!0}]))},[n,r,I,O]);const Ee=$re({nodeRef:Z,disabled:P||!b,noDragClassName:D,handleSelector:N,nodeId:n,isSelectable:_,selectNodesOnDrag:M});return P?null:He.createElement("div",{className:os(["react-flow__node",`react-flow__node-${r}`,{[V]:b},v,{selected:c,selectable:_,parent:B,dragging:Ee}]),ref:Z,style:{zIndex:L,transform:`translate(${o}px,${l}px)`,pointerEvents:ae?"all":"none",visibility:F?"visible":"hidden",...x},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:le,onMouseMove:be,onMouseLeave:Ie,onContextMenu:fe,onClick:we,onDoubleClick:Ye,onKeyDown:T?Te:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":H?void 0:`${Lre}-${W}`,"aria-label":q},He.createElement(Jke,{value:n},He.createElement(t,{id:n,data:i,type:r,xPos:a,yPos:s,selected:c,isConnectable:A,sourcePosition:I,targetPosition:O,dragging:Ee,dragHandle:N,zIndex:L})))};return e.displayName="NodeWrapper",E.memo(e)};const zNe=t=>{const e=t.getNodes().filter(n=>n.selected);return{...FU(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function FNe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=ua(),{width:i,height:a,x:s,y:o,transformString:l,userSelectionActive:c}=Wr(zNe,Ba),u=qre(),f=E.useRef(null);if(E.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),$re({nodeRef:f}),c||!i||!a)return null;const d=t?g=>{const y=r.getState().getNodes().filter(x=>x.selected);t(g,y)}:void 0,h=g=>{Object.prototype.hasOwnProperty.call(Hv,g.key)&&u({x:Hv[g.key].x,y:Hv[g.key].y,isShiftPressed:g.shiftKey})};return He.createElement("div",{className:os(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},He.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:a,top:o,left:s}}))}var jNe=E.memo(FNe);const BNe=t=>t.nodesSelectionActive,Xre=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,deleteKeyCode:o,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:b,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:T,panOnScroll:M,panOnScrollSpeed:I,panOnScrollMode:O,zoomOnDoubleClick:P,panOnDrag:k,defaultViewport:N,translateExtent:L,minZoom:B,maxZoom:D,preventScrolling:V,onSelectionContextMenu:F,noWheelClassName:H,noPanClassName:q,disableKeyboardA11y:W})=>{const z=Wr(BNe),$=O1(f),Z=O1(v),G=Z||k,ie=Z||M,ue=$||d&&G!==!0;return MNe({deleteKeyCode:o,multiSelectionKeyCode:x}),He.createElement(INe,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:a,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:T,panOnScroll:ie,panOnScrollSpeed:I,panOnScrollMode:O,zoomOnDoubleClick:P,panOnDrag:!$&&G,defaultViewport:N,translateExtent:L,minZoom:B,maxZoom:D,zoomActivationKeyCode:b,preventScrolling:V,noWheelClassName:H,noPanClassName:q},He.createElement(Hre,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:G,isSelecting:!!ue,selectionMode:h},t,z&&He.createElement(jNe,{onSelectionContextMenu:F,noPanClassName:q,disableKeyboardA11y:W})))};Xre.displayName="FlowRenderer";var VNe=E.memo(Xre);function HNe(t){return Wr(E.useCallback(n=>t?Sre(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function GNe(t){const e={input:gx(t.input||kre),default:gx(t.default||zD),output:gx(t.output||Rre),group:gx(t.group||BU)},n={},r=Object.keys(t).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,a)=>(i[a]=gx(t[a]||zD),i),n);return{...e,...r}}const WNe=({x:t,y:e,width:n,height:r,origin:i})=>!n||!r?{x:t,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:e}:{x:t-n*i[0],y:e-r*i[1]},$Ne=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),Kre=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:s}=Wr($Ne,Ba),o=HNe(t.onlyRenderVisibleElements),l=E.useRef(),c=E.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));a(d)});return l.current=u,u},[]);return E.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),He.createElement("div",{className:"react-flow__nodes",style:HU},o.map(u=>{var T,M,I;let f=u.type||"default";t.nodeTypes[f]||(s==null||s("003",qu.error003(f)),f="default");const d=t.nodeTypes[f]||t.nodeTypes.default,h=!!(u.draggable||e&&typeof u.draggable>"u"),g=!!(u.selectable||i&&typeof u.selectable>"u"),y=!!(u.connectable||n&&typeof u.connectable>"u"),x=!!(u.focusable||r&&typeof u.focusable>"u"),v=t.nodeExtent?NU(u.positionAbsolute,t.nodeExtent):u.positionAbsolute,b=(v==null?void 0:v.x)??0,_=(v==null?void 0:v.y)??0,A=WNe({x:b,y:_,width:u.width??0,height:u.height??0,origin:t.nodeOrigin});return He.createElement(d,{key:u.id,id:u.id,className:u.className,style:u.style,type:f,data:u.data,sourcePosition:u.sourcePosition||jt.Bottom,targetPosition:u.targetPosition||jt.Top,hidden:u.hidden,xPos:b,yPos:_,xPosOrigin:A.x,yPosOrigin:A.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!u.selected,isDraggable:h,isSelectable:g,isConnectable:y,isFocusable:x,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((T=u[ni])==null?void 0:T.z)??0,isParent:!!((M=u[ni])!=null&&M.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!u.width&&!!u.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((I=u[ni])!=null&&I.handleBounds)})}))};Kre.displayName="NodeRenderer";var qNe=E.memo(Kre);const XNe=(t,e,n)=>n===jt.Left?t-e:n===jt.Right?t+e:t,KNe=(t,e,n)=>n===jt.Top?t-e:n===jt.Bottom?t+e:t,BG="react-flow__edgeupdater",VG=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:s,type:o})=>He.createElement("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:s,className:os([BG,`${BG}-${o}`]),cx:XNe(e,r,t),cy:KNe(n,r,t),r,stroke:"transparent",fill:"transparent"}),YNe=()=>!0;var vg=t=>{const e=({id:n,className:r,type:i,data:a,onClick:s,onEdgeDoubleClick:o,selected:l,animated:c,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,source:v,target:b,sourceX:_,sourceY:A,targetX:T,targetY:M,sourcePosition:I,targetPosition:O,elementsSelectable:P,hidden:k,sourceHandleId:N,targetHandleId:L,onContextMenu:B,onMouseEnter:D,onMouseMove:V,onMouseLeave:F,reconnectRadius:H,onReconnect:q,onReconnectStart:W,onReconnectEnd:z,markerEnd:$,markerStart:Z,rfId:G,ariaLabel:ie,isFocusable:ue,isReconnectable:te,pathOptions:ae,interactionWidth:he,disableKeyboardA11y:le})=>{const be=E.useRef(null),[Ie,fe]=E.useState(!1),[Ye,we]=E.useState(!1),Te=ua(),Ee=E.useMemo(()=>`url('#${LD(Z,G)}')`,[Z,G]),ke=E.useMemo(()=>`url('#${LD($,G)}')`,[$,G]);if(k)return null;const Y=Ge=>{var We;const{edges:rt,addSelectedEdges:Re,unselectNodesAndEdges:Ue,multiSelectionActive:Be}=Te.getState(),Je=rt.find(ut=>ut.id===n);Je&&(P&&(Te.setState({nodesSelectionActive:!1}),Je.selected&&Be?(Ue({nodes:[],edges:[Je]}),(We=be.current)==null||We.blur()):Re([n])),s&&s(Ge,Je))},xe=px(n,Te.getState,o),ye=px(n,Te.getState,B),me=px(n,Te.getState,D),Pe=px(n,Te.getState,V),K=px(n,Te.getState,F),j=(Ge,rt)=>{if(Ge.button!==0)return;const{edges:Re,isValidConnection:Ue}=Te.getState(),Be=rt?b:v,Je=(rt?L:N)||null,We=rt?"target":"source",ut=Ue||YNe,pe=rt,Me=Re.find(Ke=>Ke.id===n);we(!0),W==null||W(Ge,Me,We);const Ze=Ke=>{we(!1),z==null||z(Ke,Me,We)};Cre({event:Ge,handleId:Je,nodeId:Be,onConnect:Ke=>q==null?void 0:q(Me,Ke),isTarget:pe,getState:Te.getState,setState:Te.setState,isValidConnection:ut,edgeUpdaterType:We,onReconnectEnd:Ze})},ee=Ge=>j(Ge,!0),re=Ge=>j(Ge,!1),se=()=>fe(!0),ce=()=>fe(!1),Oe=!P&&!s,De=Ge=>{var rt;if(!le&&mre.includes(Ge.key)&&P){const{unselectNodesAndEdges:Re,addSelectedEdges:Ue,edges:Be}=Te.getState();Ge.key==="Escape"?((rt=be.current)==null||rt.blur(),Re({edges:[Be.find(We=>We.id===n)]})):Ue([n])}};return He.createElement("g",{className:os(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:c,inactive:Oe,updating:Ie}]),onClick:Y,onDoubleClick:xe,onContextMenu:ye,onMouseEnter:me,onMouseMove:Pe,onMouseLeave:K,onKeyDown:ue?De:void 0,tabIndex:ue?0:void 0,role:ue?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ie===null?void 0:ie||`Edge from ${v} to ${b}`,"aria-describedby":ue?`${Ure}-${G}`:void 0,ref:be},!Ye&&He.createElement(t,{id:n,source:v,target:b,selected:l,animated:c,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,data:a,style:x,sourceX:_,sourceY:A,targetX:T,targetY:M,sourcePosition:I,targetPosition:O,sourceHandleId:N,targetHandleId:L,markerStart:Ee,markerEnd:ke,pathOptions:ae,interactionWidth:he}),te&&He.createElement(He.Fragment,null,(te==="source"||te===!0)&&He.createElement(VG,{position:I,centerX:_,centerY:A,radius:H,onMouseDown:ee,onMouseEnter:se,onMouseOut:ce,type:"source"}),(te==="target"||te===!0)&&He.createElement(VG,{position:O,centerX:T,centerY:M,radius:H,onMouseDown:re,onMouseEnter:se,onMouseOut:ce,type:"target"})))};return e.displayName="EdgeWrapper",E.memo(e)};function ZNe(t){const e={default:vg(t.default||iT),straight:vg(t.bezier||UU),step:vg(t.step||LU),smoothstep:vg(t.step||HP),simplebezier:vg(t.simplebezier||DU)},n={},r=Object.keys(t).filter(i=>!["default","bezier"].includes(i)).reduce((i,a)=>(i[a]=vg(t[a]||iT),i),n);return{...e,...r}}function HG(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,i=((n==null?void 0:n.y)||0)+e.y,a=(n==null?void 0:n.width)||e.width,s=(n==null?void 0:n.height)||e.height;switch(t){case jt.Top:return{x:r+a/2,y:i};case jt.Right:return{x:r+a,y:i+s/2};case jt.Bottom:return{x:r+a/2,y:i+s};case jt.Left:return{x:r,y:i+s/2}}}function GG(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const JNe=(t,e,n,r,i,a)=>{const s=HG(n,t,e),o=HG(a,r,i);return{sourceX:s.x,sourceY:s.y,targetX:o.x,targetY:o.y}};function QNe({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:a,width:s,height:o,transform:l}){const c={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+i),y2:Math.max(t.y+r,e.y+a)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=RU({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:o/l[2]}),f=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),d=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(f*d)>0}function WG(t){var r,i,a,s,o;const e=((r=t==null?void 0:t[ni])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)||0,y:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const eRe=[{level:0,isMaxLevel:!0,edges:[]}];function tRe(t,e,n=!1){let r=-1;const i=t.reduce((s,o)=>{var u,f;const l=Vo(o.zIndex);let c=l?o.zIndex:0;if(n){const d=e.get(o.target),h=e.get(o.source),g=o.selected||(d==null?void 0:d.selected)||(h==null?void 0:h.selected),y=Math.max(((u=h==null?void 0:h[ni])==null?void 0:u.z)||0,((f=d==null?void 0:d[ni])==null?void 0:f.z)||0,1e3);c=(l?o.zIndex:0)+(g?y:0)}return s[c]?s[c].push(o):s[c]=[o],r=c>r?c:r,s},{}),a=Object.entries(i).map(([s,o])=>{const l=+s;return{edges:o,level:l,isMaxLevel:l===r}});return a.length===0?eRe:a}function nRe(t,e,n){const r=Wr(E.useCallback(i=>t?i.edges.filter(a=>{const s=e.get(a.source),o=e.get(a.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&QNe({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:o.width,targetHeight:o.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[t,e]));return tRe(r,e,n)}const rRe=({color:t="none",strokeWidth:e=1})=>He.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),iRe=({color:t="none",strokeWidth:e=1})=>He.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),$G={[rT.Arrow]:rRe,[rT.ArrowClosed]:iRe};function aRe(t){const e=ua();return E.useMemo(()=>{var i,a;return Object.prototype.hasOwnProperty.call($G,t)?$G[t]:((a=(i=e.getState()).onError)==null||a.call(i,"009",qu.error009(t)),null)},[t])}const sRe=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:s,orient:o="auto-start-reverse"})=>{const l=aRe(e);return l?He.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:o,refX:"0",refY:"0"},He.createElement(l,{color:n,strokeWidth:s})):null},oRe=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((i,a)=>([a.markerStart,a.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const o=LD(s,e);r.includes(o)||(i.push({id:o,color:s.color||t,...s}),r.push(o))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))},Yre=({defaultColor:t,rfId:e})=>{const n=Wr(E.useCallback(oRe({defaultColor:t,rfId:e}),[t,e]),(r,i)=>!(r.length!==i.length||r.some((a,s)=>a.id!==i[s].id)));return He.createElement("defs",null,n.map(r=>He.createElement(sRe,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Yre.displayName="MarkerDefinitions";var lRe=E.memo(Yre);const cRe=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),Zre=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:a,onEdgeContextMenu:s,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:y,children:x,disableKeyboardA11y:v})=>{const{edgesFocusable:b,edgesUpdatable:_,elementsSelectable:A,width:T,height:M,connectionMode:I,nodeInternals:O,onError:P}=Wr(cRe,Ba),k=nRe(e,O,n);return T?He.createElement(He.Fragment,null,k.map(({level:N,edges:L,isMaxLevel:B})=>He.createElement("svg",{key:N,style:{zIndex:N},width:T,height:M,className:"react-flow__edges react-flow__container"},B&&He.createElement(lRe,{defaultColor:t,rfId:r}),He.createElement("g",null,L.map(D=>{const[V,F,H]=WG(O.get(D.source)),[q,W,z]=WG(O.get(D.target));if(!H||!z)return null;let $=D.type||"default";i[$]||(P==null||P("011",qu.error011($)),$="default");const Z=i[$]||i.default,G=I===Xp.Strict?W.target:(W.target??[]).concat(W.source??[]),ie=GG(F.source,D.sourceHandle),ue=GG(G,D.targetHandle),te=(ie==null?void 0:ie.position)||jt.Bottom,ae=(ue==null?void 0:ue.position)||jt.Top,he=!!(D.focusable||b&&typeof D.focusable>"u"),le=D.reconnectable||D.updatable,be=typeof d<"u"&&(le||_&&typeof le>"u");if(!ie||!ue)return P==null||P("008",qu.error008(ie,D)),null;const{sourceX:Ie,sourceY:fe,targetX:Ye,targetY:we}=JNe(V,ie,te,q,ue,ae);return He.createElement(Z,{key:D.id,id:D.id,className:os([D.className,a]),type:$,data:D.data,selected:!!D.selected,animated:!!D.animated,hidden:!!D.hidden,label:D.label,labelStyle:D.labelStyle,labelShowBg:D.labelShowBg,labelBgStyle:D.labelBgStyle,labelBgPadding:D.labelBgPadding,labelBgBorderRadius:D.labelBgBorderRadius,style:D.style,source:D.source,target:D.target,sourceHandleId:D.sourceHandle,targetHandleId:D.targetHandle,markerEnd:D.markerEnd,markerStart:D.markerStart,sourceX:Ie,sourceY:fe,targetX:Ye,targetY:we,sourcePosition:te,targetPosition:ae,elementsSelectable:A,onContextMenu:s,onMouseEnter:o,onMouseMove:l,onMouseLeave:c,onClick:u,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:y,rfId:r,ariaLabel:D.ariaLabel,isFocusable:he,isReconnectable:be,pathOptions:"pathOptions"in D?D.pathOptions:void 0,interactionWidth:D.interactionWidth,disableKeyboardA11y:v})})))),x):null};Zre.displayName="EdgeRenderer";var uRe=E.memo(Zre);const fRe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function dRe({children:t}){const e=Wr(fRe);return He.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function hRe(t){const e=VU(),n=E.useRef(!1);E.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const pRe={[jt.Left]:jt.Right,[jt.Right]:jt.Left,[jt.Top]:jt.Bottom,[jt.Bottom]:jt.Top},Jre=({nodeId:t,handleType:e,style:n,type:r=fd.Bezier,CustomComponent:i,connectionStatus:a})=>{var M,I,O;const{fromNode:s,handleId:o,toX:l,toY:c,connectionMode:u}=Wr(E.useCallback(P=>({fromNode:P.nodeInternals.get(t),handleId:P.connectionHandleId,toX:(P.connectionPosition.x-P.transform[0])/P.transform[2],toY:(P.connectionPosition.y-P.transform[1])/P.transform[2],connectionMode:P.connectionMode}),[t]),Ba),f=(M=s==null?void 0:s[ni])==null?void 0:M.handleBounds;let d=f==null?void 0:f[e];if(u===Xp.Loose&&(d=d||(f==null?void 0:f[e==="source"?"target":"source"])),!s||!d)return null;const h=o?d.find(P=>P.id===o):d[0],g=h?h.x+h.width/2:(s.width??0)/2,y=h?h.y+h.height/2:s.height??0,x=(((I=s.positionAbsolute)==null?void 0:I.x)??0)+g,v=(((O=s.positionAbsolute)==null?void 0:O.y)??0)+y,b=h==null?void 0:h.position,_=b?pRe[b]:null;if(!b||!_)return null;if(i)return He.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:h,fromX:x,fromY:v,toX:l,toY:c,fromPosition:b,toPosition:_,connectionStatus:a});let A="";const T={sourceX:x,sourceY:v,sourcePosition:b,targetX:l,targetY:c,targetPosition:_};return r===fd.Bezier?[A]=bre(T):r===fd.Step?[A]=DD({...T,borderRadius:0}):r===fd.SmoothStep?[A]=DD(T):r===fd.SimpleBezier?[A]=xre(T):A=`M${x},${v} ${l},${c}`,He.createElement("path",{d:A,fill:"none",className:"react-flow__connection-path",style:n})};Jre.displayName="ConnectionLine";const mRe=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function gRe({containerStyle:t,style:e,type:n,component:r}){const{nodeId:i,handleType:a,nodesConnectable:s,width:o,height:l,connectionStatus:c}=Wr(mRe,Ba);return!(i&&a&&o&&s)?null:He.createElement("svg",{style:t,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},He.createElement("g",{className:os(["react-flow__connection",c])},He.createElement(Jre,{nodeId:i,handleType:a,style:e,type:n,CustomComponent:r,connectionStatus:c})))}function qG(t,e){return E.useRef(null),ua(),E.useMemo(()=>e(t),[t])}const Qre=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:a,onNodeClick:s,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:g,onSelectionStart:y,onSelectionEnd:x,connectionLineType:v,connectionLineStyle:b,connectionLineComponent:_,connectionLineContainerStyle:A,selectionKeyCode:T,selectionOnDrag:M,selectionMode:I,multiSelectionKeyCode:O,panActivationKeyCode:P,zoomActivationKeyCode:k,deleteKeyCode:N,onlyRenderVisibleElements:L,elementsSelectable:B,selectNodesOnDrag:D,defaultViewport:V,translateExtent:F,minZoom:H,maxZoom:q,preventScrolling:W,defaultMarkerColor:z,zoomOnScroll:$,zoomOnPinch:Z,panOnScroll:G,panOnScrollSpeed:ie,panOnScrollMode:ue,zoomOnDoubleClick:te,panOnDrag:ae,onPaneClick:he,onPaneMouseEnter:le,onPaneMouseMove:be,onPaneMouseLeave:Ie,onPaneScroll:fe,onPaneContextMenu:Ye,onEdgeContextMenu:we,onEdgeMouseEnter:Te,onEdgeMouseMove:Ee,onEdgeMouseLeave:ke,onReconnect:Y,onReconnectStart:xe,onReconnectEnd:ye,reconnectRadius:me,noDragClassName:Pe,noWheelClassName:K,noPanClassName:j,elevateEdgesOnSelect:ee,disableKeyboardA11y:re,nodeOrigin:se,nodeExtent:ce,rfId:Oe})=>{const De=qG(t,GNe),Ge=qG(e,ZNe);return hRe(a),He.createElement(VNe,{onPaneClick:he,onPaneMouseEnter:le,onPaneMouseMove:be,onPaneMouseLeave:Ie,onPaneContextMenu:Ye,onPaneScroll:fe,deleteKeyCode:N,selectionKeyCode:T,selectionOnDrag:M,selectionMode:I,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:O,panActivationKeyCode:P,zoomActivationKeyCode:k,elementsSelectable:B,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:$,zoomOnPinch:Z,zoomOnDoubleClick:te,panOnScroll:G,panOnScrollSpeed:ie,panOnScrollMode:ue,panOnDrag:ae,defaultViewport:V,translateExtent:F,minZoom:H,maxZoom:q,onSelectionContextMenu:g,preventScrolling:W,noDragClassName:Pe,noWheelClassName:K,noPanClassName:j,disableKeyboardA11y:re},He.createElement(dRe,null,He.createElement(uRe,{edgeTypes:Ge,onEdgeClick:o,onEdgeDoubleClick:c,onlyRenderVisibleElements:L,onEdgeContextMenu:we,onEdgeMouseEnter:Te,onEdgeMouseMove:Ee,onEdgeMouseLeave:ke,onReconnect:Y,onReconnectStart:xe,onReconnectEnd:ye,reconnectRadius:me,defaultMarkerColor:z,noPanClassName:j,elevateEdgesOnSelect:!!ee,disableKeyboardA11y:re,rfId:Oe},He.createElement(gRe,{style:b,type:v,component:_,containerStyle:A})),He.createElement("div",{className:"react-flow__edgelabel-renderer"}),He.createElement(qNe,{nodeTypes:De,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:D,onlyRenderVisibleElements:L,noPanClassName:j,noDragClassName:Pe,disableKeyboardA11y:re,nodeOrigin:se,nodeExtent:ce,rfId:Oe})))};Qre.displayName="GraphView";var vRe=E.memo(Qre);const jD=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],jf={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:jD,nodeExtent:jD,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Xp.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:$ke,isValidConnection:void 0},yRe=()=>e3e((t,e)=>({...jf,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=e();t({nodeInternals:cN(n,r,i,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",a=typeof r<"u",s=i?cN(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:s,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:s,fitViewOnInitOptions:o,domNode:l,nodeOrigin:c}=e(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const f=window.getComputedStyle(u),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((y,x)=>{const v=i.get(x.id);if(v!=null&&v.hidden)i.set(v.id,{...v,[ni]:{...v[ni],handleBounds:void 0}});else if(v){const b=kU(x.nodeElement);!!(b.width&&b.height&&(v.width!==b.width||v.height!==b.height||x.forceUpdate))&&(i.set(v.id,{...v,[ni]:{...v[ni],handleBounds:{source:jG(".source",x.nodeElement,d,c),target:jG(".target",x.nodeElement,d,c)}},...b}),y.push({id:v.id,type:"dimensions",dimensions:b}))}return y},[]);Fre(i,c);const g=s||a&&!s&&jre(e,{initial:!0,...o});t({nodeInternals:new Map(i),fitViewOnInitDone:g}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:a}=e(),s=n.map(o=>{const l={id:o.id,type:"position",dragging:i};return r&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});a(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:s,getNodes:o,elevateNodesOnSelect:l}=e();if(n!=null&&n.length){if(a){const c=Vre(n,o()),u=cN(c,i,s,l);t({nodeInternals:u})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=e();let s,o=null;r?s=n.map(l=>Qf(l,!0)):(s=fv(a(),n),o=fv(i,[])),tE({changedNodes:s,changedEdges:o,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=e();let s,o=null;r?s=n.map(l=>Qf(l,!0)):(s=fv(i,n),o=fv(a(),[])),tE({changedNodes:o,changedEdges:s,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:a}=e(),s=n||a(),o=r||i,l=s.map(u=>(u.selected=!1,Qf(u.id,!1))),c=o.map(u=>Qf(u.id,!1));tE({changedNodes:l,changedEdges:c,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=e();r==null||r.scaleExtent([n,i]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=e();r==null||r.scaleExtent([i,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),a=r().filter(o=>o.selected).map(o=>Qf(o.id,!1)),s=n.filter(o=>o.selected).map(o=>Qf(o.id,!1));tE({changedNodes:a,changedEdges:s,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(i=>{i.positionAbsolute=NU(i.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:a,d3Zoom:s,d3Selection:o,translateExtent:l}=e();if(!s||!o||!n.x&&!n.y)return!1;const c=Rd.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[i,a]],f=s==null?void 0:s.constrain()(c,u,l);return s.transform(o,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>t({connectionNodeId:jf.connectionNodeId,connectionHandleId:jf.connectionHandleId,connectionHandleType:jf.connectionHandleType,connectionStatus:jf.connectionStatus,connectionStartHandle:jf.connectionStartHandle,connectionEndHandle:jf.connectionEndHandle}),reset:()=>t({...jf})}),Object.is),GU=({children:t})=>{const e=E.useRef(null);return e.current||(e.current=yRe()),He.createElement(zke,{value:e.current},t)};GU.displayName="ReactFlowProvider";const eie=({children:t})=>E.useContext(VP)?He.createElement(He.Fragment,null,t):He.createElement(GU,null,t);eie.displayName="ReactFlowWrapper";const xRe={input:kre,default:zD,output:Rre,group:BU},bRe={default:iT,straight:UU,step:LU,smoothstep:HP,simplebezier:DU},_Re=[0,0],wRe=[15,15],SRe={x:0,y:0,zoom:1},ERe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},tie=E.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a=xRe,edgeTypes:s=bRe,onNodeClick:o,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:g,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:v,onNodeMouseEnter:b,onNodeMouseMove:_,onNodeMouseLeave:A,onNodeContextMenu:T,onNodeDoubleClick:M,onNodeDragStart:I,onNodeDrag:O,onNodeDragStop:P,onNodesDelete:k,onEdgesDelete:N,onSelectionChange:L,onSelectionDragStart:B,onSelectionDrag:D,onSelectionDragStop:V,onSelectionContextMenu:F,onSelectionStart:H,onSelectionEnd:q,connectionMode:W=Xp.Strict,connectionLineType:z=fd.Bezier,connectionLineStyle:$,connectionLineComponent:Z,connectionLineContainerStyle:G,deleteKeyCode:ie="Backspace",selectionKeyCode:ue="Shift",selectionOnDrag:te=!1,selectionMode:ae=I1.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:le=nT()?"Meta":"Control",zoomActivationKeyCode:be=nT()?"Meta":"Control",snapToGrid:Ie=!1,snapGrid:fe=wRe,onlyRenderVisibleElements:Ye=!1,selectNodesOnDrag:we=!0,nodesDraggable:Te,nodesConnectable:Ee,nodesFocusable:ke,nodeOrigin:Y=_Re,edgesFocusable:xe,edgesUpdatable:ye,elementsSelectable:me,defaultViewport:Pe=SRe,minZoom:K=.5,maxZoom:j=2,translateExtent:ee=jD,preventScrolling:re=!0,nodeExtent:se,defaultMarkerColor:ce="#b1b1b7",zoomOnScroll:Oe=!0,zoomOnPinch:De=!0,panOnScroll:Ge=!1,panOnScrollSpeed:rt=.5,panOnScrollMode:Re=up.Free,zoomOnDoubleClick:Ue=!0,panOnDrag:Be=!0,onPaneClick:Je,onPaneMouseEnter:We,onPaneMouseMove:ut,onPaneMouseLeave:pe,onPaneScroll:Me,onPaneContextMenu:Ze,children:xt,onEdgeContextMenu:Ke,onEdgeDoubleClick:ze,onEdgeMouseEnter:at,onEdgeMouseMove:Tt,onEdgeMouseLeave:wt,onEdgeUpdate:zt,onEdgeUpdateStart:On,onEdgeUpdateEnd:Mn,onReconnect:Bn,onReconnectStart:Dr,onReconnectEnd:qr,reconnectRadius:mi=10,edgeUpdaterRadius:Cr=10,onNodesChange:Xr,onEdgesChange:Dt,noDragClassName:sr="nodrag",noWheelClassName:Di="nowheel",noPanClassName:X="nopan",fitView:ne=!1,fitViewOptions:ge,connectOnClick:Le=!0,attributionPosition:Ve,proOptions:$e,defaultEdgeOptions:lt,elevateNodesOnSelect:it=!0,elevateEdgesOnSelect:ht=!1,disableKeyboardA11y:ft=!1,autoPanOnConnect:mt=!0,autoPanOnNodeDrag:je=!0,connectionRadius:J=20,isValidConnection:de,onError:Se,style:Ae,id:_e,nodeDragThreshold:Qe,...st},et)=>{const gt=_e||"1";return He.createElement("div",{...st,style:{...Ae,...ERe},ref:et,className:os(["react-flow",i]),"data-testid":"rf__wrapper",id:_e},He.createElement(eie,null,He.createElement(vRe,{onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:b,onNodeMouseMove:_,onNodeMouseLeave:A,onNodeContextMenu:T,onNodeDoubleClick:M,nodeTypes:a,edgeTypes:s,connectionLineType:z,connectionLineStyle:$,connectionLineComponent:Z,connectionLineContainerStyle:G,selectionKeyCode:ue,selectionOnDrag:te,selectionMode:ae,deleteKeyCode:ie,multiSelectionKeyCode:le,panActivationKeyCode:he,zoomActivationKeyCode:be,onlyRenderVisibleElements:Ye,selectNodesOnDrag:we,defaultViewport:Pe,translateExtent:ee,minZoom:K,maxZoom:j,preventScrolling:re,zoomOnScroll:Oe,zoomOnPinch:De,zoomOnDoubleClick:Ue,panOnScroll:Ge,panOnScrollSpeed:rt,panOnScrollMode:Re,panOnDrag:Be,onPaneClick:Je,onPaneMouseEnter:We,onPaneMouseMove:ut,onPaneMouseLeave:pe,onPaneScroll:Me,onPaneContextMenu:Ze,onSelectionContextMenu:F,onSelectionStart:H,onSelectionEnd:q,onEdgeContextMenu:Ke,onEdgeDoubleClick:ze,onEdgeMouseEnter:at,onEdgeMouseMove:Tt,onEdgeMouseLeave:wt,onReconnect:Bn??zt,onReconnectStart:Dr??On,onReconnectEnd:qr??Mn,reconnectRadius:mi??Cr,defaultMarkerColor:ce,noDragClassName:sr,noWheelClassName:Di,noPanClassName:X,elevateEdgesOnSelect:ht,rfId:gt,disableKeyboardA11y:ft,nodeOrigin:Y,nodeExtent:se}),He.createElement(pNe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:g,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:v,nodesDraggable:Te,nodesConnectable:Ee,nodesFocusable:ke,edgesFocusable:xe,edgesUpdatable:ye,elementsSelectable:me,elevateNodesOnSelect:it,minZoom:K,maxZoom:j,nodeExtent:se,onNodesChange:Xr,onEdgesChange:Dt,snapToGrid:Ie,snapGrid:fe,connectionMode:W,translateExtent:ee,connectOnClick:Le,defaultEdgeOptions:lt,fitView:ne,fitViewOptions:ge,onNodesDelete:k,onEdgesDelete:N,onNodeDragStart:I,onNodeDrag:O,onNodeDragStop:P,onSelectionDrag:D,onSelectionDragStart:B,onSelectionDragStop:V,noPanClassName:X,nodeOrigin:Y,rfId:gt,autoPanOnConnect:mt,autoPanOnNodeDrag:je,onError:Se,connectionRadius:J,isValidConnection:de,nodeDragThreshold:Qe}),He.createElement(dNe,{onSelectionChange:L}),xt,He.createElement(jke,{proOptions:$e,position:Ve}),He.createElement(xNe,{rfId:gt,disableKeyboardA11y:ft})))});tie.displayName="ReactFlow";function nie(t){return e=>{const[n,r]=E.useState(e),i=E.useCallback(a=>r(s=>t(a,s)),[]);return[n,r,i]}}const ARe=nie(Vre),MRe=nie(NNe);function TRe(){return He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},He.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function CRe(){return He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},He.createElement("path",{d:"M0 0h32v4.2H0z"}))}function PRe(){return He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},He.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function IRe(){return He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},He.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ORe(){return He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},He.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ob=({children:t,className:e,...n})=>He.createElement("button",{type:"button",className:os(["react-flow__controls-button",e]),...n},t);ob.displayName="ControlButton";const kRe=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),rie=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:s,onFitView:o,onInteractiveChange:l,className:c,children:u,position:f="bottom-left"})=>{const d=ua(),[h,g]=E.useState(!1),{isInteractive:y,minZoomReached:x,maxZoomReached:v}=Wr(kRe,Ba),{zoomIn:b,zoomOut:_,fitView:A}=VU();if(E.useEffect(()=>{g(!0)},[]),!h)return null;const T=()=>{b(),a==null||a()},M=()=>{_(),s==null||s()},I=()=>{A(i),o==null||o()},O=()=>{d.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)};return He.createElement(dre,{className:os(["react-flow__controls",c]),position:f,style:t,"data-testid":"rf__controls"},e&&He.createElement(He.Fragment,null,He.createElement(ob,{onClick:T,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},He.createElement(TRe,null)),He.createElement(ob,{onClick:M,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x},He.createElement(CRe,null))),n&&He.createElement(ob,{className:"react-flow__controls-fitview",onClick:I,title:"fit view","aria-label":"fit view"},He.createElement(PRe,null)),r&&He.createElement(ob,{className:"react-flow__controls-interactive",onClick:O,title:"toggle interactivity","aria-label":"toggle interactivity"},y?He.createElement(ORe,null):He.createElement(IRe,null)),u)};rie.displayName="Controls";var NRe=E.memo(rie),Rl;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Rl||(Rl={}));function RRe({color:t,dimensions:e,lineWidth:n}){return He.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function DRe({color:t,radius:e}){return He.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const LRe={[Rl.Dots]:"#91919a",[Rl.Lines]:"#eee",[Rl.Cross]:"#e2e2e2"},URe={[Rl.Dots]:1,[Rl.Lines]:1,[Rl.Cross]:6},zRe=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function iie({id:t,variant:e=Rl.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=2,color:s,style:o,className:l}){const c=E.useRef(null),{transform:u,patternId:f}=Wr(zRe,Ba),d=s||LRe[e],h=r||URe[e],g=e===Rl.Dots,y=e===Rl.Cross,x=Array.isArray(n)?n:[n,n],v=[x[0]*u[2]||1,x[1]*u[2]||1],b=h*u[2],_=y?[b,b]:v,A=g?[b/a,b/a]:[_[0]/a,_[1]/a];return He.createElement("svg",{className:os(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},He.createElement("pattern",{id:f+t,x:u[0]%v[0],y:u[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`},g?He.createElement(DRe,{color:d,radius:b/a}):He.createElement(RRe,{dimensions:_,color:d,lineWidth:i})),He.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+t})`}))}iie.displayName="Background";var FRe=E.memo(iie);const GP=({onFileUpload:t,isProcessing:e})=>{const n=E.useCallback(s=>{if(s.length>0){const o=s[0];let l="pdf";o.type.startsWith("image/")?l="image":o.type.startsWith("audio/")&&(l="audio"),t(o,l)}},[t]),{getRootProps:r,getInputProps:i,isDragActive:a}=sU({onDrop:n,accept:{"application/pdf":[".pdf"],"image/*":[".png",".jpg",".jpeg",".webp"],"audio/*":[".mp3",".wav",".m4a",".ogg"]},multiple:!1,disabled:e});return S.jsxs("div",{...r(),className:`
                relative group cursor-pointer 
                border-2 border-dashed rounded-xl p-6
                transition-all duration-300
                flex flex-col items-center justify-center gap-3
                ${a?"border-orange-500 bg-orange-500/10 scale-[1.02]":"border-white/10 hover:border-orange-500/50 hover:bg-white/5"}
                ${e?"opacity-50 cursor-not-allowed":""}
            `,children:[S.jsx("input",{...i()}),e?S.jsx(Jo,{className:"w-8 h-8 text-orange-500 animate-spin"}):S.jsx("div",{className:"p-3 rounded-full bg-white/5 group-hover:bg-orange-500/20 transition-colors",children:S.jsx(Ote,{className:`w-6 h-6 ${a?"text-orange-500":"text-gray-400 group-hover:text-orange-500"}`})}),S.jsxs("div",{className:"text-center space-y-1",children:[S.jsx("p",{className:"text-sm font-medium text-gray-300 group-hover:text-white transition-colors",children:a?"Drop source here":"Drag & drop source"}),S.jsx("p",{className:"text-xs text-gray-500",children:"PDF, Image, or Audio"})]}),S.jsxs("div",{className:"flex gap-2 mt-2 opacity-0 group-hover:opacity-50 transition-opacity",children:[S.jsx(Wp,{size:14}),S.jsx(Owe,{size:14}),S.jsx(Kwe,{size:14})]})]})},aie=E.memo(({data:t,isConnectable:e,selected:n})=>{const{label:r,isExpanded:i,hasChildren:a,onToggle:s,id:o}=t,l=c=>{c.stopPropagation(),a&&s(o)};return S.jsxs("div",{className:"group relative flex items-center",children:[S.jsx(m0,{type:"target",position:jt.Left,isConnectable:e,className:"!bg-neutral-500 !w-1.5 !h-1.5 !border-none opacity-0 group-hover:opacity-100 transition-opacity"}),S.jsxs("div",{className:`
                    relative rounded-full border transition-all duration-300 flex items-center justify-between gap-3
                    ${i?"px-3 py-1.5 min-w-[100px] max-w-[200px]":"px-4 py-2.5 min-w-[120px] max-w-[250px]"}
                    ${n?"bg-neutral-900 border-orange-500 shadow-[0_0_20px_rgba(249,115,22,0.2)] scale-105":"bg-neutral-900 border-neutral-800 hover:border-neutral-600 hover:bg-neutral-800"}
                `,children:[a&&S.jsx("div",{className:`absolute -right-3 top-1/2 -translate-y-1/2 w-3 h-[1px] ${i?"bg-orange-500/50":"bg-neutral-800"}`}),S.jsx("span",{className:`font-medium leading-snug truncate transition-all duration-300 ${n?"text-white":"text-neutral-300"} ${i?"text-xs":"text-sm"}`,children:r}),a&&S.jsx("div",{onClick:l,className:`
                            p-0.5 rounded-full transition-colors hover:bg-white/10 shrink-0
                            ${i?"text-orange-500":"text-neutral-600"}
                        `,children:i?S.jsx(kP,{size:14}):S.jsx(rU,{size:14})})]}),S.jsx(m0,{type:"source",position:jt.Right,isConnectable:e,className:"!bg-neutral-500 !w-1.5 !h-1.5 !border-none opacity-0 group-hover:opacity-100 transition-opacity"})]})});aie.displayName="MindMapNode";const jRe={mindmap:aie},BRe=(t,e)=>{const n=new Map(t.map(u=>[u.id,u])),r=new Map;e.forEach(u=>{const f=r.get(u.source)||[];f.push(u.target),r.set(u.source,f)});const i=new Set(e.map(u=>u.target)),a=t.filter(u=>!i.has(u.id));let s=0;const o=320,l=60,c=(u,f)=>{const d=r.get(u)||[];if(d.length===0){const x=n.get(u);x&&(x.position={x:f*o,y:s},s+=l);return}const h=s;d.forEach(x=>c(x,f+1));const g=s-l,y=n.get(u);if(y){const x=(h+g)/2;y.position={x:f*o,y:x}}};return a.forEach(u=>c(u.id,0)),{nodes:t,edges:e}},VRe=({sources:t,onFileUpload:e,isProcessing:n,initialTopic:r,restoredContent:i,onClearRestored:a})=>{const[s,o,l]=ARe([]),[c,u,f]=MRe([]),[d,h]=E.useState(""),[g,y]=E.useState(!1),[x,v]=E.useState(null),[b,_]=E.useState(null);E.useEffect(()=>{r&&h(r)},[r]),E.useEffect(()=>{i&&i.nodes&&i.edges&&(console.log("[MindMap] Restoring content:",i),o(i.nodes),u(i.edges),i.topic&&h(i.topic),a&&setTimeout(a,100))},[i,a,o,u]);const A=He.useRef(c);E.useEffect(()=>{A.current=c},[c]);const T=E.useCallback(H=>u(q=>_re(H,q)),[u]),M=E.useCallback(H=>{o(q=>{const W=q.find(ie=>ie.id===H);if(!W)return q;const z=!W.data.isExpanded,$=(ie,ue,te)=>{const ae=ie.find(le=>le.id===ue);if(!ae||!ae.data.childrenIds)return ie;let he=[...ie];return ae.data.childrenIds.forEach(le=>{const be=he.findIndex(Ie=>Ie.id===le);if(be!==-1){const Ie=he[be],fe=te;he[be]={...Ie,hidden:!fe},he=$(he,le,fe&&Ie.data.isExpanded)}}),he},Z=q.map(ie=>ie.id===H?{...ie,data:{...ie.data,isExpanded:z}}:ie),G=$(Z,H,z);return setTimeout(()=>{if(b)if(z){const ie=G.find(ae=>ae.id===H),ue=(ie==null?void 0:ie.data.childrenIds)||[],te=G.filter(ae=>ae.id===H||ue.includes(ae.id));b.fitView({nodes:te.map(ae=>({id:ae.id})),duration:1200,padding:.3,minZoom:.5,maxZoom:1.5})}else b.fitView({duration:800,padding:.2})},100),G})},[o,b]);E.useEffect(()=>{u(H=>H.map(q=>{const W=s.find($=>$.id===q.source),z=s.find($=>$.id===q.target);return W!=null&&W.hidden||z!=null&&z.hidden?{...q,hidden:!0}:{...q,hidden:!1}}))},[s,u]);const[I,O]=E.useState(!1),P=async()=>{if(!d)return;y(!0),v(null);const H=t.map(q=>q.content||q.text||"").join(`

`).slice(0,2e4);try{const q=await fetch("/api/generate-mindmap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:d,context:H})});if(!q.ok)throw new Error(`Failed: ${q.statusText}`);const W=await q.json();if(W.error)throw new Error(W.error);const z=[],$=[],Z=(ae,he=null,le=0)=>{const be=Math.random().toString(36).substr(2,9),Ie=he===null,fe=[];return ae.children&&ae.children.forEach(Ye=>{const we=Z(Ye,be,le+1);fe.push(we)}),z.push({id:be,type:"mindmap",data:{label:ae.label,details:ae.details,isExpanded:le===0,hasChildren:fe.length>0,childrenIds:fe,onToggle:M,id:be},position:{x:0,y:0},hidden:le>1}),he&&$.push({id:`e${he}-${be}`,source:he,target:be,type:"smoothstep",animated:!0,style:{stroke:"#f97316",strokeWidth:2}}),be};Z(W);const{nodes:G,edges:ie}=BRe(z,$);o(G),u(ie);const te=bm("ares_studio_history",d,"Mind Map")[0].id;localStorage.setItem(`ares_studio_${te}`,JSON.stringify({content:{nodes:G,edges:ie},tab:"mindmap",topic:d}))}catch(q){console.error(q),v(q.message||"Error generating mindmap")}finally{y(!1)}},[k,N]=E.useState(null),L=E.useCallback((H,q)=>{N(q.id)},[]),B=E.useCallback(()=>{N(null)},[]),D=E.useMemo(()=>{if(!k)return null;const H=s.find(q=>q.id===k);return H?H.data:null},[k,s]),V=He.useRef(null),F=E.useCallback(async()=>{if(V.current)if(document.fullscreenElement)document.exitFullscreen&&(await document.exitFullscreen(),O(!1));else try{await V.current.requestFullscreen(),O(!0)}catch(H){console.error("Error attempting to enable fullscreen:",H)}},[]);return E.useEffect(()=>{const H=()=>{O(!!document.fullscreenElement),b&&setTimeout(()=>b.fitView(),100)};return document.addEventListener("fullscreenchange",H),()=>document.removeEventListener("fullscreenchange",H)},[b]),S.jsxs("div",{ref:V,className:`flex flex-col relative transition-all duration-300 ${I?"bg-black":"h-full bg-black"} overflow-hidden`,children:[S.jsx("style",{children:`
                @keyframes scan {
                    0%, 100% { top: 0; }
                    50% { top: 100%; }
                }
                .animate-scan {
                    animation: scan 2s ease-in-out infinite;
                }
            `}),I?S.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-black/40 backdrop-blur-sm relative z-50",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:S.jsx(Bd,{size:20,className:"text-orange-500"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold text-white",children:d||"Mindmap"}),S.jsx("p",{className:"text-xs text-neutral-400",children:"Fullscreen Mode"})]})]}),S.jsxs("button",{onClick:F,className:"p-2 hover:bg-white/10 rounded-lg text-white/70 hover:text-white transition-colors flex items-center gap-2 cursor-pointer",children:[S.jsx(S1,{size:20})," ",S.jsx("span",{className:"text-sm font-medium",children:"Exit Fullscreen"})]})]}):S.jsxs("div",{className:"p-4 flex gap-2 border-b border-white/10 bg-black/20 relative z-10",children:[S.jsx("input",{type:"text",value:d,onChange:H=>h(H.target.value),placeholder:"Enter a topic...",className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-orange-500 placeholder-neutral-600"}),S.jsxs("button",{onClick:P,disabled:g||!d,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 transition-colors shadow-lg shadow-orange-900/20",children:[g?S.jsx(Jo,{className:"animate-spin",size:18}):S.jsx(Du,{size:18}),"Generate"]}),s.length>0&&S.jsx("button",{onClick:F,className:"bg-white/5 hover:bg-white/10 text-white px-3 py-2 rounded-lg transition-colors border border-white/10",title:"Fullscreen",children:S.jsx(Bd,{size:18})})]}),x&&!I&&S.jsx("div",{className:"mx-4 mt-4 bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm relative z-10",children:x}),t.length===0&&!I&&S.jsx("div",{className:"p-4 relative z-10",children:S.jsx(GP,{onFileUpload:e,isProcessing:n})}),s.length===0&&!g&&!x&&t.length>0&&S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-neutral-500 z-10 pointer-events-none",children:[S.jsx("div",{className:"w-24 h-24 bg-neutral-900 rounded-full flex items-center justify-center mb-6 border border-neutral-800",children:S.jsx(Pte,{size:48,className:"opacity-20"})}),S.jsx("p",{className:"text-xl font-medium text-neutral-400",children:"Ready to generate your mindmap"}),S.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Enter a topic above to begin"})]}),S.jsxs("div",{className:"flex-1 relative flex overflow-hidden z-0",children:[S.jsx("div",{className:"flex-1 relative",children:S.jsx(GU,{children:S.jsxs(tie,{nodes:s,edges:c,onNodesChange:l,onEdgesChange:f,onConnect:T,onNodeClick:L,onPaneClick:B,onInit:_,nodeTypes:jRe,fitView:!0,fitViewOptions:{padding:.2,minZoom:.5,maxZoom:2},minZoom:.1,className:"bg-transparent",children:[S.jsx(FRe,{color:"#333",gap:24,size:1,className:"opacity-20"}),S.jsx(NRe,{className:"bg-neutral-900 border-neutral-800 [&>button]:bg-neutral-900 [&>button]:border-neutral-800 [&>button]:text-neutral-400 [&>button:hover]:bg-neutral-800 [&>button:hover]:text-white [&>button]:transition-colors"})]})})}),D&&S.jsxs("div",{className:"w-80 border-l border-white/10 bg-black/80 backdrop-blur-xl p-6 overflow-y-auto animate-in slide-in-from-right duration-300 absolute right-0 top-0 bottom-0 z-10 shadow-2xl",children:[S.jsxs("div",{className:"flex items-start justify-between mb-6",children:[S.jsx("h3",{className:"text-xl font-bold text-white leading-tight",children:D.label}),S.jsx("button",{onClick:()=>N(null),className:"p-1 hover:bg-white/10 rounded text-neutral-400 hover:text-white",children:S.jsx(S1,{size:16,className:"rotate-45"})})]}),S.jsx("div",{className:"prose prose-invert prose-sm",children:S.jsx("p",{className:"text-neutral-300 leading-relaxed text-base",children:D.details||"No additional details available."})}),D.hasChildren&&S.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[S.jsx("p",{className:"text-xs font-medium text-orange-500 uppercase tracking-wider mb-3",children:"Subtopics"}),S.jsx("div",{className:"space-y-2",children:s.filter(H=>c.some(q=>q.source===D.id&&q.target===H.id)).map(H=>S.jsx("button",{onClick:()=>N(H.id),className:"block w-full text-left px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-sm text-neutral-300 transition-colors border border-white/5 hover:border-orange-500/30",children:H.data.label},H.id))})]})]})]})]})};function sie(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=sie(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=sie(t))&&(r&&(r+=" "),r+=e);return r}var HRe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function WU(t){if(typeof t!="string")return!1;var e=HRe;return e.includes(t)}var GRe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WRe=new Set(GRe);function oie(t){return typeof t!="string"?!1:WRe.has(t)}function lie(t){return typeof t=="string"&&t.startsWith("data-")}function Xn(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(oie(n)||lie(n))&&(e[n]=t[n]);return e}function zl(t){if(t==null)return null;if(E.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Xn(e)}return typeof t=="object"&&!Array.isArray(t)?Xn(t):null}function fi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(oie(n)||lie(n)||WU(n))&&(e[n]=t[n]);return e}function $Re(t){return t==null?null:E.isValidElement(t)?fi(t.props):typeof t=="object"&&!Array.isArray(t)?fi(t):null}var qRe=["children","width","height","viewBox","className","style","title","desc"];function BD(){return BD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BD.apply(null,arguments)}function XRe(t,e){if(t==null)return{};var n,r,i=KRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $U=E.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=t,u=XRe(t,qRe),f=a||{width:r,height:i,x:0,y:0},d=tn("recharts-surface",s);return E.createElement("svg",BD({},fi(u),{className:d,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),E.createElement("title",null,l),E.createElement("desc",null,c),n)}),YRe=["children","className"];function VD(){return VD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VD.apply(null,arguments)}function ZRe(t,e){if(t==null)return{};var n,r,i=JRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dn=E.forwardRef((t,e)=>{var{children:n,className:r}=t,i=ZRe(t,YRe),a=tn("recharts-layer",r);return E.createElement("g",VD({className:a},fi(i),{ref:e}),n)}),cie=E.createContext(null),QRe=()=>E.useContext(cie);function pr(t){return function(){return t}}const uie=Math.cos,aT=Math.sin,Gl=Math.sqrt,sT=Math.PI,WP=2*sT,HD=Math.PI,GD=2*HD,tp=1e-6,e2e=GD-tp;function fie(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function t2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fie;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let n2e=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fie:t2e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,f=o-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>tp)if(!(Math.abs(f*l-c*u)>tp)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,g=i-o,y=l*l+c*c,x=h*h+g*g,v=Math.sqrt(y),b=Math.sqrt(d),_=a*Math.tan((HD-Math.acos((y+d-x)/(2*v*b)))/2),A=_/b,T=_/v;Math.abs(A-1)>tp&&this._append`L${e+A*u},${n+A*f}`,this._append`A${a},${a},0,0,${+(f*h>u*g)},${this._x1=e+T*l},${this._y1=n+T*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>tp||Math.abs(this._y1-u)>tp)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%GD+GD),d>e2e?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>tp&&this._append`A${r},${r},0,${+(d>=HD)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function qU(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new n2e(e)}function XU(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function die(t){this._context=t}die.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $P(t){return new die(t)}function hie(t){return t[0]}function pie(t){return t[1]}function mie(t,e){var n=pr(!0),r=null,i=$P,a=null,s=qU(o);t=typeof t=="function"?t:t===void 0?hie:pr(t),e=typeof e=="function"?e:e===void 0?pie:pr(e);function o(l){var c,u=(l=XU(l)).length,f,d=!1,h;for(r==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:pr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:pr(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:pr(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function rE(t,e,n){var r=null,i=pr(!0),a=null,s=$P,o=null,l=qU(c);t=typeof t=="function"?t:t===void 0?hie:pr(+t),e=typeof e=="function"?e:pr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?pie:pr(+n);function c(f){var d,h,g,y=(f=XU(f)).length,x,v=!1,b,_=new Array(y),A=new Array(y);for(a==null&&(o=s(b=l())),d=0;d<=y;++d){if(!(d<y&&i(x=f[d],d,f))===v)if(v=!v)h=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=d-1;g>=h;--g)o.point(_[g],A[g]);o.lineEnd(),o.areaEnd()}v&&(_[d]=+t(x,d,f),A[d]=+e(x,d,f),o.point(r?+r(x,d,f):_[d],n?+n(x,d,f):A[d]))}if(b)return o=null,b+""||null}function u(){return mie().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:pr(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:pr(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pr(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:pr(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:pr(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pr(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:pr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class gie{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function r2e(t){return new gie(t,!0)}function i2e(t){return new gie(t,!1)}const KU={draw(t,e){const n=Gl(e/sT);t.moveTo(n,0),t.arc(0,0,n,0,WP)}},a2e={draw(t,e){const n=Gl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},vie=Gl(1/3),s2e=vie*2,o2e={draw(t,e){const n=Gl(e/s2e),r=n*vie;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},l2e={draw(t,e){const n=Gl(e),r=-n/2;t.rect(r,r,n,n)}},c2e=.8908130915292852,yie=aT(sT/10)/aT(7*sT/10),u2e=aT(WP/10)*yie,f2e=-uie(WP/10)*yie,d2e={draw(t,e){const n=Gl(e*c2e),r=u2e*n,i=f2e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=WP*a/5,o=uie(s),l=aT(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},hN=Gl(3),h2e={draw(t,e){const n=-Gl(e/(hN*3));t.moveTo(0,n*2),t.lineTo(-hN*n,-n),t.lineTo(hN*n,-n),t.closePath()}},So=-.5,Eo=Gl(3)/2,WD=1/Gl(12),p2e=(WD/2+1)*3,m2e={draw(t,e){const n=Gl(e/p2e),r=n/2,i=n*WD,a=r,s=n*WD+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(So*r-Eo*i,Eo*r+So*i),t.lineTo(So*a-Eo*s,Eo*a+So*s),t.lineTo(So*o-Eo*l,Eo*o+So*l),t.lineTo(So*r+Eo*i,So*i-Eo*r),t.lineTo(So*a+Eo*s,So*s-Eo*a),t.lineTo(So*o+Eo*l,So*l-Eo*o),t.closePath()}};function g2e(t,e){let n=null,r=qU(i);t=typeof t=="function"?t:pr(t||KU),e=typeof e=="function"?e:pr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:pr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:pr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function oT(){}function lT(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xie(t){this._context=t}xie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v2e(t){return new xie(t)}function bie(t){this._context=t}bie.prototype={areaStart:oT,areaEnd:oT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y2e(t){return new bie(t)}function _ie(t){this._context=t}_ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function x2e(t){return new _ie(t)}function wie(t){this._context=t}wie.prototype={areaStart:oT,areaEnd:oT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function b2e(t){return new wie(t)}function XG(t){return t<0?-1:1}function KG(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(XG(a)+XG(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function YG(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pN(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function cT(t){this._context=t}cT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pN(this,this._t0,YG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pN(this,YG(this,n=KG(this,t,e)),n);break;default:pN(this,this._t0,n=KG(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Sie(t){this._context=new Eie(t)}(Sie.prototype=Object.create(cT.prototype)).point=function(t,e){cT.prototype.point.call(this,e,t)};function Eie(t){this._context=t}Eie.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function _2e(t){return new cT(t)}function w2e(t){return new Sie(t)}function Aie(t){this._context=t}Aie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ZG(t),i=ZG(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ZG(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function S2e(t){return new Aie(t)}function qP(t,e){this._context=t,this._t=e}qP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function E2e(t){return new qP(t,.5)}function A2e(t){return new qP(t,0)}function M2e(t){return new qP(t,1)}function g0(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $D(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function T2e(t,e){return t[e]}function C2e(t){const e=[];return e.key=t,e}function P2e(){var t=pr([]),e=$D,n=g0,r=T2e;function i(a){var s=Array.from(t.apply(this,arguments),C2e),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,u=XU(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:pr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:pr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?$D:typeof a=="function"?a:pr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??g0,i):n},i}function I2e(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}g0(t,e)}}function O2e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}g0(t,e)}}function k2e(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[r][1]||0,d=u[r-1][1]||0,h=(f-d)/2,g=0;g<o;++g){var y=t[e[g]],x=y[r][1]||0,v=y[r-1][1]||0;h+=x-v}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,g0(t,e)}}var H_={},YU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(YU);var G_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(G_);var W_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(W_);var $_={},Mie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Mie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mie,n=W_;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,a.push(l),l=""):l+=f:f==="["?(u=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}t.toPath=r})($_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YU,n=G_,r=W_,i=$_;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||e.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}t.get=a})(H_);var N2e=H_.get;const Kp=ca(N2e);var Oi=t=>t===0?0:t>0?1:-1,Qo=t=>typeof t=="number"&&t!=+t,Xu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,It=t=>(typeof t=="number"||t instanceof Number)&&!Qo(t),Ec=t=>It(t)||typeof t=="string",R2e=0,k1=t=>{var e=++R2e;return"".concat(t||"").concat(e)},Ta=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!It(e)&&typeof e!="string")return r;var a;if(Xu(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Qo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Tie=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Gt(t,e,n){return It(t)&&It(e)?t+n*(e-t):e}function Cie(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Kp(r,e))===n)}var D2e=t=>{for(var e=t.length,n=0,r=0,i=0,a=0,s=1/0,o=-1/0,l=0,c=0,u=0;u<e;u++)l=t[u].cx||0,c=t[u].cy||0,n+=l,r+=c,i+=l*c,a+=l*l,s=Math.min(s,l),o=Math.max(o,l);var f=e*a!==n*n?(e*i-n*r)/(e*a-n*n):0;return{xmin:s,xmax:o,a:f,b:(r-f*n)/e}},Rn=t=>t===null||typeof t>"u",q_=t=>Rn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function L2e(t){return t!=null}function X_(){}var U2e=["type","size","sizeType"];function qD(){return qD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qD.apply(null,arguments)}function JG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JG(Object(n),!0).forEach(function(r){z2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z2e(t,e,n){return(e=F2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2e(t){var e=j2e(t,"string");return typeof e=="symbol"?e:e+""}function j2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B2e(t,e){if(t==null)return{};var n,r,i=V2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function V2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pie={symbolCircle:KU,symbolCross:a2e,symbolDiamond:o2e,symbolSquare:l2e,symbolStar:d2e,symbolTriangle:h2e,symbolWye:m2e},H2e=Math.PI/180,G2e=t=>{var e="symbol".concat(q_(t));return Pie[e]||KU},W2e=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*H2e;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$2e=(t,e)=>{Pie["symbol".concat(q_(t))]=e},XP=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=B2e(t,U2e),a=QG(QG({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var d=G2e(s),h=g2e().type(d).size(W2e(n,r,s)),g=h();if(g!==null)return g},{className:l,cx:c,cy:u}=a,f=fi(a);return It(c)&&It(u)&&It(n)?E.createElement("path",qD({},f,{className:tn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};XP.registerSymbol=$2e;var Iie=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,ZU=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{WU(i)&&(r[i]=a=>n[i](n,a))}),r},q2e=(t,e,n)=>r=>(t(e,n,r),null),Wl=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];WU(i)&&typeof a=="function"&&(r||(r={}),r[i]=q2e(a,e,n))}),r},X2e=t=>Array.isArray(t)&&t.length>0;function e7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(n),!0).forEach(function(r){Y2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y2e(t,e,n){return(e=Z2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z2e(t){var e=J2e(t,"string");return typeof e=="symbol"?e:e+""}function J2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jn(t,e){var n=K2e({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(null,arguments)}function t7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(n),!0).forEach(function(r){eDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eDe(t,e,n){return(e=tDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tDe(t){var e=nDe(t,"string");return typeof e=="symbol"?e:e+""}function nDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Po=32,rDe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function iDe(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Po/2,a=Po/6,s=Po/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var c;return E.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=e.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Po,y2:i,className:"recharts-legend-icon"})}if(l==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Po,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return E.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Po/8,"h").concat(Po,"v").concat(Po*3/4,"h").concat(-Po,"z"),className:"recharts-legend-icon"});if(E.isValidElement(e.legendIcon)){var u=Q2e({},e);return delete u.legendIcon,E.cloneElement(e.legendIcon,u)}return E.createElement(XP,{fill:o,cx:i,cy:i,size:Po,sizeType:"diameter",type:l})}function aDe(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Po,height:Po},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,f)=>{var d=u.formatter||i,h=tn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?a:u.color,y=d?d(u.value,u,f):u.value;return E.createElement("li",uT({className:h,style:l,key:"legend-item-".concat(f)},Wl(t,u,f)),E.createElement($U,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(y," legend icon")},E.createElement(iDe,{data:u,iconType:s,inactiveColor:a})),E.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var sDe=t=>{var e=jn(t,rDe),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:a},E.createElement(aDe,uT({},e,{payload:n})))},Oie={},kie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(kie);var K_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(K_);var Nie={},Y0={},Rie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Rie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rie;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Y0);var Die={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Die);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y0,n=Die;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Nie);var KP={},Lie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H_;function n(r){return function(i){return e.get(i,r)}}t.property=n})(Lie);var Uie={},JU={},zie={},QU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(QU);var ez={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(ez);var tz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(tz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QU,n=ez,r=tz;function i(u,f,d){return typeof d!="function"?i(u,f,()=>{}):a(u,f,function h(g,y,x,v,b,_){const A=d(g,y,x,v,b,_);return A!==void 0?!!A:a(g,y,h,_)},new Map)}function a(u,f,d,h){if(f===u)return!0;switch(typeof f){case"object":return s(u,f,d,h);case"function":return Object.keys(f).length>0?a(u,{...f},d,h):r.eq(u,f);default:return e.isObject(u)?typeof f=="string"?f==="":!0:r.eq(u,f)}}function s(u,f,d,h){if(f==null)return!0;if(Array.isArray(f))return l(u,f,d,h);if(f instanceof Map)return o(u,f,d,h);if(f instanceof Set)return c(u,f,d,h);const g=Object.keys(f);if(u==null)return g.length===0;if(g.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===u;h==null||h.set(f,u);try{for(let y=0;y<g.length;y++){const x=g[y];if(!n.isPrimitive(u)&&!(x in u)||f[x]===void 0&&u[x]!==void 0||f[x]===null&&u[x]!==null||!d(u[x],f[x],x,u,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function o(u,f,d,h){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[g,y]of f.entries()){const x=u.get(g);if(d(x,y,g,u,f,h)===!1)return!1}return!0}function l(u,f,d,h){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const g=new Set;for(let y=0;y<f.length;y++){const x=f[y];let v=!1;for(let b=0;b<u.length;b++){if(g.has(b))continue;const _=u[b];let A=!1;if(d(_,x,y,u,f,h)&&(A=!0),A){g.add(b),v=!0;break}}if(!v)return!1}return!0}function c(u,f,d,h){return f.size===0?!0:u instanceof Set?l([...u],[...f],d,h):!1}t.isMatchWith=i,t.isSetMatch=c})(zie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zie;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(JU);var Fie={},nz={},rz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(rz);var iz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(iz);var az={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",d="[object ArrayBuffer]",h="[object Object]",g="[object Error]",y="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",_="[object Uint32Array]",A="[object BigUint64Array]",T="[object Int8Array]",M="[object Int16Array]",I="[object Int32Array]",O="[object BigInt64Array]",P="[object Float32Array]",k="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=d,t.arrayTag=u,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=A,t.booleanTag=i,t.dataViewTag=y,t.dateTag=o,t.errorTag=g,t.float32ArrayTag=P,t.float64ArrayTag=k,t.functionTag=f,t.int16ArrayTag=M,t.int32ArrayTag=I,t.int8ArrayTag=T,t.mapTag=l,t.numberTag=r,t.objectTag=h,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=b,t.uint32ArrayTag=_,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=v})(az);var sz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(sz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rz,n=iz,r=az,i=ez,a=sz;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,d,h=new Map,g=void 0){const y=g==null?void 0:g(u,f,d,h);if(y!==void 0)return y;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const x=new Array(u.length);h.set(u,x);for(let v=0;v<u.length;v++)x[v]=o(u[v],v,d,h,g);return Object.hasOwn(u,"index")&&(x.index=u.index),Object.hasOwn(u,"input")&&(x.input=u.input),x}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const x=new RegExp(u.source,u.flags);return x.lastIndex=u.lastIndex,x}if(u instanceof Map){const x=new Map;h.set(u,x);for(const[v,b]of u)x.set(v,o(b,v,d,h,g));return x}if(u instanceof Set){const x=new Set;h.set(u,x);for(const v of u)x.add(o(v,void 0,d,h,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const x=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,x);for(let v=0;v<u.length;v++)x[v]=o(u[v],v,d,h,g);return x}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const x=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,x),l(x,u,d,h,g),x}if(typeof File<"u"&&u instanceof File){const x=new File([u],u.name,{type:u.type});return h.set(u,x),l(x,u,d,h,g),x}if(typeof Blob<"u"&&u instanceof Blob){const x=new Blob([u],{type:u.type});return h.set(u,x),l(x,u,d,h,g),x}if(u instanceof Error){const x=new u.constructor;return h.set(u,x),x.message=u.message,x.name=u.name,x.stack=u.stack,x.cause=u.cause,l(x,u,d,h,g),x}if(u instanceof Boolean){const x=new Boolean(u.valueOf());return h.set(u,x),l(x,u,d,h,g),x}if(u instanceof Number){const x=new Number(u.valueOf());return h.set(u,x),l(x,u,d,h,g),x}if(u instanceof String){const x=new String(u.valueOf());return h.set(u,x),l(x,u,d,h,g),x}if(typeof u=="object"&&c(u)){const x=Object.create(Object.getPrototypeOf(u));return h.set(u,x),l(x,u,d,h,g),x}return u}function l(u,f,d=u,h,g){const y=[...Object.keys(f),...e.getSymbols(f)];for(let x=0;x<y.length;x++){const v=y[x],b=Object.getOwnPropertyDescriptor(u,v);(b==null||b.writable)&&(u[v]=o(f[v],v,d,h,g))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(nz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nz;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Fie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JU,n=Fie;function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Uie);var jie={},Bie={},oz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nz,n=az;function r(i,a){return e.cloneDeepWith(i,(s,o,l,c)=>{const u=a==null?void 0:a(s,o,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(oz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oz;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Bie);var Vie={},lz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(lz);var Hie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iz;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Hie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G_,n=lz,r=Hie,i=$_;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}t.has=a})(Vie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JU,n=W_,r=Bie,i=H_,a=Vie;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?a.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=s})(jie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K_,n=Lie,r=Uie,i=jie;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(KP);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kie,n=K_,r=Nie,i=KP;function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(Oie);var oDe=Oie.uniqBy;const n7=ca(oDe);function Gie(t,e,n){return e===!0?n7(t,n):typeof e=="function"?n7(t,e):t}var cz=E.createContext(null),lDe=t=>t,er=()=>{var t=E.useContext(cz);return t?t.store.dispatch:lDe},$A=()=>{},cDe=()=>$A,uDe=(t,e)=>t===e;function _t(t){var e=E.useContext(cz);return Dne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:cDe,e?e.store.getState:$A,e?e.store.getState:$A,e?t:$A,uDe)}function fDe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function dDe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function hDe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var r7=t=>Array.isArray(t)?t:[t];function pDe(t){const e=Array.isArray(t[0])?t[0]:t;return hDe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function mDe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var gDe=class{constructor(t){this.value=t}deref(){return this.value}},vDe=typeof WeakRef<"u"?WeakRef:gDe,yDe=0,i7=1;function iE(){return{s:yDe,v:void 0,o:null,p:null}}function Wie(t,e={}){let n=iE();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let d=0,h=l;d<h;d++){const g=arguments[d];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const x=y.get(g);x===void 0?(o=iE(),y.set(g,o)):o=x}else{let y=o.p;y===null&&(o.p=y=new Map);const x=y.get(g);x===void 0?(o=iE(),y.set(g,o)):o=x}}const c=o;let u;if(o.s===i7)u=o.v;else if(u=t.apply(null,arguments),a++,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,u)&&(u=d,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new vDe(u):u}return c.s=i7,c.v=u,u}return s.clearCache=()=>{n=iE(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function xDe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),fDe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:d=[],argsMemoize:h=Wie,argsMemoizeOptions:g=[]}=u,y=r7(d),x=r7(g),v=pDe(i),b=f(function(){return a++,c.apply(null,arguments)},...y),_=h(function(){s++;const T=mDe(v,arguments);return o=b.apply(null,T),o},...x);return Object.assign(_,{resultFunc:c,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var Ce=xDe(Wie),bDe=Object.assign((t,e=Ce)=>{dDe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>bDe}),$ie={},qie={},Xie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(Xie);var Kie={},uz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(uz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uz,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(Kie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xie,n=Kie,r=$_;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,g)=>{let y=h;for(let x=0;x<g.length&&y!=null;++x)y=y[g[x]];return y},u=(h,g)=>g==null||h==null?g:typeof h=="object"&&"key"in h?Object.hasOwn(g,h.key)?g[h.key]:c(g,h.path):typeof h=="function"?h(g):Array.isArray(h)?c(g,h):typeof g=="object"?g[h]:g,f=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||n.isKey(h)?h:{key:h,path:r.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(g=>u(g,h))})).slice().sort((h,g)=>{for(let y=0;y<f.length;y++){const x=e.compareValues(h.criteria[y],g.criteria[y],o[y]);if(x!==0)return x}return 0}).map(h=>h.original)}t.orderBy=i})(qie);var Yie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<a?s(u,l+1):i.push(u)}};return s(n,0),i}t.flatten=e})(Yie);var fz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lz,n=Y0,r=QU,i=tz;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}t.isIterateeCall=a})(fz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qie,n=Yie,r=fz;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})($ie);var _De=$ie.sortBy;const YP=ca(_De);var Zie=t=>t.legend.settings,wDe=t=>t.legend.size,SDe=t=>t.legend.payload,EDe=Ce([SDe,Zie],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?YP(r,n):r});function ADe(){return _t(EDe)}var aE=1;function Jie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>aE||Math.abs(s.left-e.left)>aE||Math.abs(s.top-e.top)>aE||Math.abs(s.width-e.width)>aE)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function xa(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var MDe=typeof Symbol=="function"&&Symbol.observable||"@@observable",a7=MDe,mN=()=>Math.random().toString(36).substring(7).split("").join("."),TDe={INIT:`@@redux/INIT${mN()}`,REPLACE:`@@redux/REPLACE${mN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mN()}`},fT=TDe;function dz(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Qie(t,e,n){if(typeof t!="function")throw new Error(xa(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xa(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xa(1));return n(Qie)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((x,v)=>{s.set(v,x)}))}function u(){if(l)throw new Error(xa(3));return i}function f(x){if(typeof x!="function")throw new Error(xa(4));if(l)throw new Error(xa(5));let v=!0;c();const b=o++;return s.set(b,x),function(){if(v){if(l)throw new Error(xa(6));v=!1,c(),s.delete(b),a=null}}}function d(x){if(!dz(x))throw new Error(xa(7));if(typeof x.type>"u")throw new Error(xa(8));if(typeof x.type!="string")throw new Error(xa(17));if(l)throw new Error(xa(9));try{l=!0,i=r(i,x)}finally{l=!1}return(a=s).forEach(b=>{b()}),x}function h(x){if(typeof x!="function")throw new Error(xa(10));r=x,d({type:fT.REPLACE})}function g(){const x=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(xa(11));function b(){const A=v;A.next&&A.next(u())}return b(),{unsubscribe:x(b)}},[a7](){return this}}}return d({type:fT.INIT}),{dispatch:d,subscribe:f,getState:u,replaceReducer:h,[a7]:g}}function CDe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:fT.INIT})>"u")throw new Error(xa(12));if(typeof n(void 0,{type:fT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xa(13))})}function eae(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{CDe(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],d=n[f],h=s[f],g=d(h,o);if(typeof g>"u")throw o&&o.type,new Error(xa(14));c[f]=g,l=l||g!==h}return l=l||r.length!==Object.keys(s).length,l?c:s}}function dT(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function PDe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(xa(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=t.map(l=>l(s));return a=dT(...o)(i.dispatch),{...i,dispatch:a}}}function tae(t){return dz(t)&&"type"in t&&typeof t.type=="string"}var nae=Symbol.for("immer-nothing"),s7=Symbol.for("immer-draftable"),as=Symbol.for("immer-state");function Pl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var no=Object,v0=no.getPrototypeOf,hT="constructor",ZP="prototype",XD="configurable",pT="enumerable",qA="writable",N1="value",Ku=t=>!!t&&!!t[as];function Fl(t){var e;return t?rae(t)||JP(t)||!!t[s7]||!!((e=t[hT])!=null&&e[s7])||QP(t)||e3(t):!1}var IDe=no[ZP][hT].toString(),o7=new WeakMap;function rae(t){if(!t||!hz(t))return!1;const e=v0(t);if(e===null||e===no[ZP])return!0;const n=no.hasOwnProperty.call(e,hT)&&e[hT];if(n===Object)return!0;if(!Zg(n))return!1;let r=o7.get(n);return r===void 0&&(r=Function.toString.call(n),o7.set(n,r)),r===IDe}function Y_(t,e,n=!0){Z_(t)===0?(n?Reflect.ownKeys(t):no.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Z_(t){const e=t[as];return e?e.type_:JP(t)?1:QP(t)?2:e3(t)?3:0}var l7=(t,e,n=Z_(t))=>n===2?t.has(e):no[ZP].hasOwnProperty.call(t,e),KD=(t,e,n=Z_(t))=>n===2?t.get(e):t[e],mT=(t,e,n,r=Z_(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function ODe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var JP=Array.isArray,QP=t=>t instanceof Map,e3=t=>t instanceof Set,hz=t=>typeof t=="object",Zg=t=>typeof t=="function",gN=t=>typeof t=="boolean",hu=t=>t.copy_||t.base_,pz=t=>t.modified_?t.copy_:t.base_;function YD(t,e){if(QP(t))return new Map(t);if(e3(t))return new Set(t);if(JP(t))return Array[ZP].slice.call(t);const n=rae(t);if(e===!0||e==="class_only"&&!n){const r=no.getOwnPropertyDescriptors(t);delete r[as];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[qA]===!1&&(o[qA]=!0,o[XD]=!0),(o.get||o.set)&&(r[s]={[XD]:!0,[qA]:!0,[pT]:o[pT],[N1]:t[s]})}return no.create(v0(t),r)}else{const r=v0(t);if(r!==null&&n)return{...t};const i=no.create(r);return no.assign(i,t)}}function mz(t,e=!1){return t3(t)||Ku(t)||!Fl(t)||(Z_(t)>1&&no.defineProperties(t,{set:sE,add:sE,clear:sE,delete:sE}),no.freeze(t),e&&Y_(t,(n,r)=>{mz(r,!0)},!1)),t}function kDe(){Pl(2)}var sE={[N1]:kDe};function t3(t){return t===null||!hz(t)?!0:no.isFrozen(t)}var gT="MapSet",ZD="Patches",iae={};function y0(t){const e=iae[t];return e||Pl(0,t),e}var NDe=t=>!!iae[t],R1,aae=()=>R1,RDe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:NDe(gT)?y0(gT):void 0});function c7(t,e){e&&(t.patchPlugin_=y0(ZD),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function JD(t){QD(t),t.drafts_.forEach(DDe),t.drafts_=null}function QD(t){t===R1&&(R1=t.parent_)}var u7=t=>R1=RDe(R1,t);function DDe(t){const e=t[as];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function f7(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[as].modified_&&(JD(e),Pl(4)),Fl(t)&&(t=d7(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[as].base_,t,e)}else t=d7(e,n);return LDe(e,t,!0),JD(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nae?t:void 0}function d7(t,e){if(t3(e))return e;const n=e[as];if(!n)return gz(e,t.handledSet_,t);if(!n3(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);lae(n,t)}return n.copy_}function LDe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&mz(e,n)}function sae(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var n3=(t,e)=>t.scope_===e,UDe=[];function oae(t,e,n,r){const i=hu(t),a=t.type_;if(r!==void 0&&KD(i,r,a)===e){mT(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Y_(i,(l,c)=>{if(Ku(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const s=t.draftLocations_.get(e)??UDe;for(const o of s)mT(i,o,n,a)}function zDe(t,e,n){t.callbacks_.push(function(i){var o;const a=e;if(!a||!n3(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=pz(a);oae(t,a.draft_??a,s,n),lae(a,i)})}function lae(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}sae(t)}}function FDe(t,e,n){const{scope_:r}=t;if(Ku(n)){const i=n[as];n3(i,r)&&i.callbacks_.push(function(){XA(t);const s=pz(i);oae(t,n,s,e)})}else Fl(n)&&t.callbacks_.push(function(){const a=hu(t);KD(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&gz(KD(t.copy_,e,t.type_),r.handledSet_,r)})}function gz(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ku(t)||e.has(t)||!Fl(t)||t3(t)||(e.add(t),Y_(t,(r,i)=>{if(Ku(i)){const a=i[as];if(n3(a,n)){const s=pz(a);mT(t,r,s,t.type_),sae(a)}}else Fl(i)&&gz(i,e,n)})),t}function jDe(t,e){const n=JP(t),r={type_:n?1:0,scope_:e?e.scope_:aae(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=vz;n&&(i=[r],a=D1);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var vz={get(t,e){if(e===as)return t;const n=hu(t);if(!l7(n,e,t.type_))return BDe(t,n,e);const r=n[e];if(t.finalized_||!Fl(r))return r;if(r===vN(t.base_,e)){XA(t);const i=t.type_===1?+e:e,a=tL(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in hu(t)},ownKeys(t){return Reflect.ownKeys(hu(t))},set(t,e,n){const r=cae(hu(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=vN(hu(t),e),a=i==null?void 0:i[as];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(ODe(n,i)&&(n!==void 0||l7(t.base_,e,t.type_)))return!0;XA(t),eL(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),FDe(t,e,n)),!0},deleteProperty(t,e){return XA(t),vN(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),eL(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=hu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[qA]:!0,[XD]:t.type_!==1||e!=="length",[pT]:r[pT],[N1]:n[e]}},defineProperty(){Pl(11)},getPrototypeOf(t){return v0(t.base_)},setPrototypeOf(){Pl(12)}},D1={};Y_(vz,(t,e)=>{D1[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});D1.deleteProperty=function(t,e){return D1.set.call(this,t,e,void 0)};D1.set=function(t,e,n){return vz.set.call(this,t[0],e,n,t[0])};function vN(t,e){const n=t[as];return(n?hu(n):t)[e]}function BDe(t,e,n){var i;const r=cae(e,n);return r?N1 in r?r[N1]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function cae(t,e){if(!(e in t))return;let n=v0(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=v0(n)}}function eL(t){t.modified_||(t.modified_=!0,t.parent_&&eL(t.parent_))}function XA(t){t.copy_||(t.assigned_=new Map,t.copy_=YD(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var VDe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Zg(n)&&!Zg(r)){const s=r;r=n;const o=this;return function(c=s,...u){return o.produce(c,f=>r.call(this,f,...u))}}Zg(r)||Pl(6),i!==void 0&&!Zg(i)&&Pl(7);let a;if(Fl(n)){const s=u7(this),o=tL(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?JD(s):QD(s)}return c7(s,i),f7(a,s)}else if(!n||!hz(n)){if(a=r(n),a===void 0&&(a=n),a===nae&&(a=void 0),this.autoFreeze_&&mz(a,!0),i){const s=[],o=[];y0(ZD).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Pl(1,n)},this.produceWithPatches=(n,r)=>{if(Zg(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},gN(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),gN(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),gN(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Fl(e)||Pl(8),Ku(e)&&(e=Dl(e));const n=u7(this),r=tL(n,e,void 0);return r[as].isManual_=!0,QD(n),r}finishDraft(e,n){const r=e&&e[as];(!r||!r.isManual_)&&Pl(9);const{scope_:i}=r;return c7(i,n),f7(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=y0(ZD).applyPatches_;return Ku(e)?i(e,n):this.produce(e,a=>i(a,n))}};function tL(t,e,n,r){const[i,a]=QP(e)?y0(gT).proxyMap_(e,n):e3(e)?y0(gT).proxySet_(e,n):jDe(e,n);return((n==null?void 0:n.scope_)??aae()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?zDe(n,a,r):a.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function Dl(t){return Ku(t)||Pl(10,t),uae(t)}function uae(t){if(!Fl(t)||t3(t))return t;const e=t[as];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=YD(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=YD(t,!0);return Y_(n,(i,a)=>{mT(n,i,uae(a))},r),e&&(e.finalized_=!1),n}var HDe=new VDe,fae=HDe.produce;function dae(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var GDe=dae(),WDe=dae,$De=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dT:dT.apply(null,arguments)};function el(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(lo(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>tae(r)&&r.type===t,n}var hae=class lb extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,lb.prototype)}static get[Symbol.species](){return lb}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new lb(...e[0].concat(this)):new lb(...e.concat(this))}};function h7(t){return Fl(t)?fae(t,()=>{}):t}function oE(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function qDe(t){return typeof t=="boolean"}var XDe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new hae;return n&&(qDe(n)?s.push(GDe):s.push(WDe(n.extraArgument))),s},pae="RTK_autoBatch",kr=()=>t=>({payload:t,meta:{[pae]:!0}}),p7=t=>e=>{setTimeout(e,t)},mae=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:p7(10):t.type==="callback"?t.queueNotification:p7(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),d=r.subscribe(f);return o.add(u),()=>{d(),o.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[pae]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},KDe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new hae(t);return r&&i.push(mae(typeof r=="object"?r:void 0)),i};function YDe(t){const e=XDe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(dz(n))o=eae(n);else throw new Error(lo(1));let l;typeof r=="function"?l=r(e):l=e();let c=dT;i&&(c=$De({trace:!1,...typeof i=="object"&&i}));const u=PDe(...l),f=KDe(u);let d=typeof s=="function"?s(f):f();const h=c(...d);return Qie(o,a,h)}function gae(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(lo(28));if(o in e)throw new Error(lo(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function ZDe(t){return typeof t=="function"}function JDe(t,e){let[n,r,i]=gae(e),a;if(ZDe(t))a=()=>h7(t());else{const o=h7(t);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(Ku(u)){const h=f(u,l);return h===void 0?u:h}else{if(Fl(u))return fae(u,d=>f(d,l));{const d=f(u,l);if(d===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return u},o)}return s.getInitialState=a,s}var QDe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eLe=(t=21)=>{let e="",n=t;for(;n--;)e+=QDe[Math.random()*64|0];return e},tLe=Symbol.for("rtk-slice-createasyncthunk");function nLe(t,e){return`${t}/${e}`}function rLe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[tLe];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(lo(11));const o=(typeof i.reducers=="function"?i.reducers(aLe()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(A,T){const M=typeof A=="string"?A:A.type;if(!M)throw new Error(lo(12));if(M in c.sliceCaseReducersByType)throw new Error(lo(13));return c.sliceCaseReducersByType[M]=T,u},addMatcher(A,T){return c.sliceMatchers.push({matcher:A,reducer:T}),u},exposeAction(A,T){return c.actionCreators[A]=T,u},exposeCaseReducer(A,T){return c.sliceCaseReducersByName[A]=T,u}};l.forEach(A=>{const T=o[A],M={reducerName:A,type:nLe(a,A),createNotation:typeof i.reducers=="function"};oLe(T)?cLe(M,T,u,e):sLe(M,T,u)});function f(){const[A={},T=[],M=void 0]=typeof i.extraReducers=="function"?gae(i.extraReducers):[i.extraReducers],I={...A,...c.sliceCaseReducersByType};return JDe(i.initialState,O=>{for(let P in I)O.addCase(P,I[P]);for(let P of c.sliceMatchers)O.addMatcher(P.matcher,P.reducer);for(let P of T)O.addMatcher(P.matcher,P.reducer);M&&O.addDefaultCase(M)})}const d=A=>A,h=new Map,g=new WeakMap;let y;function x(A,T){return y||(y=f()),y(A,T)}function v(){return y||(y=f()),y.getInitialState()}function b(A,T=!1){function M(O){let P=O[A];return typeof P>"u"&&T&&(P=oE(g,M,v)),P}function I(O=d){const P=oE(h,T,()=>new WeakMap);return oE(P,O,()=>{const k={};for(const[N,L]of Object.entries(i.selectors??{}))k[N]=iLe(L,O,()=>oE(g,O,v),T);return k})}return{reducerPath:A,getSelectors:I,get selectors(){return I(M)},selectSlice:M}}const _={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(A,{reducerPath:T,...M}={}){const I=T??s;return A.inject({reducerPath:I,reducer:x},M),{..._,...b(I,!0)}}};return _}}function iLe(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var Ls=rLe();function aLe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function sLe({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!lLe(r))throw new Error(lo(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?el(t,s):el(t))}function oLe(t){return t._reducerDefinitionType==="asyncThunk"}function lLe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function cLe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(lo(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=n,f=i(t,a,u);r.exposeAction(e,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:s||lE,pending:o||lE,rejected:l||lE,settled:c||lE})}function lE(){}var uLe="task",vae="listener",yae="completed",yz="cancelled",fLe=`task-${yz}`,dLe=`task-${yae}`,nL=`${vae}-${yz}`,hLe=`${vae}-${yae}`,r3=class{constructor(t){Pr(this,"name","TaskAbortError");Pr(this,"message");this.code=t,this.message=`${uLe} ${yz} (reason: ${t})`}},xz=(t,e)=>{if(typeof t!="function")throw new TypeError(lo(32))},vT=()=>{},xae=(t,e=vT)=>(t.catch(e),t),bae=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Tp=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Cp=t=>{if(t.aborted){const{reason:e}=t;throw new r3(e)}};function _ae(t,e){let n=vT;return new Promise((r,i)=>{const a=()=>i(new r3(t.reason));if(t.aborted){a();return}n=bae(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=vT})}var pLe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof r3?"cancelled":"rejected",error:n}}finally{e==null||e()}},yT=t=>e=>xae(_ae(t,e).then(n=>(Cp(t),n))),wae=t=>{const e=yT(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Gv}=Object,m7={},i3="listenerMiddleware",mLe=(t,e)=>{const n=r=>bae(t,()=>Tp(r,t.reason));return(r,i)=>{xz(r);const a=new AbortController;n(a);const s=pLe(async()=>{Cp(t),Cp(a.signal);const o=await r({pause:yT(a.signal),delay:wae(a.signal),signal:a.signal});return Cp(a.signal),o},()=>Tp(a,dLe));return i!=null&&i.autoJoin&&e.push(s.catch(vT)),{result:yT(t)(s),cancel(){Tp(a,fLe)}}}},gLe=(t,e)=>{const n=async(r,i)=>{Cp(e);let a=()=>{};const o=[new Promise((l,c)=>{let u=t({predicate:r,effect:(f,d)=>{d.unsubscribe(),l([f,d.getState(),d.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await _ae(e,Promise.race(o));return Cp(e),l}finally{a()}};return(r,i)=>xae(n(r,i))},Sae=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=el(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(lo(21));return xz(a),{predicate:i,type:e,effect:a}},Eae=Gv(t=>{const{type:e,predicate:n,effect:r}=Sae(t);return{id:eLe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(lo(22))}}},{withTypes:()=>Eae}),g7=(t,e)=>{const{type:n,effect:r,predicate:i}=Sae(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},rL=t=>{t.pending.forEach(e=>{Tp(e,nL)})},vLe=(t,e)=>()=>{for(const n of e.keys())rL(n);t.clear()},v7=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Aae=Gv(el(`${i3}/add`),{withTypes:()=>Aae}),yLe=el(`${i3}/removeAll`),Mae=Gv(el(`${i3}/remove`),{withTypes:()=>Mae}),xLe=(...t)=>{console.error(`${i3}/error`,...t)},J_=(t={})=>{const e=new Map,n=new Map,r=h=>{const g=n.get(h)??0;n.set(h,g+1)},i=h=>{const g=n.get(h)??1;g===1?n.delete(h):n.set(h,g-1)},{extra:a,onError:s=xLe}=t;xz(s);const o=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),g=>{h.unsubscribe(),g!=null&&g.cancelActive&&rL(h)}),l=h=>{const g=g7(e,h)??Eae(h);return o(g)};Gv(l,{withTypes:()=>l});const c=h=>{const g=g7(e,h);return g&&(g.unsubscribe(),h.cancelActive&&rL(g)),!!g};Gv(c,{withTypes:()=>c});const u=async(h,g,y,x)=>{const v=new AbortController,b=gLe(l,v.signal),_=[];try{h.pending.add(v),r(h),await Promise.resolve(h.effect(g,Gv({},y,{getOriginalState:x,condition:(A,T)=>b(A,T).then(Boolean),take:b,delay:wae(v.signal),pause:yT(v.signal),extra:a,signal:v.signal,fork:mLe(v.signal,_),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((A,T,M)=>{A!==v&&(Tp(A,nL),M.delete(A))})},cancel:()=>{Tp(v,nL),h.pending.delete(v)},throwIfCancelled:()=>{Cp(v.signal)}})))}catch(A){A instanceof r3||v7(s,A,{raisedBy:"effect"})}finally{await Promise.all(_),Tp(v,hLe),i(h),h.pending.delete(v)}},f=vLe(e,n);return{middleware:h=>g=>y=>{if(!tae(y))return g(y);if(Aae.match(y))return l(y.payload);if(yLe.match(y)){f();return}if(Mae.match(y))return c(y.payload);let x=h.getState();const v=()=>{if(x===m7)throw new Error(lo(23));return x};let b;try{if(b=g(y),e.size>0){const _=h.getState(),A=Array.from(e.values());for(const T of A){let M=!1;try{M=T.predicate(y,_,x)}catch(I){M=!1,v7(s,I,{raisedBy:"predicate"})}M&&u(T,y,h,v)}}}finally{x=m7}return b},startListening:l,stopListening:c,clearListeners:f}};function lo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bLe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Tae=Ls({name:"chartLayout",initialState:bLe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:_Le,setLayout:wLe,setChartSize:SLe,setScale:ELe}=Tae.actions,ALe=Tae.reducer;function Cae(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function y7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y7(Object(n),!0).forEach(function(r){MLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MLe(t,e,n){return(e=TLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TLe(t){var e=CLe(t,"string");return typeof e=="symbol"?e:e+""}function CLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e,n){return Rn(t)||Rn(e)?n:Ec(e)?Kp(t,e,n):typeof e=="function"?e(t):n}var PLe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&It(t[a]))return dv(dv({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&It(t[s]))return dv(dv({},t),{},{[s]:t[s]+(i||0)})}return t},il=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Pae=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},Iae=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:d,axisType:h}=t;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=h==="angleAxis"&&a&&a.length>=2?Oi(a[0]-a[1])*2*y:y,f||d){var x=(f||d||[]).map((v,b)=>{var _=r?r.indexOf(v):v;return{coordinate:s(_)+y,value:v,offset:y,index:b}});return x.filter(v=>!Qo(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:s(v)+y,value:v,index:b,offset:y})):s.ticks&&u!=null?s.ticks(u).map((v,b)=>({coordinate:s(v)+y,value:v,offset:y,index:b})):s.domain().map((v,b)=>({coordinate:s(v)+y,value:r?r[v]:v,index:b,offset:y}))},x7=1e-4,ILe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-x7,a=Math.max(r[0],r[1])+x7,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},Oae=(t,e)=>{if(!e||e.length!==2||!It(e[0])||!It(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!It(t[0])||t[0]<n)&&(i[0]=n),(!It(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},OLe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=Qo(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},kLe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Qo(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},NLe={sign:OLe,expand:I2e,none:g0,silhouette:O2e,wiggle:k2e,positive:kLe},RLe=(t,e,n)=>{var r=NLe[n],i=P2e().keys(e).value((a,s)=>Number(pn(a,s,0))).order($D).offset(r);return i(t)};function a3(t){return t==null?void 0:String(t)}function x0(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Rn(i[e.dataKey])){var o=Cie(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=pn(i,Rn(s)?e.dataKey:s);return Rn(l)?null:e.scale(l)}var xT=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var o=pn(a,e.dataKey,e.scale.domain()[s]);return Rn(o)?null:e.scale(o)-i/2+r},kae=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},DLe=t=>{var e=t.flat(2).filter(It);return[Math.min(...e),Math.max(...e)]},LLe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ULe=(t,e,n)=>{if(t!=null)return LLe(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((l,c)=>{var u=Cae(c,e,n),f=DLe(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},b7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ks=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=YP(e,u=>u.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function w7(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return dv(dv({},e),{},{dataKey:n,payload:r,value:i,name:a})}function vo(t,e){if(t)return String(t);if(typeof e=="string")return e}var zLe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},FLe=(t,e)=>e==="centric"?t.angle:t.radius,lf=t=>t.layout.width,cf=t=>t.layout.height,jLe=t=>t.layout.scale,Nae=t=>t.layout.margin,s3=Ce(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),o3=Ce(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),bz="data-recharts-item-index",_z="data-recharts-item-data-key",Q_=60;function S7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(n),!0).forEach(function(r){BLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BLe(t,e,n){return(e=VLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VLe(t){var e=HLe(t,"string");return typeof e=="symbol"?e:e+""}function HLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GLe=t=>t.brush.height;function WLe(t){var e=o3(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Q_;return n+i}return n},0)}function $Le(t){var e=o3(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Q_;return n+i}return n},0)}function qLe(t){var e=s3(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function XLe(t){var e=s3(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ni=Ce([lf,cf,Nae,GLe,WLe,$Le,qLe,XLe,Zie,wDe],(t,e,n,r,i,a,s,o,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},d=cE(cE({},f),u),h=d.bottom;d.bottom+=r,d=PLe(d,l,c);var g=t-d.left-d.right,y=e-d.top-d.bottom;return cE(cE({brushBottom:h},d),{},{width:Math.max(g,0),height:Math.max(y,0)})}),KLe=Ce(Ni,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),wz=Ce(lf,cf,(t,e)=>({x:0,y:0,width:t,height:e})),YLe=E.createContext(null),ii=()=>E.useContext(YLe)!=null,l3=t=>t.brush,c3=Ce([l3,Ni,Nae],(t,e,n)=>({height:t.height,x:It(t.x)?t.x:e.left,y:It(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:It(t.width)?t.width:e.width})),Rae={},Dae={},Lae={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),y()};let d=null;const h=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,f()},r)},g=()=>{d!==null&&(clearTimeout(d),d=null)},y=()=>{g(),s=void 0,o=null},x=()=>{u()},v=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const _=d==null;h(),l&&_&&u()};return v.schedule=h,v.cancel=y,v.flush=x,i==null||i.addEventListener("abort",y,{once:!0}),v}t.debounce=e})(Lae);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lae;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const d=e.debounce(function(...y){u=r.apply(this,y),f=null},i,{edges:c}),h=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=r.apply(this,y),f=Date.now(),d.cancel(),d.schedule(),u):(d.apply(this,y),u)},g=()=>(d.flush(),u);return h.cancel=d.cancel,h.flush=g,h}t.debounce=n})(Dae);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dae;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(Rae);var ZLe=Rae.throttle;const JLe=ca(ZLe);var bT=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},Uae=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Xu(r)?t:Number(r),l=Xu(i)?e:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},QLe={width:0,height:0,overflow:"visible"},e4e={width:0,overflowX:"visible"},t4e={height:0,overflowY:"visible"},n4e={},r4e=t=>{var{width:e,height:n}=t,r=Xu(e),i=Xu(n);return r&&i?QLe:r?e4e:i?t4e:n4e};function i4e(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Tr(t){return Number.isFinite(t)}function Ac(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function iL(){return iL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iL.apply(null,arguments)}function E7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E7(Object(n),!0).forEach(function(r){a4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a4e(t,e,n){return(e=s4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s4e(t){var e=o4e(t,"string");return typeof e=="symbol"?e:e+""}function o4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zae=E.createContext({width:-1,height:-1});function l4e(t){return Ac(t.width)&&Ac(t.height)}function Fae(t){var{children:e,width:n,height:r}=t,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return l4e(i)?E.createElement(zae.Provider,{value:i},e):null}var Sz=()=>E.useContext(zae),c4e=E.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:d,onResize:h,style:g={}}=t,y=E.useRef(null),x=E.useRef();x.current=h,E.useImperativeHandle(e,()=>y.current);var[v,b]=E.useState({containerWidth:r.width,containerHeight:r.height}),_=E.useCallback((O,P)=>{b(k=>{var N=Math.round(O),L=Math.round(P);return k.containerWidth===N&&k.containerHeight===L?k:{containerWidth:N,containerHeight:L}})},[]);E.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return X_;var O=L=>{var B,{width:D,height:V}=L[0].contentRect;_(D,V),(B=x.current)===null||B===void 0||B.call(x,D,V)};u>0&&(O=JLe(O,u,{trailing:!0,leading:!1}));var P=new ResizeObserver(O),{width:k,height:N}=y.current.getBoundingClientRect();return _(k,N),P.observe(y.current),()=>{P.disconnect()}},[_,u]);var{containerWidth:A,containerHeight:T}=v;bT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:I}=Uae(A,T,{width:i,height:a,aspect:n,maxHeight:l});return bT(M!=null&&M>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,I,i,a,s,o,n),E.createElement("div",{id:f?"".concat(f):void 0,className:tn("recharts-responsive-container",d),style:A7(A7({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:y},E.createElement("div",{style:r4e({width:i,height:a})},E.createElement(Fae,{width:M,height:I},c)))}),_l=E.forwardRef((t,e)=>{var n=Sz();if(Ac(n.width)&&Ac(n.height))return t.children;var{width:r,height:i}=i4e({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=Uae(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return It(a)&&It(s)?E.createElement(Fae,{width:a,height:s},t.children):E.createElement(c4e,iL({},t,{width:r,height:i,ref:e}))});function jae(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var ew=()=>{var t,e=ii(),n=_t(KLe),r=_t(c3),i=(t=_t(l3))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},u4e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Bae=()=>{var t;return(t=_t(Ni))!==null&&t!==void 0?t:u4e},Ez=()=>_t(lf),Az=()=>_t(cf),f4e=()=>_t(t=>t.layout.margin),Qt=t=>t.layout.layoutType,_m=()=>_t(Qt),d4e=()=>{var t=_m();if(t==="horizontal"||t==="vertical")return t},h4e=()=>{var t=_m();return t!==void 0},u3=t=>{var e=er(),n=ii(),{width:r,height:i}=t,a=Sz(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),E.useEffect(()=>{!n&&Ac(s)&&Ac(o)&&e(SLe({width:s,height:o}))},[e,n,s,o]),null},Vae=Symbol.for("immer-nothing"),M7=Symbol.for("immer-draftable"),mo=Symbol.for("immer-state");function Il(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var L1=Object.getPrototypeOf;function b0(t){return!!t&&!!t[mo]}function Yp(t){var e;return t?Hae(t)||Array.isArray(t)||!!t[M7]||!!((e=t.constructor)!=null&&e[M7])||tw(t)||d3(t):!1}var p4e=Object.prototype.constructor.toString(),T7=new WeakMap;function Hae(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=T7.get(n);return r===void 0&&(r=Function.toString.call(n),T7.set(n,r)),r===p4e}function _T(t,e,n=!0){f3(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function f3(t){const e=t[mo];return e?e.type_:Array.isArray(t)?1:tw(t)?2:d3(t)?3:0}function aL(t,e){return f3(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Gae(t,e,n){const r=f3(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function m4e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function tw(t){return t instanceof Map}function d3(t){return t instanceof Set}function np(t){return t.copy_||t.base_}function sL(t,e){if(tw(t))return new Map(t);if(d3(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Hae(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mo];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(L1(t),r)}else{const r=L1(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Mz(t,e=!1){return h3(t)||b0(t)||!Yp(t)||(f3(t)>1&&Object.defineProperties(t,{set:uE,add:uE,clear:uE,delete:uE}),Object.freeze(t),e&&Object.values(t).forEach(n=>Mz(n,!0))),t}function g4e(){Il(2)}var uE={value:g4e};function h3(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var v4e={};function Zp(t){const e=v4e[t];return e||Il(0,t),e}var U1;function Wae(){return U1}function y4e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function C7(t,e){e&&(Zp("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function oL(t){lL(t),t.drafts_.forEach(x4e),t.drafts_=null}function lL(t){t===U1&&(U1=t.parent_)}function P7(t){return U1=y4e(U1,t)}function x4e(t){const e=t[mo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function I7(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mo].modified_&&(oL(e),Il(4)),Yp(t)&&(t=wT(e,t),e.parent_||ST(e,t)),e.patches_&&Zp("Patches").generateReplacementPatches_(n[mo].base_,t,e.patches_,e.inversePatches_)):t=wT(e,n,[]),oL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Vae?t:void 0}function wT(t,e,n){if(h3(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[mo];if(!i)return _T(e,(a,s)=>O7(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return ST(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),_T(s,(l,c)=>O7(t,i,a,l,c,n,o),r),ST(t,a,!1),n&&t.patches_&&Zp("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function O7(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=h3(i);if(!(o&&!s)){if(b0(i)){const l=a&&e&&e.type_!==3&&!aL(e.assigned_,r)?a.concat(r):void 0,c=wT(t,i,l);if(Gae(n,r,c),b0(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Yp(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;wT(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(tw(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ST(t,i)}}}function ST(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Mz(e,n)}function b4e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Wae(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Tz;n&&(i=[r],a=z1);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var Tz={get(t,e){if(e===mo)return t;const n=np(t);if(!aL(n,e))return _4e(t,n,e);const r=n[e];return t.finalized_||!Yp(r)?r:r===yN(t.base_,e)?(xN(t),t.copy_[e]=uL(r,t)):r},has(t,e){return e in np(t)},ownKeys(t){return Reflect.ownKeys(np(t))},set(t,e,n){const r=$ae(np(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=yN(np(t),e),a=i==null?void 0:i[mo];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(m4e(n,i)&&(n!==void 0||aL(t.base_,e)))return!0;xN(t),cL(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,xN(t),cL(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=np(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Il(11)},getPrototypeOf(t){return L1(t.base_)},setPrototypeOf(){Il(12)}},z1={};_T(Tz,(t,e)=>{z1[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});z1.deleteProperty=function(t,e){return z1.set.call(this,t,e,void 0)};z1.set=function(t,e,n){return Tz.set.call(this,t[0],e,n,t[0])};function yN(t,e){const n=t[mo];return(n?np(n):t)[e]}function _4e(t,e,n){var i;const r=$ae(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function $ae(t,e){if(!(e in t))return;let n=L1(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=L1(n)}}function cL(t){t.modified_||(t.modified_=!0,t.parent_&&cL(t.parent_))}function xN(t){t.copy_||(t.copy_=sL(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var w4e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...c){return s.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Il(6),r!==void 0&&typeof r!="function"&&Il(7);let i;if(Yp(e)){const a=P7(this),s=uL(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?oL(a):lL(a)}return C7(a,r),I7(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Vae&&(i=void 0),this.autoFreeze_&&Mz(i,!0),r){const a=[],s=[];Zp("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Il(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Yp(t)||Il(8),b0(t)&&(t=S4e(t));const e=P7(this),n=uL(t,void 0);return n[mo].isManual_=!0,lL(e),n}finishDraft(t,e){const n=t&&t[mo];(!n||!n.isManual_)&&Il(9);const{scope_:r}=n;return C7(r,e),I7(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zp("Patches").applyPatches_;return b0(t)?r(t,e):this.produce(t,i=>r(i,e))}};function uL(t,e){const n=tw(t)?Zp("MapSet").proxyMap_(t,e):d3(t)?Zp("MapSet").proxySet_(t,e):b4e(t,e);return(e?e.scope_:Wae()).drafts_.push(n),n}function S4e(t){return b0(t)||Il(10,t),qae(t)}function qae(t){if(!Yp(t)||h3(t))return t;const e=t[mo];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=sL(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=sL(t,!0);return _T(n,(i,a)=>{Gae(n,i,qae(a))},r),e&&(e.finalized_=!1),n}var E4e=new w4e;E4e.produce;var A4e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Xae=Ls({name:"legend",initialState:A4e,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:kr()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Dl(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:kr()},removeLegendPayload:{reducer(t,e){var n=Dl(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:kr()}}}),{setLegendSize:k7,setLegendSettings:M4e,addLegendPayload:Kae,replaceLegendPayload:Yae,removeLegendPayload:Zae}=Xae.actions,T4e=Xae.reducer,C4e=["contextPayload"];function fL(){return fL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fL.apply(null,arguments)}function N7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(n),!0).forEach(function(r){P4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P4e(t,e,n){return(e=I4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I4e(t){var e=O4e(t,"string");return typeof e=="symbol"?e:e+""}function O4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k4e(t,e){if(t==null)return{};var n,r,i=N4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function R4e(t){return t.value}function D4e(t){var{contextPayload:e}=t,n=k4e(t,C4e),r=Gie(e,t.payloadUniqBy,R4e),i=_0(_0({},n),{},{payload:r});return E.isValidElement(t.content)?E.cloneElement(t.content,i):typeof t.content=="function"?E.createElement(t.content,i):E.createElement(sDe,i)}function L4e(t,e,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_0(_0({},c),u)}function U4e(t){var e=er();return E.useEffect(()=>{e(M4e(t))},[e,t]),null}function z4e(t){var e=er();return E.useEffect(()=>(e(k7(t)),()=>{e(k7({width:0,height:0}))}),[e,t]),null}function F4e(t,e,n,r){return t==="vertical"&&It(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var j4e={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function hv(t){var e=jn(t,j4e),n=ADe(),r=QRe(),i=f4e(),{width:a,height:s,wrapperStyle:o,portal:l}=e,[c,u]=Jie([n]),f=Ez(),d=Az();if(f==null||d==null)return null;var h=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=F4e(e.layout,s,a,h),y=l?o:_0(_0({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||s||"auto"},L4e(o,e,i,f,d,c)),o),x=l??r;if(x==null||n==null)return null;var v=E.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},E.createElement(U4e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&E.createElement(z4e,{width:c.width,height:c.height}),E.createElement(D4e,fL({},e,g,{margin:i,chartWidth:f,chartHeight:d,contextPayload:n})));return fP.createPortal(v,x)}hv.displayName="Legend";function dL(){return dL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dL.apply(null,arguments)}function R7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R7(Object(n),!0).forEach(function(r){B4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B4e(t,e,n){return(e=V4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V4e(t){var e=H4e(t,"string");return typeof e=="symbol"?e:e+""}function H4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G4e(t){return Array.isArray(t)&&Ec(t[0])&&Ec(t[1])?t.join(" ~ "):t}var W4e=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:d=!1}=t,h=()=>{if(a&&a.length){var T={padding:0,margin:0},M=(o?YP(a,o):a).map((I,O)=>{if(I.type==="none")return null;var P=I.formatter||s||G4e,{value:k,name:N}=I,L=k,B=N;if(P){var D=P(k,N,I,O,a);if(Array.isArray(D))[L,B]=D;else if(D!=null)L=D;else return null}var V=bN({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:V},Ec(B)?E.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Ec(B)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},L),E.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:T},M)}return null},g=bN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=bN({margin:0},i),x=!Rn(u),v=x?u:"",b=tn("recharts-default-tooltip",l),_=tn("recharts-tooltip-label",c);x&&f&&a!==void 0&&a!==null&&(v=f(u,a));var A=d?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",dL({className:b,style:g},A),E.createElement("p",{className:_,style:y},E.isValidElement(v)?v:"".concat(v)),h())},vx="recharts-tooltip-wrapper",$4e={visibility:"hidden"};function q4e(t){var{coordinate:e,translateX:n,translateY:r}=t;return tn(vx,{["".concat(vx,"-right")]:It(n)&&e&&It(e.x)&&n>=e.x,["".concat(vx,"-left")]:It(n)&&e&&It(e.x)&&n<e.x,["".concat(vx,"-bottom")]:It(r)&&e&&It(e.y)&&r>=e.y,["".concat(vx,"-top")]:It(r)&&e&&It(e.y)&&r<e.y})}function D7(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(a&&It(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),f=n[r]+i;if(e[r])return s[r]?u:f;var d=l[r];if(d==null)return 0;if(s[r]){var h=u,g=d;return h<g?Math.max(f,d):Math.max(u,d)}if(c==null)return 0;var y=f+o,x=d+c;return y>x?Math.max(u,d):Math.max(f,d)}function X4e(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function K4e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,c,u,f;return s.height>0&&s.width>0&&n?(u=D7({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=D7({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=X4e({translateX:u,translateY:f,useTranslate3d:o})):c=$4e,{cssProperties:c,cssClasses:q4e({translateX:u,translateY:f,coordinate:n})}}function L7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L7(Object(n),!0).forEach(function(r){hL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hL(t,e,n){return(e=Y4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y4e(t){var e=Z4e(t,"string");return typeof e=="symbol"?e:e+""}function Z4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class J4e extends E.PureComponent{constructor(){super(...arguments),hL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:d,viewBox:h,wrapperStyle:g,lastBoundingBox:y,innerRef:x,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:_}=K4e({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:d,viewBox:h}),A=v?{}:fE(fE({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=fE(fE({},A),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:T,ref:x},a)}}var Jae=()=>{var t;return(t=_t(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function pL(){return pL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pL.apply(null,arguments)}function U7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(n),!0).forEach(function(r){Q4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q4e(t,e,n){return(e=e5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e5e(t){var e=t5e(t,"string");return typeof e=="symbol"?e:e+""}function t5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F7={curveBasisClosed:y2e,curveBasisOpen:x2e,curveBasis:v2e,curveBumpX:r2e,curveBumpY:i2e,curveLinearClosed:b2e,curveLinear:$P,curveMonotoneX:_2e,curveMonotoneY:w2e,curveNatural:S2e,curveStep:E2e,curveStepAfter:M2e,curveStepBefore:A2e},ET=t=>Tr(t.x)&&Tr(t.y),j7=t=>t.base!=null&&ET(t.base)&&ET(t),yx=t=>t.x,xx=t=>t.y,n5e=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(q_(t));return(n==="curveMonotone"||n==="curveBump")&&e?F7["".concat(n).concat(e==="vertical"?"Y":"X")]:F7[n]||$P},r5e=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=n5e(e,i),o=a?n.filter(ET):n,l;if(Array.isArray(r)){var c=n.map((h,g)=>z7(z7({},h),{},{base:r[g]}));i==="vertical"?l=rE().y(xx).x1(yx).x0(h=>h.base.x):l=rE().x(yx).y1(xx).y0(h=>h.base.y);var u=l.defined(j7).curve(s),f=a?c.filter(j7):c;return u(f)}i==="vertical"&&It(r)?l=rE().y(xx).x1(yx).x0(r):It(r)?l=rE().x(yx).y1(xx).y0(r):l=mie().x(yx).y(xx);var d=l.defined(ET).curve(s);return d(o)},Pp=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?r5e(t):r;return E.createElement("path",pL({},Xn(t),ZU(t),{className:tn("recharts-curve",e),d:a===null?void 0:a,ref:i}))},i5e=["x","y","top","left","width","height","className"];function mL(){return mL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mL.apply(null,arguments)}function B7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B7(Object(n),!0).forEach(function(r){s5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s5e(t,e,n){return(e=o5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5e(t){var e=l5e(t,"string");return typeof e=="symbol"?e:e+""}function l5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c5e(t,e){if(t==null)return{};var n,r,i=u5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function u5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f5e=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),d5e=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=c5e(t,i5e),c=a5e({x:e,y:n,top:r,left:i,width:a,height:s},l);return!It(e)||!It(n)||!It(a)||!It(s)||!It(r)||!It(i)?null:E.createElement("path",mL({},fi(c),{className:tn("recharts-cross",o),d:f5e(e,n,a,s,r,i)}))};function h5e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function V7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(n),!0).forEach(function(r){p5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p5e(t,e,n){return(e=m5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m5e(t){var e=g5e(t,"string");return typeof e=="symbol"?e:e+""}function g5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v5e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Qae=(t,e,n)=>t.map(r=>"".concat(v5e(r)," ").concat(e,"ms ").concat(n)).join(","),y5e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),F1=(t,e)=>Object.keys(e).reduce((n,r)=>H7(H7({},n),{},{[r]:t(r,e[r])}),{});function G7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(n),!0).forEach(function(r){x5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x5e(t,e,n){return(e=b5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5e(t){var e=_5e(t,"string");return typeof e=="symbol"?e:e+""}function _5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AT=(t,e,n)=>t+(e-t)*n,gL=t=>{var{from:e,to:n}=t;return e!==n},ese=(t,e,n)=>{var r=F1((i,a)=>{if(gL(a)){var[s,o]=t(a.from,a.to,a.velocity);return Fi(Fi({},a),{},{from:s,velocity:o})}return a},e);return n<1?F1((i,a)=>gL(a)?Fi(Fi({},a),{},{velocity:AT(a.velocity,r[i].velocity,n),from:AT(a.from,r[i].from,n)}):a,e):ese(t,r,n-1)};function w5e(t,e,n,r,i,a){var s,o=r.reduce((d,h)=>Fi(Fi({},d),{},{[h]:{from:t[h],velocity:0,to:e[h]}}),{}),l=()=>F1((d,h)=>h.from,o),c=()=>!Object.values(o).filter(gL).length,u=null,f=d=>{s||(s=d);var h=d-s,g=h/n.dt;o=ese(n,o,g),i(Fi(Fi(Fi({},t),e),l())),s=d,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{var d;(d=u)===null||d===void 0||d()})}function S5e(t,e,n,r,i,a,s){var o=null,l=i.reduce((f,d)=>Fi(Fi({},f),{},{[d]:[t[d],e[d]]}),{}),c,u=f=>{c||(c=f);var d=(f-c)/r,h=F1((y,x)=>AT(...x,n(d)),l);if(a(Fi(Fi(Fi({},t),e),h)),d<1)o=s.setTimeout(u);else{var g=F1((y,x)=>AT(...x,n(1)),l);a(Fi(Fi(Fi({},t),e),g))}};return()=>(o=s.setTimeout(u),()=>{var f;(f=o)===null||f===void 0||f()})}const E5e=(t,e,n,r,i,a)=>{var s=y5e(t,e);return n==null?()=>(i(Fi(Fi({},t),e)),()=>{}):n.isStepper===!0?w5e(t,e,n,s,i,a):S5e(t,e,n,r,s,i,a)};var MT=1e-4,tse=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],nse=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),W7=(t,e)=>n=>{var r=tse(t,e);return nse(r,n)},A5e=(t,e)=>n=>{var r=tse(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return nse(i,n)},M5e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},T5e=(t,e,n,r)=>{var i=W7(t,n),a=W7(e,r),s=A5e(t,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,f=u,d=0;d<8;++d){var h=i(f)-u,g=s(f);if(Math.abs(h-u)<MT||g<MT)return a(f);f=o(f-h/g)}return a(f)};return l.isStepper=!1,l},$7=function(){return T5e(...M5e(...arguments))},C5e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,l)=>{var c=-(s-o)*n,u=l*r,f=l+(c-u)*i/1e3,d=l*i/1e3+s;return Math.abs(d-o)<MT&&Math.abs(f)<MT?[o,0]:[d,f]};return a.isStepper=!0,a.dt=i,a},P5e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $7(t);case"spring":return C5e();default:if(t.split("(")[0]==="cubic-bezier")return $7(t)}return typeof t=="function"?t:null};function I5e(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class O5e{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function k5e(){return I5e(new O5e)}var N5e=E.createContext(k5e);function R5e(t,e){var n=E.useContext(N5e);return E.useMemo(()=>e??n(t),[t,e,n])}var D5e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Z0={devToolsEnabled:!1,isSsr:D5e()},L5e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},q7={t:0},_N={t:1};function Rc(t){var e=jn(t,L5e),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=e,u=n==="auto"?!Z0.isSsr:n,f=R5e(e.animationId,e.animationManager),[d,h]=E.useState(u?q7:_N),g=E.useRef(null);return E.useEffect(()=>{u||h(_N)},[u]),E.useEffect(()=>{if(!u||!r)return X_;var y=E5e(q7,_N,P5e(a),i,h,f.getTimeoutController()),x=()=>{g.current=y()};return f.start([l,s,x,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[u,r,i,a,s,l,o,f]),c(d.t)}function Dc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(k1(e)),r=E.useRef(t);return r.current!==t&&(n.current=k1(e),r.current=t),n.current}var U5e=["radius"],z5e=["radius"];function X7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X7(Object(n),!0).forEach(function(r){F5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F5e(t,e,n){return(e=j5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j5e(t){var e=B5e(t,"string");return typeof e=="symbol"?e:e+""}function B5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT.apply(null,arguments)}function Y7(t,e){if(t==null)return{};var n,r,i=V5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function V5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Z7=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,d=4;f<d;f++)u[f]=i[f]>a?a:i[f];c="M".concat(t,",").concat(e+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+o*u[0],",").concat(e)),c+="L ".concat(t+n-o*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*u[1])),c+="L ".concat(t+n,",").concat(e+r-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+n-o*u[2],",").concat(e+r)),c+="L ".concat(t+o*u[3],",").concat(e+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);c="M ".concat(t,",").concat(e+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+o*h,",").concat(e,`
            L `).concat(t+n-o*h,",").concat(e,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*h,`
            L `).concat(t+n,",").concat(e+r-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+n-o*h,",").concat(e+r,`
            L `).concat(t+o*h,",").concat(e+r,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*h," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},J7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rse=t=>{var e=jn(t,J7),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isAnimationActive:g,isUpdateAnimationActive:y}=e,x=E.useRef(o),v=E.useRef(l),b=E.useRef(a),_=E.useRef(s),A=E.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),T=Dc(A,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var M=tn("recharts-rectangle",u);if(!y){var I=fi(e),{radius:O}=I,P=Y7(I,U5e);return E.createElement("path",TT({},P,{radius:typeof c=="number"?c:void 0,className:M,d:Z7(a,s,o,l,c)}))}var k=x.current,N=v.current,L=b.current,B=_.current,D="0px ".concat(r===-1?1:r,"px"),V="".concat(r,"px 0px"),F=Qae(["strokeDasharray"],d,typeof f=="string"?f:J7.animationEasing);return E.createElement(Rc,{animationId:T,key:T,canBegin:r>0,duration:d,easing:f,isActive:y,begin:h},H=>{var q=Gt(k,o,H),W=Gt(N,l,H),z=Gt(L,a,H),$=Gt(B,s,H);n.current&&(x.current=q,v.current=W,b.current=z,_.current=$);var Z;g?H>0?Z={transition:F,strokeDasharray:V}:Z={strokeDasharray:D}:Z={strokeDasharray:V};var G=fi(e),{radius:ie}=G,ue=Y7(G,z5e);return E.createElement("path",TT({},ue,{radius:typeof c=="number"?c:void 0,className:M,d:Z7(z,$,q,W,c),ref:n,style:K7(K7({},Z),e.style)}))})};function Q7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(n),!0).forEach(function(r){H5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H5e(t,e,n){return(e=G5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G5e(t){var e=W5e(t,"string");return typeof e=="symbol"?e:e+""}function W5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CT=Math.PI/180,PT=t=>t*Math.PI/180,$5e=t=>t*180/Math.PI,Gn=(t,e,n,r)=>({x:t+Math.cos(-CT*r)*n,y:e+Math.sin(-CT*r)*n}),ise=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},q5e=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},X5e=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=q5e({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:$5e(l),angleInRadian:l}},K5e=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Y5e=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},Z5e=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=X5e({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=K5e(e),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?eW(eW({},e),{},{radius:i,angle:Y5e(u,e)}):null},ase=t=>!E.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function sse(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=Gn(e,n,r,i),o=Gn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function vL(){return vL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vL.apply(null,arguments)}var J5e=(t,e)=>{var n=Oi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},dE=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,c=o*(s?1:-1)+r,u=Math.asin(o/c)/CT,f=l?i:i+a*u,d=Gn(e,n,c,f),h=Gn(e,n,r,f),g=l?i-a*u:i,y=Gn(e,n,c*Math.cos(u*CT),g);return{center:d,circleTangency:h,lineTangency:y,theta:u}},ose=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=J5e(a,s),l=a+o,c=Gn(e,n,i,a),u=Gn(e,n,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var d=Gn(e,n,r,a),h=Gn(e,n,r,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(d.x,",").concat(d.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},Q5e=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=t,u=Oi(c-l),{circleTangency:f,lineTangency:d,theta:h}=dE({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:x}=dE({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-h-x;if(v<0)return s?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):ose({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:A,theta:T}=dE({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:M,lineTangency:I,theta:O}=dE({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),P=o?Math.abs(l-c):Math.abs(l-c)-T-O;if(P<0&&a===0)return"".concat(b,"L").concat(e,",").concat(n,"Z");b+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,"Z")}else b+="L".concat(e,",").concat(n,"Z");return b},eUe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lse=t=>{var e=jn(t,eUe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=e;if(a<i||c===u)return null;var d=tn("recharts-sector",f),h=a-i,g=Ta(s,h,0,!0),y;return g>0&&Math.abs(c-u)<360?y=Q5e({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):y=ose({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),E.createElement("path",vL({},fi(e),{className:d,d:y}))};function tUe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Iie(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,l=Gn(r,i,a,o),c=Gn(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return sse(e)}}var cse={},Cz={},use={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uz;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(use);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=use;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Cz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fz,n=Cz;function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}t.range=r})(cse);var nUe=cse.range;const fse=ca(nUe);function Ld(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rUe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pz(t){let e,n,r;t.length!==2?(e=Ld,n=(o,l)=>Ld(t(o),l),r=(o,l)=>t(o)-l):(e=t===Ld||t===rUe?t:iUe,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function iUe(){return 0}function dse(t){return t===null?NaN:+t}function*aUe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const sUe=Pz(Ld),nw=sUe.right;Pz(dse).center;class tW extends Map{constructor(e,n=cUe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(nW(this,e))}has(e){return super.has(nW(this,e))}set(e,n){return super.set(oUe(this,e),n)}delete(e){return super.delete(lUe(this,e))}}function nW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function oUe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function lUe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function cUe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uUe(t=Ld){if(t===Ld)return hse;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hse(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fUe=Math.sqrt(50),dUe=Math.sqrt(10),hUe=Math.sqrt(2);function IT(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=fUe?10:a>=dUe?5:a>=hUe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?IT(t,e,n*2):[o,l,c]}function yL(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?IT(e,t,n):IT(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function xL(t,e,n){return e=+e,t=+t,n=+n,IT(t,e,n)[2]}function bL(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xL(e,t,n):xL(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function rW(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function iW(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pse(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hse:uUe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*f/l+d)),g=Math.min(r,Math.floor(e+(l-c)*f/l+d));pse(t,e,h,g,i)}const a=t[e];let s=n,o=r;for(bx(t,n,e),i(t[r],a)>0&&bx(t,n,r);s<o;){for(bx(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?bx(t,n,o):(++o,bx(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function bx(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pUe(t,e,n){if(t=Float64Array.from(aUe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return iW(t);if(e>=1)return rW(t);var r,i=(r-1)*e,a=Math.floor(i),s=rW(pse(t,a).subarray(0,a+1)),o=iW(t.subarray(a+1));return s+(o-s)*(i-a)}}function mUe(t,e,n=dse){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function gUe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function al(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function uf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _L=Symbol("implicit");function Iz(){var t=new tW,e=[],n=[],r=_L;function i(a){let s=t.get(a);if(s===void 0){if(r!==_L)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new tW;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Iz(e,n).unknown(r)},al.apply(i,arguments),i}function Oz(){var t=Iz().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<r,g=h?i:r,y=h?r:i;a=(y-g)/Math.max(1,d-l+c*2),o&&(a=Math.floor(a)),g+=(y-g-a*(d-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var x=gUe(d).map(function(v){return g+a*v});return n(h?x.reverse():x)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return Oz(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},al.apply(f(),arguments)}function mse(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mse(e())},t}function vUe(){return mse(Oz.apply(null,arguments).paddingInner(1))}function yUe(t){return function(){return t}}function OT(t){return+t}var aW=[0,1];function es(t){return t}function wL(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yUe(isNaN(e)?NaN:.5)}function xUe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bUe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=wL(i,r),a=n(s,a)):(r=wL(r,i),a=n(a,s)),function(o){return a(r(o))}}function _Ue(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=wL(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=nw(t,o,1,r)-1;return a[l](i[l](o))}}function rw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function p3(){var t=aW,e=aW,n=K0,r,i,a,s=es,o,l,c;function u(){var d=Math.min(t.length,e.length);return s!==es&&(s=xUe(t[0],t[d-1])),o=d>2?_Ue:bUe,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=o(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((c||(c=o(e,t.map(r),El)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,OT),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=CU,u()},f.clamp=function(d){return arguments.length?(s=d?!0:es,u()):s!==es},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return r=d,i=h,u()}}function kz(){return p3()(es,es)}function wUe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kT(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function w0(t){return t=kT(Math.abs(t)),t?t[1]:NaN}function SUe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function EUe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var AUe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function j1(t){if(!(e=AUe.exec(t)))throw new Error("invalid format: "+t);var e;return new Nz({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}j1.prototype=Nz.prototype;function Nz(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Nz.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MUe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gse;function TUe(t,e){var n=kT(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(gse=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kT(t,Math.max(0,e+a-1))[0]}function sW(t,e){var n=kT(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oW={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wUe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sW(t*100,e),r:sW,s:TUe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lW(t){return t}var cW=Array.prototype.map,uW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CUe(t){var e=t.grouping===void 0||t.thousands===void 0?lW:SUe(cW.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?lW:EUe(cW.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=j1(f);var d=f.fill,h=f.align,g=f.sign,y=f.symbol,x=f.zero,v=f.width,b=f.comma,_=f.precision,A=f.trim,T=f.type;T==="n"?(b=!0,T="g"):oW[T]||(_===void 0&&(_=12),A=!0,T="g"),(x||d==="0"&&h==="=")&&(x=!0,d="0",h="=");var M=y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=y==="$"?r:/[%p]/.test(T)?s:"",O=oW[T],P=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(N){var L=M,B=I,D,V,F;if(T==="c")B=O(N)+B,N="";else{N=+N;var H=N<0||1/N<0;if(N=isNaN(N)?l:O(Math.abs(N),_),A&&(N=MUe(N)),H&&+N==0&&g!=="+"&&(H=!1),L=(H?g==="("?g:o:g==="-"||g==="("?"":g)+L,B=(T==="s"?uW[8+gse/3]:"")+B+(H&&g==="("?")":""),P){for(D=-1,V=N.length;++D<V;)if(F=N.charCodeAt(D),48>F||F>57){B=(F===46?i+N.slice(D+1):N.slice(D))+B,N=N.slice(0,D);break}}}b&&!x&&(N=e(N,1/0));var q=L.length+N.length+B.length,W=q<v?new Array(v-q+1).join(d):"";switch(b&&x&&(N=e(W+N,W.length?v-B.length:1/0),W=""),h){case"<":N=L+N+B+W;break;case"=":N=L+W+N+B;break;case"^":N=W.slice(0,q=W.length>>1)+L+N+B+W.slice(q);break;default:N=W+L+N+B;break}return a(N)}return k.toString=function(){return f+""},k}function u(f,d){var h=c((f=j1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(w0(d)/3)))*3,y=Math.pow(10,-g),x=uW[8+g/3];return function(v){return h(y*v)+x}}return{format:c,formatPrefix:u}}var hE,Rz,vse;PUe({thousands:",",grouping:[3],currency:["$",""]});function PUe(t){return hE=CUe(t),Rz=hE.format,vse=hE.formatPrefix,hE}function IUe(t){return Math.max(0,-w0(Math.abs(t)))}function OUe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(w0(e)/3)))*3-w0(Math.abs(t)))}function kUe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,w0(e)-w0(t))+1}function yse(t,e,n,r){var i=bL(t,e,n),a;switch(r=j1(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=OUe(i,s))&&(r.precision=a),vse(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=kUe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=IUe(i))&&(r.precision=a-(r.type==="%")*2);break}}return Rz(r)}function eh(t){var e=t.domain;return t.ticks=function(n){var r=e();return yL(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yse(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=xL(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function xse(){var t=kz();return t.copy=function(){return rw(t,xse())},al.apply(t,arguments),eh(t)}function bse(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,OT),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return bse(t).unknown(e)},t=arguments.length?Array.from(t,OT):[0,1],eh(n)}function _se(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function fW(t){return Math.log(t)}function dW(t){return Math.exp(t)}function NUe(t){return-Math.log(-t)}function RUe(t){return-Math.exp(-t)}function DUe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function LUe(t){return t===10?DUe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function UUe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hW(t){return(e,n)=>-t(-e,n)}function Dz(t){const e=t(fW,dW),n=e.domain;let r=10,i,a;function s(){return i=UUe(r),a=LUe(r),n()[0]<0?(i=hW(i),a=hW(a),t(NUe,RUe)):t(fW,dW),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),g,y;const x=o==null?10:+o;let v=[];if(!(r%1)&&h-d<x){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(g=1;g<r;++g)if(y=d<0?g/a(-d):g*a(d),!(y<c)){if(y>u)break;v.push(y)}}else for(;d<=h;++d)for(g=r-1;g>=1;--g)if(y=d>0?g/a(-d):g*a(d),!(y<c)){if(y>u)break;v.push(y)}v.length*2<x&&(v=yL(c,u,x))}else v=yL(d,h,Math.min(h-d,x)).map(a);return f?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=j1(l)).precision==null&&(l.trim=!0),l=Rz(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(_se(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function wse(){const t=Dz(p3()).domain([1,10]);return t.copy=()=>rw(t,wse()).base(t.base()),al.apply(t,arguments),t}function pW(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mW(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Lz(t){var e=1,n=t(pW(e),mW(e));return n.constant=function(r){return arguments.length?t(pW(e=+r),mW(e)):e},eh(n)}function Sse(){var t=Lz(p3());return t.copy=function(){return rw(t,Sse()).constant(t.constant())},al.apply(t,arguments)}function gW(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zUe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FUe(t){return t<0?-t*t:t*t}function Uz(t){var e=t(es,es),n=1;function r(){return n===1?t(es,es):n===.5?t(zUe,FUe):t(gW(n),gW(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},eh(e)}function zz(){var t=Uz(p3());return t.copy=function(){return rw(t,zz()).exponent(t.exponent())},al.apply(t,arguments),t}function jUe(){return zz.apply(null,arguments).exponent(.5)}function vW(t){return Math.sign(t)*t*t}function BUe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ese(){var t=kz(),e=[0,1],n=!1,r;function i(a){var s=BUe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(vW(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,OT)).map(vW)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ese(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},al.apply(i,arguments),eh(i)}function Ase(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=mUe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[nw(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ld),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Ase().domain(t).range(e).unknown(r)},al.apply(a,arguments)}function Mse(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[nw(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Mse().domain([t,e]).range(i).unknown(a)},al.apply(eh(s),arguments)}function Tse(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[nw(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Tse().domain(t).range(e).unknown(n)},al.apply(i,arguments)}const wN=new Date,SN=new Date;function $i(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>$i(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(wN.setTime(+a),SN.setTime(+s),t(wN),t(SN),Math.floor(n(wN,SN))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const NT=$i(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);NT.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$i(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):NT);NT.range;const Tu=1e3,Ho=Tu*60,Cu=Ho*60,Yu=Cu*24,Fz=Yu*7,yW=Yu*30,EN=Yu*365,fp=$i(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Tu)},(t,e)=>(e-t)/Tu,t=>t.getUTCSeconds());fp.range;const jz=$i(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tu)},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getMinutes());jz.range;const Bz=$i(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCMinutes());Bz.range;const Vz=$i(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tu-t.getMinutes()*Ho)},(t,e)=>{t.setTime(+t+e*Cu)},(t,e)=>(e-t)/Cu,t=>t.getHours());Vz.range;const Hz=$i(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Cu)},(t,e)=>(e-t)/Cu,t=>t.getUTCHours());Hz.range;const iw=$i(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ho)/Yu,t=>t.getDate()-1);iw.range;const m3=$i(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yu,t=>t.getUTCDate()-1);m3.range;const Cse=$i(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yu,t=>Math.floor(t/Yu));Cse.range;function wm(t){return $i(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ho)/Fz)}const g3=wm(0),RT=wm(1),VUe=wm(2),HUe=wm(3),S0=wm(4),GUe=wm(5),WUe=wm(6);g3.range;RT.range;VUe.range;HUe.range;S0.range;GUe.range;WUe.range;function Sm(t){return $i(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Fz)}const v3=Sm(0),DT=Sm(1),$Ue=Sm(2),qUe=Sm(3),E0=Sm(4),XUe=Sm(5),KUe=Sm(6);v3.range;DT.range;$Ue.range;qUe.range;E0.range;XUe.range;KUe.range;const Gz=$i(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Gz.range;const Wz=$i(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Wz.range;const Zu=$i(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Zu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$i(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Zu.range;const Ju=$i(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ju.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$i(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ju.range;function Pse(t,e,n,r,i,a){const s=[[fp,1,Tu],[fp,5,5*Tu],[fp,15,15*Tu],[fp,30,30*Tu],[a,1,Ho],[a,5,5*Ho],[a,15,15*Ho],[a,30,30*Ho],[i,1,Cu],[i,3,3*Cu],[i,6,6*Cu],[i,12,12*Cu],[r,1,Yu],[r,2,2*Yu],[n,1,Fz],[e,1,yW],[e,3,3*yW],[t,1,EN]];function o(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),g=h?h.range(c,+u+1):[];return d?g.reverse():g}function l(c,u,f){const d=Math.abs(u-c)/f,h=Pz(([,,x])=>x).right(s,d);if(h===s.length)return t.every(bL(c/EN,u/EN,f));if(h===0)return NT.every(Math.max(bL(c,u,f),1));const[g,y]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return g.every(y)}return[o,l]}const[YUe,ZUe]=Pse(Ju,Wz,v3,Cse,Hz,Bz),[JUe,QUe]=Pse(Zu,Gz,g3,iw,Vz,jz);function AN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function MN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _x(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function eze(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=wx(i),u=Sx(i),f=wx(a),d=Sx(a),h=wx(s),g=Sx(s),y=wx(o),x=Sx(o),v=wx(l),b=Sx(l),_={a:H,A:q,b:W,B:z,c:null,d:EW,e:EW,f:Sze,g:Nze,G:Dze,H:bze,I:_ze,j:wze,L:Ise,m:Eze,M:Aze,p:$,q:Z,Q:TW,s:CW,S:Mze,u:Tze,U:Cze,V:Pze,w:Ize,W:Oze,x:null,X:null,y:kze,Y:Rze,Z:Lze,"%":MW},A={a:G,A:ie,b:ue,B:te,c:null,d:AW,e:AW,f:jze,g:Yze,G:Jze,H:Uze,I:zze,j:Fze,L:kse,m:Bze,M:Vze,p:ae,q:he,Q:TW,s:CW,S:Hze,u:Gze,U:Wze,V:$ze,w:qze,W:Xze,x:null,X:null,y:Kze,Y:Zze,Z:Qze,"%":MW},T={a:k,A:N,b:L,B,c:D,d:wW,e:wW,f:gze,g:_W,G:bW,H:SW,I:SW,j:dze,L:mze,m:fze,M:hze,p:P,q:uze,Q:yze,s:xze,S:pze,u:aze,U:sze,V:oze,w:ize,W:lze,x:V,X:F,y:_W,Y:bW,Z:cze,"%":vze};_.x=M(n,_),_.X=M(r,_),_.c=M(e,_),A.x=M(n,A),A.X=M(r,A),A.c=M(e,A);function M(le,be){return function(Ie){var fe=[],Ye=-1,we=0,Te=le.length,Ee,ke,Y;for(Ie instanceof Date||(Ie=new Date(+Ie));++Ye<Te;)le.charCodeAt(Ye)===37&&(fe.push(le.slice(we,Ye)),(ke=xW[Ee=le.charAt(++Ye)])!=null?Ee=le.charAt(++Ye):ke=Ee==="e"?" ":"0",(Y=be[Ee])&&(Ee=Y(Ie,ke)),fe.push(Ee),we=Ye+1);return fe.push(le.slice(we,Ye)),fe.join("")}}function I(le,be){return function(Ie){var fe=_x(1900,void 0,1),Ye=O(fe,le,Ie+="",0),we,Te;if(Ye!=Ie.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(be&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(we=MN(_x(fe.y,0,1)),Te=we.getUTCDay(),we=Te>4||Te===0?DT.ceil(we):DT(we),we=m3.offset(we,(fe.V-1)*7),fe.y=we.getUTCFullYear(),fe.m=we.getUTCMonth(),fe.d=we.getUTCDate()+(fe.w+6)%7):(we=AN(_x(fe.y,0,1)),Te=we.getDay(),we=Te>4||Te===0?RT.ceil(we):RT(we),we=iw.offset(we,(fe.V-1)*7),fe.y=we.getFullYear(),fe.m=we.getMonth(),fe.d=we.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Te="Z"in fe?MN(_x(fe.y,0,1)).getUTCDay():AN(_x(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Te+5)%7:fe.w+fe.U*7-(Te+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,MN(fe)):AN(fe)}}function O(le,be,Ie,fe){for(var Ye=0,we=be.length,Te=Ie.length,Ee,ke;Ye<we;){if(fe>=Te)return-1;if(Ee=be.charCodeAt(Ye++),Ee===37){if(Ee=be.charAt(Ye++),ke=T[Ee in xW?be.charAt(Ye++):Ee],!ke||(fe=ke(le,Ie,fe))<0)return-1}else if(Ee!=Ie.charCodeAt(fe++))return-1}return fe}function P(le,be,Ie){var fe=c.exec(be.slice(Ie));return fe?(le.p=u.get(fe[0].toLowerCase()),Ie+fe[0].length):-1}function k(le,be,Ie){var fe=h.exec(be.slice(Ie));return fe?(le.w=g.get(fe[0].toLowerCase()),Ie+fe[0].length):-1}function N(le,be,Ie){var fe=f.exec(be.slice(Ie));return fe?(le.w=d.get(fe[0].toLowerCase()),Ie+fe[0].length):-1}function L(le,be,Ie){var fe=v.exec(be.slice(Ie));return fe?(le.m=b.get(fe[0].toLowerCase()),Ie+fe[0].length):-1}function B(le,be,Ie){var fe=y.exec(be.slice(Ie));return fe?(le.m=x.get(fe[0].toLowerCase()),Ie+fe[0].length):-1}function D(le,be,Ie){return O(le,e,be,Ie)}function V(le,be,Ie){return O(le,n,be,Ie)}function F(le,be,Ie){return O(le,r,be,Ie)}function H(le){return s[le.getDay()]}function q(le){return a[le.getDay()]}function W(le){return l[le.getMonth()]}function z(le){return o[le.getMonth()]}function $(le){return i[+(le.getHours()>=12)]}function Z(le){return 1+~~(le.getMonth()/3)}function G(le){return s[le.getUTCDay()]}function ie(le){return a[le.getUTCDay()]}function ue(le){return l[le.getUTCMonth()]}function te(le){return o[le.getUTCMonth()]}function ae(le){return i[+(le.getUTCHours()>=12)]}function he(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var be=M(le+="",_);return be.toString=function(){return le},be},parse:function(le){var be=I(le+="",!1);return be.toString=function(){return le},be},utcFormat:function(le){var be=M(le+="",A);return be.toString=function(){return le},be},utcParse:function(le){var be=I(le+="",!0);return be.toString=function(){return le},be}}}var xW={"-":"",_:" ",0:"0"},fa=/^\s*\d+/,tze=/^%/,nze=/[\\^$*+?|[\]().{}]/g;function Fn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function rze(t){return t.replace(nze,"\\$&")}function wx(t){return new RegExp("^(?:"+t.map(rze).join("|")+")","i")}function Sx(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ize(t,e,n){var r=fa.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aze(t,e,n){var r=fa.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sze(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function oze(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function lze(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bW(t,e,n){var r=fa.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _W(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cze(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uze(t,e,n){var r=fa.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fze(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function wW(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function dze(t,e,n){var r=fa.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SW(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function hze(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pze(t,e,n){var r=fa.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mze(t,e,n){var r=fa.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function gze(t,e,n){var r=fa.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vze(t,e,n){var r=tze.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function yze(t,e,n){var r=fa.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xze(t,e,n){var r=fa.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function EW(t,e){return Fn(t.getDate(),e,2)}function bze(t,e){return Fn(t.getHours(),e,2)}function _ze(t,e){return Fn(t.getHours()%12||12,e,2)}function wze(t,e){return Fn(1+iw.count(Zu(t),t),e,3)}function Ise(t,e){return Fn(t.getMilliseconds(),e,3)}function Sze(t,e){return Ise(t,e)+"000"}function Eze(t,e){return Fn(t.getMonth()+1,e,2)}function Aze(t,e){return Fn(t.getMinutes(),e,2)}function Mze(t,e){return Fn(t.getSeconds(),e,2)}function Tze(t){var e=t.getDay();return e===0?7:e}function Cze(t,e){return Fn(g3.count(Zu(t)-1,t),e,2)}function Ose(t){var e=t.getDay();return e>=4||e===0?S0(t):S0.ceil(t)}function Pze(t,e){return t=Ose(t),Fn(S0.count(Zu(t),t)+(Zu(t).getDay()===4),e,2)}function Ize(t){return t.getDay()}function Oze(t,e){return Fn(RT.count(Zu(t)-1,t),e,2)}function kze(t,e){return Fn(t.getFullYear()%100,e,2)}function Nze(t,e){return t=Ose(t),Fn(t.getFullYear()%100,e,2)}function Rze(t,e){return Fn(t.getFullYear()%1e4,e,4)}function Dze(t,e){var n=t.getDay();return t=n>=4||n===0?S0(t):S0.ceil(t),Fn(t.getFullYear()%1e4,e,4)}function Lze(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fn(e/60|0,"0",2)+Fn(e%60,"0",2)}function AW(t,e){return Fn(t.getUTCDate(),e,2)}function Uze(t,e){return Fn(t.getUTCHours(),e,2)}function zze(t,e){return Fn(t.getUTCHours()%12||12,e,2)}function Fze(t,e){return Fn(1+m3.count(Ju(t),t),e,3)}function kse(t,e){return Fn(t.getUTCMilliseconds(),e,3)}function jze(t,e){return kse(t,e)+"000"}function Bze(t,e){return Fn(t.getUTCMonth()+1,e,2)}function Vze(t,e){return Fn(t.getUTCMinutes(),e,2)}function Hze(t,e){return Fn(t.getUTCSeconds(),e,2)}function Gze(t){var e=t.getUTCDay();return e===0?7:e}function Wze(t,e){return Fn(v3.count(Ju(t)-1,t),e,2)}function Nse(t){var e=t.getUTCDay();return e>=4||e===0?E0(t):E0.ceil(t)}function $ze(t,e){return t=Nse(t),Fn(E0.count(Ju(t),t)+(Ju(t).getUTCDay()===4),e,2)}function qze(t){return t.getUTCDay()}function Xze(t,e){return Fn(DT.count(Ju(t)-1,t),e,2)}function Kze(t,e){return Fn(t.getUTCFullYear()%100,e,2)}function Yze(t,e){return t=Nse(t),Fn(t.getUTCFullYear()%100,e,2)}function Zze(t,e){return Fn(t.getUTCFullYear()%1e4,e,4)}function Jze(t,e){var n=t.getUTCDay();return t=n>=4||n===0?E0(t):E0.ceil(t),Fn(t.getUTCFullYear()%1e4,e,4)}function Qze(){return"+0000"}function MW(){return"%"}function TW(t){return+t}function CW(t){return Math.floor(+t/1e3)}var yg,Rse,Dse;eFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eFe(t){return yg=eze(t),Rse=yg.format,yg.parse,Dse=yg.utcFormat,yg.utcParse,yg}function tFe(t){return new Date(t)}function nFe(t){return t instanceof Date?+t:+new Date(+t)}function $z(t,e,n,r,i,a,s,o,l,c){var u=kz(),f=u.invert,d=u.domain,h=c(".%L"),g=c(":%S"),y=c("%I:%M"),x=c("%I %p"),v=c("%a %d"),b=c("%b %d"),_=c("%B"),A=c("%Y");function T(M){return(l(M)<M?h:o(M)<M?g:s(M)<M?y:a(M)<M?x:r(M)<M?i(M)<M?v:b:n(M)<M?_:A)(M)}return u.invert=function(M){return new Date(f(M))},u.domain=function(M){return arguments.length?d(Array.from(M,nFe)):d().map(tFe)},u.ticks=function(M){var I=d();return t(I[0],I[I.length-1],M??10)},u.tickFormat=function(M,I){return I==null?T:c(I)},u.nice=function(M){var I=d();return(!M||typeof M.range!="function")&&(M=e(I[0],I[I.length-1],M??10)),M?d(_se(I,M)):u},u.copy=function(){return rw(u,$z(t,e,n,r,i,a,s,o,l,c))},u}function rFe(){return al.apply($z(JUe,QUe,Zu,Gz,g3,iw,Vz,jz,fp,Rse).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iFe(){return al.apply($z(YUe,ZUe,Ju,Wz,v3,m3,Hz,Bz,fp,Dse).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function y3(){var t=0,e=1,n,r,i,a,s=es,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(d){var h,g;return arguments.length?([h,g]=d,s=f(h,g),c):[s(0),s(1)]}}return c.range=u(K0),c.rangeRound=u(CU),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function th(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Lse(){var t=eh(y3()(es));return t.copy=function(){return th(t,Lse())},uf.apply(t,arguments)}function Use(){var t=Dz(y3()).domain([1,10]);return t.copy=function(){return th(t,Use()).base(t.base())},uf.apply(t,arguments)}function zse(){var t=Lz(y3());return t.copy=function(){return th(t,zse()).constant(t.constant())},uf.apply(t,arguments)}function qz(){var t=Uz(y3());return t.copy=function(){return th(t,qz()).exponent(t.exponent())},uf.apply(t,arguments)}function aFe(){return qz.apply(null,arguments).exponent(.5)}function Fse(){var t=[],e=es;function n(r){if(r!=null&&!isNaN(r=+r))return e((nw(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ld),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>pUe(t,a/r))},n.copy=function(){return Fse(e).domain(t)},uf.apply(n,arguments)}function x3(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=es,u,f=!1,d;function h(y){return isNaN(y=+y)?d:(y=.5+((y=+u(y))-a)*(r*y<r*a?o:l),c(f?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(y){return arguments.length?(f=!!y,h):f},h.interpolator=function(y){return arguments.length?(c=y,h):c};function g(y){return function(x){var v,b,_;return arguments.length?([v,b,_]=x,c=xOe(y,[v,b,_]),h):[c(0),c(.5),c(1)]}}return h.range=g(K0),h.rangeRound=g(CU),h.unknown=function(y){return arguments.length?(d=y,h):d},function(y){return u=y,i=y(t),a=y(e),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h}}function jse(){var t=eh(x3()(es));return t.copy=function(){return th(t,jse())},uf.apply(t,arguments)}function Bse(){var t=Dz(x3()).domain([.1,1,10]);return t.copy=function(){return th(t,Bse()).base(t.base())},uf.apply(t,arguments)}function Vse(){var t=Lz(x3());return t.copy=function(){return th(t,Vse()).constant(t.constant())},uf.apply(t,arguments)}function Xz(){var t=Uz(x3());return t.copy=function(){return th(t,Xz()).exponent(t.exponent())},uf.apply(t,arguments)}function sFe(){return Xz.apply(null,arguments).exponent(.5)}const cb=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oz,scaleDiverging:jse,scaleDivergingLog:Bse,scaleDivergingPow:Xz,scaleDivergingSqrt:sFe,scaleDivergingSymlog:Vse,scaleIdentity:bse,scaleImplicit:_L,scaleLinear:xse,scaleLog:wse,scaleOrdinal:Iz,scalePoint:vUe,scalePow:zz,scaleQuantile:Ase,scaleQuantize:Mse,scaleRadial:Ese,scaleSequential:Lse,scaleSequentialLog:Use,scaleSequentialPow:qz,scaleSequentialQuantile:Fse,scaleSequentialSqrt:aFe,scaleSequentialSymlog:zse,scaleSqrt:jUe,scaleSymlog:Sse,scaleThreshold:Tse,scaleTime:rFe,scaleUtc:iFe,tickFormat:yse},Symbol.toStringTag,{value:"Module"}));var ff=t=>t.chartData,Em=Ce([ff],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),J0=(t,e,n,r)=>r?Em(t):ff(t);function Vd(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Tr(e)&&Tr(n))return!0}return!1}function PW(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Hse(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Tr(n))i=n;else if(typeof n=="function")return;if(Tr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Vd(s))return s}}function oFe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Vd(r))return PW(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(It(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&b7.test(i)){var l=b7.exec(i);if(l==null||e==null)s=void 0;else{var c=+l[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(It(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&_7.test(a)){var u=_7.exec(a);if(u==null||e==null)o=void 0;else{var f=+u[1];o=e[1]+f}}else o=e==null?void 0:e[1];var d=[s,o];if(Vd(d))return e==null?d:PW(d,e,n)}}}var Q0=1e9,lFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yz,Nr=!0,tl="[DecimalError] ",Ip=tl+"Invalid argument: ",Kz=tl+"Exponent out of range: ",ey=Math.floor,rp=Math.pow,cFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qs,ea=1e7,_r=7,Gse=9007199254740991,LT=ey(Gse/_r),kt={};kt.absoluteValue=kt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};kt.comparedTo=kt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};kt.decimalPlaces=kt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_r;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};kt.dividedBy=kt.div=function(t){return Lu(this,new this.constructor(t))};kt.dividedToIntegerBy=kt.idiv=function(t){var e=this,n=e.constructor;return ur(Lu(e,new n(t),0,1),n.precision)};kt.equals=kt.eq=function(t){return!this.cmp(t)};kt.exponent=function(){return ki(this)};kt.greaterThan=kt.gt=function(t){return this.cmp(t)>0};kt.greaterThanOrEqualTo=kt.gte=function(t){return this.cmp(t)>=0};kt.isInteger=kt.isint=function(){return this.e>this.d.length-2};kt.isNegative=kt.isneg=function(){return this.s<0};kt.isPositive=kt.ispos=function(){return this.s>0};kt.isZero=function(){return this.s===0};kt.lessThan=kt.lt=function(t){return this.cmp(t)<0};kt.lessThanOrEqualTo=kt.lte=function(t){return this.cmp(t)<1};kt.logarithm=kt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qs))throw Error(tl+"NaN");if(n.s<1)throw Error(tl+(n.s?"NaN":"-Infinity"));return n.eq(Qs)?new r(0):(Nr=!1,e=Lu(B1(n,a),B1(t,a),a),Nr=!0,ur(e,i))};kt.minus=kt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qse(e,t):Wse(e,(t.s=-t.s,t))};kt.modulo=kt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(tl+"NaN");return n.s?(Nr=!1,e=Lu(n,t,0,1).times(t),Nr=!0,n.minus(e)):ur(new r(n),i)};kt.naturalExponential=kt.exp=function(){return $se(this)};kt.naturalLogarithm=kt.ln=function(){return B1(this)};kt.negated=kt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};kt.plus=kt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wse(e,t):qse(e,(t.s=-t.s,t))};kt.precision=kt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ip+t);if(e=ki(i)+1,r=i.d.length-1,n=r*_r+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};kt.squareRoot=kt.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(tl+"NaN")}for(t=ki(o),Nr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=pc(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ey((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Lu(o,a,s+2)).times(.5),pc(a.d).slice(0,s)===(e=pc(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ur(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Nr=!0,ur(r,n)};kt.times=kt.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=h.length,l<c&&(a=d,d=h,h=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+h[r]*d[i-r-1]+e,a[i--]=o%ea|0,e=o/ea|0;a[i]=(a[i]+e)%ea|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Nr?ur(t,f.precision):t};kt.toDecimalPlaces=kt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Mc(t,0,Q0),e===void 0?e=r.rounding:Mc(e,0,8),ur(n,t+ki(n)+1,e))};kt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jp(r,!0):(Mc(t,0,Q0),e===void 0?e=i.rounding:Mc(e,0,8),r=ur(new i(r),t+1,e),n=Jp(r,!0,t+1)),n};kt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Jp(i):(Mc(t,0,Q0),e===void 0?e=a.rounding:Mc(e,0,8),r=ur(new a(i),t+ki(i)+1,e),n=Jp(r.abs(),!1,t+ki(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};kt.toInteger=kt.toint=function(){var t=this,e=t.constructor;return ur(new e(t),ki(t)+1,e.rounding)};kt.toNumber=function(){return+this};kt.toPower=kt.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Qs);if(o=new l(o),!o.s){if(t.s<1)throw Error(tl+"Infinity");return o}if(o.eq(Qs))return o;if(r=l.precision,t.eq(Qs))return ur(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=Gse){for(i=new l(Qs),e=Math.ceil(r/_r+4),Nr=!1;n%2&&(i=i.times(o),OW(i.d,e)),n=ey(n/2),n!==0;)o=o.times(o),OW(o.d,e);return Nr=!0,t.s<0?new l(Qs).div(i):ur(i,r)}}else if(a<0)throw Error(tl+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Nr=!1,i=t.times(B1(o,r+c)),Nr=!0,i=$se(i),i.s=a,i};kt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ki(i),r=Jp(i,n<=a.toExpNeg||n>=a.toExpPos)):(Mc(t,1,Q0),e===void 0?e=a.rounding:Mc(e,0,8),i=ur(new a(i),t,e),n=ki(i),r=Jp(i,t<=n||n<=a.toExpNeg,t)),r};kt.toSignificantDigits=kt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Mc(t,1,Q0),e===void 0?e=r.rounding:Mc(e,0,8)),ur(new r(n),t,e)};kt.toString=kt.valueOf=kt.val=kt.toJSON=kt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ki(t),n=t.constructor;return Jp(t,e<=n.toExpNeg||e>=n.toExpPos)};function Wse(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Nr?ur(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/_r),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ea|0,l[a]%=ea;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Nr?ur(e,f):e}function Mc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ip+t)}function pc(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=_r-r.length,n&&(a+=ed(n)),a+=r;s=t[e],r=s+"",n=_r-r.length,n&&(a+=ed(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Lu=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ea|0,s=a/ea|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ea+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,f,d,h,g,y,x,v,b,_,A,T,M,I,O,P=r.constructor,k=r.s==i.s?1:-1,N=r.d,L=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(tl+"Division by zero");for(l=r.e-i.e,I=L.length,T=N.length,h=new P(k),g=h.d=[],c=0;L[c]==(N[c]||0);)++c;if(L[c]>(N[c]||0)&&--l,a==null?b=a=P.precision:s?b=a+(ki(r)-ki(i))+1:b=a,b<0)return new P(0);if(b=b/_r+2|0,c=0,I==1)for(u=0,L=L[0],b++;(c<T||u)&&b--;c++)_=u*ea+(N[c]||0),g[c]=_/L|0,u=_%L|0;else{for(u=ea/(L[0]+1)|0,u>1&&(L=t(L,u),N=t(N,u),I=L.length,T=N.length),A=I,y=N.slice(0,I),x=y.length;x<I;)y[x++]=0;O=L.slice(),O.unshift(0),M=L[0],L[1]>=ea/2&&++M;do u=0,o=e(L,y,I,x),o<0?(v=y[0],I!=x&&(v=v*ea+(y[1]||0)),u=v/M|0,u>1?(u>=ea&&(u=ea-1),f=t(L,u),d=f.length,x=y.length,o=e(f,y,d,x),o==1&&(u--,n(f,I<d?O:L,d))):(u==0&&(o=u=1),f=L.slice()),d=f.length,d<x&&f.unshift(0),n(y,f,x),o==-1&&(x=y.length,o=e(L,y,I,x),o<1&&(u++,n(y,I<x?O:L,x))),x=y.length):o===0&&(u++,y=[0]),g[c++]=u,o&&y[0]?y[x++]=N[A]||0:(y=[N[A]],x=1);while((A++<T||y[0]!==void 0)&&b--)}return g[0]||g.shift(),h.e=l,ur(h,s?a+ki(h)+1:a)}}();function $se(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(ki(t)>16)throw Error(Kz+ki(t));if(!t.s)return new u(Qs);for(Nr=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(rp(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(Qs),u.precision=o;;){if(i=ur(i.times(t),o),n=n.times(++l),s=a.plus(Lu(i,n,o)),pc(s.d).slice(0,o)===pc(a.d).slice(0,o)){for(;c--;)a=ur(a.times(a),o);return u.precision=f,e==null?(Nr=!0,ur(a,f)):a}a=s}}function ki(t){for(var e=t.e*_r,n=t.d[0];n>=10;n/=10)e++;return e}function TN(t,e,n){if(e>t.LN10.sd())throw Nr=!0,n&&(t.precision=n),Error(tl+"LN10 precision limit exceeded");return ur(new t(t.LN10),e)}function ed(t){for(var e="";t--;)e+="0";return e}function B1(t,e){var n,r,i,a,s,o,l,c,u,f=1,d=10,h=t,g=h.d,y=h.constructor,x=y.precision;if(h.s<1)throw Error(tl+(h.s?"NaN":"-Infinity"));if(h.eq(Qs))return new y(0);if(e==null?(Nr=!1,c=x):c=e,h.eq(10))return e==null&&(Nr=!0),TN(y,c);if(c+=d,y.precision=c,n=pc(g),r=n.charAt(0),a=ki(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=pc(h.d),r=n.charAt(0),f++;a=ki(h),r>1?(h=new y("0."+n),a++):h=new y(r+"."+n.slice(1))}else return l=TN(y,c+2,x).times(a+""),h=B1(new y(r+"."+n.slice(1)),c-d).plus(l),y.precision=x,e==null?(Nr=!0,ur(h,x)):h;for(o=s=h=Lu(h.minus(Qs),h.plus(Qs),c),u=ur(h.times(h),c),i=3;;){if(s=ur(s.times(u),c),l=o.plus(Lu(s,new y(i),c)),pc(l.d).slice(0,c)===pc(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(TN(y,c+2,x).times(a+""))),o=Lu(o,new y(f),c),y.precision=x,e==null?(Nr=!0,ur(o,x)):o;o=l,i+=2}}function IW(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ey(n/_r),t.d=[],r=(n+1)%_r,n<0&&(r+=_r),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=_r;r<i;)t.d.push(+e.slice(r,r+=_r));e=e.slice(r),r=_r-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nr&&(t.e>LT||t.e<-LT))throw Error(Kz+n)}else t.s=0,t.e=0,t.d=[0];return t}function ur(t,e,n){var r,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=_r,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/_r),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;r%=_r,i=r-_r+s}if(n!==void 0&&(a=rp(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/rp(10,s-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=ki(t),f.length=1,e=e-a-1,f[0]=rp(10,(_r-e%_r)%_r),t.e=ey(-e/_r)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=rp(10,_r-r),f[u]=i>0?(c/rp(10,s-i)%rp(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==ea&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=ea)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Nr&&(t.e>LT||t.e<-LT))throw Error(Kz+ki(t));return t}function qse(t,e){var n,r,i,a,s,o,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Nr?ur(e,h):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(h/_r),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ea-1;--l[a],l[i]+=ea}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Nr?ur(e,h):e):new d(0)}function Jp(t,e,n){var r,i=ki(t),a=pc(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ed(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ed(-i-1)+a,n&&(r=n-s)>0&&(a+=ed(r))):i>=s?(a+=ed(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ed(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ed(r))),t.s<0?"-"+a:a}function OW(t,e){if(t.length>e)return t.length=e,!0}function Xse(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ip+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return IW(s,a.toString())}else if(typeof a!="string")throw Error(Ip+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,cFe.test(a))IW(s,a);else throw Error(Ip+a)}if(i.prototype=kt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xse,i.config=i.set=uFe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function uFe(t){if(!t||typeof t!="object")throw Error(tl+"Object expected");var e,n,r,i=["precision",1,Q0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ey(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ip+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ip+n+": "+r);return this}var Yz=Xse(lFe);Qs=new Yz(1);const Zn=Yz;var fFe=t=>t,Kse={},Yse=t=>t===Kse,kW=t=>function e(){return arguments.length===0||arguments.length===1&&Yse(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Zse=(t,e)=>t===1?e:kW(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==Kse).length;return a>=t?e(...r):Zse(t-a,kW(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(u=>Yse(u)?o.shift():u);return e(...c,...o)}))}),dFe=t=>Zse(t.length,t),SL=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},hFe=dFe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),pFe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fFe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},EL=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function Jse(t){var e;return t===0?e=1:e=Math.floor(new Zn(t).abs().log(10).toNumber())+1,e}function Qse(t,e,n){for(var r=new Zn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var eoe=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},toe=(t,e,n)=>{if(t.lte(0))return new Zn(0);var r=Jse(t.toNumber()),i=new Zn(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Zn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?new Zn(l.toNumber()):new Zn(Math.ceil(l.toNumber()))},mFe=(t,e,n)=>{var r=new Zn(1),i=new Zn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Zn(10).pow(Jse(t)-1),i=new Zn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Zn(Math.floor(t)))}else t===0?i=new Zn(Math.floor((e-1)/2)):n||(i=new Zn(Math.floor(t)));var s=Math.floor((e-1)/2),o=pFe(hFe(l=>i.add(new Zn(l-s).mul(r)).toNumber()),SL);return o(0,e)},noe=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Zn(0),tickMin:new Zn(0),tickMax:new Zn(0)};var s=toe(new Zn(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Zn(0):(o=new Zn(e).add(n).div(2),o=o.sub(new Zn(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Zn(n).sub(o).div(s).toNumber()),u=l+c+1;return u>r?noe(e,n,r,i,a+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Zn(l).mul(s)),tickMax:o.add(new Zn(c).mul(s))})},gFe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=eoe([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...SL(0,i-1).map(()=>1/0)]:[...SL(0,i-1).map(()=>-1/0),l];return n>r?EL(c):c}if(o===l)return mFe(o,i,a);var{step:u,tickMin:f,tickMax:d}=noe(o,l,s,a,0),h=Qse(f,d.add(new Zn(.1).mul(u)),u);return n>r?EL(h):h},vFe=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=eoe([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=toe(new Zn(o).sub(s).div(l-1),a,0),u=[...Qse(new Zn(s),new Zn(o),c),o];return a===!1&&(u=u.map(f=>Math.round(f))),r>i?EL(u):u},b3=t=>t.rootProps.maxBarSize,roe=t=>t.rootProps.barGap,Zz=t=>t.rootProps.barCategoryGap,ioe=t=>t.rootProps.barSize,ty=t=>t.rootProps.stackOffset,Jz=t=>t.rootProps.reverseStackOrder,Qz=t=>t.options.chartName,eF=t=>t.rootProps.syncId,aoe=t=>t.rootProps.syncMethod,tF=t=>t.options.eventEmitter,yFe=t=>t.rootProps.baseValue,qn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},lc={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:qn.axis},Ss={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:qn.axis},_3=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},xFe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:lc.angleAxisId,includeHidden:!1,name:void 0,reversed:lc.reversed,scale:lc.scale,tick:lc.tick,tickCount:void 0,ticks:void 0,type:lc.type,unit:void 0},bFe={allowDataOverflow:Ss.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ss.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ss.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ss.scale,tick:Ss.tick,tickCount:Ss.tickCount,ticks:void 0,type:Ss.type,unit:void 0},_Fe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:lc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:lc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:lc.scale,tick:lc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wFe={allowDataOverflow:Ss.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ss.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ss.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ss.scale,tick:Ss.tick,tickCount:Ss.tickCount,ticks:void 0,type:"category",unit:void 0},Am=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?_Fe:xFe,ny=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?wFe:bFe,w3=t=>t.polarOptions,nF=Ce([lf,cf,Ni],ise),soe=Ce([w3,nF],(t,e)=>{if(t!=null)return Ta(t.innerRadius,e,0)}),ooe=Ce([w3,nF],(t,e)=>{if(t!=null)return Ta(t.outerRadius,e,e*.8)}),SFe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},loe=Ce([w3],SFe),EFe=Ce([Am,loe],_3),coe=Ce([nF,soe,ooe],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),AFe=Ce([ny,coe],_3),Mm=Ce([Qt,w3,soe,ooe,lf,cf],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=e;return{cx:Ta(s,i,i/2),cy:Ta(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),dr=(t,e)=>e,aw=(t,e,n)=>n;function S3(t){return t==null?void 0:t.id}function rF(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=S3(o);c.forEach((f,d)=>{var h=a==null||i?d:String(pn(f,a,null)),g=pn(f,o.dataKey,0),y;s.has(h)?y=s.get(h):y={},Object.assign(y,{[u]:g}),s.set(h,y)})}}),Array.from(s.values())}function sw(t){return t.stackId!=null&&t.dataKey!=null}var E3=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function A3(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function MFe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var qi=t=>{var e=Qt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ry=t=>t.tooltip.settings.axisId;function NW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NW(Object(n),!0).forEach(function(r){TFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TFe(t,e,n){return(e=CFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CFe(t){var e=PFe(t,"string");return typeof e=="symbol"?e:e+""}function PFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AL=[0,"auto"],Ji={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},uoe=(t,e)=>t.cartesianAxis.xAxis[e],df=(t,e)=>{var n=uoe(t,e);return n??Ji},Qi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:AL,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Q_},foe=(t,e)=>t.cartesianAxis.yAxis[e],hf=(t,e)=>{var n=foe(t,e);return n??Qi},Pu={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},iF=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Pu},$r=(t,e,n)=>{switch(e){case"xAxis":return df(t,n);case"yAxis":return hf(t,n);case"zAxis":return iF(t,n);case"angleAxis":return Am(t,n);case"radiusAxis":return ny(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},IFe=(t,e,n)=>{switch(e){case"xAxis":return df(t,n);case"yAxis":return hf(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},iy=(t,e,n)=>{switch(e){case"xAxis":return df(t,n);case"yAxis":return hf(t,n);case"angleAxis":return Am(t,n);case"radiusAxis":return ny(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},doe=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aF(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ay=t=>t.graphicalItems.cartesianItems,OFe=Ce([dr,aw],aF),sF=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ow=Ce([ay,$r,OFe],sF,{memoizeOptions:{resultEqualityCheck:A3}}),hoe=Ce([ow],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(sw)),poe=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),kFe=Ce([ow],poe),oF=t=>t.map(e=>e.data).filter(Boolean).flat(1),NFe=Ce([ow],oF,{memoizeOptions:{resultEqualityCheck:A3}}),lF=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},cF=Ce([NFe,J0],lF),uF=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:pn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:pn(i,r)}))):t.map(r=>({value:r})),M3=Ce([cF,$r,ow],uF);function moe(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function KA(t){if(Ec(t)||t instanceof Date){var e=Number(t);if(Tr(e))return e}}function RW(t){if(Array.isArray(t)){var e=[KA(t[0]),KA(t[1])];return Vd(e)?e:void 0}var n=KA(t);if(n!=null)return[n,n]}function Qu(t){return t.map(KA).filter(L2e)}function RFe(t,e,n){return!n||typeof e!="number"||Qo(e)?[]:n.length?Qu(n.flatMap(r=>{var i=pn(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Tr(a)||!Tr(s)))return[e-a,e+s]})):[]}var Ri=t=>{var e=qi(t),n=ry(t);return iy(t,e,n)},lw=Ce([Ri],t=>t==null?void 0:t.dataKey),DFe=Ce([hoe,J0,Ri],rF),fF=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,u=c.map(S3);return[o,{stackedData:RLe(t,u,n),graphicalItems:c}]}))},V1=Ce([DFe,hoe,ty,Jz],fF),goe=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=ULe(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},LFe=Ce([$r],t=>t.allowDataOverflow),dF=t=>{var e;if(t==null||!("domain"in t))return AL;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Qu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:AL},hF=Ce([$r],dF),pF=Ce([hF,LFe],Hse),UFe=Ce([V1,ff,dr,pF],goe,{memoizeOptions:{resultEqualityCheck:E3}}),T3=t=>t.errorBars,zFe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>moe(n,r)),zT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},mF=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var c,u,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(v=>moe(i,v)),d=pn(o,(u=e.dataKey)!==null&&u!==void 0?u:l.dataKey),h=RFe(o,d,f);if(h.length>=2){var g=Math.min(...h),y=Math.max(...h);(a==null||g<a)&&(a=g),(s==null||y>s)&&(s=y)}var x=RW(d);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=RW(pn(o,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Tr(a)&&Tr(s))return[a,s]},FFe=Ce([cF,$r,kFe,T3,dr],mF,{memoizeOptions:{resultEqualityCheck:E3}});function jFe(t){var{value:e}=t;if(Ec(e)||e instanceof Date)return e}var BFe=(t,e,n)=>{var r=t.map(jFe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Tie(r))?fse(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},voe=t=>t.referenceElements.dots,sy=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),VFe=Ce([voe,dr,aw],sy),yoe=t=>t.referenceElements.areas,HFe=Ce([yoe,dr,aw],sy),xoe=t=>t.referenceElements.lines,GFe=Ce([xoe,dr,aw],sy),boe=(t,e)=>{var n=Qu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},WFe=Ce(VFe,dr,boe),_oe=(t,e)=>{var n=Qu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$Fe=Ce([HFe,dr],_oe);function qFe(t){var e;if(t.x!=null)return Qu([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Qu(n)}function XFe(t){var e;if(t.y!=null)return Qu([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Qu(n)}var woe=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?qFe(r):XFe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},KFe=Ce([GFe,dr],woe),YFe=Ce(WFe,KFe,$Fe,(t,e,n)=>zT(t,n,e)),gF=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?zT(r,a,i):zT(a,i);return oFe(e,c,t.allowDataOverflow)},ZFe=Ce([$r,hF,pF,UFe,FFe,YFe,Qt,dr],gF,{memoizeOptions:{resultEqualityCheck:E3}}),JFe=[0,1],vF=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,c=il(e,a);if(c&&o==null){var u;return fse(0,(u=n==null?void 0:n.length)!==null&&u!==void 0?u:0)}return l==="category"?BFe(r,t,c):i==="expand"?JFe:s}},yF=Ce([$r,Qt,cF,M3,ty,dr,ZFe],vF),Soe=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(q_(a));return o in cb?o:"point"}}},nh=Ce([$r,Qt,doe,Qz,dr],Soe);function QFe(t){if(t!=null){if(t in cb)return cb[t]();var e="scale".concat(q_(t));if(e in cb)return cb[e]()}}function C3(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=QFe(e);if(i!=null){var a=i.domain(n).range(r);return ILe(a),a}}}var xF=(t,e,n)=>{var r=dF(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Vd(t))return gFe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Vd(t))return vFe(t,e.tickCount,e.allowDecimals)}},bF=Ce([yF,iy,nh],xF),_F=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Vd(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},eje=Ce([$r,yF,bF,dr],_F),tje=Ce(M3,$r,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Qu(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),Eoe=Ce(tje,Qt,Zz,Ni,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Tr(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Ta(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),nje=(t,e)=>{var n=df(t,e);return n==null||typeof n.padding!="string"?0:Eoe(t,"xAxis",e,n.padding)},rje=(t,e)=>{var n=hf(t,e);return n==null||typeof n.padding!="string"?0:Eoe(t,"yAxis",e,n.padding)},ije=Ce(df,nje,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),aje=Ce(hf,rje,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),sje=Ce([Ni,ije,c3,l3,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),oje=Ce([Ni,Qt,aje,c3,l3,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),cw=(t,e,n,r)=>{var i;switch(e){case"xAxis":return sje(t,n,r);case"yAxis":return oje(t,n,r);case"zAxis":return(i=iF(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return loe(t);case"radiusAxis":return coe(t,n);default:return}},Aoe=Ce([$r,cw],_3),oy=Ce([$r,nh,eje,Aoe],C3);Ce([ow,T3,dr],zFe);function Moe(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var P3=(t,e)=>e,I3=(t,e,n)=>n,lje=Ce(s3,P3,I3,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Moe)),cje=Ce(o3,P3,I3,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Moe)),Toe=(t,e)=>({width:t.width,height:e.height}),uje=(t,e)=>{var n=typeof e.width=="number"?e.width:Q_;return{width:n,height:t.height}},Coe=Ce(Ni,df,Toe),fje=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},dje=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},hje=Ce(cf,Ni,lje,P3,I3,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=Toe(e,o);s==null&&(s=fje(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),pje=Ce(lf,Ni,cje,P3,I3,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=uje(e,o);s==null&&(s=dje(e,r,t));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),mje=(t,e)=>{var n=df(t,e);if(n!=null)return hje(t,n.orientation,n.mirror)},gje=Ce([Ni,df,mje,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),vje=(t,e)=>{var n=hf(t,e);if(n!=null)return pje(t,n.orientation,n.mirror)},yje=Ce([Ni,hf,vje,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Poe=Ce(Ni,hf,(t,e)=>{var n=typeof e.width=="number"?e.width:Q_;return{width:n,height:t.height}}),DW=(t,e,n)=>{switch(e){case"xAxis":return Coe(t,n).width;case"yAxis":return Poe(t,n).height;default:return}},Ioe=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=il(t,r),l=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&Tie(l))return l}},uw=Ce([Qt,M3,$r,dr],Ioe),wF=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=il(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},SF=Ce([Qt,M3,iy,dr],wF),LW=Ce([Qt,IFe,nh,oy,uw,SF,cw,bF,dr],(t,e,n,r,i,a,s,o,l)=>{if(e!=null){var c=il(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),Ooe=(t,e,n,r,i,a,s,o,l)=>{if(!(e==null||r==null)){var c=il(t,l),{type:u,ticks:f,tickCount:d}=e,h=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=u==="category"&&r.bandwidth?r.bandwidth()/h:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Oi(a[0]-a[1])*2*g:g;var y=f||i;if(y){var x=y.map((v,b)=>{var _=s?s.indexOf(v):v;return{index:b,coordinate:r(_)+g,value:v,offset:g}});return x.filter(v=>Tr(v.coordinate))}return c&&o?o.map((v,b)=>({coordinate:r(v)+g,value:v,index:b,offset:g})).filter(v=>Tr(v.coordinate)):r.ticks?r.ticks(d).map(v=>({coordinate:r(v)+g,value:v,offset:g})):r.domain().map((v,b)=>({coordinate:r(v)+g,value:s?s[v]:v,index:b,offset:g}))}},koe=Ce([Qt,iy,nh,oy,bF,cw,uw,SF,dr],Ooe),Noe=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=il(t,s),{tickCount:l}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Oi(r[0]-r[1])*2*c:c,o&&a?a.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}},nl=Ce([Qt,iy,oy,cw,uw,SF,dr],Noe),rl=Ce($r,oy,(t,e)=>{if(!(t==null||e==null))return UT(UT({},t),{},{scale:e})}),xje=Ce([$r,nh,yF,Aoe],C3),bje=Ce((t,e,n)=>iF(t,n),xje,(t,e)=>{if(!(t==null||e==null))return UT(UT({},t),{},{scale:e})}),_je=Ce([Qt,s3,o3],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Roe=t=>t.options.defaultTooltipEventType,Doe=t=>t.options.validateTooltipEventTypes;function Loe(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function EF(t,e){var n=Roe(t),r=Doe(t);return Loe(e,n,r)}function wje(t){return _t(e=>EF(e,t))}var Uoe=(t,e)=>{var n,r=Number(e);if(!(Qo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Sje=t=>t.tooltip.settings,dd={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Eje={itemInteraction:{click:dd,hover:dd},axisInteraction:{click:dd,hover:dd},keyboardInteraction:dd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zoe=Ls({name:"tooltip",initialState:Eje,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:kr()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Dl(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:kr()},removeTooltipEntrySettings:{reducer(t,e){var n=Dl(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:kr()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Aje,replaceTooltipEntrySettings:Mje,removeTooltipEntrySettings:Tje,setTooltipSettingsState:Cje,setActiveMouseOverItemIndex:Foe,mouseLeaveItem:Pje,mouseLeaveChart:joe,setActiveClickItemIndex:Ije,setMouseOverAxisIndex:Boe,setMouseClickAxisIndex:Oje,setSyncInteraction:ML,setKeyboardInteraction:TL}=zoe.actions,kje=zoe.reducer;function UW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UW(Object(n),!0).forEach(function(r){Nje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nje(t,e,n){return(e=Rje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rje(t){var e=Dje(t,"string");return typeof e=="symbol"?e:e+""}function Dje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lje(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Uje(t){return t.index!=null}var Voe=(t,e,n,r)=>{if(e==null)return dd;var i=Lje(t,e,n);if(i==null)return dd;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Uje(i)){if(a)return pE(pE({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return pE(pE({},dd),{},{coordinate:i.coordinate})};function zje(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Fje(t,e){var n=zje(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function jje(t,e,n){if(n==null||e==null)return!0;var r=pn(t,e);return r==null||!Vd(n)?!0:Fje(r,n)}var AF=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!Tr(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(s,Math.min(a,o)),c=e[l];return c==null||jje(c,n,r)?String(l):null},Hoe=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},Goe=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},fw=t=>t.options.tooltipPayloadSearcher,ly=t=>t.tooltip;function zW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zW(Object(n),!0).forEach(function(r){Bje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bje(t,e,n){return(e=Vje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vje(t){var e=Hje(t,"string");return typeof e=="symbol"?e:e+""}function Hje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gje(t,e){return t??e}var Woe=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return t.reduce((d,h)=>{var g,{dataDefinedOnItem:y,settings:x}=h,v=Gje(y,o),b=Array.isArray(v)?Cae(v,c,u):v,_=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:r,A=x==null?void 0:x.nameKey,T;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?T=Cie(b,r,i):T=a(b,e,l,A),Array.isArray(T))T.forEach(I=>{var O=FW(FW({},x),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});d.push(w7({tooltipEntrySettings:O,dataKey:I.dataKey,payload:I.payload,value:pn(I.payload,I.dataKey),name:I.name}))});else{var M;d.push(w7({tooltipEntrySettings:x,dataKey:_,payload:T,value:pn(T,_),name:(M=pn(T,A))!==null&&M!==void 0?M:x==null?void 0:x.name}))}return d},f)}},MF=Ce([Ri,Qt,doe,Qz,qi],Soe),Wje=Ce([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$je=Ce([qi,ry],aF),dw=Ce([Wje,Ri,$je],sF,{memoizeOptions:{resultEqualityCheck:A3}}),qje=Ce([dw],t=>t.filter(sw)),Xje=Ce([dw],oF,{memoizeOptions:{resultEqualityCheck:A3}}),cy=Ce([Xje,ff],lF),Kje=Ce([qje,ff,Ri],rF),TF=Ce([cy,Ri,dw],uF),$oe=Ce([Ri],dF),Yje=Ce([Ri],t=>t.allowDataOverflow),qoe=Ce([$oe,Yje],Hse),Zje=Ce([dw],t=>t.filter(sw)),Jje=Ce([Kje,Zje,ty,Jz],fF),Qje=Ce([Jje,ff,qi,qoe],goe),eBe=Ce([dw],poe),tBe=Ce([cy,Ri,eBe,T3,qi],mF,{memoizeOptions:{resultEqualityCheck:E3}}),nBe=Ce([voe,qi,ry],sy),rBe=Ce([nBe,qi],boe),iBe=Ce([yoe,qi,ry],sy),aBe=Ce([iBe,qi],_oe),sBe=Ce([xoe,qi,ry],sy),oBe=Ce([sBe,qi],woe),lBe=Ce([rBe,oBe,aBe],zT),cBe=Ce([Ri,$oe,qoe,Qje,tBe,lBe,Qt,qi],gF),hw=Ce([Ri,Qt,cy,TF,ty,qi,cBe],vF),uBe=Ce([hw,Ri,MF],xF),fBe=Ce([Ri,hw,uBe,qi],_F),Xoe=t=>{var e=qi(t),n=ry(t),r=!1;return cw(t,e,n,r)},Koe=Ce([Ri,Xoe],_3),Yoe=Ce([Ri,MF,fBe,Koe],C3),dBe=Ce([Qt,TF,Ri,qi],Ioe),hBe=Ce([Qt,TF,Ri,qi],wF),pBe=(t,e,n,r,i,a,s,o)=>{if(e){var{type:l}=e,c=il(t,o);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Oi(i[0]-i[1])*2*f:f,c&&s?s.map((d,h)=>({coordinate:r(d)+f,value:d,index:h,offset:f})):r.domain().map((d,h)=>({coordinate:r(d)+f,value:a?a[d]:d,index:h,offset:f}))}}},pf=Ce([Qt,Ri,MF,Yoe,Xoe,dBe,hBe,qi],pBe),CF=Ce([Roe,Doe,Sje],(t,e,n)=>Loe(n.shared,t,e)),Zoe=t=>t.tooltip.settings.trigger,PF=t=>t.tooltip.settings.defaultIndex,pw=Ce([ly,CF,Zoe,PF],Voe),Tc=Ce([pw,cy,lw,hw],AF),Joe=Ce([pf,Tc],Uoe),IF=Ce([pw],t=>{if(t)return t.dataKey}),mBe=Ce([pw],t=>{if(t)return t.graphicalItemId}),Qoe=Ce([ly,CF,Zoe,PF],Goe),gBe=Ce([lf,cf,Qt,Ni,pf,PF,Qoe,fw],Hoe),vBe=Ce([pw,gBe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),yBe=Ce([pw],t=>t.active),xBe=Ce([Qoe,Tc,ff,lw,Joe,fw,CF],Woe),bBe=Ce([xBe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function jW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jW(Object(n),!0).forEach(function(r){_Be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Be(t,e,n){return(e=wBe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wBe(t){var e=SBe(t,"string");return typeof e=="symbol"?e:e+""}function SBe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EBe=()=>_t(Ri),ABe=()=>{var t=EBe(),e=_t(pf),n=_t(Yoe);return ks(!t||!n?void 0:BW(BW({},t),{},{scale:n}),e)};function VW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VW(Object(n),!0).forEach(function(r){MBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MBe(t,e,n){return(e=TBe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TBe(t){var e=CBe(t,"string");return typeof e=="symbol"?e:e+""}function CBe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PBe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},IBe=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return xg(xg(xg({},r),Gn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return xg(xg(xg({},r),Gn(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function OBe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var ele=(t,e,n,r,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,f=l>=o-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(Oi(u-c)!==Oi(f-u)){var h=[];if(Oi(f-u)===Oi(i[1]-i[0])){d=f;var g=u+i[1]-i[0];h[0]=Math.min(g,(g+c)/2),h[1]=Math.max(g,(g+c)/2)}else{d=c;var y=f+i[1]-i[0];h[0]=Math.min(u,(y+u)/2),h[1]=Math.max(u,(y+u)/2)}var x=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(t>x[0]&&t<=x[1]||t>=h[0]&&t<=h[1]){({index:s}=n[l]);break}}else{var v=Math.min(c,f),b=Math.max(c,f);if(t>(v+u)/2&&t<=(b+u)/2){({index:s}=n[l]);break}}}else if(e){for(var _=0;_<o;_++)if(_===0&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_===o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2){({index:s}=e[_]);break}}return s},tle=()=>_t(Qz),OF=(t,e)=>e,nle=(t,e,n)=>n,kF=(t,e,n,r)=>r,kBe=Ce(pf,t=>YP(t,e=>e.coordinate)),NF=Ce([ly,OF,nle,kF],Voe),O3=Ce([NF,cy,lw,hw],AF),NBe=(t,e,n)=>{if(e!=null){var r=ly(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},rle=Ce([ly,OF,nle,kF],Goe),FT=Ce([lf,cf,Qt,Ni,pf,kF,rle,fw],Hoe),RBe=Ce([NF,FT],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),ile=Ce([pf,O3],Uoe),DBe=Ce([rle,O3,ff,lw,ile,fw,OF],Woe),LBe=Ce([NF,O3],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),UBe=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&OBe(t,s)){var o=zLe(t,e),l=ele(o,a,i,n,r),c=PBe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:c}}},zBe=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=Z5e(t,n);if(o){var l=FLe(o,e),c=ele(l,s,a,r,i),u=IBe(e,a,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},FBe=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?UBe(t,e,r,i,a,s,o):zBe(t,e,n,r,i,a,s)},jBe=Ce(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),BBe=Ce(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(qn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:MFe}});function HW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HW(Object(n),!0).forEach(function(r){VBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VBe(t,e,n){return(e=HBe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HBe(t){var e=GBe(t,"string");return typeof e=="symbol"?e:e+""}function GBe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WBe={},$Be={zIndexMap:Object.values(qn).reduce((t,e)=>GW(GW({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),WBe)},qBe=new Set(Object.values(qn));function XBe(t){return qBe.has(t)}var ale=Ls({name:"zIndex",initialState:$Be,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:kr()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!XBe(n)&&delete t.zIndexMap[n])},prepare:kr()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:kr()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:kr()}}}),{registerZIndexPortal:KBe,unregisterZIndexPortal:YBe,registerZIndexPortalId:ZBe,unregisterZIndexPortalId:JBe}=ale.actions,QBe=ale.reducer;function Rr(t){var{zIndex:e,children:n}=t,r=h4e(),i=r&&e!==void 0&&e!==0,a=ii(),s=er();E.useLayoutEffect(()=>i?(s(KBe({zIndex:e})),()=>{s(YBe({zIndex:e}))}):X_,[s,e,i]);var o=_t(c=>jBe(c,e,a));if(!i)return n;if(!o)return null;var l=document.getElementById(o);return l?fP.createPortal(n,l):null}function CL(){return CL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CL.apply(null,arguments)}function WW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WW(Object(n),!0).forEach(function(r){e6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e6e(t,e,n){return(e=t6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t6e(t){var e=n6e(t,"string");return typeof e=="symbol"?e:e+""}function n6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r6e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return E.isValidElement(e)?E.cloneElement(e,r):E.createElement(n,r)}function i6e(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:u}=t,f=n,d=r,h=i;if(!l||!f||u!=="ScatterChart"&&c!=="axis")return null;var g,y,x;if(u==="ScatterChart")g=f,y=d5e,x=qn.cursorLine;else if(u==="BarChart")g=h5e(o,f,a,s),y=rse,x=qn.cursorRectangle;else if(o==="radial"&&Iie(f)){var{cx:v,cy:b,radius:_,startAngle:A,endAngle:T}=sse(f);g={cx:v,cy:b,startAngle:A,endAngle:T,innerRadius:_,outerRadius:_},y=lse,x=qn.cursorLine}else g={points:tUe(o,f,a)},y=Pp,x=qn.cursorLine;var M=typeof l=="object"&&"className"in l?l.className:void 0,I=mE(mE(mE(mE({stroke:"#ccc",pointerEvents:"none"},a),g),zl(l)),{},{payload:d,payloadIndex:h,className:tn("recharts-tooltip-cursor",M)});return E.createElement(Rr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},E.createElement(r6e,{cursor:l,cursorComp:y,cursorProps:I}))}function a6e(t){var e=ABe(),n=Bae(),r=_m(),i=tle();return e==null||n==null||r==null||i==null?null:E.createElement(i6e,CL({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var sle=E.createContext(null),s6e=()=>E.useContext(sle),ole={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,g=new Array(h);d<h;d++)g[d]=f[d].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,d,h,g){var y=n?n+c:c;if(!this._events[y])return!1;var x=this._events[y],v=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,d),!0;case 5:return x.fn.call(x.context,u,f,d,h),!0;case 6:return x.fn.call(x.context,u,f,d,h,g),!0}for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var A=x.length,T;for(_=0;_<A;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),v){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,f);break;case 4:x[_].fn.call(x[_].context,u,f,d);break;default:if(!b)for(T=1,b=new Array(v-1);T<v;T++)b[T-1]=arguments[T];x[_].fn.apply(x[_].context,b)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,d){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!d||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var y=0,x=[],v=g.length;y<v;y++)(g[y].fn!==u||d&&!g[y].once||f&&g[y].context!==f)&&x.push(g[y]);x.length?this._events[h]=x.length===1?x[0]:x:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(ole);var o6e=ole.exports;const l6e=ca(o6e);var H1=new l6e,PL="recharts.syncEvent.tooltip",$W="recharts.syncEvent.brush";function mf(t,e){if(e){var n=Number.parseInt(e,10);if(!Qo(n))return t==null?void 0:t[n]}}var c6e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lle=Ls({name:"options",initialState:c6e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),u6e=lle.reducer,{createEventEmitter:f6e}=lle.actions;function d6e(t){return t.tooltip.syncInteraction}var h6e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cle=Ls({name:"chartData",initialState:h6e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:qW,setDataStartEndIndexes:p6e,setComputedData:yht}=cle.actions,m6e=cle.reducer,g6e=["x","y"];function XW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XW(Object(n),!0).forEach(function(r){v6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v6e(t,e,n){return(e=y6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y6e(t){var e=x6e(t,"string");return typeof e=="symbol"?e:e+""}function x6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b6e(t,e){if(t==null)return{};var n,r,i=_6e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function w6e(){var t=_t(eF),e=_t(tF),n=er(),r=_t(aoe),i=_t(pf),a=_m(),s=ew(),o=_t(l=>l.rootProps.className);E.useEffect(()=>{if(t==null)return X_;var l=(c,u,f)=>{if(e!==f&&t===c){if(r==="index"){var d;if(s&&u!==null&&u!==void 0&&(d=u.payload)!==null&&d!==void 0&&d.coordinate&&u.payload.sourceViewBox){var h=u.payload.coordinate,{x:g,y}=h,x=b6e(h,g6e),{x:v,y:b,width:_,height:A}=u.payload.sourceViewBox,T=bg(bg({},x),{},{x:s.x+(_?(g-v)/_:0)*s.width,y:s.y+(A?(y-b)/A:0)*s.height});n(bg(bg({},u),{},{payload:bg(bg({},u.payload),{},{coordinate:T})}))}else n(u);return}if(i!=null){var M;if(typeof r=="function"){var I={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},O=r(i,I);M=i[O]}else r==="value"&&(M=i.find(F=>String(F.value)===u.payload.label));var{coordinate:P}=u.payload;if(M==null||u.payload.active===!1||P==null||s==null){n(ML({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:N}=P,L=Math.min(k,s.x+s.width),B=Math.min(N,s.y+s.height),D={x:a==="horizontal"?M.coordinate:L,y:a==="horizontal"?B:M.coordinate},V=ML({active:u.payload.active,coordinate:D,dataKey:u.payload.dataKey,index:String(M.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});n(V)}}};return H1.on(PL,l),()=>{H1.off(PL,l)}},[o,n,e,t,r,i,a,s])}function S6e(){var t=_t(eF),e=_t(tF),n=er();E.useEffect(()=>{if(t==null)return X_;var r=(i,a,s)=>{e!==s&&t===i&&n(p6e(a))};return H1.on($W,r),()=>{H1.off($W,r)}},[n,e,t])}function E6e(){var t=er();E.useEffect(()=>{t(f6e())},[t]),w6e(),S6e()}function A6e(t,e,n,r,i,a){var s=_t(h=>NBe(h,t,e)),o=_t(tF),l=_t(eF),c=_t(aoe),u=_t(d6e),f=u==null?void 0:u.active,d=ew();E.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=ML({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:d,graphicalItemId:void 0});H1.emit(PL,l,h,o)}},[f,n,s,i,r,o,l,c,a,d])}function KW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(n),!0).forEach(function(r){M6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M6e(t,e,n){return(e=T6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T6e(t){var e=C6e(t,"string");return typeof e=="symbol"?e:e+""}function C6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P6e(t){return t.dataKey}function I6e(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(W4e,e)}var ZW=[],O6e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bs(t){var e,n,r=jn(t,O6e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:d,position:h,reverseDirection:g,useTranslate3d:y,wrapperStyle:x,cursor:v,shared:b,trigger:_,defaultIndex:A,portal:T,axisId:M}=r,I=er(),O=typeof A=="number"?String(A):A;E.useEffect(()=>{I(Cje({shared:b,trigger:_,axisId:M,active:i,defaultIndex:O}))},[I,b,_,M,i,O]);var P=ew(),k=Jae(),N=wje(b),{activeIndex:L,isActive:B}=(e=_t(ae=>LBe(ae,N,_,O)))!==null&&e!==void 0?e:{},D=_t(ae=>DBe(ae,N,_,O)),V=_t(ae=>ile(ae,N,_,O)),F=_t(ae=>RBe(ae,N,_,O)),H=D,q=s6e(),W=(n=i??B)!==null&&n!==void 0?n:!1,[z,$]=Jie([H,W]),Z=N==="axis"?V:void 0;A6e(N,_,F,Z,L,W);var G=T??q;if(G==null||P==null||N==null)return null;var ie=H??ZW;W||(ie=ZW),c&&ie.length&&(ie=Gie(ie.filter(ae=>ae.value!=null&&(ae.hide!==!0||r.includeHidden)),d,P6e));var ue=ie.length>0,te=E.createElement(J4e,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:u,active:W,coordinate:F,hasPayload:ue,offset:f,position:h,reverseDirection:g,useTranslate3d:y,viewBox:P,wrapperStyle:x,lastBoundingBox:z,innerRef:$,hasPortalFromProps:!!T},I6e(l,YW(YW({},r),{},{payload:ie,label:Z,active:W,activeIndex:L,coordinate:F,accessibilityLayer:k})));return E.createElement(E.Fragment,null,fP.createPortal(te,G),W&&E.createElement(a6e,{cursor:v,tooltipEventType:N,coordinate:F,payload:ie,index:L}))}var Go=t=>null;Go.displayName="Cell";function k6e(t,e,n){return(e=N6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N6e(t){var e=R6e(t,"string");return typeof e=="symbol"?e:e+""}function R6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class D6e{constructor(e){k6e(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function JW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L6e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JW(Object(n),!0).forEach(function(r){U6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U6e(t,e,n){return(e=z6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6e(t){var e=F6e(t,"string");return typeof e=="symbol"?e:e+""}function F6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j6e={cacheSize:2e3,enableCache:!0},ule=L6e({},j6e),QW=new D6e(ule.cacheSize),B6e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},e$="recharts_measurement_span";function V6e(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var t$=(t,e)=>{try{var n=document.getElementById(e$);n||(n=document.createElement("span"),n.setAttribute("id",e$),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,B6e,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Db=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Z0.isSsr)return{width:0,height:0};if(!ule.enableCache)return t$(e,n);var r=V6e(e,n),i=QW.get(r);if(i)return i;var a=t$(e,n);return QW.set(r,a),a},n$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,G6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},W6e=Object.keys(fle),pv="NaN";function $6e(t,e){return t*fle[e]}class ws{static parse(e){var n,[,r,i]=(n=G6e.exec(e))!==null&&n!==void 0?n:[];return new ws(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Qo(e)&&(this.unit=""),n!==""&&!H6e.test(n)&&(this.num=NaN,this.unit=""),W6e.includes(n)&&(this.num=$6e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ws(NaN,""):new ws(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ws(NaN,""):new ws(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ws(NaN,""):new ws(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ws(NaN,""):new ws(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qo(this.num)}}function dle(t){if(t.includes(pv))return pv;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=n$.exec(e))!==null&&n!==void 0?n:[],s=ws.parse(r??""),o=ws.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return pv;e=e.replace(n$,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,f,d]=(c=r$.exec(e))!==null&&c!==void 0?c:[],h=ws.parse(u??""),g=ws.parse(d??""),y=f==="+"?h.add(g):h.subtract(g);if(y.isNaN())return pv;e=e.replace(r$,y.toString())}return e}var i$=/\(([^()]*)\)/;function q6e(t){for(var e=t,n;(n=i$.exec(e))!=null;){var[,r]=n;e=e.replace(i$,dle(r))}return e}function X6e(t){var e=t.replace(/\s+/g,"");return e=q6e(e),e=dle(e),e}function K6e(t){try{return X6e(t)}catch{return pv}}function CN(t){var e=K6e(t.slice(5,-1));return e===pv?"":e}var Y6e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Z6e=["dx","dy","angle","className","breakAll"];function IL(){return IL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IL.apply(null,arguments)}function a$(t,e){if(t==null)return{};var n,r,i=J6e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function J6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hle=/[ \f\n\r\t\v\u2028\u2029]+/,ple=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Rn(e)||(n?i=e.toString().split(""):i=e.toString().split(hle));var a=i.map(o=>({word:o,width:Db(o,r).width})),s=n?0:Db("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Q6e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var mle=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),gle=t=>t.reduce((e,n)=>e.width>n.width?e:n),e8e="",s$=(t,e,n,r,i,a,s,o)=>{var l=t.slice(0,e),c=ple({breakAll:n,style:r,children:l+e8e});if(!c)return[!1,[]];var u=mle(c.wordsWithComputedWidth,a,s,o),f=u.length>i||gle(u).width>Number(a);return[f,u]},t8e=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,c=It(a),u=String(s),f=mle(e,r,n,i);if(!c||i)return f;var d=f.length>a||gle(f).width>Number(r);if(!d)return f;for(var h=0,g=u.length-1,y=0,x;h<=g&&y<=u.length-1;){var v=Math.floor((h+g)/2),b=v-1,[_,A]=s$(u,b,l,o,a,r,n,i),[T]=s$(u,v,l,o,a,r,n,i);if(!_&&!T&&(h=v+1),_&&T&&(g=v-1),!_&&T){x=A;break}y++}return x||f},o$=t=>{var e=Rn(t)?[]:t.toString().split(hle);return[{words:e,width:void 0}]},n8e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!Z0.isSsr){var o,l,c=ple({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return o$(r);return t8e({breakAll:a,children:r,maxLines:s,style:i},o,l,e,!!n)}return o$(r)},vle="#808080",r8e={angle:0,breakAll:!1,capHeight:"0.71em",fill:vle,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},uy=E.forwardRef((t,e)=>{var n=jn(t,r8e),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=n,f=a$(n,Y6e),d=E.useMemo(()=>n8e({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:h,dy:g,angle:y,className:x,breakAll:v}=f,b=a$(f,Z6e);if(!Ec(r)||!Ec(i)||d.length===0)return null;var _=Number(r)+(It(h)?h:0),A=Number(i)+(It(g)?g:0);if(!Tr(_)||!Tr(A))return null;var T;switch(u){case"start":T=CN("calc(".concat(s,")"));break;case"middle":T=CN("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:T=CN("calc(".concat(d.length-1," * -").concat(a,")"));break}var M=[];if(l){var I=d[0].width,{width:O}=f;M.push("scale(".concat(It(O)&&It(I)?O/I:1,")"))}return y&&M.push("rotate(".concat(y,", ").concat(_,", ").concat(A,")")),M.length&&(b.transform=M.join(" ")),E.createElement("text",IL({},fi(b),{ref:e,x:_,y:A,className:tn("recharts-text",x),textAnchor:c,fill:o.includes("url")?vle:o}),d.map((P,k)=>{var N=P.words.join(v?"":" ");return E.createElement("tspan",{x:_,dy:k===0?T:a,key:"".concat(N,"-").concat(k)},N)}))});uy.displayName="Text";var i8e=["labelRef"];function a8e(t,e){if(t==null)return{};var n,r,i=s8e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function s8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function l$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(n),!0).forEach(function(r){o8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o8e(t,e,n){return(e=l8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l8e(t){var e=c8e(t,"string");return typeof e=="symbol"?e:e+""}function c8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(null,arguments)}var yle=E.createContext(null),u8e=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,l=E.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return E.createElement(yle.Provider,{value:l},o)},xle=()=>{var t=E.useContext(yle),e=ew();return t||jae(e)},ble=E.createContext(null),f8e=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s,clockWise:o,children:l}=t,c=E.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s,clockWise:o}),[e,n,r,i,a,s,o]);return E.createElement(ble.Provider,{value:c},l)},_le=()=>{var t=E.useContext(ble),e=_t(Mm);return t||e},d8e=t=>{var{value:e,formatter:n}=t,r=Rn(t.children)?e:t.children;return typeof n=="function"?n(r):r},RF=t=>t!=null&&typeof t=="function",h8e=(t,e)=>{var n=Oi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},p8e=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:d,clockWise:h}=i,g=(c+u)/2,y=h8e(f,d),x=y>=0?1:-1,v,b;switch(e){case"insideStart":v=f+x*a,b=h;break;case"insideEnd":v=d-x*a,b=!h;break;case"end":v=d+x*a,b=h;break;default:throw new Error("Unsupported position ".concat(e))}b=y<=0?b:!b;var _=Gn(o,l,g,v),A=Gn(o,l,g,v+(b?1:-1)*359),T="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(A.x,",").concat(A.y),M=Rn(t.id)?k1("recharts-radial-line-"):t.id;return E.createElement("text",mu({},r,{dominantBaseline:"central",className:tn("recharts-radial-bar-label",s)}),E.createElement("defs",null,E.createElement("path",{id:M,d:T})),E.createElement("textPath",{xlinkHref:"#".concat(M)},n))},m8e=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=t,c=(o+l)/2;if(n==="outside"){var{x:u,y:f}=Gn(r,i,s+e,c);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(a+s)/2,{x:h,y:g}=Gn(r,i,d,c);return{x:h,y:g,textAnchor:"middle",verticalAnchor:"middle"}},OL=t=>"cx"in t&&It(t.cx),g8e=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!OL(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u}=e,f=s,d=s+(l-c)/2,h=(f+d)/2,g=(l+c)/2,y=f+l/2,x=u>=0?1:-1,v=x*r,b=x>0?"end":"start",_=x>0?"start":"end",A=l>=0?1:-1,T=A*r,M=A>0?"end":"start",I=A>0?"start":"end";if(i==="top"){var O={x:f+l/2,y:o-v,textAnchor:"middle",verticalAnchor:b};return li(li({},O),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var P={x:d+c/2,y:o+u+v,textAnchor:"middle",verticalAnchor:_};return li(li({},P),a?{height:Math.max(a.y+a.height-(o+u),0),width:c}:{})}if(i==="left"){var k={x:h-T,y:o+u/2,textAnchor:M,verticalAnchor:"middle"};return li(li({},k),a?{width:Math.max(k.x-a.x,0),height:u}:{})}if(i==="right"){var N={x:h+g+T,y:o+u/2,textAnchor:I,verticalAnchor:"middle"};return li(li({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:u}:{})}var L=a?{width:g,height:u}:{};return i==="insideLeft"?li({x:h+T,y:o+u/2,textAnchor:I,verticalAnchor:"middle"},L):i==="insideRight"?li({x:h+g-T,y:o+u/2,textAnchor:M,verticalAnchor:"middle"},L):i==="insideTop"?li({x:f+l/2,y:o+v,textAnchor:"middle",verticalAnchor:_},L):i==="insideBottom"?li({x:d+c/2,y:o+u-v,textAnchor:"middle",verticalAnchor:b},L):i==="insideTopLeft"?li({x:f+T,y:o+v,textAnchor:I,verticalAnchor:_},L):i==="insideTopRight"?li({x:f+l-T,y:o+v,textAnchor:M,verticalAnchor:_},L):i==="insideBottomLeft"?li({x:d+T,y:o+u-v,textAnchor:I,verticalAnchor:b},L):i==="insideBottomRight"?li({x:d+c-T,y:o+u-v,textAnchor:M,verticalAnchor:b},L):i&&typeof i=="object"&&(It(i.x)||Xu(i.x))&&(It(i.y)||Xu(i.y))?li({x:s+Ta(i.x,g),y:o+Ta(i.y,u),textAnchor:"end",verticalAnchor:"end"},L):li({x:y,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},L)},v8e={angle:0,offset:5,zIndex:qn.label,position:"middle",textBreakAll:!1};function td(t){var e=jn(t,v8e),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=e,u=_le(),f=xle(),d=r==="center"?f:u??f,h,g,y;if(n==null?h=d:OL(n)?h=n:h=jae(n),!h||Rn(i)&&Rn(a)&&!E.isValidElement(s)&&typeof s!="function")return null;var x=li(li({},e),{},{viewBox:h});if(E.isValidElement(s)){var{labelRef:v}=x,b=a8e(x,i8e);return E.cloneElement(s,b)}if(typeof s=="function"){if(g=E.createElement(s,x),E.isValidElement(g))return g}else g=d8e(e);var _=fi(e);if(OL(h)){if(r==="insideStart"||r==="insideEnd"||r==="end")return p8e(e,r,g,_,h);y=m8e(h,e.offset,e.position)}else y=g8e(e,h);return E.createElement(Rr,{zIndex:e.zIndex},E.createElement(uy,mu({ref:c,className:tn("recharts-label",o)},_,y,{textAnchor:Q6e(_.textAnchor)?_.textAnchor:y.textAnchor,breakAll:l}),g))}td.displayName="Label";var wle=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?E.createElement(td,mu({key:"label-implicit"},r)):Ec(t)?E.createElement(td,mu({key:"label-implicit",value:t},r)):E.isValidElement(t)?t.type===td?E.cloneElement(t,li({key:"label-implicit"},r)):E.createElement(td,mu({key:"label-implicit",content:t},r)):RF(t)?E.createElement(td,mu({key:"label-implicit",content:t},r)):t&&typeof t=="object"?E.createElement(td,mu({},t,{key:"label-implicit"},r)):null};function y8e(t){var{label:e,labelRef:n}=t,r=xle();return wle(e,r,n)||null}function x8e(t){var{label:e}=t,n=_le();return wle(e,n)||null}var Sle={},Ele={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Ele);var Ale={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Ale);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ele,n=Ale,r=Y0;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Sle);var b8e=Sle.last;const Mle=ca(b8e);var _8e=["valueAccessor"],w8e=["dataKey","clockWise","id","textBreakAll","zIndex"];function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jT.apply(null,arguments)}function c$(t,e){if(t==null)return{};var n,r,i=S8e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function S8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E8e=t=>Array.isArray(t.value)?Mle(t.value):t.value,Tle=E.createContext(void 0),fy=Tle.Provider,Cle=E.createContext(void 0),Ple=Cle.Provider;function A8e(){return E.useContext(Tle)}function M8e(){return E.useContext(Cle)}function Lb(t){var{valueAccessor:e=E8e}=t,n=c$(t,_8e),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=c$(n,w8e),c=A8e(),u=M8e(),f=c||u;return!f||!f.length?null:E.createElement(Rr,{zIndex:o??qn.label},E.createElement(dn,{className:"recharts-label-list"},f.map((d,h)=>{var g,y=Rn(r)?e(d,h):pn(d&&d.payload,r),x=Rn(a)?{}:{id:"".concat(a,"-").concat(h)};return E.createElement(td,jT({key:"label-".concat(h)},fi(d),l,x,{fill:(g=n.fill)!==null&&g!==void 0?g:d.fill,parentViewBox:d.parentViewBox,value:y,textBreakAll:s,viewBox:d.viewBox,index:h,zIndex:0}))})))}Lb.displayName="LabelList";function rh(t){var{label:e}=t;return e?e===!0?E.createElement(Lb,{key:"labelList-implicit"}):E.isValidElement(e)||RF(e)?E.createElement(Lb,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(Lb,jT({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var T8e=["points","className","baseLinePoints","connectNulls"];function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}function C8e(t,e){if(t==null)return{};var n,r,i=P8e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function P8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var u$=t=>t&&t.x===+t.x&&t.y===+t.y,I8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{u$(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),u$(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ub=(t,e)=>{var n=I8e(t);e&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,s,o)=>"".concat(a).concat(o===0?"M":"L").concat(s.x,",").concat(s.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},O8e=(t,e,n)=>{var r=Ub(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Ub(Array.from(e).reverse(),n).slice(1))},Ile=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,a=C8e(t,T8e);if(!e||!e.length)return null;var s=tn("recharts-polygon",n);if(r&&r.length){var o=a.stroke&&a.stroke!=="none",l=O8e(e,r,i);return E.createElement("g",{className:s},E.createElement("path",mv({},fi(a),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),o?E.createElement("path",mv({},fi(a),{fill:"none",d:Ub(e,i)})):null,o?E.createElement("path",mv({},fi(a),{fill:"none",d:Ub(r,i)})):null)}var c=Ub(e,i);return E.createElement("path",mv({},fi(a),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function kL(){return kL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kL.apply(null,arguments)}var DF=t=>{var{cx:e,cy:n,r,className:i}=t,a=tn("recharts-dot",i);return It(e)&&It(n)&&It(r)?E.createElement("circle",kL({},Xn(t),ZU(t),{className:a,cx:e,cy:n,r})):null},mw=t=>t.graphicalItems.polarItems,k8e=Ce([dr,aw],aF),gw=Ce([mw,$r,k8e],sF),N8e=Ce([gw],oF),k3=Ce([N8e,Em],lF),Ole=Ce([k3,$r,gw],uF);Ce([k3,$r,gw],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=pn(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:pn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var f$=()=>{},R8e=Ce([k3,$r,gw,T3,dr],mF),D8e=Ce([$r,hF,pF,f$,R8e,f$,Qt,dr],gF),kle=Ce([$r,Qt,k3,Ole,ty,dr,D8e],vF),Nle=Ce([kle,$r,nh],xF),L8e=Ce([$r,kle,Nle,dr],_F),LF=(t,e,n)=>{switch(e){case"angleAxis":return Am(t,n);case"radiusAxis":return ny(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},UF=(t,e,n)=>{switch(e){case"angleAxis":return EFe(t,n);case"radiusAxis":return AFe(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ih=Ce([LF,nh,L8e,UF],C3),Rle=Ce([Qt,Ole,iy,dr],wF),Tm=Ce([Qt,LF,nh,ih,Nle,UF,uw,Rle,dr],Ooe),U8e=Ce([Tm],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}}),z8e=Ce([Qt,LF,ih,UF,uw,Rle,dr],Noe),F8e=(t,e)=>Tm(t,"angleAxis",e,!1),j8e=Ce([F8e],t=>{if(t)return t.map(e=>e.coordinate)}),B8e=(t,e)=>Tm(t,"radiusAxis",e,!1),V8e=Ce([B8e],t=>{if(t)return t.map(e=>e.coordinate)}),H8e=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function G8e(t,e){if(t==null)return{};var n,r,i=W8e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function W8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(null,arguments)}function d$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(n),!0).forEach(function(r){$8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $8e(t,e,n){return(e=q8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q8e(t){var e=X8e(t,"string");return typeof e=="symbol"?e:e+""}function X8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K8e=(t,e,n,r)=>{var i="";return r.forEach((a,s)=>{var o=Gn(e,n,t,a);s?i+="L ".concat(o.x,",").concat(o.y):i+="M ".concat(o.x,",").concat(o.y)}),i+="Z",i},Y8e=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:s}=t;if(!a||!a.length||!s)return null;var o=G1({stroke:"#ccc"},Xn(t));return E.createElement("g",{className:"recharts-polar-grid-angle"},a.map(l=>{var c=Gn(e,n,r,l),u=Gn(e,n,i,l);return E.createElement("line",kl({key:"line-".concat(l)},o,{x1:c.x,y1:c.y,x2:u.x,y2:u.y}))}))},h$=t=>{var{cx:e,cy:n,radius:r}=t,i=G1({stroke:"#ccc",fill:"none"},Xn(t));return E.createElement("circle",kl({},i,{className:tn("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},p$=t=>{var{radius:e}=t,n=G1({stroke:"#ccc",fill:"none"},Xn(t));return E.createElement("path",kl({},n,{className:tn("recharts-polar-grid-concentric-polygon",t.className),d:K8e(e,t.cx,t.cy,t.polarAngles)}))},Z8e=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return E.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&E.createElement(h$,kl({},t,{radius:r})),i&&n!=="circle"&&E.createElement(p$,kl({},t,{radius:r})),e.map((a,s)=>{var o=s;return n==="circle"?E.createElement(h$,kl({key:o},t,{fill:"none",radius:a})):E.createElement(p$,kl({key:o},t,{fill:"none",radius:a}))}))},Dle=t=>{var e,n,r,i,a,s,o,l,c,{gridType:u="polygon",radialLines:f=!0,angleAxisId:d=0,radiusAxisId:h=0,cx:g,cy:y,innerRadius:x,outerRadius:v,polarAngles:b,polarRadius:_}=t,A=G8e(t,H8e),T=_t(Mm),M=_t(L=>j8e(L,d)),I=_t(L=>V8e(L,h)),O=Array.isArray(b)?b:M,P=Array.isArray(_)?_:I;if(O==null||P==null)return null;var k=G1(G1({cx:(e=(n=T==null?void 0:T.cx)!==null&&n!==void 0?n:g)!==null&&e!==void 0?e:0,cy:(r=(i=T==null?void 0:T.cy)!==null&&i!==void 0?i:y)!==null&&r!==void 0?r:0,innerRadius:(a=(s=T==null?void 0:T.innerRadius)!==null&&s!==void 0?s:x)!==null&&a!==void 0?a:0,outerRadius:(o=(l=T==null?void 0:T.outerRadius)!==null&&l!==void 0?l:v)!==null&&o!==void 0?o:0,polarAngles:O,polarRadius:P},A),{},{zIndex:(c=A.zIndex)!==null&&c!==void 0?c:qn.grid}),{outerRadius:N}=k;return N<=0?null:E.createElement(Rr,{zIndex:k.zIndex},E.createElement("g",{className:"recharts-polar-grid"},E.createElement(Z8e,kl({gridType:u,radialLines:f},k,{polarAngles:O,polarRadius:P})),E.createElement(Y8e,kl({gridType:u,radialLines:f},k,{polarAngles:O,polarRadius:P}))))};Dle.displayName="PolarGrid";var Lle={},Ule={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let s=1;s<n.length;s++){const o=n[s],l=r(o);l>a&&(a=l,i=o)}return i}t.maxBy=e})(Ule);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ule,n=K_,r=KP;function i(a,s){if(a!=null)return e.maxBy(Array.from(a),r.iteratee(s??n.identity))}t.maxBy=i})(Lle);var J8e=Lle.maxBy;const Q8e=ca(J8e);var zle={},Fle={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let s=1;s<n.length;s++){const o=n[s],l=r(o);l<a&&(a=l,i=o)}return i}t.minBy=e})(Fle);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fle,n=K_,r=KP;function i(a,s){if(a!=null)return e.minBy(Array.from(a),r.iteratee(s??n.identity))}t.minBy=i})(zle);var eVe=zle.minBy;const tVe=ca(eVe);var nVe={radiusAxis:{},angleAxis:{}},jle=Ls({name:"polarAxis",initialState:nVe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:rVe,removeRadiusAxis:iVe,addAngleAxis:aVe,removeAngleAxis:sVe}=jle.actions,oVe=jle.reducer,lVe=["cx","cy","angle","axisLine"],cVe=["angle","tickFormatter","stroke","tick"];function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(null,arguments)}function m$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(n),!0).forEach(function(r){uVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uVe(t,e,n){return(e=fVe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fVe(t){var e=dVe(t,"string");return typeof e=="symbol"?e:e+""}function dVe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ble(t,e){if(t==null)return{};var n,r,i=hVe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hVe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pVe="radiusAxis";function mVe(t){var e=er();return E.useEffect(()=>(e(rVe(t)),()=>{e(iVe(t))})),null}var gVe=(t,e,n,r)=>{var{coordinate:i}=t;return Gn(n,r,i,e)},vVe=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},yVe=(t,e,n,r)=>{var i=Q8e(r,s=>s.coordinate||0),a=tVe(r,s=>s.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:(a==null?void 0:a.coordinate)||0,outerRadius:(i==null?void 0:i.coordinate)||0,clockWise:!1}},xVe=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:a}=t,s=Ble(t,lVe),o=e.reduce((f,d)=>[Math.min(f[0],d.coordinate),Math.max(f[1],d.coordinate)],[1/0,-1/0]),l=Gn(n,r,o[0],i),c=Gn(n,r,o[1],i),u=Iu(Iu(Iu({},Xn(s)),{},{fill:"none"},Xn(a)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return E.createElement("line",W1({className:"recharts-polar-radius-axis-line"},u))},bVe=(t,e,n)=>{var r;return E.isValidElement(t)?r=E.cloneElement(t,e):typeof t=="function"?r=t(e):r=E.createElement(uy,W1({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},_Ve=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=t,s=Ble(t,cVe),o=vVe(t.orientation),l=Xn(s),c=zl(a),u=e.map((f,d)=>{var h=gVe(f,t.angle,t.cx,t.cy),g=Iu(Iu(Iu(Iu({textAnchor:o,transform:"rotate(".concat(90-n,", ").concat(h.x,", ").concat(h.y,")")},l),{},{stroke:"none",fill:i},c),{},{index:d},h),{},{payload:f});return E.createElement(dn,W1({className:tn("recharts-polar-radius-axis-tick",ase(a)),key:"tick-".concat(f.coordinate)},Wl(t,f,d)),bVe(a,g,r?r(f.value,d):f.value))});return E.createElement(dn,{className:"recharts-polar-radius-axis-ticks"},u)},wVe=t=>{var{radiusAxisId:e}=t,n=_t(Mm),r=_t(l=>ih(l,"radiusAxis",e)),i=_t(l=>Tm(l,"radiusAxis",e,!1));if(n==null||!i||!i.length||r==null)return null;var a=Iu(Iu({},t),{},{scale:r},n),{tick:s,axisLine:o}=a;return E.createElement(Rr,{zIndex:a.zIndex},E.createElement(dn,{className:tn("recharts-polar-radius-axis",pVe,a.className)},o&&xVe(a,i),s&&_Ve(a,i),E.createElement(f8e,yVe(a.angle,a.cx,a.cy,i),E.createElement(x8e,{label:a.label}),a.children)))};function Vle(t){var e=jn(t,Ss);return E.createElement(E.Fragment,null,E.createElement(mVe,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),E.createElement(wVe,e))}Vle.displayName="PolarRadiusAxis";var SVe=["children"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(null,arguments)}function g$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(n),!0).forEach(function(r){EVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EVe(t,e,n){return(e=AVe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AVe(t){var e=MVe(t,"string");return typeof e=="symbol"?e:e+""}function MVe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TVe(t,e){if(t==null)return{};var n,r,i=CVe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CVe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v$=1e-5,PVe=Math.cos(PT(45)),IVe="angleAxis";function OVe(t){var e=er(),n=E.useMemo(()=>{var{children:a}=t,s=TVe(t,SVe);return s},[t]),r=_t(a=>Am(a,n.id)),i=n===r;return E.useEffect(()=>(e(aVe(n)),()=>{e(sVe(n))}),[e,n]),i?t.children:null}var kVe=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:s}=e,o=s||8,l=Gn(n,r,i,t.coordinate),c=Gn(n,r,i+(a==="inner"?-1:1)*o,t.coordinate);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y}},NVe=(t,e)=>{var n=Math.cos(PT(-t.coordinate));return n>v$?e==="outer"?"start":"end":n<-v$?e==="outer"?"end":"start":"middle"},RVe=t=>{var e=Math.cos(PT(-t.coordinate)),n=Math.sin(PT(-t.coordinate));return Math.abs(e)<=PVe?n>0?"start":"end":"middle"},DVe=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:s}=t;if(!a)return null;var o=cc(cc({},Xn(t)),{},{fill:"none"},Xn(a));if(i==="circle")return E.createElement(DF,Qp({className:"recharts-polar-angle-axis-line"},o,{cx:e,cy:n,r}));var l=s.map(c=>Gn(e,n,r,c.coordinate));return E.createElement(Ile,Qp({className:"recharts-polar-angle-axis-line"},o,{points:l}))},LVe=t=>{var{tick:e,tickProps:n,value:r}=t;return e?E.isValidElement(e)?E.cloneElement(e,n):typeof e=="function"?e(n):E.createElement(uy,Qp({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},UVe=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=t,s=Xn(t),o=zl(e),l=cc(cc({},s),{},{fill:"none"},Xn(n)),c=a.map((u,f)=>{var d=kVe(u,t),h=NVe(u,t.orientation),g=RVe(u),y=cc(cc(cc({},s),{},{textAnchor:h,verticalAnchor:g,stroke:"none",fill:i},o),{},{index:f,payload:u,x:d.x2,y:d.y2});return E.createElement(dn,Qp({className:tn("recharts-polar-angle-axis-tick",ase(e)),key:"tick-".concat(u.coordinate)},Wl(t,u,f)),n&&E.createElement("line",Qp({className:"recharts-polar-angle-axis-tick-line"},l,d)),E.createElement(LVe,{tick:e,tickProps:y,value:r?r(u.value,f):u.value}))});return E.createElement(dn,{className:"recharts-polar-angle-axis-ticks"},c)},zVe=t=>{var{angleAxisId:e}=t,n=_t(Mm),r=_t(o=>ih(o,"angleAxis",e)),i=ii(),a=_t(o=>U8e(o,"angleAxis",e,i));if(n==null||!a||!a.length||r==null)return null;var s=cc(cc(cc({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:a});return E.createElement(Rr,{zIndex:s.zIndex},E.createElement(dn,{className:tn("recharts-polar-angle-axis",IVe,s.className)},E.createElement(DVe,s),E.createElement(UVe,s)))};function Hle(t){var e=jn(t,lc);return E.createElement(OVe,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},E.createElement(zVe,e))}Hle.displayName="PolarAngleAxis";function y$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(n),!0).forEach(function(r){FVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FVe(t,e,n){return(e=jVe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jVe(t){var e=BVe(t,"string");return typeof e=="symbol"?e:e+""}function BVe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VVe=(t,e)=>e,zF=Ce([mw,VVe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),HVe=[],FF=(t,e,n)=>(n==null?void 0:n.length)===0?HVe:n,Gle=Ce([Em,zF,FF],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>x$(x$({},e.presentationProps),a.props))),i!=null)return i}}),GVe=Ce([Gle,zF,FF],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=pn(r,e.nameKey,e.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:vo(s,e.dataKey),color:o,payload:r,type:e.legendType}})}),WVe=Ce([Gle,zF,FF,Ni],(t,e,n,r)=>{if(!(e==null||t==null))return GHe({offset:r,pieSettings:e,displayedData:t,cells:n})}),Wle={exports:{}},tr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=typeof Symbol=="function"&&Symbol.for,jF=da?Symbol.for("react.element"):60103,BF=da?Symbol.for("react.portal"):60106,N3=da?Symbol.for("react.fragment"):60107,R3=da?Symbol.for("react.strict_mode"):60108,D3=da?Symbol.for("react.profiler"):60114,L3=da?Symbol.for("react.provider"):60109,U3=da?Symbol.for("react.context"):60110,VF=da?Symbol.for("react.async_mode"):60111,z3=da?Symbol.for("react.concurrent_mode"):60111,F3=da?Symbol.for("react.forward_ref"):60112,j3=da?Symbol.for("react.suspense"):60113,$Ve=da?Symbol.for("react.suspense_list"):60120,B3=da?Symbol.for("react.memo"):60115,V3=da?Symbol.for("react.lazy"):60116,qVe=da?Symbol.for("react.block"):60121,XVe=da?Symbol.for("react.fundamental"):60117,KVe=da?Symbol.for("react.responder"):60118,YVe=da?Symbol.for("react.scope"):60119;function yo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jF:switch(t=t.type,t){case VF:case z3:case N3:case D3:case R3:case j3:return t;default:switch(t=t&&t.$$typeof,t){case U3:case F3:case V3:case B3:case L3:return t;default:return e}}case BF:return e}}}function $le(t){return yo(t)===z3}tr.AsyncMode=VF;tr.ConcurrentMode=z3;tr.ContextConsumer=U3;tr.ContextProvider=L3;tr.Element=jF;tr.ForwardRef=F3;tr.Fragment=N3;tr.Lazy=V3;tr.Memo=B3;tr.Portal=BF;tr.Profiler=D3;tr.StrictMode=R3;tr.Suspense=j3;tr.isAsyncMode=function(t){return $le(t)||yo(t)===VF};tr.isConcurrentMode=$le;tr.isContextConsumer=function(t){return yo(t)===U3};tr.isContextProvider=function(t){return yo(t)===L3};tr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jF};tr.isForwardRef=function(t){return yo(t)===F3};tr.isFragment=function(t){return yo(t)===N3};tr.isLazy=function(t){return yo(t)===V3};tr.isMemo=function(t){return yo(t)===B3};tr.isPortal=function(t){return yo(t)===BF};tr.isProfiler=function(t){return yo(t)===D3};tr.isStrictMode=function(t){return yo(t)===R3};tr.isSuspense=function(t){return yo(t)===j3};tr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===N3||t===z3||t===D3||t===R3||t===j3||t===$Ve||typeof t=="object"&&t!==null&&(t.$$typeof===V3||t.$$typeof===B3||t.$$typeof===L3||t.$$typeof===U3||t.$$typeof===F3||t.$$typeof===XVe||t.$$typeof===KVe||t.$$typeof===YVe||t.$$typeof===qVe)};tr.typeOf=yo;Wle.exports=tr;var ZVe=Wle.exports,b$=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",_$=null,PN=null,qle=t=>{if(t===_$&&Array.isArray(PN))return PN;var e=[];return E.Children.forEach(t,n=>{Rn(n)||(ZVe.isFragment(n)?e=e.concat(qle(n.props.children)):e.push(n))}),PN=e,_$=t,e};function dy(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>b$(i)):r=[b$(e)],qle(t).forEach(i=>{var a=Kp(i,"type.displayName")||Kp(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var HF=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,GF={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(GF);var JVe=GF.isPlainObject;const QVe=ca(JVe);function w$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w$(Object(n),!0).forEach(function(r){eHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eHe(t,e,n){return(e=tHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tHe(t){var e=nHe(t,"string");return typeof e=="symbol"?e:e+""}function nHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BT(){return BT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BT.apply(null,arguments)}var E$=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},rHe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iHe=t=>{var e=jn(t,rHe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=e,d=E.useRef(null),[h,g]=E.useState(-1),y=E.useRef(i),x=E.useRef(a),v=E.useRef(s),b=E.useRef(n),_=E.useRef(r),A=Dc(t,"trapezoid-");if(E.useEffect(()=>{if(d.current&&d.current.getTotalLength)try{var D=d.current.getTotalLength();D&&g(D)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var T=tn("recharts-trapezoid",o);if(!f)return E.createElement("g",null,E.createElement("path",BT({},fi(e),{className:T,d:E$(n,r,i,a,s)})));var M=y.current,I=x.current,O=v.current,P=b.current,k=_.current,N="0px ".concat(h===-1?1:h,"px"),L="".concat(h,"px 0px"),B=Qae(["strokeDasharray"],c,l);return E.createElement(Rc,{animationId:A,key:A,canBegin:h>0,duration:c,easing:l,isActive:f,begin:u},D=>{var V=Gt(M,i,D),F=Gt(I,a,D),H=Gt(O,s,D),q=Gt(P,n,D),W=Gt(k,r,D);d.current&&(y.current=V,x.current=F,v.current=H,b.current=q,_.current=W);var z=D>0?{transition:B,strokeDasharray:L}:{strokeDasharray:N};return E.createElement("path",BT({},fi(e),{className:T,d:E$(q,W,V,F,H),ref:d,style:S$(S$({},z),e.style)}))})},aHe=["option","shapeType","propTransformer","activeClassName"];function sHe(t,e){if(t==null)return{};var n,r,i=oHe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oHe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function A$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(n),!0).forEach(function(r){lHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lHe(t,e,n){return(e=cHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cHe(t){var e=uHe(t,"string");return typeof e=="symbol"?e:e+""}function uHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fHe(t,e){return VT(VT({},e),t)}function dHe(t,e){return t==="symbols"}function M$(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return E.createElement(rse,n);case"trapezoid":return E.createElement(iHe,n);case"sector":return E.createElement(lse,n);case"symbols":if(dHe(e))return E.createElement(XP,n);break;case"curve":return E.createElement(Pp,n);default:return null}}function Xle(t){return E.isValidElement(t)?t.props:t}function em(t){var{option:e,shapeType:n,propTransformer:r=fHe,activeClassName:i="recharts-active-shape"}=t,a=sHe(t,aHe),s;if(E.isValidElement(e))s=E.cloneElement(e,VT(VT({},a),Xle(e)));else if(typeof e=="function")s=e(a,a.index);else if(QVe(e)&&typeof e!="boolean"){var o=r(e,a);s=E.createElement(M$,{shapeType:n,elementProps:o})}else{var l=a;s=E.createElement(M$,{shapeType:n,elementProps:l})}return a.isActive?E.createElement(dn,{className:i},s):s}var hy=(t,e,n)=>{var r=er();return(i,a)=>s=>{t==null||t(i,a,s),r(Foe({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},py=t=>{var e=er();return(n,r)=>i=>{t==null||t(n,r,i),e(Pje())}},my=(t,e,n)=>{var r=er();return(i,a)=>s=>{t==null||t(i,a,s),r(Ije({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function ah(t){var{tooltipEntrySettings:e}=t,n=er(),r=ii(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(Aje(e)):i.current!==e&&n(Mje({prev:i.current,next:e})),i.current=e)},[e,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(Tje(i.current)),i.current=null)},[n]),null}function H3(t){var{legendPayload:e}=t,n=er(),r=ii(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(Kae(e)):i.current!==e&&n(Yae({prev:i.current,next:e})),i.current=e)},[n,r,e]),E.useLayoutEffect(()=>()=>{i.current&&(n(Zae(i.current)),i.current=null)},[n]),null}function WF(t){var{legendPayload:e}=t,n=er(),r=_t(Qt),i=E.useRef(null);return E.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(Kae(e)):i.current!==e&&n(Yae({prev:i.current,next:e})),i.current=e)},[n,r,e]),E.useLayoutEffect(()=>()=>{i.current&&(n(Zae(i.current)),i.current=null)},[n]),null}var IN,hHe=()=>{var[t]=E.useState(()=>k1("uid-"));return t},pHe=(IN=fve.useId)!==null&&IN!==void 0?IN:hHe;function Kle(t,e){var n=pHe();return e||(t?"".concat(t,"-").concat(n):n)}var mHe=E.createContext(void 0),Cm=t=>{var{id:e,type:n,children:r}=t,i=Kle("recharts-".concat(n),e);return E.createElement(mHe.Provider,{value:i},r(i))},gHe={cartesianItems:[],polarItems:[]},Yle=Ls({name:"graphicalItems",initialState:gHe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:kr()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Dl(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:kr()},removeCartesianGraphicalItem:{reducer(t,e){var n=Dl(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:kr()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:kr()},removePolarGraphicalItem:{reducer(t,e){var n=Dl(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:kr()}}}),{addCartesianGraphicalItem:vHe,replaceCartesianGraphicalItem:yHe,removeCartesianGraphicalItem:xHe,addPolarGraphicalItem:bHe,removePolarGraphicalItem:_He}=Yle.actions,wHe=Yle.reducer,SHe=t=>{var e=er(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(vHe(t)):n.current!==t&&e(yHe({prev:n.current,next:t})),n.current=t},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(e(xHe(n.current)),n.current=null)},[e]),null},G3=E.memo(SHe);function $F(t){var e=er();return E.useLayoutEffect(()=>(e(bHe(t)),()=>{e(_He(t))}),[e,t]),null}var EHe=["key"],AHe=["onMouseEnter","onClick","onMouseLeave"],MHe=["id"],THe=["id"];function T$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(n),!0).forEach(function(r){CHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CHe(t,e,n){return(e=PHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PHe(t){var e=IHe(t,"string");return typeof e=="symbol"?e:e+""}function IHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(null,arguments)}function W3(t,e){if(t==null)return{};var n,r,i=OHe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OHe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kHe(t){var e=E.useMemo(()=>dy(t.children,Go),[t.children]),n=_t(r=>GVe(r,t.id,e));return n==null?null:E.createElement(WF,{legendPayload:n})}var NHe=E.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=t,u={dataDefinedOnItem:r.map(f=>f.tooltipPayload),positions:r.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:vo(o,e),hide:l,type:c,color:s,unit:""}};return E.createElement(ah,{tooltipEntrySettings:u})}),RHe=(t,e)=>t>e?"start":t<e?"end":"middle",DHe=(t,e,n)=>Ta(typeof e=="function"?e(t):e,n,n*.8),LHe=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,o=ise(a,s),l=i+Ta(t.cx,a,a/2),c=r+Ta(t.cy,s,s/2),u=Ta(t.innerRadius,o,0),f=DHe(n,t.outerRadius,o),d=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}},UHe=(t,e)=>{var n=Oi(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function zHe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var FHe=(t,e)=>{if(E.isValidElement(t))return E.cloneElement(t,e);if(typeof t=="function")return t(e);var n=tn("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=W3(e,EHe);return E.createElement(Pp,Hd({},i,{type:"linear",className:n}))},jHe=(t,e,n)=>{if(E.isValidElement(t))return E.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),E.isValidElement(r)))return r;var i=tn("recharts-pie-label-text",zHe(t));return E.createElement(uy,Hd({},e,{alignmentBaseline:"middle",className:i}),r)};function BHe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var o=Xn(n),l=zl(i),c=zl(a),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((d,h)=>{var g=(d.startAngle+d.endAngle)/2,y=Gn(d.cx,d.cy,d.outerRadius+u,g),x=ei(ei(ei(ei({},o),d),{},{stroke:"none"},l),{},{index:h,textAnchor:RHe(y.x,d.cx)},y),v=ei(ei(ei(ei({},o),d),{},{fill:"none",stroke:d.fill},c),{},{index:h,points:[Gn(d.cx,d.cy,d.outerRadius,g),y],key:"line"});return E.createElement(Rr,{zIndex:qn.label,key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(h)},E.createElement(dn,null,a&&FHe(a,v),jHe(i,x,pn(d,s))))});return E.createElement(dn,{className:"recharts-pie-labels"},f)}function VHe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?E.createElement(rh,{label:i}):E.createElement(BHe,{sectors:e,props:n,showLabels:r})}function HHe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=t,o=_t(Tc),l=_t(IF),c=_t(mBe),{onMouseEnter:u,onClick:f,onMouseLeave:d}=i,h=W3(i,AHe),g=hy(u,i.dataKey,s),y=py(d),x=my(f,i.dataKey,s);return e==null||e.length===0?null:E.createElement(E.Fragment,null,e.map((v,b)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&e.length!==1)return null;var _=c==null||c===s,A=String(b)===o&&(l==null||i.dataKey===l)&&_,T=o?r:null,M=n&&A?n:T,I=ei(ei({},v),{},{stroke:v.stroke,tabIndex:-1,[bz]:b,[_z]:i.dataKey});return E.createElement(dn,Hd({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Wl(h,v,b),{onMouseEnter:g(v,b),onMouseLeave:y(v,b),onClick:x(v,b)}),E.createElement(em,Hd({option:a??M,index:b,shapeType:"sector",isActive:A},I)))}))}function GHe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=n,d=Math.abs(n.minAngle),h=UHe(o,l),g=Math.abs(h),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,x=r.filter(M=>pn(M,c,0)!==0).length,v=(g>=360?x:x-1)*y,b=g-x*d-v,_=r.reduce((M,I)=>{var O=pn(I,c,0);return M+(It(O)?O:0)},0),A;if(_>0){var T;A=r.map((M,I)=>{var O=pn(M,c,0),P=pn(M,u,I),k=LHe(n,a,M),N=(It(O)?O:0)/_,L,B=ei(ei({},M),i&&i[I]&&i[I].props);I?L=T.endAngle+Oi(h)*y*(O!==0?1:0):L=o;var D=L+Oi(h)*((O!==0?d:0)+N*b),V=(L+D)/2,F=(k.innerRadius+k.outerRadius)/2,H=[{name:P,value:O,payload:B,dataKey:c,type:f}],q=Gn(k.cx,k.cy,F,V);return T=ei(ei(ei(ei({},n.presentationProps),{},{percent:N,cornerRadius:typeof s=="string"?parseFloat(s):s,name:P,tooltipPayload:H,midAngle:V,middleRadius:F,tooltipPosition:q},B),k),{},{value:O,dataKey:c,startAngle:L,endAngle:D,payload:B,paddingAngle:Oi(h)*y}),T})}return A}function WHe(t){var{showLabels:e,sectors:n,children:r}=t,i=E.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return E.createElement(Ple,{value:e?i:void 0},r)}function $He(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:f,onAnimationEnd:d}=e,h=Dc(e,"recharts-pie-"),g=n.current,[y,x]=E.useState(!1),v=E.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),b=E.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return E.createElement(WHe,{showLabels:!y,sectors:i},E.createElement(Rc,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:v,key:h},_=>{var A=[],T=i&&i[0],M=T==null?void 0:T.startAngle;return i==null||i.forEach((I,O)=>{var P=g&&g[O],k=O>0?Kp(I,"paddingAngle",0):0;if(P){var N=Gt(P.endAngle-P.startAngle,I.endAngle-I.startAngle,_),L=ei(ei({},I),{},{startAngle:M+k,endAngle:M+N+k});A.push(L),M=L.endAngle}else{var{endAngle:B,startAngle:D}=I,V=Gt(0,B-D,_),F=ei(ei({},I),{},{startAngle:M+k,endAngle:M+V+k});A.push(F),M=F.endAngle}}),n.current=A,E.createElement(dn,null,E.createElement(HHe,{sectors:A,activeShape:c,inactiveShape:u,allOtherPieProps:e,shape:e.shape,id:r}))}),E.createElement(VHe,{showLabels:!y,sectors:i,props:e}),e.children)}var qHe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:qn.area};function XHe(t){var{id:e}=t,n=W3(t,MHe),{hide:r,className:i,rootTabIndex:a}=t,s=E.useMemo(()=>dy(t.children,Go),[t.children]),o=_t(u=>WVe(u,e,s)),l=E.useRef(null),c=tn("recharts-pie",i);return r||o==null?(l.current=null,E.createElement(dn,{tabIndex:a,className:c})):E.createElement(Rr,{zIndex:t.zIndex},E.createElement(NHe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:o,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),E.createElement(dn,{tabIndex:a,className:c},E.createElement($He,{props:ei(ei({},n),{},{sectors:o}),previousSectorsRef:l,id:e})))}function HT(t){var e=jn(t,qHe),{id:n}=e,r=W3(e,THe),i=Xn(r);return E.createElement(Cm,{id:n,type:"pie"},a=>E.createElement(E.Fragment,null,E.createElement($F,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),E.createElement(kHe,Hd({},r,{id:a})),E.createElement(XHe,Hd({},r,{id:a}))))}HT.displayName="Pie";var KHe=["points"];function C$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(n),!0).forEach(function(r){YHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YHe(t,e,n){return(e=ZHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZHe(t){var e=JHe(t,"string");return typeof e=="symbol"?e:e+""}function JHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(null,arguments)}function QHe(t,e){if(t==null)return{};var n,r,i=e9e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function e9e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function t9e(t){var{option:e,dotProps:n,className:r}=t;if(E.isValidElement(e))return E.cloneElement(e,n);if(typeof e=="function")return e(n);var i=tn(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=QHe(a,KHe);return E.createElement(DF,GT({},o,{className:i}))}function n9e(t,e){return t==null?!1:e?!0:t.length===1}function qF(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=qn.scatter}=t;if(!n9e(e,n))return null;var u=HF(n),f=$Re(n),d=e.map((g,y)=>{var x,v,b=ON(ON(ON({r:3},s),f),{},{index:y,cx:(x=g.x)!==null&&x!==void 0?x:void 0,cy:(v=g.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:g.value,payload:g.payload,points:e});return E.createElement(t9e,{key:"dot-".concat(y),option:n,dotProps:b,className:i})}),h={};return o&&l!=null&&(h.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),E.createElement(Rr,{zIndex:c},E.createElement(dn,GT({className:r},h),d))}function P$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(n),!0).forEach(function(r){r9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r9e(t,e,n){return(e=i9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9e(t){var e=a9e(t,"string");return typeof e=="symbol"?e:e+""}function a9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s9e={xAxis:{},yAxis:{},zAxis:{}},Zle=Ls({name:"cartesianAxis",initialState:s9e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:kr()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:kr()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:kr()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:kr()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:kr()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:kr()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:kr()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:kr()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:kr()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=I$(I$({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:o9e,replaceXAxis:l9e,removeXAxis:c9e,addYAxis:u9e,replaceYAxis:f9e,removeYAxis:d9e,addZAxis:h9e,replaceZAxis:p9e,removeZAxis:m9e,updateYAxisWidth:g9e}=Zle.actions,v9e=Zle.reducer,y9e=Ce([Ni],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),x9e=Ce([y9e,lf,cf],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),vw=()=>_t(x9e),b9e=()=>_t(bBe);function O$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(n),!0).forEach(function(r){_9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _9e(t,e,n){return(e=w9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w9e(t){var e=S9e(t,"string");return typeof e=="symbol"?e:e+""}function S9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E9e=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=kN(kN(kN({},o),zl(i)),ZU(i)),c;return E.isValidElement(i)?c=E.cloneElement(i,l):typeof i=="function"?c=i(l):c=E.createElement(DF,l),E.createElement(dn,{className:"recharts-active-dot",clipPath:s},c)};function WT(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=qn.activeDot}=t,o=_t(Tc),l=b9e();if(e==null||l==null)return null;var c=e.find(u=>l.includes(u.payload));return Rn(c)?null:E.createElement(Rr,{zIndex:s},E.createElement(E9e,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}function k$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $T(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k$(Object(n),!0).forEach(function(r){A9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A9e(t,e,n){return(e=M9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9e(t){var e=T9e(t,"string");return typeof e=="symbol"?e:e+""}function T9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jle=(t,e)=>ih(t,"radiusAxis",e),C9e=Ce([Jle],t=>{if(t!=null)return{scale:t}}),P9e=Ce([ny,Jle],(t,e)=>{if(!(t==null||e==null))return $T($T({},t),{},{scale:e})}),I9e=(t,e,n,r)=>Tm(t,"radiusAxis",e,r),Qle=(t,e,n)=>Am(t,n),ece=(t,e,n)=>ih(t,"angleAxis",n),O9e=Ce([Qle,ece],(t,e)=>{if(!(t==null||e==null))return $T($T({},t),{},{scale:e})}),k9e=(t,e,n,r)=>Tm(t,"angleAxis",n,r),N9e=Ce([Qle,ece,Mm],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),R9e=(t,e,n,r,i)=>i,D9e=Ce([Qt,P9e,I9e,O9e,k9e],(t,e,n,r,i)=>il(t,"radiusAxis")?ks(e,n,!1):ks(r,i,!1)),L9e=Ce([mw,R9e],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n==null?void 0:n.dataKey}}),U9e=Ce([C9e,N9e,Em,L9e,D9e],(t,e,n,r,i)=>{var{chartData:a,dataStartIndex:s,dataEndIndex:o}=n;if(!(t==null||e==null||a==null||i==null||r==null)){var l=a.slice(s,o+1);return q9e({radiusAxis:t,angleAxis:e,displayedData:l,dataKey:r,bandSize:i})}}),z9e=["id"];function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}function N$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(n),!0).forEach(function(r){F9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F9e(t,e,n){return(e=j9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j9e(t){var e=B9e(t,"string");return typeof e=="symbol"?e:e+""}function B9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V9e(t,e){if(t==null)return{};var n,r,i=H9e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function H9e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XF(t,e){return t&&t!=="none"?t:e}var G9e=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:XF(r,i),value:vo(n,e),payload:t}]},W9e=E.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,tooltipType:o}=t,l={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:vo(a,e),hide:s,type:o,color:XF(n,i),unit:""}};return E.createElement(ah,{tooltipEntrySettings:l})});function $9e(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n,{id:a}=n,s=V9e(n,z9e),o=Xn(s);return E.createElement(qF,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:o})}function q9e(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=t,{cx:s,cy:o}=n,l=!1,c=[],u=n.type!=="number"?a??0:0;r.forEach((d,h)=>{var g=pn(d,n.dataKey,h),y=pn(d,i),x=n.scale(g)+u,v=Array.isArray(y)?Mle(y):y,b=Rn(v)?0:e.scale(v);Array.isArray(y)&&y.length>=2&&(l=!0),c.push(Ms(Ms({},Gn(s,o,b,x)),{},{name:g,value:y,cx:s,cy:o,radius:b,angle:x,payload:d}))});var f=[];return l&&c.forEach(d=>{if(Array.isArray(d.value)){var h=d.value[0],g=Rn(h)?0:e.scale(h);f.push(Ms(Ms({},d),{},{radius:g},Gn(s,o,g,d.angle)))}else f.push(d)}),{points:c,isRange:l,baseLinePoints:f}}function X9e(t){var{showLabels:e,points:n,children:r}=t,i=n.map(a=>{var s,o={x:a.x,y:a.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Ms(Ms({},o),{},{value:(s=a.value)!==null&&s!==void 0?s:"",payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return E.createElement(fy,{value:e?i:void 0},r)}function K9e(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:a,connectNulls:s}=r,o=u=>{var{onMouseEnter:f}=r;f&&f(r,u)},l=u=>{var{onMouseLeave:f}=r;f&&f(r,u)},c;return E.isValidElement(i)?c=E.cloneElement(i,Ms(Ms({},r),{},{points:e})):typeof i=="function"?c=i(Ms(Ms({},r),{},{points:e})):c=E.createElement(Ile,$1({},fi(r),{onMouseEnter:o,onMouseLeave:l,points:e,baseLinePoints:a?n:void 0,connectNulls:s})),E.createElement(dn,{className:"recharts-radar-polygon"},c,E.createElement($9e,{props:r,points:e}))}var R$=(t,e,n)=>(r,i)=>{var a=t&&t[Math.floor(i*e)];return a?Ms(Ms({},r),{},{x:Gt(a.x,r.x,n),y:Gt(a.y,r.y,n)}):Ms(Ms({},r),{},{x:Gt(r.cx,r.x,n),y:Gt(r.cy,r.y,n)})};function Y9e(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:f}=e,d=n.current,h=r.current,g=d?d.length/i.length:1,y=h?h.length/a.length:1,x=Dc(e,"recharts-radar-"),[v,b]=E.useState(!1),_=!v,A=E.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),T=E.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return E.createElement(X9e,{showLabels:_,points:i},E.createElement(Rc,{animationId:x,begin:o,duration:l,isActive:s,easing:c,key:"radar-".concat(x),onAnimationEnd:A,onAnimationStart:T},M=>{var I=M===1?i:i.map(R$(d,g,M)),O=M===1?a:a==null?void 0:a.map(R$(h,y,M));return M>0&&(n.current=I,r.current=O),E.createElement(K9e,{points:I,baseLinePoints:O,props:e})}),E.createElement(rh,{label:e.label}),e.children)}function Z9e(t){var e=E.useRef(void 0),n=E.useRef(void 0);return E.createElement(Y9e,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var J9e={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:qn.area};function Q9e(t){var{hide:e,className:n,points:r}=t;if(e)return null;var i=tn("recharts-radar",n);return E.createElement(Rr,{zIndex:t.zIndex},E.createElement(dn,{className:i},E.createElement(Z9e,t)),E.createElement(WT,{points:r,mainColor:XF(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function eGe(t){var e=ii(),n=_t(r=>U9e(r,t.radiusAxisId,t.angleAxisId,e,t.id));return(n==null?void 0:n.points)==null?null:E.createElement(Q9e,$1({},t,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}function tce(t){var e=jn(t,J9e);return E.createElement(Cm,{id:e.id,type:"radar"},n=>E.createElement(E.Fragment,null,E.createElement($F,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),E.createElement(WF,{legendPayload:G9e(e)}),E.createElement(W9e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),E.createElement(eGe,$1({},e,{id:n}))))}tce.displayName="Radar";function NL(){return NL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NL.apply(null,arguments)}function D$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(n),!0).forEach(function(r){tGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tGe(t,e,n){return(e=nGe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nGe(t){var e=rGe(t,"string");return typeof e=="symbol"?e:e+""}function rGe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nce(t){return typeof t=="string"?parseInt(t,10):t}function iGe(t,e){var n="".concat(e.cx||t.cx),r=Number(n),i="".concat(e.cy||t.cy),a=Number(i);return NN(NN(NN({},e),t),{},{cx:r,cy:a})}function RL(t){return E.createElement(em,NL({shapeType:"sector",propTransformer:iGe},t))}var aGe="Invariant failed";function sGe(t,e){throw new Error(aGe)}var oGe=["x","y"];function DL(){return DL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DL.apply(null,arguments)}function L$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(n),!0).forEach(function(r){lGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lGe(t,e,n){return(e=cGe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cGe(t){var e=uGe(t,"string");return typeof e=="symbol"?e:e+""}function uGe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fGe(t,e){if(t==null)return{};var n,r,i=dGe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dGe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hGe(t,e){var{x:n,y:r}=t,i=fGe(t,oGe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Ex(Ex(Ex(Ex(Ex({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function qT(t){return E.createElement(em,DL({shapeType:"rectangle",propTransformer:hGe,activeClassName:"recharts-active-bar"},t))}var pGe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(It(e))return e;var a=It(r)||Rn(r);return a?e(r,i):(a||sGe(),n)}},mGe={},rce=Ls({name:"errorBars",initialState:mGe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:xht,replaceErrorBar:bht,removeErrorBar:_ht}=rce.actions,gGe=rce.reducer,vGe=["children"];function yGe(t,e){if(t==null)return{};var n,r,i=xGe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xGe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bGe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_Ge=E.createContext(bGe);function KF(t){var{children:e}=t,n=yGe(t,vGe);return E.createElement(_Ge.Provider,{value:n},e)}function yw(t,e){var n,r,i=_t(c=>df(c,t)),a=_t(c=>hf(c,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ji.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Qi.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function $3(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=vw(),{needClipX:a,needClipY:s,needClip:o}=yw(e,n);if(!o||!i)return null;var{x:l,y:c,width:u,height:f}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:a?l:l-u/2,y:s?c:c-f/2,width:a?u:u*2,height:s?f:f*2}))}function ice(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Tr(t.zIndex)?t.zIndex:e}var wGe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=E;function SGe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var EGe=typeof Object.is=="function"?Object.is:SGe,AGe=xw.useSyncExternalStore,MGe=xw.useRef,TGe=xw.useEffect,CGe=xw.useMemo,PGe=xw.useDebugValue;wGe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=MGe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=CGe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var g=s.value;if(i(g,h))return f=g}return f=h}if(g=f,EGe(u,h))return g;var y=r(h);return i!==void 0&&i(g,y)?(u=h,g):(u=h,f=y)}var c=!1,u,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var o=AGe(t,a[0],a[1]);return TGe(function(){s.hasValue=!0,s.value=o},[o]),PGe(o),o};function IGe(t){t()}function OGe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){IGe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var U$={notify(){},get:()=>[]};function kGe(t,e){let n,r=U$,i=0,a=!1;function s(y){u();const x=r.subscribe(y);let v=!1;return()=>{v||(v=!0,x(),f())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return a}function u(){i++,n||(n=t.subscribe(l),r=OGe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=U$)}function d(){a||(a=!0,u())}function h(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return g}var NGe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RGe=NGe(),DGe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LGe=DGe(),UGe=()=>RGe||LGe?E.useLayoutEffect:E.useEffect,zGe=UGe();function z$(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function FGe(t,e){if(z$(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!z$(t[n[i]],e[n[i]]))return!1;return!0}var RN=Symbol.for("react-redux-context"),DN=typeof globalThis<"u"?globalThis:{};function jGe(){if(!E.createContext)return{};const t=DN[RN]??(DN[RN]=new Map);let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var BGe=jGe();function VGe(t){const{children:e,context:n,serverState:r,store:i}=t,a=E.useMemo(()=>{const l=kGe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=E.useMemo(()=>i.getState(),[i]);zGe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||BGe;return E.createElement(o.Provider,{value:a},e)}var HGe=VGe,GGe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function WGe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function gy(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(GGe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!FGe(t[r],e[r]))return!1}else if(!WGe(t[r],e[r]))return!1;return!0}var $Ge=["onMouseEnter","onMouseLeave","onClick"],qGe=["value","background","tooltipPosition"],XGe=["id"],KGe=["onMouseEnter","onClick","onMouseLeave"];function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(null,arguments)}function F$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(n),!0).forEach(function(r){YGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YGe(t,e,n){return(e=ZGe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZGe(t){var e=JGe(t,"string");return typeof e=="symbol"?e:e+""}function JGe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XT(t,e){if(t==null)return{};var n,r,i=QGe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QGe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e7e=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:vo(n,e),payload:t}]},t7e=E.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o,tooltipType:l}=t,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:vo(a,e),hide:s,type:l,color:i,unit:o}};return E.createElement(ah,{tooltipEntrySettings:c})});function n7e(t){var e=_t(Tc),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=XT(a,$Ge),u=hy(s,r),f=py(o),d=my(l,r);if(!i||n==null)return null;var h=zl(i);return E.createElement(Rr,{zIndex:ice(i,qn.barBackground)},n.map((g,y)=>{var{value:x,background:v,tooltipPosition:b}=g,_=XT(g,qGe);if(!v)return null;var A=u(g,y),T=f(g,y),M=d(g,y),I=Za(Za(Za(Za(Za({option:i,isActive:String(y)===e},_),{},{fill:"#eee"},v),h),Wl(c,g,y)),{},{onMouseEnter:A,onMouseLeave:T,onClick:M,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return E.createElement(qT,ef({key:"background-bar-".concat(y)},I))}))}function r7e(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Za(Za({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return E.createElement(fy,{value:e?i:void 0},n)}function i7e(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,o=_t(Tc),l=_t(IF),c=n&&String(a)===o&&(l==null||s===l),u=c?n:e;return c?E.createElement(Rr,{zIndex:qn.activeBar},E.createElement(qT,ef({},r,{name:String(r.name)},i,{isActive:c,option:u,index:a,dataKey:s}))):E.createElement(qT,ef({},r,{name:String(r.name)},i,{isActive:c,option:u,index:a,dataKey:s}))}function a7e(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return E.createElement(qT,ef({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function s7e(t){var e,{data:n,props:r}=t,i=(e=Xn(r))!==null&&e!==void 0?e:{},{id:a}=i,s=XT(i,XGe),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:f,onMouseLeave:d}=r,h=XT(r,KGe),g=hy(u,l),y=py(d),x=my(f,l);return n?E.createElement(E.Fragment,null,n.map((v,b)=>E.createElement(dn,ef({key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b),className:"recharts-bar-rectangle"},Wl(h,v,b),{onMouseEnter:g(v,b),onMouseLeave:y(v,b),onClick:x(v,b)}),c?E.createElement(i7e,{shape:o,activeBar:c,baseProps:s,entry:v,index:b,dataKey:l}):E.createElement(a7e,{shape:o,baseProps:s,entry:v,index:b,dataKey:l})))):null}function o7e(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,f=n.current,d=Dc(e,"recharts-bar-"),[h,g]=E.useState(!1),y=!h,x=E.useCallback(()=>{typeof c=="function"&&c(),g(!1)},[c]),v=E.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return E.createElement(r7e,{showLabels:y,rects:r},E.createElement(Rc,{animationId:d,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:v,key:d},b=>{var _=b===1?r:r==null?void 0:r.map((A,T)=>{var M=f&&f[T];if(M)return Za(Za({},A),{},{x:Gt(M.x,A.x,b),y:Gt(M.y,A.y,b),width:Gt(M.width,A.width,b),height:Gt(M.height,A.height,b)});if(i==="horizontal"){var I=Gt(0,A.height,b),O=Gt(A.stackedBarStart,A.y,b);return Za(Za({},A),{},{y:O,height:I})}var P=Gt(0,A.width,b),k=Gt(A.stackedBarStart,A.x,b);return Za(Za({},A),{},{width:P,x:k})});return b>0&&(n.current=_??null),_==null?null:E.createElement(dn,null,E.createElement(s7e,{props:e,data:_}))}),E.createElement(rh,{label:e.label}),e.children)}function l7e(t){var e=E.useRef(null);return E.createElement(o7e,{previousRectanglesRef:e,props:t})}var ace=0,c7e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:pn(t,e)}};class u7e extends E.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e||n==null)return null;var u=tn("recharts-bar",i),f=c;return E.createElement(dn,{className:u,id:c},o&&E.createElement("defs",null,E.createElement($3,{clipPathId:f,xAxisId:a,yAxisId:s})),E.createElement(dn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},E.createElement(n7e,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),E.createElement(l7e,this.props)))}}var f7e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ace,xAxisId:0,yAxisId:0,zIndex:qn.bar};function d7e(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=t,{needClip:f}=yw(e,n),d=_m(),h=ii(),g=dy(t.children,Go),y=_t(b=>U7e(b,e,n,h,t.id,g));if(d!=="vertical"&&d!=="horizontal")return null;var x,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?x=0:x=d==="vertical"?v.height/2:v.width/2,E.createElement(KF,{xAxisId:e,yAxisId:n,data:y,dataPointFormatter:c7e,errorBarOffset:x},E.createElement(u7e,ef({},t,{layout:d,needClip:f,data:y,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function h7e(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:d,cells:h,parentViewBox:g,dataStartIndex:y}=t,x=e==="horizontal"?o:s,v=u?x.scale.domain():null,b=kae({numericAxis:x}),_=x.scale(b);return f.map((A,T)=>{var M,I,O,P,k,N;u?M=Oae(u[T+y],v):(M=pn(A,n),Array.isArray(M)||(M=[b,M]));var L=pGe(r,ace)(M[1],T);if(e==="horizontal"){var B,[D,V]=[o.scale(M[0]),o.scale(M[1])];I=xT({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:A,index:T}),O=(B=V??D)!==null&&B!==void 0?B:void 0,P=i.size;var F=D-V;if(k=Qo(F)?0:F,N={x:I,y:d.top,width:P,height:d.height},Math.abs(L)>0&&Math.abs(k)<Math.abs(L)){var H=Oi(k||L)*(Math.abs(L)-Math.abs(k));O-=H,k+=H}}else{var[q,W]=[s.scale(M[0]),s.scale(M[1])];if(I=q,O=xT({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:A,index:T}),P=W-q,k=i.size,N={x:d.left,y:O,width:d.width,height:k},Math.abs(L)>0&&Math.abs(P)<Math.abs(L)){var z=Oi(P||L)*(Math.abs(L)-Math.abs(P));P+=z}}if(I==null||O==null||P==null||k==null)return null;var $=Za(Za({},A),{},{stackedBarStart:_,x:I,y:O,width:P,height:k,value:u?M:M[1],payload:A,background:N,tooltipPosition:{x:I+P/2,y:O+k/2},parentViewBox:g},h&&h[T]&&h[T].props);return $}).filter(Boolean)}function p7e(t){var e=jn(t,f7e),n=ii();return E.createElement(Cm,{id:e.id,type:"bar"},r=>E.createElement(E.Fragment,null,E.createElement(H3,{legendPayload:e7e(e)}),E.createElement(t7e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),E.createElement(G3,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:a3(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),E.createElement(Rr,{zIndex:e.zIndex},E.createElement(d7e,ef({},e,{id:r})))))}var KT=E.memo(p7e,gy);KT.displayName="Bar";function j$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j$(Object(n),!0).forEach(function(r){m7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m7e(t,e,n){return(e=g7e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g7e(t){var e=v7e(t,"string");return typeof e=="symbol"?e:e+""}function v7e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y7e=(t,e)=>e,x7e=(t,e,n)=>n,b7e=(t,e,n,r)=>r,_7e=(t,e,n,r,i)=>i,bw=Ce([ay,_7e],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),w7e=Ce([bw],t=>t==null?void 0:t.maxBarSize),S7e=(t,e,n,r,i,a)=>a,B$=(t,e,n)=>{var r=n??t;if(!Rn(r))return Ta(r,e,0)},E7e=Ce([Qt,ay,y7e,x7e,b7e],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),A7e=(t,e,n,r)=>{var i=Qt(t);return i==="horizontal"?V1(t,"yAxis",n,r):V1(t,"xAxis",e,r)},M7e=(t,e,n)=>{var r=Qt(t);return r==="horizontal"?DW(t,"xAxis",e):DW(t,"yAxis",n)},sce=(t,e,n)=>{var r={},i=t.filter(sw),a=t.filter(c=>c.stackId==null),s=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),o=Object.entries(s).map(c=>{var[u,f]=c,d=f.map(g=>g.dataKey),h=B$(e,n,f[0].barSize);return{stackId:u,dataKeys:d,barSize:h}}),l=a.map(c=>{var u=[c.dataKey].filter(d=>d!=null),f=B$(e,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},T7e=Ce([E7e,ioe,M7e],sce),C7e=(t,e,n,r,i)=>{var a,s,o=bw(t,e,n,r,i);if(o!=null){var l=Qt(t),c=b3(t),{maxBarSize:u}=o,f=Rn(u)?c:u,d,h;return l==="horizontal"?(d=rl(t,"xAxis",e,r),h=nl(t,"xAxis",e,r)):(d=rl(t,"yAxis",n,r),h=nl(t,"yAxis",n,r)),(a=(s=ks(d,h,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},oce=(t,e,n,r)=>{var i=Qt(t),a,s;return i==="horizontal"?(a=rl(t,"xAxis",e,r),s=nl(t,"xAxis",e,r)):(a=rl(t,"yAxis",n,r),s=nl(t,"yAxis",n,r)),ks(a,s)};function P7e(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=Ta(t,n,0,!0),o,l=[];if(Tr(r[0].barSize)){var c=!1,u=n/a,f=r.reduce((v,b)=>v+(b.barSize||0),0);f+=(a-1)*s,f>=n&&(f-=(a-1)*s,s=0),f>=n&&u>0&&(c=!0,u*=.9,f=a*u);var d=(n-f)/2>>0,h={offset:d-s,size:0};o=r.reduce((v,b)=>{var _,A={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:(_=b.barSize)!==null&&_!==void 0?_:0}},T=[...v,A];return h=T[T.length-1].position,T},l)}else{var g=Ta(e,n,0,!0);n-2*g-(a-1)*s<=0&&(s=0);var y=(n-2*g-(a-1)*s)/a;y>1&&(y>>=0);var x=Tr(i)?Math.min(y,i):y;o=r.reduce((v,b,_)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(y+s)*_+(y-x)/2,size:x}}],l)}return o}}var lce=(t,e,n,r,i,a,s)=>{var o=Rn(s)?e:s,l=P7e(n,r,i!==a?i:a,t,o);return i!==a&&l!=null&&(l=l.map(c=>gE(gE({},c),{},{position:gE(gE({},c.position),{},{offset:c.position.offset-i/2})}))),l},I7e=Ce([T7e,b3,roe,Zz,C7e,oce,w7e],lce),O7e=(t,e,n,r)=>rl(t,"xAxis",e,r),k7e=(t,e,n,r)=>rl(t,"yAxis",n,r),N7e=(t,e,n,r)=>nl(t,"xAxis",e,r),R7e=(t,e,n,r)=>nl(t,"yAxis",n,r),D7e=Ce([I7e,bw],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),cce=(t,e)=>{var n=S3(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},L7e=Ce([A7e,bw],cce),U7e=Ce([Ni,wz,O7e,k7e,N7e,R7e,D7e,Qt,J0,oce,L7e,bw,S7e],(t,e,n,r,i,a,s,o,l,c,u,f,d)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:y}=l;if(!(f==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:x}=f,v;if(x!=null&&x.length>0?v=x:v=h==null?void 0:h.slice(g,y+1),v!=null)return h7e({layout:o,barSettings:f,pos:s,parentViewBox:e,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:v,offset:t,cells:d,dataStartIndex:g})}});function V$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(n),!0).forEach(function(r){z7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z7e(t,e,n){return(e=F7e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F7e(t){var e=j7e(t,"string");return typeof e=="symbol"?e:e+""}function j7e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B7e=(t,e)=>ny(t,e),V7e=(t,e)=>ih(t,"radiusAxis",e),q3=Ce([B7e,V7e],(t,e)=>{if(!(t==null||e==null))return YT(YT({},t),{},{scale:e})}),YF=(t,e,n,r)=>z8e(t,"radiusAxis",e,r),H7e=(t,e,n)=>Am(t,n),G7e=(t,e,n)=>ih(t,"angleAxis",n),X3=Ce([H7e,G7e],(t,e)=>{if(!(t==null||e==null))return YT(YT({},t),{},{scale:e})}),ZF=(t,e,n,r)=>Tm(t,"angleAxis",n,r),W7e=(t,e,n,r)=>r,JF=Ce([mw,W7e],(t,e)=>{if(t.some(n=>n.type==="radialBar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId))return e}),uce=Ce([Qt,q3,YF,X3,ZF],(t,e,n,r,i)=>il(t,"radiusAxis")?ks(e,n,!1):ks(r,i,!1)),$7e=Ce([X3,q3,Qt],(t,e,n)=>{var r=n==="radial"?t:e;if(!(r==null||r.scale==null))return kae({numericAxis:r})}),q7e=(t,e,n,r,i)=>i,X7e=(t,e,n,r,i)=>n,K7e=(t,e,n,r,i)=>e,fce=(t,e,n,r,i)=>r.maxBarSize,dce=t=>t.type==="radialBar",Y7e=Ce([Qt,mw,X7e,K7e],(t,e,n,r)=>e.filter(i=>t==="centric"?i.angleAxisId===n:i.radiusAxisId===r).filter(i=>i.hide===!1).filter(dce)),Z7e=()=>{},J7e=Ce([Y7e,ioe,Z7e],sce),Q7e=Ce([Qt,b3,X3,ZF,q3,YF,fce],(t,e,n,r,i,a,s)=>{var o,l,c=Rn(s)?e:s;if(t==="centric"){var u,f;return(u=(f=ks(n,r,!0))!==null&&f!==void 0?f:c)!==null&&u!==void 0?u:0}return(o=(l=ks(i,a,!0))!==null&&l!==void 0?l:c)!==null&&o!==void 0?o:0}),eWe=Ce([J7e,b3,roe,Zz,Q7e,uce,fce],lce),tWe=Ce([eWe,JF],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),hce=Ce([gw],t=>t.filter(dce).filter(sw)),nWe=Ce([hce,Em,Ri],rF),H$=Ce([nWe,hce,ty,Jz],fF),rWe=(t,e,n)=>{var r=Qt(t);return r==="centric"?H$(t,"radiusAxis",e):H$(t,"angleAxis",n)},iWe=Ce([rWe,JF],cce),aWe=Ce([X3,ZF,q3,YF,ff,JF,uce,Qt,$7e,Mm,q7e,tWe,iWe],(t,e,n,r,i,a,s,o,l,c,u,f,d)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:y}=i;if(a==null||n==null||t==null||h==null||s==null||f==null||o!=="centric"&&o!=="radial"||r==null)return[];var{dataKey:x,minPointSize:v}=a,{cx:b,cy:_,startAngle:A,endAngle:T}=c,M=h.slice(g,y+1),I=o==="centric"?n:t,O=d?I.scale.domain():null;return wWe({angleAxis:t,angleAxisTicks:e,bandSize:s,baseValue:l,cells:u,cx:b,cy:_,dataKey:x,dataStartIndex:g,displayedData:M,endAngle:T,layout:o,minPointSize:v,pos:f,radiusAxis:n,radiusAxisTicks:r,stackedData:d,stackedDomain:O,startAngle:A})}),sWe=Ce([Em,(t,e)=>e],(t,e)=>{var{chartData:n,dataStartIndex:r,dataEndIndex:i}=t;if(n==null)return[];var a=n.slice(r,i+1);return a.length===0?[]:a.map(s=>({type:e,value:s.name,color:s.fill,payload:s}))}),oWe=["shape","activeShape","cornerRadius","id"],lWe=["onMouseEnter","onClick","onMouseLeave"],cWe=["value","background"];function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(null,arguments)}function G$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(n),!0).forEach(function(r){uWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uWe(t,e,n){return(e=fWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fWe(t){var e=dWe(t,"string");return typeof e=="symbol"?e:e+""}function dWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LL(t,e){if(t==null)return{};var n,r,i=hWe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hWe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZT=[];function pWe(t){var{showLabels:e,sectors:n,children:r}=t,i=n.map(a=>({value:a.value,payload:a.payload,parentViewBox:void 0,clockWise:!1,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill}));return E.createElement(Ple,{value:e?i:void 0},r)}function mWe(t){var{sectors:e,allOtherRadialBarProps:n,showLabels:r}=t,{shape:i,activeShape:a,cornerRadius:s,id:o}=n,l=LL(n,oWe),c=Xn(l),u=_t(Tc),{onMouseEnter:f,onClick:d,onMouseLeave:h}=n,g=LL(n,lWe),y=hy(f,n.dataKey),x=py(h),v=my(d,n.dataKey);return e==null?null:E.createElement(pWe,{showLabels:r,sectors:e},e.map((b,_)=>{var A=a&&u===String(_),T=y(b,_),M=x(b,_),I=v(b,_),O=Fa(Fa(Fa(Fa({},c),{},{cornerRadius:nce(s)},b),Wl(g,b,_)),{},{onMouseEnter:T,onMouseLeave:M,onClick:I,className:"recharts-radial-bar-sector ".concat(b.className),forceCornerRadius:l.forceCornerRadius,cornerIsExternal:l.cornerIsExternal,isActive:A,option:A?a:i});return A?E.createElement(Rr,{zIndex:qn.activeBar,key:"sector-".concat(b.cx,"-").concat(b.cy,"-").concat(b.innerRadius,"-").concat(b.outerRadius,"-").concat(b.startAngle,"-").concat(b.endAngle,"-").concat(_)},E.createElement(RL,O)):E.createElement(RL,A0({key:"sector-".concat(b.cx,"-").concat(b.cy,"-").concat(b.innerRadius,"-").concat(b.outerRadius,"-").concat(b.startAngle,"-").concat(b.endAngle,"-").concat(_)},O))}),E.createElement(rh,{label:n.label}),n.children)}function gWe(t){var{props:e,previousSectorsRef:n}=t,{data:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,onAnimationEnd:l,onAnimationStart:c}=e,u=Dc(e,"recharts-radialbar-"),f=n.current,[d,h]=E.useState(!1),g=E.useCallback(()=>{typeof l=="function"&&l(),h(!1)},[l]),y=E.useCallback(()=>{typeof c=="function"&&c(),h(!0)},[c]);return E.createElement(Rc,{animationId:u,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:g,key:u},x=>{var v=x===1?r:(r??ZT).map((b,_)=>{var A=f&&f[_];if(A)return Fa(Fa({},b),{},{startAngle:Gt(A.startAngle,b.startAngle,x),endAngle:Gt(A.endAngle,b.endAngle,x)});var{endAngle:T,startAngle:M}=b;return Fa(Fa({},b),{},{endAngle:Gt(M,T,x)})});return x>0&&(n.current=v??null),E.createElement(dn,null,E.createElement(mWe,{sectors:v??ZT,allOtherRadialBarProps:e,showLabels:!d}))})}function vWe(t){var e=E.useRef(null);return E.createElement(gWe,{props:t,previousSectorsRef:e})}function yWe(t){var e=_t(n=>sWe(n,t.legendType));return E.createElement(WF,{legendPayload:e??[]})}var xWe=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,name:a,hide:s,fill:o,tooltipType:l}=t,c={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,nameKey:void 0,dataKey:e,name:vo(a,e),hide:s,type:l,color:o,unit:""}};return E.createElement(ah,{tooltipEntrySettings:c})});class bWe extends E.PureComponent{renderBackground(e){if(e==null)return null;var{cornerRadius:n}=this.props,r=zl(this.props.background);return E.createElement(Rr,{zIndex:ice(this.props.background,qn.barBackground)},e.map((i,a)=>{var{value:s,background:o}=i,l=LL(i,cWe);if(!o)return null;var c=Fa(Fa(Fa(Fa(Fa({cornerRadius:nce(n)},l),{},{fill:"#eee"},o),r),Wl(this.props,i,a)),{},{index:a,className:tn("recharts-radial-bar-background-sector",String(r==null?void 0:r.className)),option:o,isActive:!1});return E.createElement(RL,A0({key:"background-".concat(l.cx,"-").concat(l.cy,"-").concat(l.innerRadius,"-").concat(l.outerRadius,"-").concat(l.startAngle,"-").concat(l.endAngle,"-").concat(a)},c))}))}render(){var{hide:e,data:n,className:r,background:i}=this.props;if(e)return null;var a=tn("recharts-area",r);return E.createElement(Rr,{zIndex:this.props.zIndex},E.createElement(dn,{className:a},i&&E.createElement(dn,{className:"recharts-radial-bar-background"},this.renderBackground(n)),E.createElement(dn,{className:"recharts-radial-bar-sectors"},E.createElement(vWe,this.props))))}}function _We(t){var e,n=dy(t.children,Go),r={data:void 0,hide:!1,id:t.id,dataKey:t.dataKey,minPointSize:t.minPointSize,stackId:a3(t.stackId),maxBarSize:t.maxBarSize,barSize:t.barSize,type:"radialBar",angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId},i=(e=_t(a=>aWe(a,t.radiusAxisId,t.angleAxisId,r,n)))!==null&&e!==void 0?e:ZT;return E.createElement(E.Fragment,null,E.createElement(xWe,{dataKey:t.dataKey,data:i,stroke:t.stroke,strokeWidth:t.strokeWidth,name:t.name,hide:t.hide,fill:t.fill,tooltipType:t.tooltipType}),E.createElement(bWe,A0({},t,{data:i})))}var vE={angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",background:!1,cornerIsExternal:!1,cornerRadius:0,data:[],forceCornerRadius:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,radiusAxisId:0,zIndex:qn.bar};function wWe(t){var{displayedData:e,stackedData:n,dataStartIndex:r,stackedDomain:i,dataKey:a,baseValue:s,layout:o,radiusAxis:l,radiusAxisTicks:c,bandSize:u,pos:f,angleAxis:d,minPointSize:h,cx:g,cy:y,angleAxisTicks:x,cells:v,startAngle:b,endAngle:_}=t;return x==null||c==null?ZT:(e??[]).map((A,T)=>{var M,I,O,P,k,N;if(n?M=Oae(n[r+T],i):(M=pn(A,a),Array.isArray(M)||(M=[s,M])),o==="radial"){I=xT({axis:l,ticks:c,bandSize:u,offset:f.offset,entry:A,index:T}),k=d.scale(M[1]),P=d.scale(M[0]),O=(I??0)+f.size;var L=k-P;if(Math.abs(h)>0&&Math.abs(L)<Math.abs(h)){var B=Oi(L||h)*(Math.abs(h)-Math.abs(L));k+=B}N={background:{cx:g,cy:y,innerRadius:I,outerRadius:O,startAngle:b,endAngle:_}}}else{I=l.scale(M[0]),O=l.scale(M[1]),P=xT({axis:d,ticks:x,bandSize:u,offset:f.offset,entry:A,index:T}),k=(P??0)+f.size;var D=O-I;if(Math.abs(h)>0&&Math.abs(D)<Math.abs(h)){var V=Oi(D||h)*(Math.abs(h)-Math.abs(D));O+=V}}return Fa(Fa(Fa({},A),N),{},{payload:A,value:n?M:M[1],cx:g,cy:y,innerRadius:I,outerRadius:O,startAngle:P,endAngle:k},v&&v[T]&&v[T].props)})}function pce(t){var e=jn(t,vE);return E.createElement(Cm,{id:e.id,type:"radialBar"},n=>{var r,i,a;return E.createElement(E.Fragment,null,E.createElement($F,{type:"radialBar",id:n,data:void 0,dataKey:e.dataKey,hide:(r=e.hide)!==null&&r!==void 0?r:vE.hide,angleAxisId:(i=e.angleAxisId)!==null&&i!==void 0?i:vE.angleAxisId,radiusAxisId:(a=e.radiusAxisId)!==null&&a!==void 0?a:vE.radiusAxisId,stackId:a3(e.stackId),barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize}),E.createElement(yWe,e),E.createElement(_We,A0({},e,{id:n})))})}pce.displayName="RadialBar";var mce=t=>{var{chartData:e}=t,n=er(),r=ii();return E.useEffect(()=>r?()=>{}:(n(qW(e)),()=>{n(qW(void 0))}),[e,n,r]),null},W$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gce=Ls({name:"brush",initialState:W$,reducers:{setBrushSettings(t,e){return e.payload==null?W$:e.payload}}}),{setBrushSettings:wht}=gce.actions,SWe=gce.reducer;function EWe(t,e,n){return(e=AWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AWe(t){var e=MWe(t,"string");return typeof e=="symbol"?e:e+""}function MWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class QF{static create(e){return new QF(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}EWe(QF,"EPS",1e-4);function TWe(t){return(t%180+180)%180}var CWe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=TWe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},PWe={dots:[],areas:[],lines:[]},vce=Ls({name:"referenceElements",initialState:PWe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Dl(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Dl(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Dl(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Sht,removeDot:Eht,addArea:Aht,removeArea:Mht,addLine:Tht,removeLine:Cht}=vce.actions,IWe=vce.reducer,OWe=E.createContext(void 0),kWe=t=>{var{children:e}=t,[n]=E.useState("".concat(k1("recharts"),"-clip")),r=vw();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return E.createElement(OWe.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function yce(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function NWe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return CWe(r,n)}function RWe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function JT(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function DWe(t,e){return yce(t,e+1)}function LWe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,l=0,c=1,u=s,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:yce(r,c)};var y=l,x,v=()=>(x===void 0&&(x=n(g,y)),x),b=g.coordinate,_=l===0||JT(t,b,v,u,o);_||(l=0,u=s,c+=1),_&&(u=b+t*(v()/2+i),l+=c)},d;c<=a.length;)if(d=f(),d)return d.v;return[]}function $$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(n),!0).forEach(function(r){UWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UWe(t,e,n){return(e=zWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zWe(t){var e=FWe(t,"string");return typeof e=="symbol"?e:e+""}function FWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jWe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,c=function(d){var h=a[d],g,y=()=>(g===void 0&&(g=n(h,d)),g);if(d===s-1){var x=t*(h.coordinate+t*y()/2-l);a[d]=h=La(La({},h),{},{tickCoord:x>0?h.coordinate-x*t:h.coordinate})}else a[d]=h=La(La({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var v=JT(t,h.tickCoord,y,o,l);v&&(l=h.tickCoord-t*(y()/2+i),a[d]=La(La({},h),{},{isShow:!0}))}},u=s-1;u>=0;u--)c(u);return a}function BWe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=e;if(a){var u=r[o-1],f=n(u,o-1),d=t*(u.coordinate+t*f/2-c);if(s[o-1]=u=La(La({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate}),u.tickCoord!=null){var h=JT(t,u.tickCoord,()=>f,l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=La(La({},u),{},{isShow:!0}))}}for(var g=a?o-1:o,y=function(b){var _=s[b],A,T=()=>(A===void 0&&(A=n(_,b)),A);if(b===0){var M=t*(_.coordinate-t*T()/2-l);s[b]=_=La(La({},_),{},{tickCoord:M<0?_.coordinate-M*t:_.coordinate})}else s[b]=_=La(La({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var I=JT(t,_.tickCoord,T,l,c);I&&(l=_.tickCoord+t*(T()/2+i),s[b]=La(La({},_),{},{isShow:!0}))}},x=0;x<g;x++)y(x);return s}function ej(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=t;if(!i||!i.length||!r)return[];if(It(l)||Z0.isSsr){var d;return(d=DWe(i,It(l)?l:0))!==null&&d!==void 0?d:[]}var h=[],g=o==="top"||o==="bottom"?"width":"height",y=u&&g==="width"?Db(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=(_,A)=>{var T=typeof c=="function"?c(_.value,A):_.value;return g==="width"?NWe(Db(T,{fontSize:e,letterSpacing:n}),y,f):Db(T,{fontSize:e,letterSpacing:n})[g]},v=i.length>=2?Oi(i[1].coordinate-i[0].coordinate):1,b=RWe(a,v,g);return l==="equidistantPreserveStart"?LWe(v,b,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=BWe(v,b,x,i,s,l==="preserveStartEnd"):h=jWe(v,b,x,i,s),h.filter(_=>_.isShow))}var VWe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},HWe=["axisLine","width","height","className","hide","ticks","axisType"];function GWe(t,e){if(t==null)return{};var n,r,i=WWe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WWe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(null,arguments)}function q$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(n),!0).forEach(function(r){$We(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $We(t,e,n){return(e=qWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qWe(t){var e=XWe(t,"string");return typeof e=="symbol"?e:e+""}function XWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:qn.axis};function KWe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var c=Ai(Ai(Ai({},l),Xn(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!s||a==="bottom"&&s);c=Ai(Ai({},c),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Ai(Ai({},c),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+i})}return E.createElement("line",tm({},c,{className:tn("recharts-cartesian-axis-line",Kp(o,"className"))}))}function YWe(t,e,n,r,i,a,s,o,l){var c,u,f,d,h,g,y=o?-1:1,x=t.tickSize||s,v=It(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=u=t.coordinate,d=n+ +!o*i,f=d-y*x,g=f-y*l,h=v;break;case"left":f=d=t.coordinate,u=e+ +!o*r,c=u-y*x,h=c-y*l,g=v;break;case"right":f=d=t.coordinate,u=e+ +o*r,c=u+y*x,h=c+y*l,g=v;break;default:c=u=t.coordinate,d=n+ +o*i,f=d+y*x,g=f+y*l,h=v;break}return{line:{x1:c,y1:f,x2:u,y2:d},tick:{x:h,y:g}}}function ZWe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function JWe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function QWe(t){var{option:e,tickProps:n,value:r}=t,i,a=tn(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,Ai(Ai({},n),{},{className:a}));else if(typeof e=="function")i=e(Ai(Ai({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=tn(s,e==null?void 0:e.className)),i=E.createElement(uy,tm({},n,{className:s}),r)}return i}var e$e=E.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:f,x:d,y:h,width:g,height:y,tickSize:x,tickMargin:v,fontSize:b,letterSpacing:_,getTicksConfig:A,events:T,axisType:M}=t,I=ej(Ai(Ai({},A),{},{ticks:n}),b,_),O=ZWe(u,f),P=JWe(u,f),k=Xn(A),N=zl(r),L={};typeof i=="object"&&(L=i);var B=Ai(Ai({},k),{},{fill:"none"},L),D=I.map(H=>Ai({entry:H},YWe(H,d,h,g,y,u,x,f,v))),V=D.map(H=>{var{entry:q,line:W}=H;return E.createElement(dn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},i&&E.createElement("line",tm({},B,W,{className:tn("recharts-cartesian-axis-tick-line",Kp(i,"className"))})))}),F=D.map((H,q)=>{var{entry:W,tick:z}=H,$=Ai(Ai(Ai(Ai({textAnchor:O,verticalAnchor:P},k),{},{stroke:"none",fill:a},N),z),{},{index:q,payload:W,visibleTicksCount:I.length,tickFormatter:s,padding:l},c);return E.createElement(dn,tm({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},Wl(T,W,q)),r&&E.createElement(QWe,{option:r,tickProps:$,value:"".concat(typeof s=="function"?s(W.value,q):W.value).concat(o||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},F.length>0&&E.createElement(Rr,{zIndex:qn.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},F)),V.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},V))}),t$e=E.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=t,c=GWe(t,HWe),[u,f]=E.useState(""),[d,h]=E.useState(""),g=E.useRef(null);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return VWe({ticks:g.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=E.useCallback(x=>{if(x){var v=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=v;var b=v[0];if(b){var _=window.getComputedStyle(b),A=_.fontSize,T=_.letterSpacing;(A!==u||T!==d)&&(f(A),h(T))}}},[u,d]);return s||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(Rr,{zIndex:t.zIndex},E.createElement(dn,{className:tn("recharts-cartesian-axis",a)},E.createElement(KWe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Xn(t)}),E.createElement(e$e,{ref:y,axisType:l,events:c,fontSize:u,getTicksConfig:t,height:t.height,letterSpacing:d,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),E.createElement(u8e,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},E.createElement(y8e,{label:t.label,labelRef:t.labelRef}),t.children)))}),tj=E.forwardRef((t,e)=>{var n=jn(t,Uu);return E.createElement(t$e,tm({},n,{ref:e}))});tj.displayName="CartesianAxis";var n$e=["x1","y1","x2","y2","key"],r$e=["offset"],i$e=["xAxisId","yAxisId"],a$e=["xAxisId","yAxisId"];function X$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(n),!0).forEach(function(r){s$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s$e(t,e,n){return(e=o$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$e(t){var e=l$e(t,"string");return typeof e=="symbol"?e:e+""}function l$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dp.apply(null,arguments)}function QT(t,e){if(t==null)return{};var n,r,i=c$e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c$e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var u$e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return E.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xce(t){var{option:e,lineItemProps:n}=t,r;if(E.isValidElement(e))r=E.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,u=QT(n,n$e),f=(i=Xn(u))!==null&&i!==void 0?i:{},{offset:d}=f,h=QT(f,r$e);r=E.createElement("line",dp({},h,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function f$e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=QT(t,i$e),l=i.map((c,u)=>{var f=za(za({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(u),index:u});return E.createElement(xce,{key:"line-".concat(u),option:r,lineItemProps:f})});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function d$e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=QT(t,a$e),l=i.map((c,u)=>{var f=za(za({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(u),index:u});return E.createElement(xce,{option:r,lineItemProps:f,key:"line-".concat(u)})});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function h$e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==c[0]&&c.unshift(0);var u=c.map((f,d)=>{var h=!c[d+1],g=h?i+s-f:c[d+1]-f;if(g<=0)return null;var y=d%e.length;return E.createElement("rect",{key:"react-".concat(d),y:f,x:r,height:g,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function p$e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==c[0]&&c.unshift(0);var u=c.map((f,d)=>{var h=!c[d+1],g=h?i+s-f:c[d+1]-f;if(g<=0)return null;var y=d%n.length;return E.createElement("rect",{key:"react-".concat(d),x:f,y:a,width:g,height:o,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var m$e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return Pae(ej(za(za(za({},Uu),n),{},{ticks:Iae(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},g$e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return Pae(ej(za(za(za({},Uu),n),{},{ticks:Iae(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},v$e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:qn.grid};function gu(t){var e=Ez(),n=Az(),r=Bae(),i=za(za({},jn(t,v$e)),{},{x:It(t.x)?t.x:r.left,y:It(t.y)?t.y:r.top,width:It(t.width)?t.width:r.width,height:It(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:d,verticalValues:h}=i,g=ii(),y=_t(P=>LW(P,"xAxis",a,g)),x=_t(P=>LW(P,"yAxis",s,g));if(!Ac(c)||!Ac(u)||!It(o)||!It(l))return null;var v=i.verticalCoordinatesGenerator||m$e,b=i.horizontalCoordinatesGenerator||g$e,{horizontalPoints:_,verticalPoints:A}=i;if((!_||!_.length)&&typeof b=="function"){var T=d&&d.length,M=b({yAxis:x?za(za({},x),{},{ticks:T?d:x.ticks}):void 0,width:e??c,height:n??u,offset:r},T?!0:f);bT(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(_=M)}if((!A||!A.length)&&typeof v=="function"){var I=h&&h.length,O=v({xAxis:y?za(za({},y),{},{ticks:I?h:y.ticks}):void 0,width:e??c,height:n??u,offset:r},I?!0:f);bT(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(A=O)}return E.createElement(Rr,{zIndex:i.zIndex},E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(u$e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(h$e,dp({},i,{horizontalPoints:_})),E.createElement(p$e,dp({},i,{verticalPoints:A})),E.createElement(f$e,dp({},i,{offset:r,horizontalPoints:_,xAxis:y,yAxis:x})),E.createElement(d$e,dp({},i,{offset:r,verticalPoints:A,xAxis:y,yAxis:x}))))}gu.displayName="CartesianGrid";var bce=(t,e,n,r)=>rl(t,"xAxis",e,r),_ce=(t,e,n,r)=>nl(t,"xAxis",e,r),wce=(t,e,n,r)=>rl(t,"yAxis",n,r),Sce=(t,e,n,r)=>nl(t,"yAxis",n,r),y$e=Ce([Qt,bce,wce,_ce,Sce],(t,e,n,r,i)=>il(t,"xAxis")?ks(e,r,!1):ks(n,i,!1)),x$e=(t,e,n,r,i)=>i;function b$e(t){return t.type==="line"}var _$e=Ce([ay,x$e],(t,e)=>t.filter(b$e).find(n=>n.id===e)),w$e=Ce([Qt,bce,wce,_ce,Sce,_$e,y$e,J0],(t,e,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:f,data:d}=a,h;if(d!=null&&d.length>0?h=d:h=l==null?void 0:l.slice(c,u+1),h!=null)return V$e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:h})}});function Ece(t){var e=zl(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var S$e=["id"],E$e=["type","layout","connectNulls","needClip","shape"],A$e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(null,arguments)}function K$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(n),!0).forEach(function(r){M$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M$e(t,e,n){return(e=T$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T$e(t){var e=C$e(t,"string");return typeof e=="symbol"?e:e+""}function C$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nj(t,e){if(t==null)return{};var n,r,i=P$e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function P$e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var I$e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:vo(n,e),payload:t}]},O$e=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c}=t,u={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:vo(s,e),hide:o,type:c,color:r,unit:l}};return E.createElement(ah,{tooltipEntrySettings:u})}),Ace=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function k$e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var N$e=(t,e,n)=>{var r=n.reduce((f,d)=>f+d);if(!r)return Ace(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...k$e(n,i),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function R$e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=nj(r,S$e),c=Xn(l);return E.createElement(qF,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:e})}function D$e(t){var{showLabels:e,children:n,points:r}=t,i=E.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return sc(sc({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(fy,{value:e?i:void 0},n)}function Y$(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:o,connectNulls:l,needClip:c,shape:u}=a,f=nj(a,E$e),d=sc(sc({},fi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return E.createElement(E.Fragment,null,(r==null?void 0:r.length)>1&&E.createElement(em,q1({shapeType:"curve",option:u},d,{pathRef:n})),E.createElement(R$e,{points:r,clipPathId:e,props:a}))}function L$e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function U$e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:d,width:h,height:g,onAnimationEnd:y,onAnimationStart:x}=n,v=i.current,b=Dc(s,"recharts-line-"),_=E.useRef(b),[A,T]=E.useState(!1),M=!A,I=E.useCallback(()=>{typeof y=="function"&&y(),T(!1)},[y]),O=E.useCallback(()=>{typeof x=="function"&&x(),T(!0)},[x]),P=L$e(r.current),k=E.useRef(0);_.current!==b&&(k.current=a.current,_.current=b);var N=k.current;return E.createElement(D$e,{points:s,showLabels:M},n.children,E.createElement(Rc,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:I,onAnimationStart:O,key:b},L=>{var B=Gt(N,P+N,L),D=Math.min(B,P),V;if(l)if(o){var F="".concat(o).split(/[,\s]+/gim).map(W=>parseFloat(W));V=N$e(D,P,F)}else V=Ace(P,D);else V=o==null?void 0:String(o);if(L>0&&P>0&&(i.current=s,a.current=Math.max(a.current,D)),v){var H=v.length/s.length,q=L===1?s:s.map((W,z)=>{var $=Math.floor(z*H);if(v[$]){var Z=v[$];return sc(sc({},W),{},{x:Gt(Z.x,W.x,L),y:Gt(Z.y,W.y,L)})}return d?sc(sc({},W),{},{x:Gt(h*2,W.x,L),y:Gt(g/2,W.y,L)}):sc(sc({},W),{},{x:W.x,y:W.y})});return i.current=q,E.createElement(Y$,{props:n,points:q,clipPathId:e,pathRef:r,strokeDasharray:V})}return E.createElement(Y$,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:V})}),E.createElement(rh,{label:n.label}))}function z$e(t){var{clipPathId:e,props:n}=t,r=E.useRef(null),i=E.useRef(0),a=E.useRef(null);return E.createElement(U$e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var F$e=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:pn(t.payload,e)}};class j$e extends E.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:f,needClip:d,zIndex:h}=this.props;if(e)return null;var g=tn("recharts-line",i),y=f,{r:x,strokeWidth:v}=Ece(n),b=HF(n),_=x*2+v,A=d?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return E.createElement(Rr,{zIndex:h},E.createElement(dn,{className:g},d&&E.createElement("defs",null,E.createElement($3,{clipPathId:y,xAxisId:a,yAxisId:s}),!b&&E.createElement("clipPath",{id:"clipPath-dots-".concat(y)},E.createElement("rect",{x:l-_/2,y:o-_/2,width:c+_,height:u+_}))),E.createElement(KF,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:F$e,errorBarOffset:0},E.createElement(z$e,{props:this.props,clipPathId:y}))),E.createElement(WT,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:A}))}}var Mce={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:qn.line,type:"linear"};function B$e(t){var e=jn(t,Mce),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:d,xAxisId:h,yAxisId:g,id:y}=e,x=nj(e,A$e),{needClip:v}=yw(h,g),b=vw(),_=_m(),A=ii(),T=_t(k=>w$e(k,h,g,A,y));if(_!=="horizontal"&&_!=="vertical"||T==null||b==null)return null;var{height:M,width:I,x:O,y:P}=b;return E.createElement(j$e,q1({},x,{id:y,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:d,xAxisId:h,yAxisId:g,points:T,layout:_,height:M,width:I,left:O,top:P,needClip:v}))}function V$e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((c,u)=>{var f=pn(c,s);if(e==="horizontal"){var d=x0({axis:n,ticks:i,bandSize:o,entry:c,index:u}),h=Rn(f)?null:r.scale(f);return{x:d,y:h,value:f,payload:c}}var g=Rn(f)?null:n.scale(f),y=x0({axis:r,ticks:a,bandSize:o,entry:c,index:u});return g==null||y==null?null:{x:g,y,value:f,payload:c}}).filter(Boolean)}function H$e(t){var e=jn(t,Mce),n=ii();return E.createElement(Cm,{id:e.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(H3,{legendPayload:I$e(e)}),E.createElement(O$e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),E.createElement(G3,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),E.createElement(B$e,q1({},e,{id:r}))))}var eC=E.memo(H$e,gy);eC.displayName="Line";var Tce=(t,e,n,r)=>rl(t,"xAxis",e,r),Cce=(t,e,n,r)=>nl(t,"xAxis",e,r),Pce=(t,e,n,r)=>rl(t,"yAxis",n,r),Ice=(t,e,n,r)=>nl(t,"yAxis",n,r),G$e=Ce([Qt,Tce,Pce,Cce,Ice],(t,e,n,r,i)=>il(t,"xAxis")?ks(e,r,!1):ks(n,i,!1)),W$e=(t,e,n,r,i)=>i,Oce=Ce([ay,W$e],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),$$e=(t,e,n,r,i)=>{var a,s=Oce(t,e,n,r,i);if(s!=null){var o=Qt(t),l=il(o,"xAxis"),c;if(l?c=V1(t,"yAxis",n,r):c=V1(t,"xAxis",e,r),c!=null){var{stackId:u}=s,f=S3(s);if(!(u==null||f==null)){var d=(a=c[u])===null||a===void 0?void 0:a.stackedData;return d==null?void 0:d.find(h=>h.key===f)}}}},q$e=Ce([Qt,Tce,Pce,Cce,Ice,$$e,J0,G$e,Oce,yFe],(t,e,n,r,i,a,s,o,l,c)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:d}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:h}=l,g;if(h&&h.length>0?g=h:g=u==null?void 0:u.slice(f,d+1),g!=null)return dqe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:a,displayedData:g,chartBaseValue:c,bandSize:o})}}),X$e=["id"],K$e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(null,arguments)}function kce(t,e){if(t==null)return{};var n,r,i=Y$e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Y$e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Z$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z$(Object(n),!0).forEach(function(r){Z$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z$e(t,e,n){return(e=J$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$e(t){var e=Q$e(t,"string");return typeof e=="symbol"?e:e+""}function Q$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tC(t,e){return t&&t!=="none"?t:e}var eqe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:tC(r,i),value:vo(n,e),payload:t}]},tqe=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c}=t,u={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:vo(s,e),hide:o,type:c,color:tC(r,a),unit:l}};return E.createElement(ah,{tooltipEntrySettings:u})});function nqe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=Xn(r);return E.createElement(qF,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function rqe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return gv(gv({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return E.createElement(fy,{value:e?i:void 0},n)}function J$(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:l,connectNulls:c,isRange:u}=a,{id:f}=a,d=kce(a,X$e),h=Xn(d),g=fi(d);return E.createElement(E.Fragment,null,(e==null?void 0:e.length)>1&&E.createElement(dn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},E.createElement(Pp,Op({},g,{id:f,points:e,connectNulls:c,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&E.createElement(Pp,Op({},h,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:e})),l!=="none"&&u&&E.createElement(Pp,Op({},h,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:n}))),E.createElement(nqe,{points:e,props:d,clipPathId:i}))}function iqe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!Tr(a)||!Tr(s))return null;var o=e*Math.abs(a-s),l=Math.max(...r.map(c=>c.x||0));return It(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(c=>c.x||0),l)),It(l)?E.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function aqe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!Tr(a)||!Tr(s))return null;var o=e*Math.abs(a-s),l=Math.max(...r.map(c=>c.y||0));return It(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(c=>c.y||0),l)),It(l)?E.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function sqe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?E.createElement(iqe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):E.createElement(aqe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function oqe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:d,onAnimationEnd:h}=r,g=E.useMemo(()=>({points:s,baseLine:o}),[s,o]),y=Dc(g,"recharts-area-"),x=d4e(),[v,b]=E.useState(!1),_=!v,A=E.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),T=E.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);if(x==null)return null;var M=i.current,I=a.current;return E.createElement(rqe,{showLabels:_,points:s},r.children,E.createElement(Rc,{animationId:y,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:T,key:y},O=>{if(M){var P=M.length/s.length,k=O===1?s:s.map((L,B)=>{var D=Math.floor(B*P);if(M[D]){var V=M[D];return gv(gv({},L),{},{x:Gt(V.x,L.x,O),y:Gt(V.y,L.y,O)})}return L}),N;return It(o)?N=Gt(I,o,O):Rn(o)||Qo(o)?N=Gt(I,0,O):N=o.map((L,B)=>{var D=Math.floor(B*P);if(Array.isArray(I)&&I[D]){var V=I[D];return gv(gv({},L),{},{x:Gt(V.x,L.x,O),y:Gt(V.y,L.y,O)})}return L}),O>0&&(i.current=k,a.current=N),E.createElement(J$,{points:k,baseLine:N,needClip:e,clipPathId:n,props:r})}return O>0&&(i.current=s,a.current=o),E.createElement(dn,null,l&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(n)},E.createElement(sqe,{alpha:O,points:s,baseLine:o,layout:x,strokeWidth:r.strokeWidth}))),E.createElement(dn,{clipPath:"url(#animationClipPath-".concat(n,")")},E.createElement(J$,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),E.createElement(rh,{label:r.label}))}function lqe(t){var{needClip:e,clipPathId:n,props:r}=t,i=E.useRef(null),a=E.useRef();return E.createElement(oqe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class cqe extends E.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:u,height:f,id:d,baseLine:h,zIndex:g}=this.props;if(e)return null;var y=tn("recharts-area",i),x=d,{r:v,strokeWidth:b}=Ece(n),_=HF(n),A=v*2+b,T=o?"url(#clipPath-".concat(_?"":"dots-").concat(x,")"):void 0;return E.createElement(Rr,{zIndex:g},E.createElement(dn,{className:y},o&&E.createElement("defs",null,E.createElement($3,{clipPathId:x,xAxisId:l,yAxisId:c}),!_&&E.createElement("clipPath",{id:"clipPath-dots-".concat(x)},E.createElement("rect",{x:s-A/2,y:a-A/2,width:u+A,height:f+A}))),E.createElement(lqe,{needClip:o,clipPathId:x,props:this.props})),E.createElement(WT,{points:r,mainColor:tC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}),this.props.isRange&&Array.isArray(h)&&E.createElement(WT,{points:h,mainColor:tC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}))}}var Nce={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:qn.area};function uqe(t){var e,n=jn(t,Nce),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:d,legendType:h,stroke:g,xAxisId:y,yAxisId:x}=n,v=kce(n,K$e),b=_m(),_=tle(),{needClip:A}=yw(y,x),T=ii(),{points:M,isRange:I,baseLine:O}=(e=_t(D=>q$e(D,y,x,T,t.id)))!==null&&e!==void 0?e:{},P=vw();if(b!=="horizontal"&&b!=="vertical"||P==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:k,width:N,x:L,y:B}=P;return!M||!M.length?null:E.createElement(cqe,Op({},v,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:O,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:k,hide:f,layout:b,isAnimationActive:d==="auto"?!Z0.isSsr:d,isRange:I,legendType:h,needClip:A,points:M,stroke:g,width:N,left:L,top:B,xAxisId:y,yAxisId:x}))}var fqe=(t,e,n,r,i)=>{var a=n??e;if(It(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function dqe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:d,bandSize:h}=t,g=i&&i.length,y=fqe(a,s,n,o,l),x=a==="horizontal",v=!1,b=c.map((A,T)=>{var M;g?M=i[u+T]:(M=pn(A,r),Array.isArray(M)?v=!0:M=[y,M]);var I=M[1]==null||g&&!e&&pn(A,r)==null;return x?{x:x0({axis:o,ticks:f,bandSize:h,entry:A,index:T}),y:I?null:l.scale(M[1]),value:M,payload:A}:{x:I?null:o.scale(M[1]),y:x0({axis:l,ticks:d,bandSize:h,entry:A,index:T}),value:M,payload:A}}),_;return g||v?_=b.map(A=>{var T=Array.isArray(A.value)?A.value[0]:null;return x?{x:A.x,y:T!=null&&A.y!=null?l.scale(T):null,payload:A.payload}:{x:T!=null?o.scale(T):null,y:A.y,payload:A.payload}}):_=x?l.scale(y):o.scale(y),{points:b,baseLine:_,isRange:v}}function hqe(t){var e=jn(t,Nce),n=ii();return E.createElement(Cm,{id:e.id,type:"area"},r=>E.createElement(E.Fragment,null,E.createElement(H3,{legendPayload:eqe(e)}),E.createElement(tqe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),E.createElement(G3,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:a3(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),E.createElement(uqe,Op({},e,{id:r}))))}var zb=E.memo(hqe,gy);zb.displayName="Area";var pqe=["option","isActive"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(null,arguments)}function mqe(t,e){if(t==null)return{};var n,r,i=gqe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vqe(t){var{option:e,isActive:n}=t,r=mqe(t,pqe);return typeof e=="string"?E.createElement(em,Fb({option:E.createElement(XP,Fb({type:e},r)),isActive:n,shapeType:"symbols"},r)):E.createElement(em,Fb({option:e,isActive:n,shapeType:"symbols"},r))}var yqe=(t,e,n,r,i,a,s)=>rl(t,"xAxis",e,s),xqe=(t,e,n,r,i,a,s)=>nl(t,"xAxis",e,s),bqe=(t,e,n,r,i,a,s)=>rl(t,"yAxis",n,s),_qe=(t,e,n,r,i,a,s)=>nl(t,"yAxis",n,s),wqe=(t,e,n,r)=>bje(t,"zAxis",r,!1),Sqe=(t,e,n,r,i)=>i,Eqe=(t,e,n,r,i,a)=>a,Aqe=(t,e,n,r,i,a,s)=>J0(t,e,n,s),Mqe=Ce([ay,Sqe],(t,e)=>t.filter(n=>n.type==="scatter").find(n=>n.id===e)),Tqe=Ce([Aqe,yqe,xqe,bqe,_qe,wqe,Mqe,Eqe],(t,e,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=t;if(s!=null){var f;if((s==null?void 0:s.data)!=null&&s.data.length>0?f=s.data:f=l==null?void 0:l.slice(c,u+1),!(f==null||e==null||r==null||n==null||i==null||(n==null?void 0:n.length)===0||(i==null?void 0:i.length)===0))return Bqe({displayedData:f,xAxis:e,yAxis:r,zAxis:a,scatterSettings:s,xAxisTicks:n,yAxisTicks:i,cells:o})}}),Cqe=["onMouseEnter","onClick","onMouseLeave"],Pqe=["id"],Iqe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function UL(t,e){if(t==null)return{};var n,r,i=Oqe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(null,arguments)}function Q$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q$(Object(n),!0).forEach(function(r){kqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kqe(t,e,n){return(e=Nqe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nqe(t){var e=Rqe(t,"string");return typeof e=="symbol"?e:e+""}function Rqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dqe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:vo(n,e),payload:t}]},Lqe=E.memo(t=>{var{dataKey:e,points:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,tooltipType:l}=t,c={dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:a,nameKey:void 0,dataKey:e,name:vo(s,e),hide:o,type:l,color:a,unit:""}};return E.createElement(ah,{tooltipEntrySettings:c})});function Uqe(t){var{points:e,props:n}=t,{line:r,lineType:i,lineJointType:a}=n;if(!r)return null;var s=Xn(n),o=zl(r),l,c;if(i==="joint")l=e.map(x=>{var v,b;return{x:(v=x.cx)!==null&&v!==void 0?v:null,y:(b=x.cy)!==null&&b!==void 0?b:null}});else if(i==="fitting"){var{xmin:u,xmax:f,a:d,b:h}=D2e(e),g=x=>d*x+h;l=[{x:u,y:g(u)},{x:f,y:g(f)}]}var y=Ts(Ts(Ts({},s),{},{fill:"none",stroke:s&&s.fill},o),{},{points:l});return E.isValidElement(r)?c=E.cloneElement(r,y):typeof r=="function"?c=r(y):c=E.createElement(Pp,nm({},y,{type:a})),E.createElement(dn,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function zqe(t){var{showLabels:e,points:n,children:r}=t,i=ew(),a=E.useMemo(()=>n==null?void 0:n.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:s.width,height:s.height,lowerWidth:s.width,upperWidth:s.width};return Ts(Ts({},c),{},{value:void 0,payload:s.payload,viewBox:c,parentViewBox:i,fill:void 0})}),[i,n]);return E.createElement(fy,{value:e?a:void 0},r)}function Fqe(t){var{points:e,allOtherScatterProps:n}=t,{shape:r,activeShape:i,dataKey:a}=n,s=_t(Tc),{onMouseEnter:o,onClick:l,onMouseLeave:c}=n,u=UL(n,Cqe),f=hy(o,n.dataKey),d=py(c),h=my(l,n.dataKey);if(!X2e(e))return null;var{id:g}=n,y=UL(n,Pqe),x=Xn(y);return E.createElement(E.Fragment,null,E.createElement(Uqe,{points:e,props:y}),e.map((v,b)=>{var _=i!=null&&i!==!1,A=_&&s===String(b),T=_&&A?i:r,M=Ts(Ts(Ts({},x),v),{},{[bz]:b,[_z]:String(a)});return E.createElement(Rr,{key:"symbol-".concat(v==null?void 0:v.cx,"-").concat(v==null?void 0:v.cy,"-").concat(v==null?void 0:v.size,"-").concat(b),zIndex:A?qn.activeDot:void 0},E.createElement(dn,nm({className:"recharts-scatter-symbol"},Wl(u,v,b),{onMouseEnter:f(v,b),onMouseLeave:d(v,b),onClick:h(v,b)}),E.createElement(vqe,nm({option:T,isActive:A},M))))}))}function jqe(t){var{previousPointsRef:e,props:n}=t,{points:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=n,l=e.current,c=Dc(n,"recharts-scatter-"),[u,f]=E.useState(!1),d=E.useCallback(()=>{f(!1)},[]),h=E.useCallback(()=>{f(!0)},[]),g=!u;return E.createElement(zqe,{showLabels:g,points:r},n.children,E.createElement(Rc,{animationId:c,begin:a,duration:s,isActive:i,easing:o,onAnimationEnd:d,onAnimationStart:h,key:c},y=>{var x=y===1?r:r==null?void 0:r.map((v,b)=>{var _=l&&l[b];return _?Ts(Ts({},v),{},{cx:v.cx==null?void 0:Gt(_.cx,v.cx,y),cy:v.cy==null?void 0:Gt(_.cy,v.cy,y),size:Gt(_.size,v.size,y)}):Ts(Ts({},v),{},{size:Gt(0,v.size,y)})});return y>0&&(e.current=x),E.createElement(dn,null,E.createElement(Fqe,{points:x,allOtherScatterProps:n,showLabels:g}))}),E.createElement(rh,{label:n.label}))}function Bqe(t){var{displayedData:e,xAxis:n,yAxis:r,zAxis:i,scatterSettings:a,xAxisTicks:s,yAxisTicks:o,cells:l}=t,c=Rn(n.dataKey)?a.dataKey:n.dataKey,u=Rn(r.dataKey)?a.dataKey:r.dataKey,f=i&&i.dataKey,d=i?i.range:Pu.range,h=d&&d[0],g=n.scale.bandwidth?n.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((x,v)=>{var b=pn(x,c),_=pn(x,u),A=!Rn(f)&&pn(x,f)||"-",T=[{name:Rn(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:b,payload:x,dataKey:c,type:a.tooltipType},{name:Rn(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:_,payload:x,dataKey:u,type:a.tooltipType}];A!=="-"&&T.push({name:i.name||i.dataKey,unit:i.unit||"",value:A,payload:x,dataKey:f,type:a.tooltipType});var M=x0({axis:n,ticks:s,bandSize:g,entry:x,index:v,dataKey:c}),I=x0({axis:r,ticks:o,bandSize:y,entry:x,index:v,dataKey:u}),O=A!=="-"?i.scale(A):h,P=Math.sqrt(Math.max(O,0)/Math.PI);return Ts(Ts({},x),{},{cx:M,cy:I,x:M==null?void 0:M-P,y:I==null?void 0:I-P,width:2*P,height:2*P,size:O,node:{x:b,y:_,z:A},tooltipPayload:T,tooltipPosition:{x:M,y:I},payload:x},l&&l[v]&&l[v].props)})}var Vqe=(t,e,n)=>({x:t.cx,y:t.cy,value:Number(n==="x"?t.node.x:t.node.y),errorVal:pn(t,e)});function Hqe(t){var{hide:e,points:n,className:r,needClip:i,xAxisId:a,yAxisId:s,id:o}=t,l=E.useRef(null);if(e)return null;var c=tn("recharts-scatter",r),u=o;return E.createElement(Rr,{zIndex:t.zIndex},E.createElement(dn,{className:c,clipPath:i?"url(#clipPath-".concat(u,")"):void 0,id:o},i&&E.createElement("defs",null,E.createElement($3,{clipPathId:u,xAxisId:a,yAxisId:s})),E.createElement(KF,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:Vqe,errorBarOffset:0},E.createElement(dn,{key:"recharts-scatter-symbols"},E.createElement(jqe,{props:t,previousPointsRef:l})))))}var Rce={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:qn.scatter};function Gqe(t){var e=jn(t,Rce),{animationBegin:n,animationDuration:r,animationEasing:i,hide:a,isAnimationActive:s,legendType:o,lineJointType:l,lineType:c,shape:u,xAxisId:f,yAxisId:d,zAxisId:h}=e,g=UL(e,Iqe),{needClip:y}=yw(f,d),x=E.useMemo(()=>dy(t.children,Go),[t.children]),v=ii(),b=_t(_=>Tqe(_,f,d,h,t.id,x,v));return y==null||b==null?null:E.createElement(E.Fragment,null,E.createElement(Lqe,{dataKey:t.dataKey,points:b,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),E.createElement(Hqe,nm({},g,{xAxisId:f,yAxisId:d,zAxisId:h,lineType:c,lineJointType:l,legendType:o,shape:u,hide:a,isAnimationActive:s,animationBegin:n,animationDuration:r,animationEasing:i,points:b,needClip:y})))}function Wqe(t){var e=jn(t,Rce),n=ii();return E.createElement(Cm,{id:e.id,type:"scatter"},r=>E.createElement(E.Fragment,null,E.createElement(H3,{legendPayload:Dqe(e)}),E.createElement(G3,{type:"scatter",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:n}),E.createElement(Gqe,nm({},e,{id:r}))))}var Dce=E.memo(Wqe,gy);Dce.displayName="Scatter";var $qe=["domain","range"],qqe=["domain","range"];function eq(t,e){if(t==null)return{};var n,r,i=Xqe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tq(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Lce(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=eq(t,$qe),{domain:a,range:s}=e,o=eq(e,qqe);return!tq(n,a)||!tq(r,s)?!1:gy(i,o)}var Kqe=["dangerouslySetInnerHTML","ticks"],Yqe=["id"];function zL(){return zL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zL.apply(null,arguments)}function nq(t,e){if(t==null)return{};var n,r,i=Zqe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jqe(t){var e=er(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(o9e(t)):n.current!==t&&e(l9e({prev:n.current,next:t})),n.current=t},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(c9e(n.current)),n.current=null)},[e]),null}var Qqe=t=>{var{xAxisId:e,className:n}=t,r=_t(wz),i=ii(),a="xAxis",s=_t(x=>oy(x,a,e,i)),o=_t(x=>koe(x,a,e,i)),l=_t(x=>Coe(x,e)),c=_t(x=>gje(x,e)),u=_t(x=>uoe(x,e));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:d}=t,h=nq(t,Kqe),{id:g}=u,y=nq(u,Yqe);return E.createElement(tj,zL({},h,y,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:tn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},eXe={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:Ji.allowDecimals,allowDuplicatedCategory:Ji.allowDuplicatedCategory,angle:Ji.angle,axisLine:Uu.axisLine,height:Ji.height,hide:!1,includeHidden:Ji.includeHidden,interval:Ji.interval,minTickGap:Ji.minTickGap,mirror:Ji.mirror,orientation:Ji.orientation,padding:Ji.padding,reversed:Ji.reversed,scale:Ji.scale,tick:Ji.tick,tickCount:Ji.tickCount,tickLine:Uu.tickLine,tickSize:Uu.tickSize,type:Ji.type,xAxisId:0},tXe=t=>{var e=jn(t,eXe);return E.createElement(E.Fragment,null,E.createElement(Jqe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),E.createElement(Qqe,e))},vu=E.memo(tXe,Lce);vu.displayName="XAxis";var nXe=["dangerouslySetInnerHTML","ticks"],rXe=["id"];function FL(){return FL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FL.apply(null,arguments)}function rq(t,e){if(t==null)return{};var n,r,i=iXe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iXe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aXe(t){var e=er(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(u9e(t)):n.current!==t&&e(f9e({prev:n.current,next:t})),n.current=t},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(d9e(n.current)),n.current=null)},[e]),null}var sXe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=E.useRef(null),s=E.useRef(null),o=_t(wz),l=ii(),c=er(),u="yAxis",f=_t(T=>oy(T,u,e,l)),d=_t(T=>Poe(T,e)),h=_t(T=>yje(T,e)),g=_t(T=>koe(T,u,e,l)),y=_t(T=>foe(T,e));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!d||RF(i)||E.isValidElement(i)||y==null)){var T=a.current;if(T){var M=T.getCalculatedWidth();Math.round(d.width)!==Math.round(M)&&c(g9e({id:e,width:M}))}}},[g,d,c,i,e,r,y]),d==null||h==null||y==null)return null;var{dangerouslySetInnerHTML:x,ticks:v}=t,b=rq(t,nXe),{id:_}=y,A=rq(y,rXe);return E.createElement(tj,FL({},b,A,{ref:a,labelRef:s,scale:f,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:tn("recharts-".concat(u," ").concat(u),n),viewBox:o,ticks:g,axisType:u}))},oXe={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:Qi.allowDecimals,allowDuplicatedCategory:Qi.allowDuplicatedCategory,angle:Qi.angle,axisLine:Uu.axisLine,hide:!1,includeHidden:Qi.includeHidden,interval:Qi.interval,minTickGap:Qi.minTickGap,mirror:Qi.mirror,orientation:Qi.orientation,padding:Qi.padding,reversed:Qi.reversed,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,tickLine:Uu.tickLine,tickSize:Uu.tickSize,type:Qi.type,width:Qi.width,yAxisId:0},lXe=t=>{var e=jn(t,oXe);return E.createElement(E.Fragment,null,E.createElement(aXe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),E.createElement(sXe,e))},yu=E.memo(lXe,Lce);yu.displayName="YAxis";function cXe(t){var e=er(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(h9e(t)):n.current!==t&&e(p9e({prev:n.current,next:t})),n.current=t},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(m9e(n.current)),n.current=null)},[e]),null}var uXe={zAxisId:0,range:Pu.range,scale:Pu.scale,type:Pu.type};function Uce(t){var e=jn(t,uXe);return E.createElement(cXe,{domain:e.domain,id:e.zAxisId,dataKey:e.dataKey,name:e.name,unit:e.unit,range:e.range,scale:e.scale,type:e.type,allowDuplicatedCategory:Pu.allowDuplicatedCategory,allowDataOverflow:Pu.allowDataOverflow,reversed:Pu.reversed,includeHidden:Pu.includeHidden})}Uce.displayName="ZAxis";var fXe=(t,e)=>e,rj=Ce([fXe,Qt,Mm,qi,Koe,pf,kBe,Ni],FBe),ij=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},zce=el("mouseClick"),Fce=J_();Fce.startListening({actionCreator:zce,effect:(t,e)=>{var n=t.payload,r=rj(e.getState(),ij(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Oje({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var jL=el("mouseMove"),jce=J_(),yE=null;jce.startListening({actionCreator:jL,effect:(t,e)=>{var n=t.payload;yE!==null&&cancelAnimationFrame(yE);var r=ij(n);yE=requestAnimationFrame(()=>{var i=e.getState(),a=EF(i,i.tooltip.settings.shared);if(a==="axis"){var s=rj(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(Boe({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(joe())}yE=null})}});var iq={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Bce=Ls({name:"rootProps",initialState:iq,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:iq.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),dXe=Bce.reducer,{updateOptions:hXe}=Bce.actions,Vce=Ls({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:pXe}=Vce.actions,mXe=Vce.reducer,Hce=el("keyDown"),Gce=el("focus"),aj=J_();aj.startListening({actionCreator:Hce,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=AF(i,cy(n),lw(n),hw(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=pf(n);if(a==="Enter"){var c=FT(n,"axis","hover",String(i.index));e.dispatch(TL({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=_je(n),f=u==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,h=o+d*f;if(!(l==null||h>=l.length||h<0)){var g=FT(n,"axis","hover",String(h));e.dispatch(TL({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});aj.startListening({actionCreator:Gce,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=FT(n,"axis","hover",String(a));e.dispatch(TL({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Co=el("externalEvent"),Wce=J_(),LN=new Map;Wce.startListening({actionCreator:Co,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=LN.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:vBe(o),activeDataKey:IF(o),activeIndex:Tc(o),activeLabel:Joe(o),activeTooltipIndex:Tc(o),isTooltipActive:yBe(o)};n(l,r)}finally{LN.delete(i)}});LN.set(i,s)}}});var gXe=Ce([ly],t=>t.tooltipItemPayloads),vXe=Ce([gXe,fw,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),$ce=el("touchMove"),qce=J_();qce.startListening({actionCreator:$ce,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=EF(r,r.tooltip.settings.shared);if(i==="axis"){var a=rj(r,ij({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(Boe({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(bz),u=(s=l.getAttribute(_z))!==null&&s!==void 0?s:void 0,f=vXe(e.getState(),c,u);e.dispatch(Foe({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}}});var yXe=eae({brush:SWe,cartesianAxis:v9e,chartData:m6e,errorBars:gGe,graphicalItems:wHe,layout:ALe,legend:T4e,options:u6e,polarAxis:oVe,polarOptions:mXe,referenceElements:IWe,rootProps:dXe,tooltip:kje,zIndex:QBe}),xXe=function(e){return YDe({reducer:yXe,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Fce.middleware,jce.middleware,aj.middleware,Wce.middleware,qce.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(mae({type:"raf"}))},devTools:Z0.devToolsEnabled})};function Xce(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ii(),a=E.useRef(null);if(i)return n;a.current==null&&(a.current=xXe(e));var s=cz;return E.createElement(HGe,{context:s,store:a.current},n)}function bXe(t){var{layout:e,margin:n}=t,r=er(),i=ii();return E.useEffect(()=>{i||(r(wLe(e)),r(_Le(n)))},[r,i,e,n]),null}var Kce=E.memo(bXe,gy);function Yce(t){var e=er();return E.useEffect(()=>{e(hXe(t))},[e,t]),null}function aq(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=Kle("".concat(r).concat(e)),a=er();return E.useLayoutEffect(()=>(a(ZBe({zIndex:e,elementId:i,isPanorama:n})),()=>{a(JBe({zIndex:e,isPanorama:n}))}),[a,e,i,n]),E.createElement("g",{tabIndex:-1,id:i})}function sq(t){var{children:e,isPanorama:n}=t,r=_t(BBe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return E.createElement(E.Fragment,null,i.map(s=>E.createElement(aq,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>E.createElement(aq,{key:s,zIndex:s,isPanorama:n})))}var _Xe=["children"];function wXe(t,e){if(t==null)return{};var n,r,i=SXe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SXe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(null,arguments)}var EXe={width:"100%",height:"100%",display:"block"},AXe=E.forwardRef((t,e)=>{var n=Ez(),r=Az(),i=Jae();if(!Ac(n)||!Ac(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,c,u;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0),E.createElement($U,nC({},s,{title:o,desc:l,role:u,tabIndex:c,width:n,height:r,style:EXe,ref:e}),a)}),MXe=t=>{var{children:e}=t,n=_t(c3);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return E.createElement($U,{width:r,height:i,x:s,y:a},e)},oq=E.forwardRef((t,e)=>{var{children:n}=t,r=wXe(t,_Xe),i=ii();return i?E.createElement(MXe,null,E.createElement(sq,{isPanorama:!0},n)):E.createElement(AXe,nC({ref:e},r),E.createElement(sq,{isPanorama:!1},n))});function TXe(){var t=er(),[e,n]=E.useState(null),r=_t(jLe);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Tr(a)&&a!==r&&t(ELe(a))}},[e,t,r]),n}function lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CXe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lq(Object(n),!0).forEach(function(r){PXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PXe(t,e,n){return(e=IXe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IXe(t){var e=OXe(t,"string");return typeof e=="symbol"?e:e+""}function OXe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(null,arguments)}var kXe=()=>(E6e(),null);function rC(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var NXe=E.forwardRef((t,e)=>{var n,r,i=E.useRef(null),[a,s]=E.useState({containerWidth:rC((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:rC((r=t.style)===null||r===void 0?void 0:r.height)}),o=E.useCallback((c,u)=>{s(f=>{var d=Math.round(c),h=Math.round(u);return f.containerWidth===d&&f.containerHeight===h?f:{containerWidth:d,containerHeight:h}})},[]),l=E.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=c.getBoundingClientRect();o(u,f);var d=g=>{var{width:y,height:x}=g[0].contentRect;o(y,x)},h=new ResizeObserver(d);h.observe(c),i.current=h}},[e,o]);return E.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),E.createElement(E.Fragment,null,E.createElement(u3,{width:a.containerWidth,height:a.containerHeight}),E.createElement("div",rm({ref:l},t)))}),RXe=E.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=E.useState({containerWidth:rC(n),containerHeight:rC(r)}),s=E.useCallback((l,c)=>{a(u=>{var f=Math.round(l),d=Math.round(c);return u.containerWidth===f&&u.containerHeight===d?u:{containerWidth:f,containerHeight:d}})},[]),o=E.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();s(c,u)}},[e,s]);return E.createElement(E.Fragment,null,E.createElement(u3,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",rm({ref:o},t)))}),DXe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return E.createElement(E.Fragment,null,E.createElement(u3,{width:n,height:r}),E.createElement("div",rm({ref:e},t)))}),LXe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return Xu(n)||Xu(r)?E.createElement(RXe,rm({},t,{ref:e})):E.createElement(DXe,rm({},t,{ref:e}))});function UXe(t){return t===!0?NXe:LXe}var zXe=E.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:d,onTouchEnd:h,onTouchMove:g,onTouchStart:y,style:x,width:v,responsive:b,dispatchTouchEvents:_=!0}=t,A=E.useRef(null),T=er(),[M,I]=E.useState(null),[O,P]=E.useState(null),k=TXe(),N=Sz(),L=(N==null?void 0:N.width)>0?N.width:v,B=(N==null?void 0:N.height)>0?N.height:i,D=E.useCallback(le=>{k(le),typeof e=="function"&&e(le),I(le),P(le),le!=null&&(A.current=le)},[k,e,I,P]),V=E.useCallback(le=>{T(zce(le)),T(Co({handler:a,reactEvent:le}))},[T,a]),F=E.useCallback(le=>{T(jL(le)),T(Co({handler:c,reactEvent:le}))},[T,c]),H=E.useCallback(le=>{T(joe()),T(Co({handler:u,reactEvent:le}))},[T,u]),q=E.useCallback(le=>{T(jL(le)),T(Co({handler:f,reactEvent:le}))},[T,f]),W=E.useCallback(()=>{T(Gce())},[T]),z=E.useCallback(le=>{T(Hce(le.key))},[T]),$=E.useCallback(le=>{T(Co({handler:s,reactEvent:le}))},[T,s]),Z=E.useCallback(le=>{T(Co({handler:o,reactEvent:le}))},[T,o]),G=E.useCallback(le=>{T(Co({handler:l,reactEvent:le}))},[T,l]),ie=E.useCallback(le=>{T(Co({handler:d,reactEvent:le}))},[T,d]),ue=E.useCallback(le=>{T(Co({handler:y,reactEvent:le}))},[T,y]),te=E.useCallback(le=>{_&&T($ce(le)),T(Co({handler:g,reactEvent:le}))},[T,_,g]),ae=E.useCallback(le=>{T(Co({handler:h,reactEvent:le}))},[T,h]),he=UXe(b);return E.createElement(sle.Provider,{value:M},E.createElement(cie.Provider,{value:O},E.createElement(he,{width:L??(x==null?void 0:x.width),height:B??(x==null?void 0:x.height),className:tn("recharts-wrapper",r),style:CXe({position:"relative",cursor:"default",width:L,height:B},x),onClick:V,onContextMenu:$,onDoubleClick:Z,onFocus:W,onKeyDown:z,onMouseDown:G,onMouseEnter:F,onMouseLeave:H,onMouseMove:q,onMouseUp:ie,onTouchEnd:ae,onTouchMove:te,onTouchStart:ue,ref:D},E.createElement(kXe,null),n)))}),FXe=["width","height","responsive","children","className","style","compact","title","desc"];function jXe(t,e){if(t==null)return{};var n,r,i=BXe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BXe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zce=E.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:u}=t,f=jXe(t,FXe),d=Xn(f);return l?E.createElement(E.Fragment,null,E.createElement(u3,{width:n,height:r}),E.createElement(oq,{otherAttributes:d,title:c,desc:u},a)):E.createElement(zXe,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement(oq,{otherAttributes:d,title:c,desc:u,ref:e},E.createElement(kWe,null,a)))});function BL(){return BL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BL.apply(null,arguments)}var VXe={top:5,right:5,bottom:5,left:5},HXe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:VXe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},vy=E.forwardRef(function(e,n){var r,i=jn(e.categoricalChartProps,HXe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return E.createElement(Xce,{preloadedState:{options:u},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},E.createElement(mce,{chartData:c.data}),E.createElement(Kce,{layout:i.layout,margin:i.margin}),E.createElement(Yce,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(Zce,BL({},i,{ref:n})))}),GXe=["axis"],Jce=E.forwardRef((t,e)=>E.createElement(vy,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:GXe,tooltipPayloadSearcher:mf,categoricalChartProps:t,ref:e})),WXe=["axis","item"],Qce=E.forwardRef((t,e)=>E.createElement(vy,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:WXe,tooltipPayloadSearcher:mf,categoricalChartProps:t,ref:e}));function $Xe(t){var e=er();return E.useEffect(()=>{e(pXe(t))},[e,t]),null}var qXe=["layout"];function VL(){return VL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VL.apply(null,arguments)}function XXe(t,e){if(t==null)return{};var n,r,i=KXe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KXe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YXe={top:5,right:5,bottom:5,left:5},K3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:YXe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},sj=E.forwardRef(function(e,n){var r,i=jn(e.categoricalChartProps,K3),{layout:a}=i,s=XXe(i,qXe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return E.createElement(Xce,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},E.createElement(mce,{chartData:i.data}),E.createElement(Kce,{layout:a,margin:i.margin}),E.createElement(Yce,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement($Xe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),E.createElement(Zce,VL({},s,{ref:n})))});function cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(n),!0).forEach(function(r){ZXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZXe(t,e,n){return(e=JXe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JXe(t){var e=QXe(t,"string");return typeof e=="symbol"?e:e+""}function QXe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eKe=["item"],tKe=uq(uq({},K3),{},{layout:"centric",startAngle:0,endAngle:360}),HL=E.forwardRef((t,e)=>{var n=jn(t,tKe);return E.createElement(sj,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eKe,tooltipPayloadSearcher:mf,categoricalChartProps:n,ref:e})}),eue={},tue={},nue={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof Buffer<"u"&&Buffer.isBuffer(n)}t.isBuffer=e})(nue);var rue={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=n==null?void 0:n.constructor,i=typeof r=="function"?r.prototype:Object.prototype;return n===i}t.isPrototype=e})(rue);var iue={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sz;function n(r){return e.isTypedArray(r)}t.isTypedArray=n})(iue);var aue={},sue={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cz;function n(r){const i=e.toFinite(r),a=i%1;return a?i-a:i}t.toInteger=n})(sue);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sue;function n(r,i){if(r=e.toInteger(r),r<1||!Number.isSafeInteger(r))return[];const a=new Array(r);for(let s=0;s<r;s++)a[s]=typeof i=="function"?i(s):s;return a}t.times=n})(aue);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nue,n=rue,r=Y0,i=iue,a=aue;function s(u){if(u==null)return[];switch(typeof u){case"object":case"function":return r.isArrayLike(u)?c(u):n.isPrototype(u)?l(u):o(u);default:return o(Object(u))}}function o(u){const f=[];for(const d in u)f.push(d);return f}function l(u){return o(u).filter(d=>d!=="constructor")}function c(u){const f=a.times(u.length,g=>`${g}`),d=new Set(f);e.isBuffer(u)&&(d.add("offset"),d.add("parent")),i.isTypedArray(u)&&(d.add("buffer"),d.add("byteLength"),d.add("byteOffset"));const h=o(u).filter(g=>!d.has(g));return Array.isArray(u)?[...f,...h]:[...f.filter(g=>Object.hasOwn(u,g)),...h]}t.keysIn=s})(tue);var oue={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H_,n=YU,r=G_,i=W_,a=$_;function s(l,c){if(l==null)return!0;switch(typeof c){case"symbol":case"number":case"object":{if(Array.isArray(c))return o(l,c);if(typeof c=="number"?c=i.toKey(c):typeof c=="object"&&(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c)),n.isUnsafeProperty(c))return!1;if((l==null?void 0:l[c])===void 0)return!0;try{return delete l[c],!0}catch{return!1}}case"string":{if((l==null?void 0:l[c])===void 0&&r.isDeepKey(c))return o(l,a.toPath(c));if(n.isUnsafeProperty(c))return!1;try{return delete l[c],!0}catch{return!1}}}}function o(l,c){const u=c.length===1?l:e.get(l,c.slice(0,-1)),f=c[c.length-1];if((u==null?void 0:u[f])===void 0)return!0;if(n.isUnsafeProperty(f))return!1;try{return delete u[f],!0}catch{return!1}}t.unset=s})(oue);var lue={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rz;function n(r){const i=[];for(;r;)i.push(...e.getSymbols(r)),r=Object.getPrototypeOf(r);return i}t.getSymbolsIn=n})(lue);var cue={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y0;function n(r,i=1){const a=[],s=Math.floor(i);if(!e.isArrayLike(r))return a;const o=(l,c)=>{for(let u=0;u<l.length;u++){const f=l[u];c<s&&(Array.isArray(f)||f!=null&&f[Symbol.isConcatSpreadable]||f!==null&&typeof f=="object"&&Object.prototype.toString.call(f)==="[object Arguments]")?Array.isArray(f)?o(f,c+1):o(Array.from(f),c+1):a.push(f)}};return o(Array.from(r),0),a}t.flatten=n})(cue);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oz,n=tue,r=oue,i=lue,a=G_,s=cue,o=GF;function l(d,...h){if(d==null)return{};h=s.flatten(h);const g=c(d,h);for(let y=0;y<h.length;y++){let x=h[y];switch(typeof x){case"object":{Array.isArray(x)||(x=Array.from(x));for(let v=0;v<x.length;v++){const b=x[v];r.unset(g,b)}break}case"string":case"symbol":case"number":{r.unset(g,x);break}}}return g}function c(d,h){return h.some(y=>Array.isArray(y)||a.isDeepKey(y))?f(d):u(d)}function u(d){const h={},g=[...n.keysIn(d),...i.getSymbolsIn(d)];for(let y=0;y<g.length;y++){const x=g[y];h[x]=d[x]}return h}function f(d){const h={},g=[...n.keysIn(d),...i.getSymbolsIn(d)];for(let y=0;y<g.length;y++){const x=g[y];h[x]=e.cloneDeepWith(d[x],v=>{if(!o.isPlainObject(v))return v})}return h}t.omit=l})(eue);var nKe=eue.omit;const rKe=ca(nKe);function fq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fq(Object(n),!0).forEach(function(r){iKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iKe(t,e,n){return(e=aKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aKe(t){var e=sKe(t,"string");return typeof e=="symbol"?e:e+""}function sKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oKe=["axis"],lKe=dq(dq({},K3),{},{layout:"centric",startAngle:90,endAngle:-270}),cKe=E.forwardRef((t,e)=>{var n=jn(t,lKe);return E.createElement(sj,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oKe,tooltipPayloadSearcher:mf,categoricalChartProps:n,ref:e})}),uKe=["item"],fKe=E.forwardRef((t,e)=>E.createElement(vy,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:uKe,tooltipPayloadSearcher:mf,categoricalChartProps:t,ref:e})),dKe=["axis"],uue=E.forwardRef((t,e)=>E.createElement(vy,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dKe,tooltipPayloadSearcher:mf,categoricalChartProps:t,ref:e}));function hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(n),!0).forEach(function(r){hKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hKe(t,e,n){return(e=pKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pKe(t){var e=mKe(t,"string");return typeof e=="symbol"?e:e+""}function mKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gKe=["axis","item"],vKe=pq(pq({},K3),{},{layout:"radial",startAngle:0,endAngle:360}),yKe=E.forwardRef((t,e)=>{var n=jn(t,vKe);return E.createElement(sj,{chartName:"RadialBarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gKe,tooltipPayloadSearcher:mf,categoricalChartProps:n,ref:e})}),xKe=["axis"],bKe=E.forwardRef((t,e)=>E.createElement(vy,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xKe,tooltipPayloadSearcher:mf,categoricalChartProps:t,ref:e}));function GL(){return GL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GL.apply(null,arguments)}function mq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(n),!0).forEach(function(r){_Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ke(t,e,n){return(e=wKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wKe(t){var e=SKe(t,"string");return typeof e=="symbol"?e:e+""}function SKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EKe(t,e){var n="".concat(e.x||t.x),r=parseInt(n,10),i="".concat(e.y||t.y),a=parseInt(i,10),s="".concat((e==null?void 0:e.height)||(t==null?void 0:t.height)),o=parseInt(s,10);return UN(UN(UN({},e),Xle(t)),{},{height:o,x:r,y:a})}function AKe(t){return E.createElement(em,GL({shapeType:"trapezoid",propTransformer:EKe},t))}function gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gq(Object(n),!0).forEach(function(r){MKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MKe(t,e,n){return(e=TKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TKe(t){var e=CKe(t,"string");return typeof e=="symbol"?e:e+""}function CKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PKe=(t,e)=>e,IKe=Ce([Ni,PKe,Em],(t,e,n)=>{var{data:r,dataKey:i,nameKey:a,tooltipType:s,lastShapeType:o,reversed:l,customWidth:c,cells:u,presentationProps:f}=e,{chartData:d}=n,h;if(r!=null&&r.length>0?h=r:d!=null&&d.length>0&&(h=d),h&&h.length)h=h.map((g,y)=>Ax(Ax(Ax({payload:g},f),g),u&&u[y]&&u[y].props));else if(u&&u.length)h=u.map(g=>Ax(Ax({},f),g.props));else return[];return GKe({dataKey:i,nameKey:a,displayedData:h,tooltipType:s,lastShapeType:o,reversed:l,offset:t,customWidth:c})}),OKe=["onMouseEnter","onClick","onMouseLeave","shape","activeShape"],kKe=["stroke","fill","legendType","hide","isAnimationActive","animationBegin","animationDuration","animationEasing","nameKey","lastShapeType"];function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iC.apply(null,arguments)}function fue(t,e){if(t==null)return{};var n,r,i=NKe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NKe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(n),!0).forEach(function(r){oj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oj(t,e,n){return(e=RKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RKe(t){var e=DKe(t,"string");return typeof e=="symbol"?e:e+""}function DKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LKe=E.memo(t=>{var{dataKey:e,nameKey:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,tooltipType:l,data:c,trapezoids:u}=t,f={dataDefinedOnItem:c,positions:u.map(d=>{var{tooltipPosition:h}=d;return h}),settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,name:s,nameKey:n,hide:o,type:l,color:a,unit:""}};return E.createElement(ah,{tooltipEntrySettings:f})});function UKe(t){var{showLabels:e,trapezoids:n,children:r}=t,i=E.useMemo(()=>{if(e)return n==null?void 0:n.map(a=>{var s=a.labelViewBox;return Ua(Ua({},s),{},{value:a.name,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})})},[e,n]);return E.createElement(fy,{value:i},r)}function zKe(t){var{trapezoids:e,allOtherFunnelProps:n}=t,r=_t(h=>O3(h,"item",h.tooltip.settings.trigger,void 0)),{onMouseEnter:i,onClick:a,onMouseLeave:s,shape:o,activeShape:l}=n,c=fue(n,OKe),u=hy(i,n.dataKey),f=py(s),d=my(a,n.dataKey);return E.createElement(E.Fragment,null,e.map((h,g)=>{var y=!!l&&r===String(g),x=y?l:o,v=Ua(Ua({},h),{},{option:x,isActive:y,stroke:h.stroke});return E.createElement(dn,iC({key:"trapezoid-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.name,"-").concat(h==null?void 0:h.value),className:"recharts-funnel-trapezoid"},Wl(c,h,g),{onMouseEnter:u(h,g),onMouseLeave:f(h,g),onClick:d(h,g)}),E.createElement(AKe,v))}))}function FKe(t){var{previousTrapezoidsRef:e,props:n}=t,{trapezoids:r,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,onAnimationEnd:l,onAnimationStart:c}=n,u=e.current,[f,d]=E.useState(!1),h=!f,g=Dc(r,"recharts-funnel-"),y=E.useCallback(()=>{typeof l=="function"&&l(),d(!1)},[l]),x=E.useCallback(()=>{typeof c=="function"&&c(),d(!0)},[c]);return E.createElement(UKe,{showLabels:h,trapezoids:r},E.createElement(Rc,{animationId:g,begin:a,duration:s,isActive:i,easing:o,key:g,onAnimationStart:x,onAnimationEnd:y},v=>{var b=v===1?r:r.map((_,A)=>{var T=u&&u[A];return T?Ua(Ua({},_),{},{x:Gt(T.x,_.x,v),y:Gt(T.y,_.y,v),upperWidth:Gt(T.upperWidth,_.upperWidth,v),lowerWidth:Gt(T.lowerWidth,_.lowerWidth,v),height:Gt(T.height,_.height,v)}):Ua(Ua({},_),{},{x:Gt(_.x+_.upperWidth/2,_.x,v),y:Gt(_.y+_.height/2,_.y,v),upperWidth:Gt(0,_.upperWidth,v),lowerWidth:Gt(0,_.lowerWidth,v),height:Gt(0,_.height,v)})});return v>0&&(e.current=b),E.createElement(dn,null,E.createElement(zKe,{trapezoids:b,allOtherFunnelProps:n}))}),E.createElement(rh,{label:n.label}),n.children)}function jKe(t){var e=E.useRef(void 0);return E.createElement(FKe,{props:t,previousTrapezoidsRef:e})}var BKe=(t,e)=>{var{width:n,height:r,left:i,top:a}=e,s=Ta(t,n,n);return{realWidth:s,realHeight:r,offsetX:i,offsetY:a}};class VKe extends E.PureComponent{render(){var{className:e}=this.props,n=tn("recharts-trapezoids",e);return E.createElement(dn,{className:n},E.createElement(jKe,this.props))}}var due={animationBegin:400,animationDuration:1500,animationEasing:"ease",fill:"#808080",hide:!1,isAnimationActive:"auto",lastShapeType:"triangle",legendType:"rect",nameKey:"name",reversed:!1,stroke:"#fff"};function HKe(t){var e=vw(),n=jn(t,due),{stroke:r,fill:i,legendType:a,hide:s,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:u,nameKey:f,lastShapeType:d}=n,h=fue(n,kKe),g=Xn(t),y=dy(t.children,Go),x=E.useMemo(()=>({dataKey:t.dataKey,nameKey:f,data:t.data,tooltipType:t.tooltipType,lastShapeType:d,reversed:t.reversed,customWidth:t.width,cells:y,presentationProps:g}),[t.dataKey,f,t.data,t.tooltipType,d,t.reversed,t.width,y,g]),v=_t(A=>IKe(A,x));if(s||!v||!v.length||!e)return null;var{height:b,width:_}=e;return E.createElement(E.Fragment,null,E.createElement(LKe,{dataKey:t.dataKey,nameKey:t.nameKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,data:t.data,trapezoids:v}),E.createElement(VKe,iC({},h,{stroke:r,fill:i,nameKey:f,lastShapeType:d,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:o,hide:s,legendType:a,height:b,width:_,trapezoids:v})))}function GKe(t){var{dataKey:e,nameKey:n,displayedData:r,tooltipType:i,lastShapeType:a,reversed:s,offset:o,customWidth:l}=t,{realHeight:c,realWidth:u,offsetX:f,offsetY:d}=BKe(l,o),h=Math.max.apply(null,r.map(b=>pn(b,e,0))),g=r.length,y=c/g,x={x:o.left,y:o.top,width:o.width,height:o.height},v=r.map((b,_)=>{var A=pn(b,e,0),T=String(pn(b,n,_)),M=A,I;_!==g-1?(I=pn(r[_+1],e,0),I instanceof Array&&([M,I]=I)):A instanceof Array&&A.length===2?[M,I]=A:a==="rectangle"?I=M:I=0;var O=(h-M)*u/(2*h)+f,P=y*_+d,k=M/h*u,N=I/h*u,L=[{name:T,value:M,payload:b,dataKey:e,type:i}],B={x:O+k/2,y:P+y/2},D={x:O,y:P,upperWidth:k,lowerWidth:N,width:Math.max(k,N),height:y};return Ua(Ua(Ua({},D),{},{name:T,val:M,tooltipPayload:L,tooltipPosition:B},rKe(b,["width"])),{},{payload:b,parentViewBox:x,labelViewBox:D})});return s&&(v=v.map((b,_)=>{var A={x:b.x-(b.lowerWidth-b.upperWidth)/2,y:b.y-_*y+(g-1-_)*y,upperWidth:b.lowerWidth,lowerWidth:b.upperWidth,width:Math.max(b.lowerWidth,b.upperWidth),height:y};return Ua(Ua(Ua({},b),A),{},{tooltipPosition:Ua(Ua({},b.tooltipPosition),{},{y:b.y-_*y+(g-1-_)*y+y/2}),labelViewBox:A})})),v}class lj extends E.PureComponent{render(){return E.createElement(HKe,this.props)}}oj(lj,"displayName","Funnel");oj(lj,"defaultProps",due);var WKe=["item"],$Ke=E.forwardRef((t,e)=>E.createElement(vy,{chartName:"FunnelChart",defaultTooltipEventType:"item",validateTooltipEventTypes:WKe,tooltipPayloadSearcher:mf,categoricalChartProps:t,ref:e}));const Bf=["#f97316","#fb923c","#fdba74","#333333","#4b5563"],ec=({active:t,payload:e,label:n,unit:r})=>{if(t&&e&&e.length){const i=e[0].payload;return S.jsxs("div",{className:"bg-[#171717] border border-[#333] p-4 rounded-lg shadow-xl max-w-xs z-50",children:[S.jsx("p",{className:"text-white font-bold mb-2",children:i.name||n}),i.x!==void 0&&i.y!==void 0?S.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mb-3 text-sm",children:[S.jsx("div",{className:"text-neutral-400",children:"X-Axis:"}),S.jsx("div",{className:"text-orange-500 font-mono font-bold",children:i.x.toLocaleString()}),S.jsx("div",{className:"text-neutral-400",children:"Y-Axis:"}),S.jsx("div",{className:"text-orange-500 font-mono font-bold",children:i.y.toLocaleString()}),i.z!==void 0&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"text-neutral-400",children:"Size:"}),S.jsx("div",{className:"text-orange-500 font-mono font-bold",children:i.z.toLocaleString()})]})]}):S.jsx("div",{className:"flex flex-col gap-2 mb-3",children:e.map((a,s)=>S.jsxs("div",{className:"flex items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:a.color||a.fill||"#f97316"}}),S.jsx("span",{className:"text-neutral-400 text-xs capitalize",children:a.name==="value"?"Primary":a.name==="value2"?"Secondary":a.name==="value3"?"Tertiary":a.name})]}),S.jsxs("div",{className:"flex items-baseline gap-1",children:[S.jsx("span",{className:"text-white font-mono font-bold",children:typeof a.value=="number"?a.value.toLocaleString():a.value}),r&&S.jsx("span",{className:"text-neutral-500 text-[10px] font-medium",children:r})]})]},s))}),i.explanation&&S.jsxs("div",{className:"text-xs text-neutral-400 leading-relaxed border-t border-white/10 pt-2 mt-2",children:[S.jsx("span",{className:"text-orange-500/50 font-semibold text-[10px] uppercase tracking-wider block mb-1",children:"Insight"}),i.explanation]})]})}return null},qKe=({sources:t,onFileUpload:e,isProcessing:n,initialTopic:r,restoredContent:i,onClearRestored:a})=>{var _,A,T;const[s,o]=E.useState(""),[l,c]=E.useState(!1),[u,f]=E.useState(null),[d,h]=E.useState(!1),g=E.useRef(null);E.useEffect(()=>{r&&o(r)},[r]),E.useEffect(()=>{i&&i.data&&(console.log("[Infographic] Restoring content:",i),f(i.data),i.topic&&o(i.topic),a&&setTimeout(a,100))},[i,a]),E.useEffect(()=>{const M=()=>{h(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",M),()=>document.removeEventListener("fullscreenchange",M)},[]);const y=()=>{var M;document.fullscreenElement?document.exitFullscreen():(M=g.current)==null||M.requestFullscreen()},x=async()=>{if(!s)return;c(!0);const M=t.map(I=>I.content||I.text||"").join(`

`).slice(0,2e4);try{const O=await(await fetch("/api/generate-infographic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:s,context:M,mode:"advanced"})})).json();f(O);const k=bm("ares_studio_history",s,"Infographic")[0].id;localStorage.setItem(`ares_studio_${k}`,JSON.stringify({content:{data:O,topic:s},tab:"infographic"}))}catch(I){console.error(I)}finally{c(!1)}},v=M=>{switch(M){case"activity":return S.jsx(rwe,{className:"text-orange-500",size:18});case"users":return S.jsx(OSe,{className:"text-blue-500",size:18});case"trending-up":return S.jsx(CSe,{className:"text-green-500",size:18});case"dollar-sign":return S.jsx(wwe,{className:"text-yellow-500",size:18});case"bar-chart":return S.jsx(sD,{className:"text-purple-500",size:18});default:return S.jsx(oD,{className:"text-neutral-500",size:18})}},b=M=>M.split(/(\*\*.*?\*\*)/g).map((O,P)=>O.startsWith("**")&&O.endsWith("**")?S.jsx("span",{className:"font-bold text-orange-500",children:O.slice(2,-2)},P):O);return S.jsxs("div",{ref:g,className:`h-full flex flex-col bg-[#09090b] ${d?"overflow-hidden":""}`,children:[d?S.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-black/40 backdrop-blur-sm sticky top-0 z-50",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:S.jsx(Bd,{size:20,className:"text-orange-500"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold text-white",children:(u==null?void 0:u.title)||s||"Infographic"}),S.jsx("p",{className:"text-xs text-neutral-400",children:"Fullscreen Mode"})]})]}),S.jsxs("button",{onClick:y,className:"p-2 hover:bg-white/10 rounded-lg text-white/70 hover:text-white transition-colors flex items-center gap-2 cursor-pointer",children:[S.jsx(S1,{size:20})," ",S.jsx("span",{className:"text-sm font-medium",children:"Exit Fullscreen"})]})]}):S.jsxs("div",{className:"p-4 flex gap-2 border-b border-white/10 bg-black/20 backdrop-blur-md sticky top-0 z-10",children:[S.jsx("input",{type:"text",value:s,onChange:M=>o(M.target.value),placeholder:"Enter a topic for infographic...",className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-orange-500 transition-colors"}),S.jsxs("button",{onClick:x,disabled:l||!s,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 transition-colors shadow-lg shadow-orange-900/20",children:[l?S.jsx(Jo,{className:"animate-spin",size:18}):S.jsx(Du,{size:18}),"Generate"]}),u&&S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Download Image",children:S.jsx(Tte,{size:20})}),S.jsx("button",{className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Share",children:S.jsx(ySe,{size:20})})]}),S.jsx("button",{onClick:y,className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Fullscreen",children:S.jsx(Bd,{size:20})})]}),t.length===0&&!u&&S.jsx("div",{className:"p-4",children:S.jsx(GP,{onFileUpload:e,isProcessing:n})}),S.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 bg-[#09090b]",children:u?S.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4 mb-12",children:[S.jsx("h2",{className:"text-5xl font-extrabold bg-gradient-to-r from-orange-400 via-red-500 to-orange-600 bg-clip-text text-transparent pb-2",children:u.title}),S.jsx("p",{className:"text-neutral-400 text-lg max-w-2xl mx-auto",children:"Comprehensive data analysis and visual insights generated from your knowledge base."})]}),S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h3",{className:"text-xl font-bold text-white",children:"Key Statistics"}),S.jsx("button",{onClick:x,disabled:l,className:"text-xs flex items-center gap-2 text-neutral-500 hover:text-orange-500 transition-colors bg-white/5 px-3 py-1.5 rounded-lg border border-white/5 hover:border-orange-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:l?S.jsxs(S.Fragment,{children:[S.jsx(Jo,{size:14,className:"animate-spin"})," Refreshing..."]}):S.jsxs(S.Fragment,{children:[S.jsx(Ite,{size:14})," Refresh Data"]})})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(_=u.stats)==null?void 0:_.map((M,I)=>S.jsxs("div",{className:"bg-neutral-900/50 border border-white/5 p-6 rounded-2xl flex items-start gap-4 hover:bg-neutral-900 transition-colors group",children:[S.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl group-hover:bg-orange-500/20 transition-colors",children:v(M.icon)}),S.jsxs("div",{children:[S.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:M.value}),S.jsx("div",{className:"text-sm font-medium text-orange-500 mb-1",children:M.label}),M.description&&S.jsx("div",{className:"text-xs text-neutral-500 leading-relaxed",children:M.description})]})]},I))}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:(A=u.charts)==null?void 0:A.map((M,I)=>{var O,P,k,N,L,B;return S.jsxs("div",{className:"bg-neutral-900/50 border border-white/5 p-6 rounded-2xl min-h-[400px] flex flex-col",children:[S.jsxs("h3",{className:"text-lg font-semibold mb-2 text-white flex items-center gap-2",children:[S.jsx("span",{className:"w-1 h-6 bg-orange-500 rounded-full"}),M.title]}),M.description&&S.jsx("p",{className:"text-xs text-neutral-400 mb-4 ml-3",children:M.description}),S.jsx("div",{className:"flex-1 min-h-[300px]",children:M.type==="pie"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(HL,{children:[S.jsx(HT,{data:M.data,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",stroke:"none",children:(O=M.data)==null?void 0:O.map((D,V)=>S.jsx(Go,{fill:Bf[V%Bf.length]},`cell-${V}`))}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{stroke:"#ffffff20"}}),S.jsx(hv,{})]})}):M.type==="line"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(Jce,{data:M.data,children:[S.jsx(gu,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),S.jsx(vu,{dataKey:"name",stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(yu,{stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{stroke:"#ffffff20"}}),S.jsx(eC,{type:"monotone",dataKey:"value",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",strokeWidth:2},activeDot:{r:8}})]})}):M.type==="area"||M.type==="streamgraph"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(uue,{data:M.type==="streamgraph"?M.data.map(D=>({...D,value:Number(String(D.value).replace(/,/g,"")),value2:D.value2?Number(String(D.value2).replace(/,/g,"")):Number(String(D.value).replace(/,/g,""))*.8,value3:D.value3?Number(String(D.value3).replace(/,/g,"")):Number(String(D.value).replace(/,/g,""))*.6})):M.data.map(D=>{const V=typeof D.value=="string"?parseFloat(D.value.replace(/,/g,"")):Number(D.value);return{...D,value:V,value2:D.value2??V*1.4,value3:D.value3??V*1.8}}),stackOffset:M.type==="streamgraph"?"silhouette":"none",children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.9}),S.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:.2})]}),S.jsxs("linearGradient",{id:"colorValue2",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#fbbf24",stopOpacity:.8}),S.jsx("stop",{offset:"95%",stopColor:"#fbbf24",stopOpacity:.2})]}),S.jsxs("linearGradient",{id:"colorValue3",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#ea580c",stopOpacity:.6}),S.jsx("stop",{offset:"95%",stopColor:"#ea580c",stopOpacity:.1})]})]}),S.jsx(gu,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),S.jsx(vu,{dataKey:"name",stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(yu,{stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{stroke:"#ffffff20"}}),S.jsx(zb,{type:"monotone",dataKey:"value3",stroke:"#ea580c",strokeWidth:2,fillOpacity:1,fill:"url(#colorValue3)"}),S.jsx(zb,{type:"monotone",dataKey:"value2",stroke:"#fbbf24",strokeWidth:2,fillOpacity:1,fill:"url(#colorValue2)"}),S.jsx(zb,{type:"monotone",dataKey:"value",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})}):M.type==="radar"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(cKe,{cx:"50%",cy:"50%",outerRadius:"80%",data:M.data,children:[S.jsx(Dle,{stroke:"#333"}),S.jsx(Hle,{dataKey:"name",tick:{fill:"#888",fontSize:12}}),S.jsx(Vle,{angle:30,domain:[0,"auto"],tick:{fill:"#666"},axisLine:!1}),S.jsx(tce,{name:"Value",dataKey:"value",stroke:"#f97316",strokeWidth:2,fill:"#f97316",fillOpacity:.3}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{stroke:"#ffffff20"}})]})}):M.type==="radial"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(yKe,{cx:"50%",cy:"50%",innerRadius:"10%",outerRadius:"80%",barSize:10,data:M.data,children:[S.jsx(pce,{label:{position:"insideStart",fill:"#fff"},background:!0,dataKey:"value",children:(P=M.data)==null?void 0:P.map((D,V)=>S.jsx(Go,{fill:Bf[V%Bf.length]},`cell-${V}`))}),S.jsx(hv,{iconSize:10,layout:"vertical",verticalAlign:"middle",wrapperStyle:{right:0}}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{stroke:"#ffffff20"}})]})}):M.type==="funnel"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs($Ke,{children:[S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{stroke:"#ffffff20"}}),S.jsxs(lj,{dataKey:"value",data:M.data,isAnimationActive:!0,children:[S.jsx(Lb,{position:"right",fill:"#fff",stroke:"none",dataKey:"name"}),(k=M.data)==null?void 0:k.map((D,V)=>S.jsx(Go,{fill:Bf[V%Bf.length]},`cell-${V}`))]})]})}):M.type==="mixed"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(bKe,{data:M.data,children:[S.jsx(gu,{stroke:"#333",strokeDasharray:"3 3",vertical:!1}),S.jsx(vu,{dataKey:"name",stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(yu,{stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{stroke:"#ffffff20"}}),S.jsx(hv,{}),S.jsx(KT,{dataKey:"value",barSize:20,fill:"#f97316",radius:[4,4,0,0]}),S.jsx(eC,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:3,dot:{r:4}})]})}):M.type==="bubble"||M.type==="scatter"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(fKe,{children:[S.jsx(gu,{strokeDasharray:"3 3",stroke:"#333"}),S.jsx(vu,{type:"number",dataKey:"x",name:"X Axis",stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(yu,{type:"number",dataKey:"y",name:"Y Axis",stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(Uce,{type:"number",dataKey:"z",range:[50,400],name:"Size"}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{strokeDasharray:"3 3"}}),S.jsx(Dce,{name:"Values",data:M.data,fill:"#f97316"})]})}):M.type==="donut"?S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(HL,{children:[S.jsx(HT,{data:M.data,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",stroke:"none",children:(N=M.data)==null?void 0:N.map((D,V)=>S.jsx(Go,{fill:Bf[V%Bf.length]},`cell-${V}`))}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{stroke:"#ffffff20"}}),S.jsx(hv,{}),S.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"fill-white text-xl font-bold",children:M.data.reduce((D,V)=>D+(Number(V.value)||0),0)})]})}):M.type==="network"?S.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black/20 rounded-lg overflow-hidden",children:[(L=M.data)!=null&&L.nodes&&Array.isArray(M.data.nodes)&&M.data.nodes.length>0?S.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 400 300",className:"overflow-visible",children:[S.jsx("defs",{children:S.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"22",refY:"3.5",orient:"auto",children:S.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#666"})})}),(B=M.data.links)==null?void 0:B.map((D,V)=>{const F=M.data.nodes.findIndex(te=>String(te.id).toLowerCase()===String(D.source).toLowerCase()),H=M.data.nodes.findIndex(te=>String(te.id).toLowerCase()===String(D.target).toLowerCase());if(F===-1||H===-1)return null;const q=M.data.nodes.length,W=200,z=150,$=100,Z=W+$*Math.cos(F*2*Math.PI/q),G=z+$*Math.sin(F*2*Math.PI/q),ie=W+$*Math.cos(H*2*Math.PI/q),ue=z+$*Math.sin(H*2*Math.PI/q);return S.jsx("line",{x1:Z,y1:G,x2:ie,y2:ue,stroke:"#666",strokeWidth:1,markerEnd:"url(#arrowhead)",opacity:.6},V)}),M.data.nodes.map((D,V)=>{const F=M.data.nodes.length,H=200,q=150,W=100,z=H+W*Math.cos(V*2*Math.PI/F),$=q+W*Math.sin(V*2*Math.PI/F);return S.jsxs("g",{className:"cursor-pointer hover:opacity-80 transition-opacity",children:[S.jsx("circle",{cx:z,cy:$,r:24,fill:"#f97316",stroke:"#fff",strokeWidth:2}),S.jsx("text",{x:z,y:$,dy:5,textAnchor:"middle",fill:"#fff",fontSize:10,fontWeight:"bold",pointerEvents:"none",children:String(D.id).substring(0,2).toUpperCase()}),S.jsx("text",{x:z,y:$+40,textAnchor:"middle",fill:"#ccc",fontSize:11,className:"bg-black/50 px-2 py-1 rounded font-medium",children:D.label||D.id})]},V)})]}):S.jsxs("div",{className:"text-center p-4",children:[S.jsx("p",{className:"text-neutral-500 mb-2",children:"Network data unavailable"}),S.jsx("p",{className:"text-xs text-neutral-600",children:"Try regenerating the infographic"})]}),S.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-neutral-500 bg-black/40 px-2 py-1 rounded",children:"Network View"})]}):S.jsx(_l,{width:"100%",height:"100%",children:S.jsxs(Qce,{data:M.data,children:[S.jsx(gu,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),S.jsx(vu,{dataKey:"name",stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(yu,{stroke:"#666",tick:{fill:"#888"},axisLine:!1,tickLine:!1}),S.jsx(bs,{content:S.jsx(ec,{unit:M.unit}),cursor:{fill:"#ffffff20"}}),S.jsx(KT,{dataKey:"value",fill:"#f97316",radius:[4,4,0,0]})]})})}),M.detailed_analysis&&S.jsx("div",{className:"mt-4 p-4 bg-white/5 rounded-xl border border-white/5",children:S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(oD,{className:"text-orange-500 shrink-0 mt-0.5",size:16}),S.jsx("p",{className:"text-sm text-neutral-300 leading-relaxed",children:M.detailed_analysis})]})})]},I)})}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:(T=u.sections)==null?void 0:T.map((M,I)=>{var O;return S.jsxs("div",{className:"bg-gradient-to-br from-neutral-900 to-black border border-white/5 p-8 rounded-2xl",children:[S.jsxs("h3",{className:"text-xl font-bold mb-6 text-white flex items-center gap-3",children:[S.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-orange-500/20 text-orange-500 text-sm font-mono",children:String(I+1).padStart(2,"0")}),M.title]}),S.jsx("ul",{className:"space-y-4",children:(O=M.items)==null?void 0:O.map((P,k)=>S.jsxs("li",{className:"flex items-start gap-3 group",children:[S.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-neutral-600 group-hover:bg-orange-500 transition-colors shrink-0"}),S.jsx("span",{className:"text-neutral-400 group-hover:text-neutral-300 leading-relaxed transition-colors",children:b(P)})]},k))})]},I)})})]}):S.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-neutral-500",children:[S.jsx("div",{className:"w-24 h-24 bg-neutral-900 rounded-full flex items-center justify-center mb-6 border border-neutral-800",children:S.jsx(sD,{size:48,className:"opacity-20"})}),S.jsx("p",{className:"text-xl font-medium text-neutral-400",children:"Ready to generate your infographic"}),S.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Enter a topic above to begin"})]})})]})},XKe=({sources:t,onFileUpload:e,isProcessing:n,initialTopic:r,restoredContent:i,onClearRestored:a})=>{const[s,o]=E.useState(""),[l,c]=E.useState(!1),[u,f]=E.useState([]),[d,h]=E.useState(0),[g,y]=E.useState(""),[x,v]=E.useState(""),[b,_]=E.useState(!1),[A,T]=E.useState(null),M=E.useRef(null);E.useEffect(()=>{r&&o(r)},[r]),E.useEffect(()=>{i&&i.slides&&(console.log("[SlideDeck] Restoring content:",i),f(i.slides),y(i.deckTitle||""),v(i.deckSubtitle||""),i.topic&&o(i.topic),h(0),a&&setTimeout(a,100))},[i,a]),E.useEffect(()=>{const F=()=>{_(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",F),()=>document.removeEventListener("fullscreenchange",F)},[]);const I=()=>{var F;document.fullscreenElement?document.exitFullscreen():(F=M.current)==null||F.requestFullscreen()},[O,P]=E.useState(null),k=async()=>{if(!s)return;c(!0),P(null);const F=t.map(H=>H.content||H.text||"").join(`

`).slice(0,1e4);try{const H=await fetch("/api/generate-slidedeck",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:s,context:F})});if(!H.ok)throw new Error(`Failed to generate deck: ${H.statusText}`);const q=await H.json();if(q.error)throw new Error(q.error);if(q.slides){f(q.slides),y(q.title),v(q.subtitle),h(0);const z=bm("ares_studio_history",s,"Slide Deck")[0].id;localStorage.setItem(`ares_studio_${z}`,JSON.stringify({content:{slides:q.slides,deckTitle:q.title,deckSubtitle:q.subtitle,topic:s},tab:"slidedeck"}))}}catch(H){console.error(H),P(H.message||"Failed to generate slide deck")}finally{c(!1)}},N=()=>{d<u.length-1&&h(F=>F+1)},L=()=>{d>0&&h(F=>F-1)},B=(F,H)=>{f(q=>{const W=[...q],z={...W[F]};return z.visual_svgs&&Array.isArray(z.visual_svgs)&&(z.visual_svgs=z.visual_svgs.filter(($,Z)=>Z!==H),W[F]=z),W})},D=async(F,H,q)=>{T({slideIdx:F,visualIdx:H});try{const W=u[F],z=await fetch("/api/regenerate-visual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slide_content:W.content.join(`
`),user_instruction:q,current_visual_description:W.image_description})});if(!z.ok)throw new Error("Failed to regenerate");const $=await z.json();$.visual_svg&&f(Z=>{const G=[...Z],ie={...G[F]};return ie.visual_svgs&&(ie.visual_svgs[H]=$.visual_svg),G[F]=ie,G})}catch(W){console.error(W)}finally{T(null)}},V=E.useRef(null);return E.useEffect(()=>{V.current&&(V.current.scrollTop=0)},[d]),S.jsxs("div",{ref:M,className:`h-full flex flex-col bg-[#09090b] ${b?"overflow-hidden":""}`,children:[b?S.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-black/40 backdrop-blur-sm sticky top-0 z-50",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:S.jsx(Bd,{size:20,className:"text-orange-500"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold text-white",children:g||s||"Presentation"}),S.jsx("p",{className:"text-xs text-neutral-400",children:"Fullscreen Mode"})]})]}),S.jsxs("button",{onClick:I,className:"p-2 hover:bg-white/10 rounded-lg text-white/70 hover:text-white transition-colors flex items-center gap-2 cursor-pointer",children:[S.jsx(S1,{size:20})," ",S.jsx("span",{className:"text-sm font-medium",children:"Exit Fullscreen"})]})]}):S.jsxs("div",{className:"p-4 flex gap-2 border-b border-white/10 bg-black/20 backdrop-blur-md sticky top-0 z-10",children:[S.jsx("input",{type:"text",value:s,onChange:F=>o(F.target.value),placeholder:"Enter presentation topic...",className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-orange-500 transition-colors"}),S.jsxs("button",{onClick:k,disabled:l||!s,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 transition-colors shadow-lg shadow-orange-900/20",children:[l?S.jsx(Jo,{className:"animate-spin",size:18}):S.jsx(Du,{size:18}),"Generate Deck"]}),S.jsx("button",{onClick:I,className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Fullscreen",children:S.jsx(Bd,{size:20})})]}),O&&S.jsx("div",{className:"mx-4 mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm text-center",children:O}),t.length===0&&u.length===0&&S.jsx("div",{className:"p-4",children:S.jsx(GP,{onFileUpload:e,isProcessing:n})}),S.jsx("div",{className:"flex-1 flex overflow-hidden",children:u.length>0?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"w-64 border-r border-white/10 bg-black/20 overflow-y-auto custom-scrollbar p-4 space-y-3 hidden md:block",children:[S.jsxs("div",{className:"mb-4 px-2",children:[S.jsx("h3",{className:"text-sm font-medium text-white line-clamp-1",children:g}),S.jsxs("p",{className:"text-xs text-neutral-500",children:[u.length," slides"]})]}),u.map((F,H)=>S.jsxs("button",{onClick:()=>h(H),className:`w-full text-left p-3 rounded-lg border transition-all group ${d===H?"bg-orange-500/10 border-orange-500/50":"bg-white/5 border-transparent hover:bg-white/10"}`,children:[S.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[S.jsx("span",{className:`text-xs font-mono ${d===H?"text-orange-500":"text-neutral-500"}`,children:String(H+1).padStart(2,"0")}),S.jsx(zwe,{size:14,className:d===H?"text-orange-500":"text-neutral-600"})]}),S.jsx("p",{className:`text-xs font-medium line-clamp-2 ${d===H?"text-white":"text-neutral-400 group-hover:text-neutral-300"}`,children:F.title})]},H))]}),S.jsxs("div",{className:"flex-1 flex flex-col bg-[#111] relative overflow-hidden",children:[S.jsx("div",{ref:V,className:"flex-1 flex justify-center p-4 md:p-8 py-12 overflow-y-auto custom-scrollbar",children:S.jsxs("div",{className:"w-full max-w-6xl min-h-[600px] h-auto bg-white text-black rounded-xl shadow-2xl flex flex-col my-auto",children:[S.jsxs("div",{className:"flex-1 p-8 md:p-12 flex flex-col relative z-10",children:[S.jsxs("div",{className:"mb-8 border-b-4 border-orange-500 pb-4",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-neutral-900 leading-tight mb-2",children:u[d].title}),d===0&&x&&S.jsx("p",{className:"text-lg text-neutral-500 font-light",children:x})]}),S.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12",children:[S.jsx("div",{className:"space-y-4",children:u[d].content.map((F,H)=>S.jsxs("div",{className:"flex items-start gap-3 group",children:[S.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-orange-500 shrink-0 group-hover:scale-125 transition-transform"}),S.jsx("p",{className:"text-lg text-neutral-700 leading-relaxed font-medium break-words",children:F})]},H))}),S.jsx("div",{className:"bg-neutral-50 rounded-xl flex flex-col items-center justify-center border-4 border-dashed border-neutral-300 relative overflow-hidden group p-4 text-center min-h-[500px]",children:u[d].visual_svgs&&Array.isArray(u[d].visual_svgs)&&u[d].visual_svgs.length>0?S.jsx("div",{className:"w-full h-full flex flex-col gap-6 p-2 overflow-y-auto custom-scrollbar",children:u[d].visual_svgs.map((F,H)=>S.jsxs("div",{className:"relative w-full flex-1 min-h-[300px] group/visual",children:[S.jsx("div",{className:"w-full h-full flex items-center justify-center [&>svg]:w-full [&>svg]:h-full [&>svg]:drop-shadow-lg transition-transform hover:scale-105 duration-500 bg-white/50 rounded-lg p-4",dangerouslySetInnerHTML:{__html:F}}),S.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover/visual:opacity-100 transition-all z-10",children:[S.jsx("button",{onClick:()=>D(d,H),className:"p-1.5 bg-white/90 rounded-full shadow-sm hover:bg-blue-50 hover:text-blue-500 transition-colors",title:"Refresh variation",children:S.jsx(fSe,{size:16})}),S.jsx("button",{onClick:()=>B(d,H),className:"p-1.5 bg-white/90 rounded-full shadow-sm hover:bg-red-50 hover:text-red-500 transition-colors",title:"Remove visual",children:S.jsx(Nte,{size:16})})]}),(A==null?void 0:A.slideIdx)===d&&(A==null?void 0:A.visualIdx)===H&&S.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center rounded-lg z-30",children:S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsx(Jo,{className:"animate-spin text-purple-600",size:32}),S.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Regenerating..."})]})})]},H))}):u[d].visual_svg?S.jsx("div",{className:"w-full h-full flex items-center justify-center [&>svg]:w-full [&>svg]:h-full [&>svg]:max-h-[250px] [&>svg]:drop-shadow-lg transition-transform hover:scale-105 duration-500",dangerouslySetInnerHTML:{__html:u[d].visual_svg}}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),S.jsxs("div",{className:"relative z-10 max-w-sm",children:[S.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:S.jsx(qwe,{size:40,className:"text-orange-500"})}),S.jsx("p",{className:"text-sm text-neutral-500 font-bold uppercase tracking-wider mb-3",children:"Suggested Visual"}),S.jsxs("p",{className:"text-base text-neutral-700 italic leading-relaxed font-medium",children:['"',u[d].image_description||"A relevant image or chart illustrating the slide content.",'"']})]})]})})]})]}),S.jsxs("div",{className:"bg-neutral-100 p-4 flex justify-between items-center text-xs text-neutral-500 font-medium uppercase tracking-widest border-t border-neutral-200 mt-auto",children:[S.jsx("span",{children:g}),S.jsxs("span",{children:[d+1," / ",u.length]})]})]})}),S.jsx("div",{className:"bg-[#09090b] border-t border-white/10 p-4 shrink-0 z-50",children:S.jsxs("div",{className:"max-w-6xl mx-auto w-full flex flex-col gap-4",children:[S.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/5",children:[S.jsxs("p",{className:"text-xs text-orange-500 font-bold uppercase tracking-wider mb-1 flex items-center gap-2",children:[S.jsx(lD,{size:12})," Speaker Notes"]}),S.jsx("p",{className:"text-sm text-neutral-400 leading-relaxed line-clamp-2 hover:line-clamp-none transition-all cursor-default",children:u[d].notes})]}),S.jsxs("div",{className:"flex items-center justify-between gap-4",children:[S.jsxs("button",{onClick:L,disabled:d===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors font-medium text-sm",children:[S.jsx(vwe,{size:16})," Previous"]}),S.jsxs("div",{className:"flex items-center gap-2 text-sm font-mono text-neutral-500 bg-black/40 px-3 py-1 rounded-full border border-white/5",children:[S.jsx("span",{className:"text-white",children:d+1}),S.jsx("span",{children:"/"}),S.jsx("span",{children:u.length})]}),S.jsxs("button",{onClick:N,disabled:d===u.length-1,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-orange-600 hover:bg-orange-700 text-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors font-medium text-sm shadow-lg shadow-orange-900/20",children:["Next ",S.jsx(rU,{size:16})]})]})]})})]})]}):S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-neutral-500",children:[S.jsx("div",{className:"w-24 h-24 bg-neutral-900 rounded-full flex items-center justify-center mb-6 border border-neutral-800",children:S.jsx(lD,{size:48,className:"opacity-20"})}),S.jsx("p",{className:"text-xl font-medium text-neutral-400",children:"Ready to create your presentation"}),S.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"Enter a topic above to begin"})]})})]})},yq=["#f97316","#fb923c","#fdba74","#333333","#4b5563"],KKe=({sources:t,onFileUpload:e,isProcessing:n,initialTopic:r,restoredContent:i,onClearRestored:a})=>{var k;const[s,o]=E.useState(""),[l,c]=E.useState(!1),[u,f]=E.useState(null),[d,h]=E.useState(null),[g,y]=E.useState("briefing_doc"),[x,v]=E.useState(!1),[b,_]=E.useState(!1),A=E.useRef(null),T=E.useRef(null);E.useEffect(()=>{r&&o(r)},[r]),E.useEffect(()=>{i&&i.report&&(console.log("[Report] Restoring content:",i),h(i.report),i.topic&&o(i.topic),i.format&&y(i.format),a&&setTimeout(a,100))},[i,a]),E.useEffect(()=>{const N=L=>{T.current&&!T.current.contains(L.target)&&v(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),E.useEffect(()=>{const N=()=>{_(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",N),()=>document.removeEventListener("fullscreenchange",N)},[]);const M=[{id:"briefing_doc",label:"Briefing Doc",description:"Overview of your sources featuring key insights and quotes",icon:Wp},{id:"study_guide",label:"Study Guide",description:"Short-answer quiz, suggested essay questions, and glossary",icon:nU},{id:"blog_post",label:"Blog Post",description:"Insightful takeaways distilled into a highly readable article",icon:nSe},{id:"executive_summary",label:"Executive Summary",description:"An overview of the topic for business and technical audiences",icon:fwe},{id:"technical_whitepaper",label:"Technical Whitepaper",description:"A technical explanation of the framework or concept",icon:Mwe},{id:"explanatory_article",label:"Explanatory Article",description:"Learn the basics with a simple analogy",icon:jwe},{id:"concept_breakdown",label:"Concept Breakdown",description:"Explore the key problems that this concept solves",icon:Rwe}],I=M.find(N=>N.id===g),O=()=>{var N;document.fullscreenElement?document.exitFullscreen():(N=A.current)==null||N.requestFullscreen()},P=async()=>{if(!s)return;c(!0),f(null),h(null);const N=t.map(L=>L.content||L.text||"").join(`

`).slice(0,2e4);console.log("Generating report with format:",g);try{const L=await fetch("/api/generate-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:s,context:N,format:g})}),B=await L.json();if(!L.ok)throw new Error(B.error||"Failed to generate report");h(B);const V=bm("ares_studio_history",s,"Report")[0].id;localStorage.setItem(`ares_studio_${V}`,JSON.stringify({content:{report:B,topic:s,format:g},tab:"report"}))}catch(L){console.error(L),f(L.message||"An error occurred")}finally{c(!1)}};return S.jsxs("div",{ref:A,className:`h-full flex flex-col bg-[#09090b] ${b?"overflow-hidden":""}`,children:[b?S.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-black/40 backdrop-blur-sm sticky top-0 z-50",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:S.jsx(Bd,{size:20,className:"text-orange-500"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold text-white",children:(d==null?void 0:d.title)||s||"Report"}),S.jsx("p",{className:"text-xs text-neutral-400",children:"Fullscreen Mode"})]})]}),S.jsxs("button",{onClick:O,className:"p-2 hover:bg-white/10 rounded-lg text-white/70 hover:text-white transition-colors flex items-center gap-2 cursor-pointer",children:[S.jsx(S1,{size:20})," ",S.jsx("span",{className:"text-sm font-medium",children:"Exit Fullscreen"})]})]}):S.jsxs("div",{className:"p-4 flex gap-2 border-b border-white/10 bg-black/20 backdrop-blur-md sticky top-0 z-10",children:[S.jsxs("div",{className:"relative",ref:T,children:[S.jsxs("button",{onClick:()=>v(!x),className:"h-10 px-3 bg-neutral-900 border border-neutral-800 rounded-lg flex items-center gap-2 text-neutral-200 hover:bg-neutral-800 hover:border-neutral-700 transition-all min-w-[200px] justify-between shadow-[0_0_15px_-5px_rgba(0,0,0,0.5)]",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[I&&S.jsx(I.icon,{size:16,className:"text-orange-500"}),S.jsx("span",{className:"text-sm font-medium truncate max-w-[140px]",children:I==null?void 0:I.label})]}),S.jsx(kP,{size:14,className:`text-neutral-500 transition-transform ${x?"rotate-180":""}`})]}),x&&S.jsx("div",{className:"absolute top-full left-0 mt-2 w-72 bg-[#0a0a0a] border border-neutral-800 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-100 max-h-[400px] overflow-y-auto custom-scrollbar",children:S.jsx("div",{className:"p-1",children:M.map(N=>S.jsxs("button",{onClick:()=>{y(N.id),v(!1)},className:`w-full flex items-start gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors ${g===N.id?"bg-orange-500/10 text-orange-500":"text-neutral-400 hover:bg-white/5 hover:text-neutral-200"}`,children:[S.jsx(N.icon,{size:16,className:`mt-0.5 ${g===N.id?"text-orange-500":"text-neutral-500"}`}),S.jsxs("div",{className:"flex-1 text-left",children:[S.jsx("div",{className:"font-medium",children:N.label}),S.jsx("div",{className:"text-xs text-neutral-500 line-clamp-2",children:N.description})]}),g===N.id&&S.jsx(Uv,{size:14,className:"mt-0.5"})]},N.id))})})]}),S.jsx("input",{type:"text",value:s,onChange:N=>o(N.target.value),placeholder:"Enter topic...",className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-orange-500 transition-colors"}),S.jsxs("button",{onClick:P,disabled:l||!s,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 transition-colors shadow-lg shadow-orange-900/20",children:[l?S.jsx(Jo,{className:"animate-spin",size:18}):S.jsx(Du,{size:18}),"Generate Report"]}),d&&S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>h(null),className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors mr-2",title:"Back to Selection",children:S.jsx(awe,{size:20})}),S.jsx("button",{className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Download PDF",children:S.jsx(Tte,{size:20})}),S.jsx("button",{className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Print",children:S.jsx(cSe,{size:20})})]}),S.jsx("button",{onClick:O,className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Fullscreen",children:S.jsx(Bd,{size:20})})]}),u&&S.jsxs("div",{className:"mx-4 mt-4 p-4 bg-red-500/10 border border-red-500/50 rounded-lg flex items-center gap-3 text-red-200",children:[S.jsx("div",{className:"p-2 bg-red-500/20 rounded-full",children:S.jsx(Du,{size:16,className:"text-red-500 rotate-45"})}),S.jsx("p",{className:"text-sm font-medium",children:u})]}),t.length===0&&!d&&!u&&S.jsx("div",{className:"p-4",children:S.jsx(GP,{onFileUpload:e,isProcessing:n})}),S.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 bg-[#09090b]",children:d?S.jsxs("div",{className:"max-w-4xl mx-auto bg-white text-black min-h-[1100px] shadow-2xl shadow-black/50 rounded-sm overflow-hidden",children:[S.jsxs("div",{className:"h-[1100px] flex flex-col justify-center p-20 bg-gradient-to-br from-neutral-50 to-neutral-200 relative",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-4 bg-orange-600"}),S.jsx("div",{className:"mb-12",children:S.jsx("span",{className:"text-orange-600 font-bold tracking-widest uppercase text-sm",children:"Confidential Report"})}),S.jsx("h1",{className:"text-6xl font-extrabold text-neutral-900 mb-8 leading-tight",children:d.title}),S.jsx("div",{className:"w-24 h-2 bg-orange-600 mb-12"}),S.jsx("p",{className:"text-xl text-neutral-600 leading-relaxed max-w-2xl",children:d.summary}),S.jsxs("div",{className:"mt-auto pt-20 border-t border-neutral-300 flex justify-between text-neutral-500 text-sm",children:[S.jsx("span",{children:"Generated by RAG Query Studio"}),S.jsx("span",{children:new Date().toLocaleDateString()})]})]}),S.jsx("div",{className:"p-20 bg-white",children:(k=d.sections)==null?void 0:k.map((N,L)=>{var B;return S.jsxs("section",{className:"mb-16 last:mb-0",children:[S.jsxs("h2",{className:"text-3xl font-bold text-neutral-900 mb-6 pb-4 border-b-2 border-orange-100 flex items-center gap-3",children:[S.jsxs("span",{className:"text-orange-600 text-lg font-mono",children:["0",L+1]}),N.heading]}),S.jsx("div",{className:"prose prose-lg max-w-none text-neutral-700 mb-8",children:S.jsx(Pne,{children:N.content})}),N.chart&&S.jsxs("div",{className:"my-8 p-6 bg-neutral-50 rounded-xl border border-neutral-200 shadow-sm break-inside-avoid",children:[S.jsx("h3",{className:"text-lg font-bold text-neutral-800 mb-2 text-center",children:N.chart.title}),N.chart.description&&S.jsx("p",{className:"text-sm text-neutral-500 text-center mb-6 max-w-2xl mx-auto italic",children:N.chart.description}),S.jsx("div",{className:"h-[350px] w-full",children:S.jsx(_l,{width:"100%",height:"100%",children:N.chart.type==="pie"||N.chart.type==="donut"?S.jsxs(HL,{children:[S.jsx(HT,{data:N.chart.data,cx:"50%",cy:"50%",innerRadius:N.chart.type==="donut"?60:0,outerRadius:100,paddingAngle:5,dataKey:"value",stroke:"none",label:({name:D,percent:V})=>`${D} ${((V||0)*100).toFixed(0)}%`,children:(B=N.chart.data)==null?void 0:B.map((D,V)=>S.jsx(Go,{fill:yq[V%yq.length]},`cell-${V}`))}),S.jsx(bs,{contentStyle:{borderRadius:"8px"}}),S.jsx(hv,{})]}):N.chart.type==="line"?S.jsxs(Jce,{data:N.chart.data,children:[S.jsx(gu,{strokeDasharray:"3 3",vertical:!1}),S.jsx(vu,{dataKey:"name",axisLine:!1,tickLine:!1,label:{value:N.chart.xAxisLabel,position:"insideBottom",offset:-5}}),S.jsx(yu,{axisLine:!1,tickLine:!1,label:{value:N.chart.yAxisLabel,angle:-90,position:"insideLeft"}}),S.jsx(bs,{contentStyle:{borderRadius:"8px"}}),S.jsx(eC,{type:"monotone",dataKey:"value",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316"}})]}):N.chart.type==="area"?S.jsxs(uue,{data:N.chart.data,children:[S.jsx(gu,{strokeDasharray:"3 3",vertical:!1}),S.jsx(vu,{dataKey:"name",axisLine:!1,tickLine:!1,label:{value:N.chart.xAxisLabel,position:"insideBottom",offset:-5}}),S.jsx(yu,{axisLine:!1,tickLine:!1,label:{value:N.chart.yAxisLabel,angle:-90,position:"insideLeft"}}),S.jsx(bs,{contentStyle:{borderRadius:"8px"}}),S.jsx(zb,{type:"monotone",dataKey:"value",stroke:"#f97316",fill:"#f97316",fillOpacity:.2})]}):S.jsxs(Qce,{data:N.chart.data,children:[S.jsx(gu,{strokeDasharray:"3 3",vertical:!1}),S.jsx(vu,{dataKey:"name",axisLine:!1,tickLine:!1,label:{value:N.chart.xAxisLabel,position:"insideBottom",offset:-5}}),S.jsx(yu,{axisLine:!1,tickLine:!1,label:{value:N.chart.yAxisLabel,angle:-90,position:"insideLeft"}}),S.jsx(bs,{contentStyle:{borderRadius:"8px"}}),S.jsx(KT,{dataKey:"value",fill:"#f97316",radius:[4,4,0,0],label:{position:"top"}})]})})})]})]},L)})})]}):S.jsxs("div",{className:"max-w-5xl mx-auto",children:[S.jsxs("div",{className:"mb-8",children:[S.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Create Your Own"}),S.jsx("p",{className:"text-neutral-400",children:"Craft reports your way by specifying structure, style, tone, and more"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-12",children:M.slice(0,3).map(N=>S.jsxs("button",{onClick:()=>y(N.id),className:`p-6 rounded-xl border text-left transition-all group relative overflow-hidden ${g===N.id?"bg-orange-500/10 border-orange-500/50 shadow-[0_0_20px_-5px_rgba(249,115,22,0.3)]":"bg-neutral-900/50 border-white/5 hover:border-white/10 hover:bg-neutral-900"}`,children:[S.jsx("div",{className:`p-3 rounded-lg w-fit mb-4 ${g===N.id?"bg-orange-500 text-white":"bg-white/5 text-neutral-400 group-hover:text-white group-hover:bg-white/10"}`,children:S.jsx(N.icon,{size:24})}),S.jsx("h3",{className:`font-semibold mb-2 ${g===N.id?"text-orange-500":"text-neutral-200 group-hover:text-white"}`,children:N.label}),S.jsx("p",{className:"text-sm text-neutral-500 leading-relaxed",children:N.description}),g===N.id&&S.jsx("div",{className:"absolute top-4 right-4 text-orange-500",children:S.jsx(Uv,{size:20})})]},N.id))}),S.jsxs("div",{className:"mb-8 flex items-center gap-2",children:[S.jsx(Du,{size:18,className:"text-orange-500"}),S.jsx("h2",{className:"text-xl font-semibold text-white",children:"Suggested Format"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:M.slice(3).map(N=>S.jsxs("button",{onClick:()=>y(N.id),className:`p-6 rounded-xl border text-left transition-all group relative overflow-hidden ${g===N.id?"bg-orange-500/10 border-orange-500/50 shadow-[0_0_20px_-5px_rgba(249,115,22,0.3)]":"bg-neutral-900/50 border-white/5 hover:border-white/10 hover:bg-neutral-900"}`,children:[S.jsx("div",{className:`p-3 rounded-lg w-fit mb-4 ${g===N.id?"bg-orange-500 text-white":"bg-white/5 text-neutral-400 group-hover:text-white group-hover:bg-white/10"}`,children:S.jsx(N.icon,{size:24})}),S.jsx("h3",{className:`font-semibold mb-2 ${g===N.id?"text-orange-500":"text-neutral-200 group-hover:text-white"}`,children:N.label}),S.jsx("p",{className:"text-sm text-neutral-500 leading-relaxed",children:N.description}),g===N.id&&S.jsx("div",{className:"absolute top-4 right-4 text-orange-500",children:S.jsx(Uv,{size:20})})]},N.id))})]})})]})},cj=E.createContext({});function _w(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const uj=typeof window<"u",fj=uj?E.useLayoutEffect:E.useEffect,Y3=E.createContext(null);function dj(t,e){t.indexOf(e)===-1&&t.push(e)}function hj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tf=(t,e,n)=>n>e?e:n<t?t:n;let pj=()=>{};const nf={},hue=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function pue(t){return typeof t=="object"&&t!==null}const mue=t=>/^0[^.\s]+$/u.test(t);function mj(t){let e;return()=>(e===void 0&&(e=t()),e)}const Xo=t=>t,YKe=(t,e)=>n=>e(t(n)),ww=(...t)=>t.reduce(YKe),X1=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class gj{constructor(){this.subscriptions=[]}add(e){return dj(this.subscriptions,e),()=>hj(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _c=t=>t*1e3,Wo=t=>t/1e3;function gue(t,e){return e?t*(1e3/e):0}const vue=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ZKe=1e-7,JKe=12;function QKe(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=vue(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>ZKe&&++o<JKe);return s}function Sw(t,e,n,r){if(t===e&&n===r)return Xo;const i=a=>QKe(a,0,1,t,n);return a=>a===0||a===1?a:vue(i(a),e,r)}const yue=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xue=t=>e=>1-t(1-e),bue=Sw(.33,1.53,.69,.99),vj=xue(bue),_ue=yue(vj),wue=t=>(t*=2)<1?.5*vj(t):.5*(2-Math.pow(2,-10*(t-1))),yj=t=>1-Math.sin(Math.acos(t)),Sue=xue(yj),Eue=yue(yj),eYe=Sw(.42,0,1,1),tYe=Sw(0,0,.58,1),Aue=Sw(.42,0,.58,1),nYe=t=>Array.isArray(t)&&typeof t[0]!="number",Mue=t=>Array.isArray(t)&&typeof t[0]=="number",rYe={linear:Xo,easeIn:eYe,easeInOut:Aue,easeOut:tYe,circIn:yj,circInOut:Eue,circOut:Sue,backIn:vj,backInOut:_ue,backOut:bue,anticipate:wue},iYe=t=>typeof t=="string",xq=t=>{if(Mue(t)){pj(t.length===4);const[e,n,r,i]=t;return Sw(e,n,r,i)}else if(iYe(t))return rYe[t];return t},xE=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aYe(t,e){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,f=!1,d=!1)=>{const g=d&&i?n:r;return f&&s.add(u),g.has(u)||g.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(o=u,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,a&&(a=!1,c.process(u))}};return c}const sYe=40;function Tue(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=xE.reduce((_,A)=>(_[A]=aYe(a),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:d,render:h,postRender:g}=s,y=()=>{const _=nf.useManualTiming?i.timestamp:performance.now();n=!1,nf.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,sYe),1)),i.timestamp=_,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),d.process(i),h.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},x=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:xE.reduce((_,A)=>{const T=s[A];return _[A]=(M,I=!1,O=!1)=>(n||x(),T.schedule(M,I,O)),_},{}),cancel:_=>{for(let A=0;A<xE.length;A++)s[xE[A]].cancel(_)},state:i,steps:s}}const{schedule:vr,cancel:rf,state:ba,steps:zN}=Tue(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xo,!0);let YA;function oYe(){YA=void 0}const Cs={now:()=>(YA===void 0&&Cs.set(ba.isProcessing||nf.useManualTiming?ba.timestamp:performance.now()),YA),set:t=>{YA=t,queueMicrotask(oYe)}},Cue=t=>e=>typeof e=="string"&&e.startsWith(t),xj=Cue("--"),lYe=Cue("var(--"),bj=t=>lYe(t)?cYe.test(t.split("/*")[0].trim()):!1,cYe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yy={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},K1={...yy,transform:t=>tf(0,1,t)},bE={...yy,default:1},jb=t=>Math.round(t*1e5)/1e5,_j=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uYe(t){return t==null}const fYe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wj=(t,e)=>n=>!!(typeof n=="string"&&fYe.test(n)&&n.startsWith(t)||e&&!uYe(n)&&Object.prototype.hasOwnProperty.call(n,e)),Pue=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(_j);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},dYe=t=>tf(0,255,t),FN={...yy,transform:t=>Math.round(dYe(t))},hp={test:wj("rgb","red"),parse:Pue("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+FN.transform(t)+", "+FN.transform(e)+", "+FN.transform(n)+", "+jb(K1.transform(r))+")"};function hYe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const WL={test:wj("#"),parse:hYe,transform:hp.transform},Ew=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yf=Ew("deg"),wc=Ew("%"),Yt=Ew("px"),pYe=Ew("vh"),mYe=Ew("vw"),bq={...wc,parse:t=>wc.parse(t)/100,transform:t=>wc.transform(t*100)},vv={test:wj("hsl","hue"),parse:Pue("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+wc.transform(jb(e))+", "+wc.transform(jb(n))+", "+jb(K1.transform(r))+")"},Ei={test:t=>hp.test(t)||WL.test(t)||vv.test(t),parse:t=>hp.test(t)?hp.parse(t):vv.test(t)?vv.parse(t):WL.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hp.transform(t):vv.transform(t),getAnimatableNone:t=>{const e=Ei.parse(t);return e.alpha=0,Ei.transform(e)}},gYe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vYe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_j))==null?void 0:e.length)||0)+(((n=t.match(gYe))==null?void 0:n.length)||0)>0}const Iue="number",Oue="color",yYe="var",xYe="var(",_q="${}",bYe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Y1(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(bYe,l=>(Ei.test(l)?(r.color.push(a),i.push(Oue),n.push(Ei.parse(l))):l.startsWith(xYe)?(r.var.push(a),i.push(yYe),n.push(l)):(r.number.push(a),i.push(Iue),n.push(parseFloat(l))),++a,_q)).split(_q);return{values:n,split:o,indexes:r,types:i}}function kue(t){return Y1(t).values}function Nue(t){const{split:e,types:n}=Y1(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===Iue?a+=jb(i[s]):o===Oue?a+=Ei.transform(i[s]):a+=i[s]}return a}}const _Ye=t=>typeof t=="number"?0:Ei.test(t)?Ei.getAnimatableNone(t):t;function wYe(t){const e=kue(t);return Nue(t)(e.map(_Ye))}const Gd={test:vYe,parse:kue,createTransformer:Nue,getAnimatableNone:wYe};function jN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function SYe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=jN(l,o,t+1/3),a=jN(l,o,t),s=jN(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function aC(t,e){return n=>n>0?e:t}const Vr=(t,e,n)=>t+(e-t)*n,BN=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},EYe=[WL,hp,vv],AYe=t=>EYe.find(e=>e.test(t));function wq(t){const e=AYe(t);if(!e)return!1;let n=e.parse(t);return e===vv&&(n=SYe(n)),n}const Sq=(t,e)=>{const n=wq(t),r=wq(e);if(!n||!r)return aC(t,e);const i={...n};return a=>(i.red=BN(n.red,r.red,a),i.green=BN(n.green,r.green,a),i.blue=BN(n.blue,r.blue,a),i.alpha=Vr(n.alpha,r.alpha,a),hp.transform(i))},$L=new Set(["none","hidden"]);function MYe(t,e){return $L.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TYe(t,e){return n=>Vr(t,e,n)}function Sj(t){return typeof t=="number"?TYe:typeof t=="string"?bj(t)?aC:Ei.test(t)?Sq:IYe:Array.isArray(t)?Rue:typeof t=="object"?Ei.test(t)?Sq:CYe:aC}function Rue(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>Sj(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function CYe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Sj(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function PYe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=t.indexes[a][r[a]],o=t.values[s]??0;n[i]=o,r[a]++}return n}const IYe=(t,e)=>{const n=Gd.createTransformer(e),r=Y1(t),i=Y1(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$L.has(t)&&!i.values.length||$L.has(e)&&!r.values.length?MYe(t,e):ww(Rue(PYe(r,i),i.values),n):aC(t,e)};function Due(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vr(t,e,n):Sj(t)(t,e)}const OYe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>vr.update(e,n),stop:()=>rf(e),now:()=>ba.isProcessing?ba.timestamp:Cs.now()}},Lue=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sC=2e4;function Ej(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sC;)e+=n,r=t.next(e);return e>=sC?1/0:e}function kYe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Ej(r),sC);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Wo(i)}}const NYe=5;function Uue(t,e,n){const r=Math.max(e-NYe,0);return gue(n-t(r),e-r)}const Qr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VN=.001;function RYe({duration:t=Qr.duration,bounce:e=Qr.bounce,velocity:n=Qr.velocity,mass:r=Qr.mass}){let i,a,s=1-e;s=tf(Qr.minDamping,Qr.maxDamping,s),t=tf(Qr.minDuration,Qr.maxDuration,Wo(t)),s<1?(i=c=>{const u=c*s,f=u*t,d=u-n,h=qL(c,s),g=Math.exp(-f);return VN-d/h*g},a=c=>{const f=c*s*t,d=f*n+n,h=Math.pow(s,2)*Math.pow(c,2)*t,g=Math.exp(-f),y=qL(Math.pow(c,2),s);return(-i(c)+VN>0?-1:1)*((d-h)*g)/y}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-VN+u*f},a=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const o=5/t,l=LYe(i,a,o);if(t=_c(t),isNaN(l))return{stiffness:Qr.stiffness,damping:Qr.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const DYe=12;function LYe(t,e,n){let r=n;for(let i=1;i<DYe;i++)r=r-t(r)/e(r);return r}function qL(t,e){return t*Math.sqrt(1-e*e)}const UYe=["duration","bounce"],zYe=["stiffness","damping","mass"];function Eq(t,e){return e.some(n=>t[n]!==void 0)}function FYe(t){let e={velocity:Qr.velocity,stiffness:Qr.stiffness,damping:Qr.damping,mass:Qr.mass,isResolvedFromDuration:!1,...t};if(!Eq(t,zYe)&&Eq(t,UYe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*tf(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Qr.mass,stiffness:i,damping:a}}else{const n=RYe(t);e={...e,...n,mass:Qr.mass},e.isResolvedFromDuration=!0}return e}function oC(t=Qr.visualDuration,e=Qr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:h}=FYe({...n,velocity:-Wo(n.velocity||0)}),g=d||0,y=c/(2*Math.sqrt(l*u)),x=s-a,v=Wo(Math.sqrt(l/u)),b=Math.abs(x)<5;r||(r=b?Qr.restSpeed.granular:Qr.restSpeed.default),i||(i=b?Qr.restDelta.granular:Qr.restDelta.default);let _;if(y<1){const T=qL(v,y);_=M=>{const I=Math.exp(-y*v*M);return s-I*((g+y*v*x)/T*Math.sin(T*M)+x*Math.cos(T*M))}}else if(y===1)_=T=>s-Math.exp(-v*T)*(x+(g+v*x)*T);else{const T=v*Math.sqrt(y*y-1);_=M=>{const I=Math.exp(-y*v*M),O=Math.min(T*M,300);return s-I*((g+y*v*x)*Math.sinh(O)+T*x*Math.cosh(O))/T}}const A={calculatedDuration:h&&f||null,next:T=>{const M=_(T);if(h)o.done=T>=f;else{let I=T===0?g:0;y<1&&(I=T===0?_c(g):Uue(_,T,M));const O=Math.abs(I)<=r,P=Math.abs(s-M)<=i;o.done=O&&P}return o.value=o.done?s:M,o},toString:()=>{const T=Math.min(Ej(A),sC),M=Lue(I=>A.next(T*I).value,T,30);return T+"ms "+M},toTransition:()=>{}};return A}oC.applyToOptions=t=>{const e=kYe(t,100,oC);return t.ease=e.ease,t.duration=_c(e.duration),t.type="keyframes",t};function XL({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],d={done:!1,value:f},h=O=>o!==void 0&&O<o||l!==void 0&&O>l,g=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let y=n*e;const x=f+y,v=s===void 0?x:s(x);v!==x&&(y=v-f);const b=O=>-y*Math.exp(-O/r),_=O=>v+b(O),A=O=>{const P=b(O),k=_(O);d.done=Math.abs(P)<=c,d.value=d.done?v:k};let T,M;const I=O=>{h(d.value)&&(T=O,M=oC({keyframes:[d.value,g(d.value)],velocity:Uue(_,O,d.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:O=>{let P=!1;return!M&&T===void 0&&(P=!0,A(O),I(O)),T!==void 0&&O>=T?M.next(O-T):(!P&&A(O),d)}}}function jYe(t,e,n){const r=[],i=n||nf.mix||Due,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Xo:e;o=ww(l,o)}r.push(o)}return r}function zue(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(pj(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=jYe(e,r,i),l=o.length,c=u=>{if(s&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const d=X1(t[f],t[f+1],u);return o[f](d)};return n?u=>c(tf(t[0],t[a-1],u)):c}function BYe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=X1(0,e,r);t.push(Vr(n,1,i))}}function VYe(t){const e=[0];return BYe(e,t.length-1),e}function HYe(t,e){return t.map(n=>n*e)}function GYe(t,e){return t.map(()=>e||Aue).splice(0,t.length-1)}function Bb({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=nYe(r)?r.map(xq):xq(r),a={done:!1,value:e[0]},s=HYe(n&&n.length===e.length?n:VYe(e),t),o=zue(s,e,{ease:Array.isArray(i)?i:GYe(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const WYe=t=>t!==null;function Aj(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(WYe),o=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const $Ye={decay:XL,inertia:XL,tween:Bb,keyframes:Bb,spring:oC};function Fue(t){typeof t.type=="string"&&(t.type=$Ye[t.type])}class Mj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const qYe=t=>t/100;class Z3 extends Mj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Cs.now()&&this.tick(Cs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Fue(e);const{type:n=Bb,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const l=n||Bb;l!==Bb&&typeof o[0]!="number"&&(this.mixKeyframes=ww(qYe,Due(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=Ej(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:d,repeatDelay:h,type:g,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,A=r;if(f){const O=Math.min(this.currentTime,i)/o;let P=Math.floor(O),k=O%1;!k&&O>=1&&(k=1),k===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(d==="reverse"?(k=1-k,h&&(k-=h/o)):d==="mirror"&&(A=s)),_=tf(0,1,k)*o}const T=b?{done:!1,value:u[0]}:A.next(_);a&&(T.value=a(T.value));let{done:M}=T;!b&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return I&&g!==XL&&(T.value=Aj(u,this.options,x,this.speed)),y&&y(T.value),I&&this.finish(),T}then(e,n){return this.finished.then(e,n)}get duration(){return Wo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wo(e)}get time(){return Wo(this.currentTime)}set time(e){var n;e=_c(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wo(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=OYe,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function XYe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const pp=t=>t*180/Math.PI,KL=t=>{const e=pp(Math.atan2(t[1],t[0]));return YL(e)},KYe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:KL,rotateZ:KL,skewX:t=>pp(Math.atan(t[1])),skewY:t=>pp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},YL=t=>(t=t%360,t<0&&(t+=360),t),Aq=KL,Mq=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Tq=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YYe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mq,scaleY:Tq,scale:t=>(Mq(t)+Tq(t))/2,rotateX:t=>YL(pp(Math.atan2(t[6],t[5]))),rotateY:t=>YL(pp(Math.atan2(-t[2],t[0]))),rotateZ:Aq,rotate:Aq,skewX:t=>pp(Math.atan(t[4])),skewY:t=>pp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ZL(t){return t.includes("scale")?1:0}function JL(t,e){if(!t||t==="none")return ZL(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=YYe,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=KYe,i=o}if(!i)return ZL(e);const a=r[e],s=i[1].split(",").map(JYe);return typeof a=="function"?a(s):s[a]}const ZYe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return JL(n,e)};function JYe(t){return parseFloat(t.trim())}const xy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],by=new Set(xy),Cq=t=>t===yy||t===Yt,QYe=new Set(["x","y","z"]),eZe=xy.filter(t=>!QYe.has(t));function tZe(t){const e=[];return eZe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const kp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>JL(e,"x"),y:(t,{transform:e})=>JL(e,"y")};kp.translateX=kp.x;kp.translateY=kp.y;const Np=new Set;let QL=!1,e4=!1,t4=!1;function jue(){if(e4){const t=Array.from(Np).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=tZe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))==null||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}e4=!1,QL=!1,Np.forEach(t=>t.complete(t4)),Np.clear()}function Bue(){Np.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(e4=!0)})}function nZe(){t4=!0,Bue(),jue(),t4=!1}class Tj{constructor(e,n,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Np.add(this),QL||(QL=!0,vr.read(Bue),vr.resolveKeyframes(jue))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const o=r.readValue(n,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}XYe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Np.delete(this)}cancel(){this.state==="scheduled"&&(Np.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rZe=t=>t.startsWith("--");function iZe(t,e,n){rZe(e)?t.style.setProperty(e,n):t.style[e]=n}const aZe=mj(()=>window.ScrollTimeline!==void 0),sZe={};function oZe(t,e){const n=mj(t);return()=>sZe[e]??n()}const Vue=oZe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ub=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Pq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ub([0,.65,.55,1]),circOut:ub([.55,0,1,.45]),backIn:ub([.31,.01,.66,-.59]),backOut:ub([.33,1.53,.69,.99])};function Hue(t,e){if(t)return typeof t=="function"?Vue()?Lue(t,e):"ease-out":Mue(t)?ub(t):Array.isArray(t)?t.map(n=>Hue(n,e)||Pq.easeOut):Pq[t]}function lZe(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const f=Hue(o,i);Array.isArray(f)&&(u.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(u,d)}function Gue(t){return typeof t=="function"&&"applyToOptions"in t}function cZe({type:t,...e}){return Gue(t)&&Vue()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uZe extends Mj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,pj(typeof e.type!="string");const c=cZe(e);this.animation=lZe(n,r,i,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=Aj(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):iZe(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wo(e)}get time(){return Wo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_c(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&aZe()?(this.animation.timeline=e,Xo):n(this)}}const Wue={anticipate:wue,backInOut:_ue,circInOut:Eue};function fZe(t){return t in Wue}function dZe(t){typeof t.ease=="string"&&fZe(t.ease)&&(t.ease=Wue[t.ease])}const Iq=10;class hZe extends uZe{constructor(e){dZe(e),Fue(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new Z3({...s,autoplay:!1}),l=_c(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-Iq).value,o.sample(l).value,Iq),o.stop()}}const Oq=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gd.test(t)||t==="0")&&!t.startsWith("url("));function pZe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mZe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=Oq(i,e),o=Oq(a,e);return!s||!o?!1:pZe(t)||(n==="spring"||Gue(n))&&r}function n4(t){t.duration=0,t.type="keyframes"}const gZe=new Set(["opacity","clipPath","filter","transform"]),vZe=mj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yZe(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return vZe()&&n&&gZe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const xZe=40;class bZe extends Mj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var y,x;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Cs.now();const d={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:c,element:u,...f},h=(u==null?void 0:u.KeyframeResolver)||Tj;this.keyframeResolver=new h(o,(y,x,v)=>this.onKeyframesResolved(y,x,d,!v),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Cs.now(),mZe(e,a,s,o)||((nf.instantAnimations||!l)&&(u==null||u(Aj(e,r,n))),e[0]=e[e.length-1],n4(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>xZe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!c&&yZe(d)?new hZe({...d,element:d.motionValue.owner.current}):new Z3(d);h.finished.then(()=>this.notifyFinished()).catch(Xo),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),nZe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const _Ze=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wZe(t){const e=_Ze.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function $ue(t,e,n=1){const[r,i]=wZe(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return hue(s)?parseFloat(s):s}return bj(i)?$ue(i,e,n+1):i}function Cj(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const que=new Set(["width","height","top","left","right","bottom",...xy]),SZe={test:t=>t==="auto",parse:t=>t},Xue=t=>e=>e.test(t),Kue=[yy,Yt,wc,Yf,mYe,pYe,SZe],kq=t=>Kue.find(Xue(t));function EZe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mue(t):!0}const AZe=new Set(["brightness","contrast","saturate","opacity"]);function MZe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_j)||[];if(!r)return t;const i=n.replace(r,"");let a=AZe.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const TZe=/\b([a-z-]*)\(.*?\)/gu,r4={...Gd,getAnimatableNone:t=>{const e=t.match(TZe);return e?e.map(MZe).join(" "):t}},Nq={...yy,transform:Math.round},CZe={rotate:Yf,rotateX:Yf,rotateY:Yf,rotateZ:Yf,scale:bE,scaleX:bE,scaleY:bE,scaleZ:bE,skew:Yf,skewX:Yf,skewY:Yf,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:K1,originX:bq,originY:bq,originZ:Yt},Pj={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,backgroundPositionX:Yt,backgroundPositionY:Yt,...CZe,zIndex:Nq,fillOpacity:K1,strokeOpacity:K1,numOctaves:Nq},PZe={...Pj,color:Ei,backgroundColor:Ei,outlineColor:Ei,fill:Ei,stroke:Ei,borderColor:Ei,borderTopColor:Ei,borderRightColor:Ei,borderBottomColor:Ei,borderLeftColor:Ei,filter:r4,WebkitFilter:r4},Yue=t=>PZe[t];function Zue(t,e){let n=Yue(t);return n!==r4&&(n=Gd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const IZe=new Set(["auto","none","0"]);function OZe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!IZe.has(a)&&Y1(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=Zue(n,i)}class kZe extends Tj{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),bj(c))){const u=$ue(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!que.has(r)||e.length!==2)return;const[i,a]=e,s=kq(i),o=kq(a);if(s!==o)if(Cq(s)&&Cq(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else kp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||EZe(e[i]))&&r.push(i);r.length&&OZe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=kp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function NZe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Jue=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Que(t){return pue(t)&&"offsetHeight"in t}const Rq=30,RZe=t=>!isNaN(parseFloat(t)),Vb={current:void 0};class DZe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=Cs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RZe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gj);const r=this.events[e].add(n);return e==="change"?()=>{r(),vr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Vb.current&&Vb.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rq)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rq);return gue(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function im(t,e){return new DZe(t,e)}const{schedule:Ij}=Tue(queueMicrotask,!1),wl={x:!1,y:!1};function efe(){return wl.x||wl.y}function LZe(t){return t==="x"||t==="y"?wl[t]?null:(wl[t]=!0,()=>{wl[t]=!1}):wl.x||wl.y?null:(wl.x=wl.y=!0,()=>{wl.x=wl.y=!1})}function tfe(t,e){const n=NZe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Dq(t){return!(t.pointerType==="touch"||efe())}function UZe(t,e,n={}){const[r,i,a]=tfe(t,n),s=o=>{if(!Dq(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const u=f=>{Dq(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const nfe=(t,e)=>e?t===e?!0:nfe(t,e.parentElement):!1,Oj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zZe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FZe(t){return zZe.has(t.tagName)||t.tabIndex!==-1}const ZA=new WeakSet;function Lq(t){return e=>{e.key==="Enter"&&t(e)}}function HN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jZe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Lq(()=>{if(ZA.has(n))return;HN(n,"down");const i=Lq(()=>{HN(n,"up")}),a=()=>HN(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Uq(t){return Oj(t)&&!efe()}function BZe(t,e,n={}){const[r,i,a]=tfe(t,n),s=o=>{const l=o.currentTarget;if(!Uq(o))return;ZA.add(l);const c=e(l,o),u=(h,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),ZA.has(l)&&ZA.delete(l),Uq(h)&&typeof c=="function"&&c(h,{success:g})},f=h=>{u(h,l===window||l===document||n.useGlobalTarget||nfe(l,h.target))},d=h=>{u(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),Que(o)&&(o.addEventListener("focus",c=>jZe(c,i)),!FZe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function rfe(t){return pue(t)&&"ownerSVGElement"in t}function VZe(t){return rfe(t)&&t.tagName==="svg"}function HZe(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],s=t[3+n],o=zue(i,a,s);return e?o(r):o}const aa=t=>!!(t&&t.getVelocity);function GZe(t,e,n){const r=t.get();let i=null,a=r,s;const o=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,l=()=>{i&&(i.stop(),i=null)},c=()=>{l(),i=new Z3({keyframes:[Fq(t.get()),Fq(a)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:s})};if(t.attach((u,f)=>{a=u,s=d=>f(zq(d,o)),vr.postRender(c)},l),aa(e)){const u=e.on("change",d=>t.set(zq(d,o))),f=t.on("destroy",u);return()=>{u(),f()}}return l}function zq(t,e){return e?t+e:t}function Fq(t){return typeof t=="number"?t:parseFloat(t)}const WZe=[...Kue,Ei,Gd],$Ze=t=>WZe.find(Xue(t)),Aw=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jq(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qZe(...t){return e=>{let n=!1;const r=t.map(i=>{const a=jq(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():jq(t[i],null)}}}}function XZe(...t){return E.useCallback(qZe(...t),t)}class KZe extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Que(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YZe({children:t,isPresent:e,anchorX:n,root:r}){const i=E.useId(),a=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=E.useContext(Aw),l=XZe(a,t==null?void 0:t.ref);return E.useInsertionEffect(()=>{const{width:c,height:u,top:f,left:d,right:h}=s.current;if(e||!a.current||!c||!u)return;const g=n==="left"?`left: ${d}`:`right: ${h}`;a.current.dataset.motionPopId=i;const y=document.createElement("style");o&&(y.nonce=o);const x=r??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[e]),S.jsx(KZe,{isPresent:e,childRef:a,sizeRef:s,children:E.cloneElement(t,{ref:l})})}const ZZe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const c=_w(JZe),u=E.useId();let f=!0,d=E.useMemo(()=>(f=!1,{id:u,initial:e,isPresent:n,custom:i,onExitComplete:h=>{c.set(h,!0);for(const g of c.values())if(!g)return;r&&r()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[n,c,r]);return a&&f&&(d={...d}),E.useMemo(()=>{c.forEach((h,g)=>c.set(g,!1))},[n]),E.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),s==="popLayout"&&(t=S.jsx(YZe,{isPresent:n,anchorX:o,root:l,children:t})),S.jsx(Y3.Provider,{value:d,children:t})};function JZe(){return new Map}function ife(t=!0){const e=E.useContext(Y3);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=E.useId();E.useEffect(()=>{if(t)return i(a)},[t]);const s=E.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const _E=t=>t.key||"";function Bq(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const afe=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,u]=ife(s),f=E.useMemo(()=>Bq(t),[t]),d=s&&!c?[]:f.map(_E),h=E.useRef(!0),g=E.useRef(f),y=_w(()=>new Map),[x,v]=E.useState(f),[b,_]=E.useState(f);fj(()=>{h.current=!1,g.current=f;for(let M=0;M<b.length;M++){const I=_E(b[M]);d.includes(I)?y.delete(I):y.get(I)!==!0&&y.set(I,!1)}},[b,d.length,d.join("-")]);const A=[];if(f!==x){let M=[...f];for(let I=0;I<b.length;I++){const O=b[I],P=_E(O);d.includes(P)||(M.splice(I,0,O),A.push(O))}return a==="wait"&&A.length&&(M=A),_(Bq(M)),v(f),null}const{forceRender:T}=E.useContext(cj);return S.jsx(S.Fragment,{children:b.map(M=>{const I=_E(M),O=s&&!c?!1:f===b||d.includes(I),P=()=>{if(y.has(I))y.set(I,!0);else return;let k=!0;y.forEach(N=>{N||(k=!1)}),k&&(T==null||T(),_(g.current),s&&(u==null||u()),r&&r())};return S.jsx(ZZe,{isPresent:O,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:O?void 0:P,anchorX:o,children:M},I)})})},sfe=E.createContext({strict:!1}),Vq={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},M0={};for(const t in Vq)M0[t]={isEnabled:e=>Vq[t].some(n=>!!e[n])};function QZe(t){for(const e in t)M0[e]={...M0[e],...t[e]}}const eJe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lC(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eJe.has(t)}let ofe=t=>!lC(t);function tJe(t){typeof t=="function"&&(ofe=e=>e.startsWith("on")?!lC(e):t(e))}try{tJe(require("@emotion/is-prop-valid").default)}catch{}function nJe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ofe(i)||n===!0&&lC(i)||!e&&!lC(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const J3=E.createContext({});function Q3(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Z1(t){return typeof t=="string"||Array.isArray(t)}const kj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nj=["initial",...kj];function eI(t){return Q3(t.animate)||Nj.some(e=>Z1(t[e]))}function lfe(t){return!!(eI(t)||t.variants)}function rJe(t,e){if(eI(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Z1(n)?n:void 0,animate:Z1(r)?r:void 0}}return t.inherit!==!1?e:{}}function iJe(t){const{initial:e,animate:n}=rJe(t,E.useContext(J3));return E.useMemo(()=>({initial:e,animate:n}),[Hq(e),Hq(n)])}function Hq(t){return Array.isArray(t)?t.join(" "):t}const J1={};function aJe(t){for(const e in t)J1[e]=t[e],xj(e)&&(J1[e].isCSSVariable=!0)}function cfe(t,{layout:e,layoutId:n}){return by.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!J1[t]||t==="opacity")}const sJe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oJe=xy.length;function lJe(t,e,n){let r="",i=!0;for(let a=0;a<oJe;a++){const s=xy[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=Jue(o,Pj[s]);if(!l){i=!1;const u=sJe[s]||s;r+=`${u}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Rj(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const c=e[l];if(by.has(l)){s=!0;continue}else if(xj(l)){i[l]=c;continue}else{const u=Jue(c,Pj[l]);l.startsWith("origin")?(o=!0,a[l]=u):r[l]=u}}if(e.transform||(s||n?r.transform=lJe(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${c} ${u}`}}const Dj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ufe(t,e,n){for(const r in e)!aa(e[r])&&!cfe(r,n)&&(t[r]=e[r])}function cJe({transformTemplate:t},e){return E.useMemo(()=>{const n=Dj();return Rj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uJe(t,e){const n=t.style||{},r={};return ufe(r,n,t),Object.assign(r,cJe(t,e)),r}function fJe(t,e){const n={},r=uJe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dJe={offset:"stroke-dashoffset",array:"stroke-dasharray"},hJe={offset:"strokeDashoffset",array:"strokeDasharray"};function pJe(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?dJe:hJe;t[a.offset]=Yt.transform(-r);const s=Yt.transform(e),o=Yt.transform(n);t[a.array]=`${s} ${o}`}function ffe(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,c,u){if(Rj(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&pJe(f,i,a,s,!1)}const dfe=()=>({...Dj(),attrs:{}}),hfe=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mJe(t,e,n,r){const i=E.useMemo(()=>{const a=dfe();return ffe(a,e,hfe(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};ufe(a,t.style,t),i.style={...a,...i.style}}return i}const gJe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lj(t){return typeof t!="string"||t.includes("-")?!1:!!(gJe.indexOf(t)>-1||/[A-Z]/u.test(t))}function vJe(t,e,n,{latestValues:r},i,a=!1){const o=(Lj(t)?mJe:fJe)(e,r,i,t),l=nJe(e,typeof t=="string",a),c=t!==E.Fragment?{...l,...o,ref:n}:{},{children:u}=e,f=E.useMemo(()=>aa(u)?u.get():u,[u]);return E.createElement(t,{...c,children:f})}function Gq(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Uj(t,e,n,r){if(typeof e=="function"){const[i,a]=Gq(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Gq(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function JA(t){return aa(t)?t.get():t}function yJe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:xJe(n,r,i,t),renderState:e()}}function xJe(t,e,n,r){const i={},a=r(t,{});for(const d in a)i[d]=JA(a[d]);let{initial:s,animate:o}=t;const l=eI(t),c=lfe(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!Q3(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const g=Uj(t,d[h]);if(g){const{transitionEnd:y,transition:x,...v}=g;for(const b in v){let _=v[b];if(Array.isArray(_)){const A=u?_.length-1:0;_=_[A]}_!==null&&(i[b]=_)}for(const b in y)i[b]=y[b]}}}return i}const pfe=t=>(e,n)=>{const r=E.useContext(J3),i=E.useContext(Y3),a=()=>yJe(t,e,r,i);return n?a():_w(a)};function zj(t,e,n){var a;const{style:r}=t,i={};for(const s in r)(aa(r[s])||e.style&&aa(e.style[s])||cfe(s,t)||((a=n==null?void 0:n.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const bJe=pfe({scrapeMotionValuesFromProps:zj,createRenderState:Dj});function mfe(t,e,n){const r=zj(t,e,n);for(const i in t)if(aa(t[i])||aa(e[i])){const a=xy.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const _Je=pfe({scrapeMotionValuesFromProps:mfe,createRenderState:dfe}),wJe=Symbol.for("motionComponentSymbol");function yv(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SJe(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yv(n)&&(n.current=r))},[e])}const Fj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EJe="framerAppearId",gfe="data-"+Fj(EJe),vfe=E.createContext({});function AJe(t,e,n,r,i){var y,x;const{visualElement:a}=E.useContext(J3),s=E.useContext(sfe),o=E.useContext(Y3),l=E.useContext(Aw).reducedMotion,c=E.useRef(null);r=r||s.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=E.useContext(vfe);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&MJe(c.current,n,i,f);const d=E.useRef(!1);E.useInsertionEffect(()=>{u&&d.current&&u.update(n,o)});const h=n[gfe],g=E.useRef(!!h&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,h))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,h)));return fj(()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,h)}),g.current=!1),u.enteringChildren=void 0)}),u}function MJe(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yfe(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&yv(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function yfe(t){if(t)return t.options.allowProjection!==!1?t.projection:yfe(t.parent)}function GN(t,{forwardMotionProps:e=!1}={},n,r){n&&QZe(n);const i=Lj(t)?_Je:bJe;function a(o,l){let c;const u={...E.useContext(Aw),...o,layoutId:TJe(o)},{isStatic:f}=u,d=iJe(o),h=i(o,f);if(!f&&uj){CJe();const g=PJe(u);c=g.MeasureLayout,d.visualElement=AJe(t,h,u,r,g.ProjectionNode)}return S.jsxs(J3.Provider,{value:d,children:[c&&d.visualElement?S.jsx(c,{visualElement:d.visualElement,...u}):null,vJe(t,o,SJe(h,d.visualElement,l),h,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=E.forwardRef(a);return s[wJe]=t,s}function TJe({layoutId:t}){const e=E.useContext(cj).id;return e&&t!==void 0?e+"-"+t:t}function CJe(t,e){E.useContext(sfe).strict}function PJe(t){const{drag:e,layout:n}=M0;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function IJe(t,e){if(typeof Proxy>"u")return GN;const n=new Map,r=(a,s)=>GN(a,s,t,e),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(n.has(s)||n.set(s,GN(s,void 0,t,e)),n.get(s))})}function xfe({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function OJe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kJe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function WN(t){return t===void 0||t===1}function i4({scale:t,scaleX:e,scaleY:n}){return!WN(t)||!WN(e)||!WN(n)}function ip(t){return i4(t)||bfe(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bfe(t){return Wq(t.x)||Wq(t.y)}function Wq(t){return t&&t!=="0%"}function cC(t,e,n){const r=t-n,i=e*r;return n+i}function $q(t,e,n,r,i){return i!==void 0&&(t=cC(t,i,r)),cC(t,n,r)+e}function a4(t,e=0,n=1,r,i){t.min=$q(t.min,e,n,r,i),t.max=$q(t.max,e,n,r,i)}function _fe(t,{x:e,y:n}){a4(t.x,e.translate,e.scale,e.originPoint),a4(t.y,n.translate,n.scale,n.originPoint)}const qq=.999999999999,Xq=1.0000000000001;function NJe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bv(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,_fe(t,s)),r&&ip(a.latestValues)&&bv(t,a.latestValues))}e.x<Xq&&e.x>qq&&(e.x=1),e.y<Xq&&e.y>qq&&(e.y=1)}function xv(t,e){t.min=t.min+e,t.max=t.max+e}function Kq(t,e,n,r,i=.5){const a=Vr(t.min,t.max,i);a4(t,e,n,a,r)}function bv(t,e){Kq(t.x,e.x,e.scaleX,e.scale,e.originX),Kq(t.y,e.y,e.scaleY,e.scale,e.originY)}function wfe(t,e){return xfe(kJe(t.getBoundingClientRect(),e))}function RJe(t,e,n){const r=wfe(t,n),{scroll:i}=e;return i&&(xv(r.x,i.offset.x),xv(r.y,i.offset.y)),r}const Yq=()=>({translate:0,scale:1,origin:0,originPoint:0}),_v=()=>({x:Yq(),y:Yq()}),Zq=()=>({min:0,max:0}),ci=()=>({x:Zq(),y:Zq()}),s4={current:null},Sfe={current:!1};function DJe(){if(Sfe.current=!0,!!uj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>s4.current=t.matches;t.addEventListener("change",e),e()}else s4.current=!1}const LJe=new WeakMap;function UJe(t,e,n){for(const r in e){const i=e[r],a=n[r];if(aa(i))t.addValue(r,i);else if(aa(a))t.addValue(r,im(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,im(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Jq=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zJe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Cs.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,vr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=eI(n),this.isVariantNode=lfe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&aa(h)&&h.set(l[d])}}mount(e){var n;this.current=e,LJe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Sfe.current||DJe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:s4.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),rf(this.notifyUpdate),rf(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=by.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&vr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in M0){const n=M0[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ci()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Jq.length;r++){const i=Jq[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=UJe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=im(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(hue(r)||mue(r))?r=parseFloat(r):!$Ze(r)&&Gd.test(n)&&(r=Zue(e,n)),this.setBaseTarget(e,aa(r)?r.get():r)),aa(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=Uj(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!aa(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gj),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ij.render(this.render)}}class Efe extends zJe{constructor(){super(...arguments),this.KeyframeResolver=kZe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;aa(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Afe(t,{style:e,vars:n},r,i){const a=t.style;let s;for(s in e)a[s]=e[s];i==null||i.applyProjectionStyles(a,r);for(s in n)a.setProperty(s,n[s])}function FJe(t){return window.getComputedStyle(t)}class jJe extends Efe{constructor(){super(...arguments),this.type="html",this.renderInstance=Afe}readValueFromInstance(e,n){var r;if(by.has(n))return(r=this.projection)!=null&&r.isProjecting?ZL(n):ZYe(e,n);{const i=FJe(e),a=(xj(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wfe(e,n)}build(e,n,r){Rj(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return zj(e,n,r)}}const Mfe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BJe(t,e,n,r){Afe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Mfe.has(i)?i:Fj(i),e.attrs[i])}class VJe extends Efe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ci}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(by.has(n)){const r=Yue(n);return r&&r.default||0}return n=Mfe.has(n)?n:Fj(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mfe(e,n,r)}build(e,n,r){ffe(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){BJe(e,n,r,i)}mount(e){this.isSVGTag=hfe(e.tagName),super.mount(e)}}const HJe=(t,e)=>Lj(t)?new VJe(e):new jJe(e,{allowProjection:t!==E.Fragment});function Wv(t,e,n){const r=t.getProps();return Uj(r,e,n!==void 0?n:r.custom,t)}const o4=t=>Array.isArray(t);function GJe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,im(n))}function WJe(t){return o4(t)?t[t.length-1]||0:t}function $Je(t,e){const n=Wv(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=WJe(a[s]);GJe(t,s,o)}}function qJe(t){return!!(aa(t)&&t.add)}function l4(t,e){const n=t.getValue("willChange");if(qJe(n))return n.add(e);if(!n&&nf.WillChange){const r=new nf.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Tfe(t){return t.props[gfe]}const XJe=t=>t!==null;function KJe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(XJe),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const YJe={type:"spring",stiffness:500,damping:25,restSpeed:10},ZJe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JJe={type:"keyframes",duration:.8},QJe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eQe=(t,{keyframes:e})=>e.length>2?JJe:by.has(t)?t.startsWith("scale")?ZJe(e[1]):YJe:QJe;function tQe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jj=(t,e,n,r={},i,a)=>s=>{const o=Cj(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-_c(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};tQe(o)||Object.assign(u,eQe(t,u)),u.duration&&(u.duration=_c(u.duration)),u.repeatDelay&&(u.repeatDelay=_c(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(n4(u),u.delay===0&&(f=!0)),(nf.instantAnimations||nf.skipAnimations)&&(f=!0,n4(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const d=KJe(u.keyframes,o);if(d!==void 0){vr.update(()=>{u.onUpdate(d),u.onComplete()});return}}return o.isSync?new Z3(u):new bZe(u)};function nQe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Cfe(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...o}=e;r&&(a=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in o){const f=t.getValue(u,t.latestValues[u]??null),d=o[u];if(d===void 0||c&&nQe(c,u))continue;const h={delay:n,...Cj(a||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===g&&!h.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const v=Tfe(t);if(v){const b=window.MotionHandoffAnimation(v,u,vr);b!==null&&(h.startTime=b,y=!0)}}l4(t,u),f.start(jj(u,f,d,t.shouldReduceMotion&&que.has(u)?{type:!1}:h,t,y));const x=f.animation;x&&l.push(x)}return s&&Promise.all(l).then(()=>{vr.update(()=>{s&&$Je(t,s)})}),l}function Pfe(t,e,n,r=0,i=1){const a=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),s=t.size,o=(s-1)*r;return typeof n=="function"?n(a,s):i===1?a*r:o-a*r}function c4(t,e,n={}){var l;const r=Wv(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Cfe(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=i;return rQe(t,e,c,u,f,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[a,s]:[s,a];return c().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function rQe(t,e,n=0,r=0,i=0,a=1,s){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(c4(l,e,{...s,delay:n+(typeof r=="function"?0:r)+Pfe(t.variantChildren,l,r,i,a)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function iQe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>c4(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=c4(t,e,n);else{const i=typeof e=="function"?Wv(t,e,n.custom):e;r=Promise.all(Cfe(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Ife(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const aQe=Nj.length;function Ofe(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ofe(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<aQe;n++){const r=Nj[n],i=t.props[r];(Z1(i)||i===!1)&&(e[r]=i)}return e}const sQe=[...kj].reverse(),oQe=kj.length;function lQe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>iQe(t,n,r)))}function cQe(t){let e=lQe(t),n=Qq(),r=!0;const i=l=>(c,u)=>{var d;const f=Wv(t,u,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:g,...y}=f;c={...c,...y,...g}}return c};function a(l){e=l(t)}function s(l){const{props:c}=t,u=Ofe(t.parent)||{},f=[],d=new Set;let h={},g=1/0;for(let x=0;x<oQe;x++){const v=sQe[x],b=n[v],_=c[v]!==void 0?c[v]:u[v],A=Z1(_),T=v===l?b.isActive:null;T===!1&&(g=x);let M=_===u[v]&&_!==c[v]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),b.protectedKeys={...h},!b.isActive&&T===null||!_&&!b.prevProp||Q3(_)||typeof _=="boolean")continue;const I=uQe(b.prevProp,_);let O=I||v===l&&b.isActive&&!M&&A||x>g&&A,P=!1;const k=Array.isArray(_)?_:[_];let N=k.reduce(i(v),{});T===!1&&(N={});const{prevResolvedValues:L={}}=b,B={...L,...N},D=H=>{O=!0,d.has(H)&&(P=!0,d.delete(H)),b.needsAnimating[H]=!0;const q=t.getValue(H);q&&(q.liveStyle=!1)};for(const H in B){const q=N[H],W=L[H];if(h.hasOwnProperty(H))continue;let z=!1;o4(q)&&o4(W)?z=!Ife(q,W):z=q!==W,z?q!=null?D(H):d.add(H):q!==void 0&&d.has(H)?D(H):b.protectedKeys[H]=!0}b.prevProp=_,b.prevResolvedValues=N,b.isActive&&(h={...h,...N}),r&&t.blockInitialAnimation&&(O=!1);const V=M&&I;O&&(!V||P)&&f.push(...k.map(H=>{const q={type:v};if(typeof H=="string"&&r&&!V&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,z=Wv(W,H);if(W.enteringChildren&&z){const{delayChildren:$}=z.transition||{};q.delay=Pfe(W.enteringChildren,t,$)}}return{animation:H,options:q}}))}if(d.size){const x={};if(typeof c.initial!="boolean"){const v=Wv(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(x.transition=v.transition)}d.forEach(v=>{const b=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),x[v]=b??null}),f.push({animation:x})}let y=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function o(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,c)}),n[l].isActive=c;const u=s(l);for(const d in n)n[d].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Qq()}}}function uQe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ife(e,t):!1}function kh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qq(){return{animate:kh(!0),whileInView:kh(),whileHover:kh(),whileTap:kh(),whileDrag:kh(),whileFocus:kh(),exit:kh()}}class sh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fQe extends sh{constructor(e){super(e),e.animationState||(e.animationState=cQe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Q3(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let dQe=0;class hQe extends sh{constructor(){super(...arguments),this.id=dQe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pQe={animation:{Feature:fQe},exit:{Feature:hQe}};function Q1(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mw(t){return{point:{x:t.pageX,y:t.pageY}}}const mQe=t=>e=>Oj(e)&&t(e,Mw(e));function Hb(t,e,n,r){return Q1(t,e,mQe(n),r)}const kfe=1e-4,gQe=1-kfe,vQe=1+kfe,Nfe=.01,yQe=0-Nfe,xQe=0+Nfe;function ts(t){return t.max-t.min}function bQe(t,e,n){return Math.abs(t-e)<=n}function eX(t,e,n,r=.5){t.origin=r,t.originPoint=Vr(e.min,e.max,t.origin),t.scale=ts(n)/ts(e),t.translate=Vr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gQe&&t.scale<=vQe||isNaN(t.scale))&&(t.scale=1),(t.translate>=yQe&&t.translate<=xQe||isNaN(t.translate))&&(t.translate=0)}function Gb(t,e,n,r){eX(t.x,e.x,n.x,r?r.originX:void 0),eX(t.y,e.y,n.y,r?r.originY:void 0)}function tX(t,e,n){t.min=n.min+e.min,t.max=t.min+ts(e)}function _Qe(t,e,n){tX(t.x,e.x,n.x),tX(t.y,e.y,n.y)}function nX(t,e,n){t.min=e.min-n.min,t.max=t.min+ts(e)}function Wb(t,e,n){nX(t.x,e.x,n.x),nX(t.y,e.y,n.y)}function Io(t){return[t("x"),t("y")]}const Rfe=({current:t})=>t?t.ownerDocument.defaultView:null,rX=(t,e)=>Math.abs(t-e);function wQe(t,e){const n=rX(t.x,e.x),r=rX(t.y,e.y);return Math.sqrt(n**2+r**2)}class Dfe{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=qN(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=wQe(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!g)return;const{point:y}=d,{timestamp:x}=ba;this.history.push({...y,timestamp:x});const{onStart:v,onMove:b}=this.handlers;h||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=$N(h,this.transformPagePoint),vr.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=qN(d.type==="pointercancel"?this.lastMoveEventInfo:$N(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,v),y&&y(d,v)},!Oj(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const o=Mw(e),l=$N(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ba;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,qN(l,this.history)),this.removeListeners=ww(Hb(this.contextWindow,"pointermove",this.handlePointerMove),Hb(this.contextWindow,"pointerup",this.handlePointerUp),Hb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rf(this.updatePoint)}}function $N(t,e){return e?{point:e(t.point)}:t}function iX(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qN({point:t},e){return{point:t,delta:iX(t,Lfe(e)),offset:iX(t,SQe(e)),velocity:EQe(e,.1)}}function SQe(t){return t[0]}function Lfe(t){return t[t.length-1]}function EQe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Lfe(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_c(e)));)n--;if(!r)return{x:0,y:0};const a=Wo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function AQe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Vr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Vr(n,t,r.max):Math.min(t,n)),t}function aX(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MQe(t,{top:e,left:n,bottom:r,right:i}){return{x:aX(t.x,n,i),y:aX(t.y,e,r)}}function sX(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function TQe(t,e){return{x:sX(t.x,e.x),y:sX(t.y,e.y)}}function CQe(t,e){let n=.5;const r=ts(t),i=ts(e);return i>r?n=X1(e.min,e.max-r,t.min):r>i&&(n=X1(t.min,t.max-i,e.min)),tf(0,1,n)}function PQe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const u4=.35;function IQe(t=u4){return t===!1?t=0:t===!0&&(t=u4),{x:oX(t,"left","right"),y:oX(t,"top","bottom")}}function oX(t,e,n){return{min:lX(t,e),max:lX(t,n)}}function lX(t,e){return typeof t=="number"?t:t[e]||0}const OQe=new WeakMap;class kQe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ci(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mw(f).point)},s=(f,d)=>{const{drag:h,dragPropagation:g,onDragStart:y}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LZe(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Io(v=>{let b=this.getAxisMotionValue(v).get()||0;if(wc.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const A=_.layout.layoutBox[v];A&&(b=ts(A)*(parseFloat(b)/100))}}this.originPoint[v]=b}),y&&vr.postRender(()=>y(f,d)),l4(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:y,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=d;if(g&&this.currentDirection===null){this.currentDirection=NQe(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),x&&x(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Io(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Dfe(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Rfe(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&vr.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!wE(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=AQe(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&yv(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=MQe(r.layoutBox,e):this.constraints=!1,this.elastic=IQe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Io(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=PQe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yv(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=RJe(r,i.root,this.visualElement.getTransformPagePoint());let s=TQe(i.layout.layoutBox,a);if(n){const o=n(OJe(s));this.hasMutatedConstraints=!!o,o&&(s=xfe(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Io(u=>{if(!wE(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return l4(this.visualElement,e),r.start(jj(e,r,0,n,this.visualElement,!1))}stopAnimation(){Io(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Io(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Io(n=>{const{drag:r}=this.getProps();if(!wE(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-Vr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yv(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Io(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=CQe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Io(s=>{if(!wE(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Vr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;OQe.set(this.visualElement,this);const e=this.visualElement.current,n=Hb(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();yv(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vr.read(r);const s=Q1(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Io(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=u4,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function wE(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NQe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RQe extends sh{constructor(e){super(e),this.removeGroupControls=Xo,this.removeListeners=Xo,this.controls=new kQe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xo}unmount(){this.removeGroupControls(),this.removeListeners()}}const cX=t=>(e,n)=>{t&&vr.postRender(()=>t(e,n))};class DQe extends sh{constructor(){super(...arguments),this.removePointerDownListener=Xo}onPointerDown(e){this.session=new Dfe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rfe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:cX(e),onStart:cX(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&vr.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Hb(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const QA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uX(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mx={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Yt.test(t))t=parseFloat(t);else return t;const n=uX(t,e.target.x),r=uX(t,e.target.y);return`${n}% ${r}%`}},LQe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Gd.parse(t);if(i.length>5)return r;const a=Gd.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const c=Vr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};let XN=!1;class UQe extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;aJe(zQe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),XN&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),QA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,XN=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||vr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ij.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;XN=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ufe(t){const[e,n]=ife(),r=E.useContext(cj);return S.jsx(UQe,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(vfe),isPresent:e,safeToRemove:n})}const zQe={borderRadius:{...Mx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mx,borderTopRightRadius:Mx,borderBottomLeftRadius:Mx,borderBottomRightRadius:Mx,boxShadow:LQe};function FQe(t,e,n){const r=aa(t)?t:im(t);return r.start(jj("",r,e,n)),r.animation}const jQe=(t,e)=>t.depth-e.depth;class BQe{constructor(){this.children=[],this.isDirty=!1}add(e){dj(this.children,e),this.isDirty=!0}remove(e){hj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jQe),this.isDirty=!1,this.children.forEach(e)}}function VQe(t,e){const n=Cs.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(rf(r),t(a-e))};return vr.setup(r,!0),()=>rf(r)}const zfe=["TopLeft","TopRight","BottomLeft","BottomRight"],HQe=zfe.length,fX=t=>typeof t=="string"?parseFloat(t):t,dX=t=>typeof t=="number"||Yt.test(t);function GQe(t,e,n,r,i,a){i?(t.opacity=Vr(0,n.opacity??1,WQe(r)),t.opacityExit=Vr(e.opacity??1,0,$Qe(r))):a&&(t.opacity=Vr(e.opacity??1,n.opacity??1,r));for(let s=0;s<HQe;s++){const o=`border${zfe[s]}Radius`;let l=hX(e,o),c=hX(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||dX(l)===dX(c)?(t[o]=Math.max(Vr(fX(l),fX(c),r),0),(wc.test(c)||wc.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Vr(e.rotate||0,n.rotate||0,r))}function hX(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WQe=Ffe(0,.5,Sue),$Qe=Ffe(.5,.95,Xo);function Ffe(t,e,n){return r=>r<t?0:r>e?1:n(X1(t,e,r))}function pX(t,e){t.min=e.min,t.max=e.max}function Ao(t,e){pX(t.x,e.x),pX(t.y,e.y)}function mX(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gX(t,e,n,r,i){return t-=e,t=cC(t,1/n,r),i!==void 0&&(t=cC(t,1/i,r)),t}function qQe(t,e=0,n=1,r=.5,i,a=t,s=t){if(wc.test(e)&&(e=parseFloat(e),e=Vr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Vr(a.min,a.max,r);t===a&&(o-=e),t.min=gX(t.min,e,n,o,i),t.max=gX(t.max,e,n,o,i)}function vX(t,e,[n,r,i],a,s){qQe(t,e[n],e[r],e[i],e.scale,a,s)}const XQe=["x","scaleX","originX"],KQe=["y","scaleY","originY"];function yX(t,e,n,r){vX(t.x,e,XQe,n?n.x:void 0,r?r.x:void 0),vX(t.y,e,KQe,n?n.y:void 0,r?r.y:void 0)}function xX(t){return t.translate===0&&t.scale===1}function jfe(t){return xX(t.x)&&xX(t.y)}function bX(t,e){return t.min===e.min&&t.max===e.max}function YQe(t,e){return bX(t.x,e.x)&&bX(t.y,e.y)}function _X(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bfe(t,e){return _X(t.x,e.x)&&_X(t.y,e.y)}function wX(t){return ts(t.x)/ts(t.y)}function SX(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZQe{constructor(){this.members=[]}add(e){dj(this.members,e),e.scheduleRender()}remove(e){if(hj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JQe(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:d,skewX:h,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const KN=["","X","Y","Z"],QQe=1e3;let eet=0;function YN(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Vfe(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Tfe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vr,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Vfe(r)}function Hfe({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=eet++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ret),this.nodes.forEach(oet),this.nodes.forEach(cet),this.nodes.forEach(iet)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BQe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new gj),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=rfe(s)&&!VZe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let u,f=0;const d=()=>this.root.updateBlockedByResize=!1;vr.read(()=>{f=window.innerWidth}),t(s,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,u&&u(),u=VQe(d,250),QA.hasAnimatedSinceResize&&(QA.hasAnimatedSinceResize=!1,this.nodes.forEach(MX)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||pet,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),v=!this.targetLayout||!Bfe(this.targetLayout,h),b=!f&&d;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Cj(g,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,b)}else f||MX(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uet),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vfe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EX);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AX);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(set),this.nodes.forEach(tet),this.nodes.forEach(net)):this.nodes.forEach(AX),this.clearAllSnapshots();const o=Cs.now();ba.delta=tf(0,1e3/60,o-ba.timestamp),ba.timestamp=o,ba.isProcessing=!0,zN.update.process(ba),zN.preRender.process(ba),zN.render.process(ba),ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ij.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aet),this.sharedNodes.forEach(fet)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ts(this.snapshot.measuredBox.x)&&!ts(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ci(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!jfe(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||ip(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),met(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ci();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(get))){const{scroll:u}=this.root;u&&(xv(o.x,u.offset.x),xv(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ci();if(Ao(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;u!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&Ao(o,s),xv(o.x,f.offset.x),xv(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=ci();Ao(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bv(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ip(u.latestValues)&&bv(l,u.latestValues)}return ip(this.latestValues)&&bv(l,this.latestValues),l}removeTransform(s){const o=ci();Ao(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ip(c.latestValues))continue;i4(c.latestValues)&&c.updateSnapshot();const u=ci(),f=c.measurePageBox();Ao(u,f),yX(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ip(this.latestValues)&&yX(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var d;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=ba.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ci(),this.relativeTargetOrigin=ci(),Wb(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ci(),this.targetWithTransforms=ci()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_Qe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ao(this.target,this.layout.layoutBox),_fe(this.target,this.targetDelta)):Ao(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ci(),this.relativeTargetOrigin=ci(),Wb(this.relativeTargetOrigin,this.target,h.target),Ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||i4(this.parent.latestValues)||bfe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ba.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ao(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;NJe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ci());const{target:h}=s;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mX(this.prevProjectionDelta.x,this.projectionDelta.x),mX(this.prevProjectionDelta.y,this.projectionDelta.y)),Gb(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!SX(this.projectionDelta.x,this.prevProjectionDelta.x)||!SX(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_v(),this.projectionDelta=_v(),this.projectionDeltaWithTransform=_v()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=_v();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=ci(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,x=this.getStack(),v=!x||x.members.length<=1,b=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(het));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const T=A/1e3;TX(f.x,s.x,T),TX(f.y,s.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wb(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),det(this.relativeTarget,this.relativeTargetOrigin,d,T),_&&YQe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ci()),Ao(_,this.relativeTarget)),y&&(this.animationValues=u,GQe(u,c,this.latestValues,T,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(rf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vr.update(()=>{QA.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=im(0)),this.currentAnimation=FQe(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QQe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&Gfe(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ci();const f=ts(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=ts(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}Ao(o,l),bv(o,u),Gb(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ZQe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&YN("z",s,c,this.animationValues);for(let u=0;u<KN.length;u++)YN(`rotate${KN[u]}`,s,c,this.animationValues),YN(`skew${KN[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=JA(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=JA(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ip(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=JQe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),s.transform=f;const{x:d,y:h}=this.projectionDelta;s.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?s.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:s.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in J1){if(u[g]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:v}=J1[g],b=f==="none"?u[g]:y(u[g],c);if(x){const _=x.length;for(let A=0;A<_;A++)s[x[A]]=b}else v?this.options.visualElement.renderState.vars[g]=b:s[g]=b}this.options.layoutId&&(s.pointerEvents=c===this?JA(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(EX),this.root.sharedNodes.clear()}}}function tet(t){t.updateLayout()}function net(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=e.source!==t.layout.source;a==="size"?Io(f=>{const d=s?e.measuredBox[f]:e.layoutBox[f],h=ts(d);d.min=r[f].min,d.max=d.min+h}):Gfe(a,e.layoutBox,r)&&Io(f=>{const d=s?e.measuredBox[f]:e.layoutBox[f],h=ts(r[f]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const o=_v();Gb(o,r,e.layoutBox);const l=_v();s?Gb(l,t.applyTransform(i,!0),e.measuredBox):Gb(l,r,e.layoutBox);const c=!jfe(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const g=ci();Wb(g,e.layoutBox,d.layoutBox);const y=ci();Wb(y,r,h.layoutBox),Bfe(g,y)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ret(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iet(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function aet(t){t.clearSnapshot()}function EX(t){t.clearMeasurements()}function AX(t){t.isLayoutDirty=!1}function set(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MX(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oet(t){t.resolveTargetDelta()}function cet(t){t.calcProjection()}function uet(t){t.resetSkewAndRotation()}function fet(t){t.removeLeadSnapshot()}function TX(t,e,n){t.translate=Vr(e.translate,0,n),t.scale=Vr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function CX(t,e,n,r){t.min=Vr(e.min,n.min,r),t.max=Vr(e.max,n.max,r)}function det(t,e,n,r){CX(t.x,e.x,n.x,r),CX(t.y,e.y,n.y,r)}function het(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pet={duration:.45,ease:[.4,0,.1,1]},PX=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),IX=PX("applewebkit/")&&!PX("chrome/")?Math.round:Xo;function OX(t){t.min=IX(t.min),t.max=IX(t.max)}function met(t){OX(t.x),OX(t.y)}function Gfe(t,e,n){return t==="position"||t==="preserve-aspect"&&!bQe(wX(e),wX(n),.2)}function get(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const vet=Hfe({attachResizeListener:(t,e)=>Q1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZN={current:void 0},Wfe=Hfe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ZN.current){const t=new vet({});t.mount(window),t.setOptions({layoutScroll:!0}),ZN.current=t}return ZN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yet={pan:{Feature:DQe},drag:{Feature:RQe,ProjectionNode:Wfe,MeasureLayout:Ufe}};function kX(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&vr.postRender(()=>a(e,Mw(e)))}class xet extends sh{mount(){const{current:e}=this.node;e&&(this.unmount=UZe(e,(n,r)=>(kX(this.node,r,"Start"),i=>kX(this.node,i,"End"))))}unmount(){}}class bet extends sh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ww(Q1(this.node.current,"focus",()=>this.onFocus()),Q1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function NX(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&vr.postRender(()=>a(e,Mw(e)))}class _et extends sh{mount(){const{current:e}=this.node;e&&(this.unmount=BZe(e,(n,r)=>(NX(this.node,r,"Start"),(i,{success:a})=>NX(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const f4=new WeakMap,JN=new WeakMap,wet=t=>{const e=f4.get(t.target);e&&e(t)},Eet=t=>{t.forEach(wet)};function Aet({root:t,...e}){const n=t||document;JN.has(n)||JN.set(n,{});const r=JN.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Eet,{root:t,...e})),r[i]}function Met(t,e,n){const r=Aet(e);return f4.set(t,n),r.observe(t),()=>{f4.delete(t),r.unobserve(t)}}const Tet={some:0,all:1};class Cet extends sh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Tet[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return Met(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Pet(e,n))&&this.startObserver()}unmount(){}}function Pet({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Iet={inView:{Feature:Cet},tap:{Feature:_et},focus:{Feature:bet},hover:{Feature:xet}},Oet={layout:{ProjectionNode:Wfe,MeasureLayout:Ufe}},ket={...pQe,...Iet,...yet,...Oet},Fo=IJe(ket,HJe);function Bj(t){const e=_w(()=>im(t)),{isStatic:n}=E.useContext(Aw);if(n){const[,r]=E.useState(t);E.useEffect(()=>e.on("change",r),[])}return e}function $fe(t,e){const n=Bj(e()),r=()=>n.set(e());return r(),fj(()=>{const i=()=>vr.preRender(r,!1,!0),a=t.map(s=>s.on("change",i));return()=>{a.forEach(s=>s()),rf(r)}}),n}function Net(t){Vb.current=[],t();const e=$fe(Vb.current,t);return Vb.current=void 0,e}function d4(t,e,n,r){if(typeof t=="function")return Net(t);const i=typeof e=="function"?e:HZe(e,n,r);return Array.isArray(t)?RX(t,i):RX([t],([a])=>i(a))}function RX(t,e){const n=_w(()=>[]);return $fe(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Ret(t,e={}){const{isStatic:n}=E.useContext(Aw),r=()=>aa(t)?t.get():t;if(n)return d4(r);const i=Bj(r());return E.useInsertionEffect(()=>GZe(i,t,e),[i,JSON.stringify(e)]),i}function Det({children:t,className:e="",onClick:n,mouseX:r,spring:i,distance:a,magnification:s,baseScale:o,isActive:l}){const c=E.useRef(null),u=d4(r,h=>{var y;if(h===1/0||typeof h!="number")return a+1;const g=(y=c.current)==null?void 0:y.getBoundingClientRect();return g?h-g.x-g.width/2:a+1}),f=d4(u,[-a,0,a],[o,s,o]),d=Ret(f,i);return S.jsx(Fo.div,{ref:c,initial:{scale:o},style:{scale:d,zIndex:l?10:1},whileHover:{zIndex:20},onClick:n,className:`relative flex items-center justify-center cursor-pointer transition-colors duration-200 ${e}`,tabIndex:0,role:"button",children:t})}function Vj({items:t,className:e="",itemClassName:n="",spring:r={mass:.1,stiffness:150,damping:12},magnification:i=1.15,distance:a=100,baseScale:s=1}){const o=Bj(1/0);return S.jsx(Fo.div,{onMouseMove:({pageX:l})=>o.set(l),onMouseLeave:()=>o.set(1/0),className:`flex items-center gap-2 px-2 py-1 ${e}`,children:t.map(l=>S.jsx(Det,{onClick:l.onClick,className:`${n} ${l.className||""}`,mouseX:o,spring:r,distance:a,magnification:i,baseScale:s,isActive:l.isActive,children:S.jsxs("div",{className:`
                        flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-300 border
                        ${l.isActive?"bg-gradient-to-br from-orange-500/20 to-red-500/20 border-orange-500/50 text-orange-100 shadow-[0_0_20px_-5px_rgba(249,115,22,0.3)]":"bg-white/5 border-white/5 text-neutral-400 hover:bg-white/10 hover:border-white/10 hover:text-neutral-200"}
                    `,children:[S.jsx("div",{className:`transition-transform duration-300 ${l.isActive?"text-orange-400":""}`,children:l.icon}),S.jsx("span",{className:"font-medium text-sm tracking-wide whitespace-nowrap",children:l.label}),l.isActive&&S.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-orange-500/10 to-transparent opacity-50 blur-sm pointer-events-none"})]})},l.id))})}const Let=({sources:t,selectedSources:e,onFileUpload:n,isProcessing:r,userId:i})=>{const[a,s]=E.useState("mindmap"),[o,l]=E.useState(!1),c=E.useRef(null),[u,f]=E.useState(null),[d,h]=E.useState(["Create a visual summary","Generate concept overview","Build presentation from key points","Create detailed report"]),[g,y]=E.useState(!1),[x,v]=E.useState(""),b=t.filter(M=>e.includes(M.id)),_=b.length>0?b:t,A={mindmap:"Mind Map",infographic:"Infographic",slidedeck:"Slide Deck",report:"Report"},T=M=>{v(M)};return E.useEffect(()=>{(async()=>{var I;if(_.length!==0){y(!0);try{const O={mindmap:"mind map visualization with connected concepts",infographic:"infographic with visual data representation",slidedeck:"presentation slide deck",report:"detailed document report"},P=await fetch("/api/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceIds:_.slice(0,3).map(k=>k.id),userId:i||"anonymous",featureType:"studio",featureContext:O[a]})});if(P.ok){const k=await P.json();((I=k.suggestions)==null?void 0:I.length)>0&&h(k.suggestions)}}catch(O){console.error("[Studio Suggestions] Failed:",O)}finally{y(!1)}}})()},[e,a,i]),S.jsxs("div",{className:"flex flex-col h-full bg-transparent text-white",children:[S.jsxs("div",{className:`flex items-center justify-between gap-4 border-b border-white/10 bg-black/40 backdrop-blur-md transition-all duration-300 cursor-pointer ${o?"px-4 py-1":"px-4 py-2"}`,onClick:()=>l(!o),children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`rounded-lg bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center transition-all ${o?"w-6 h-6":"w-8 h-8"}`,children:S.jsx(Jwe,{size:o?12:16,className:"text-white"})}),!o&&S.jsxs(S.Fragment,{children:[S.jsx("div",{children:S.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-orange-400 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"Studio"})}),S.jsx("div",{className:"ml-4",children:S.jsx(Vj,{items:[{id:"mindmap",label:"Mind Map",icon:S.jsx(Pte,{size:14}),onClick:()=>s("mindmap"),isActive:a==="mindmap"},{id:"infographic",label:"Infographic",icon:S.jsx(sD,{size:14}),onClick:()=>s("infographic"),isActive:a==="infographic"},{id:"slidedeck",label:"Slide Deck",icon:S.jsx(lD,{size:14}),onClick:()=>s("slidedeck"),isActive:a==="slidedeck"},{id:"report",label:"Report",icon:S.jsx(Wp,{size:14}),onClick:()=>s("report"),isActive:a==="report"}],magnification:1.1,distance:60,baseScale:1,className:"!bg-transparent !border-none !p-0 !gap-2"})})]}),o&&S.jsxs("span",{className:"text-sm font-medium text-neutral-400",children:["Studio  ",A[a]]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 flex items-center justify-center transition-all duration-200 group",children:S.jsx("div",{className:`text-neutral-500 group-hover:text-white transition-all duration-200 ${o?"":"rotate-180"}`,children:S.jsx(kP,{size:16})})}),!o&&S.jsxs("div",{className:"text-xs font-medium text-neutral-500 bg-white/5 px-2 py-1 rounded-full border border-white/5",children:[_.length," Source",_.length!==1?"s":""]})]})]}),S.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[S.jsx("div",{className:"w-56 border-r border-white/5 bg-black/30 flex-shrink-0 overflow-y-auto",children:S.jsx(SU,{storageKey:"ares_studio_history",title:"Studio History",onSelectItem:M=>{const I=localStorage.getItem(`ares_studio_${M.id}`);if(I)try{const O=JSON.parse(I);console.log("[Studio History] Restoring:",M.query,O),f(O.content),O.tab&&s(O.tab)}catch(O){console.error("[Studio History] Failed to restore:",O)}else console.warn("[Studio History] No content found for:",M.id)}})}),S.jsxs("div",{ref:c,className:"flex-1 overflow-auto relative",children:[_.length>0&&S.jsxs("div",{className:"p-4 border-b border-white/5 bg-black/20",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(Du,{size:14,className:"text-orange-400"}),S.jsx("span",{className:"text-xs text-neutral-400 uppercase tracking-wider",children:"AI Suggestions"})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:g?S.jsx("span",{className:"text-xs text-neutral-500",children:"Analyzing sources..."}):d.map((M,I)=>S.jsx("button",{onClick:()=>T(M),className:"px-3 py-1.5 text-xs bg-white/5 hover:bg-orange-500/20 border border-white/10 hover:border-orange-500/30 rounded-full text-neutral-300 hover:text-orange-400 transition-all cursor-pointer",children:M},I))})]}),a==="mindmap"&&S.jsx(VRe,{sources:_,onFileUpload:n,isProcessing:r,initialTopic:x,restoredContent:u,onClearRestored:()=>f(null)}),a==="infographic"&&S.jsx(qKe,{sources:_,onFileUpload:n,isProcessing:r,initialTopic:x,restoredContent:u,onClearRestored:()=>f(null)}),a==="slidedeck"&&S.jsx(XKe,{sources:_,onFileUpload:n,isProcessing:r,initialTopic:x,restoredContent:u,onClearRestored:()=>f(null)}),a==="report"&&S.jsx(KKe,{sources:_,onFileUpload:n,isProcessing:r,initialTopic:x,restoredContent:u,onClearRestored:()=>f(null)})]})]})]})},Uet=({initialQuery:t,restoredContent:e,onClearRestored:n})=>{const[r,i]=E.useState(""),[a,s]=E.useState(""),[o,l]=E.useState(!1),[c,u]=E.useState(null),[f,d]=E.useState(null);E.useEffect(()=>{t&&s(t)},[t]),E.useEffect(()=>{e&&(console.log("[YouTube] Restoring content:",e),e.response&&d(e.response),e.videoUrl&&i(e.videoUrl),e.query&&s(e.query),n&&setTimeout(n,100))},[e,n]);const h=async b=>{if(b.preventDefault(),!(!r.trim()||!a.trim())){l(!0),u(null),d(null);try{const _=await fetch("/api/agents/youtube",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoUrl:r.trim(),query:a.trim()})}),A=await _.json();if(!_.ok)throw new Error(A.error||"Failed to process request");d(A);const M=bm("ares_agents_history",a.trim(),"YouTube")[0].id;localStorage.setItem(`ares_agent_${M}`,JSON.stringify({content:{response:A,videoUrl:r.trim(),query:a.trim()},agent:"youtube"}))}catch(_){u(_ instanceof Error?_.message:"An error occurred")}finally{l(!1)}}},y=(b=>{try{const _=new URL(b);if(_.hostname.includes("youtube.com"))return _.searchParams.get("v");if(_.hostname.includes("youtu.be"))return _.pathname.slice(1)}catch{return null}return null})(r),[x,v]=E.useState(!1);return He.useEffect(()=>{f&&v(!0)},[f]),S.jsx("div",{className:"h-full flex flex-col",children:S.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:S.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[S.jsxs("div",{className:`bg-gradient-to-br from-red-500/5 to-orange-500/5 border border-red-500/20 rounded-2xl transition-all duration-300 ${x?"p-3":"p-6 space-y-6"}`,children:[S.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>f&&v(!x),children:[S.jsx("div",{className:`rounded-xl bg-red-500/10 flex items-center justify-center transition-all ${x?"w-8 h-8":"w-12 h-12"}`,children:S.jsx(kte,{size:x?16:24,className:"text-red-500"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h2",{className:`font-bold text-white ${x?"text-sm":"text-lg"}`,children:x&&y?`YouTube: ${y}`:"YouTube Video Agent"}),!x&&S.jsx("p",{className:"text-sm text-neutral-400",children:"Analyze any YouTube video by its transcript"})]}),f&&S.jsx("button",{className:"text-neutral-500 hover:text-white transition-colors p-1",children:S.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform ${x?"":"rotate-180"}`,children:S.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),!x&&S.jsxs(S.Fragment,{children:[S.jsxs("form",{onSubmit:h,className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Video URL"}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:"text",value:r,onChange:b=>i(b.target.value),placeholder:"https://youtube.com/watch?v=...",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-neutral-500 focus:outline-none focus:border-red-500/50 focus:ring-1 focus:ring-red-500/50 transition-all",disabled:o}),y&&S.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-red-500 transition-colors",children:S.jsx(Cte,{size:16})})]})]}),y&&S.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-black/40 aspect-video max-w-xs",children:[S.jsx("img",{src:`https://img.youtube.com/vi/${y}/mqdefault.jpg`,alt:"Video thumbnail",className:"w-full h-full object-cover"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),S.jsxs("div",{className:"absolute bottom-2 left-2 flex items-center gap-1.5 text-xs text-white/80",children:[S.jsx(iSe,{size:12,className:"fill-current"}),"Video Preview"]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Your Question"}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("input",{type:"text",value:a,onChange:b=>s(b.target.value),placeholder:"Summarize this video, What are the key points?, etc.",className:"flex-1 bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-neutral-500 focus:outline-none focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/50 transition-all",disabled:o}),S.jsx(Pi,{type:"submit",disabled:!r.trim()||!a.trim()||o,className:"px-6 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white rounded-xl shadow-lg shadow-red-500/20",children:o?S.jsx(Jo,{size:18,className:"animate-spin"}):S.jsx(iU,{size:18})})]})]})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:["Summarize this video","What are the key points?","Explain the main concept","List all tips mentioned"].map(b=>S.jsx("button",{onClick:()=>s(b),className:"text-xs px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-neutral-400 hover:text-white hover:border-red-500/50 hover:bg-red-500/10 transition-all",disabled:o,children:b},b))})]})]}),c&&S.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 text-red-400",children:[S.jsx("p",{className:"font-medium",children:"Error"}),S.jsx("p",{className:"text-sm mt-1",children:c})]}),o&&S.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-6 flex items-center gap-4",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center",children:S.jsx(Jo,{size:24,className:"text-purple-400 animate-spin"})}),S.jsxs("div",{children:[S.jsx("p",{className:"font-medium text-white",children:"Processing your request..."}),S.jsx("p",{className:"text-sm text-neutral-400",children:"Fetching transcript and analyzing with AI"})]})]}),f&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[S.jsx(Wp,{size:16}),S.jsxs("span",{className:"text-sm font-medium",children:["Transcript (",f.transcriptLength.toLocaleString()," characters)"]})]}),S.jsx("p",{className:"text-xs text-neutral-500 leading-relaxed line-clamp-3",children:f.transcript})]}),S.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500 via-red-500 to-orange-600 flex items-center justify-center shadow-lg shadow-orange-500/30",children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),S.jsx("path",{d:"M2 17l10 5 10-5"}),S.jsx("path",{d:"M2 12l10 5 10-5"})]})}),S.jsx("span",{className:"text-sm font-semibold text-orange-400 tracking-wide",children:"ARES Response"})]}),S.jsx("div",{className:"prose prose-sm max-w-none",children:S.jsx("div",{className:"text-neutral-300 text-sm leading-relaxed font-normal",style:{fontWeight:400},dangerouslySetInnerHTML:{__html:f.answer.replace(/^# (.*?)$/gm,'<h1 class="text-xl font-bold text-white mt-4 mb-2">$1</h1>').replace(/^## (.*?)$/gm,'<h2 class="text-lg font-bold text-white mt-3 mb-2">$1</h2>').replace(/^### (.*?)$/gm,'<h3 class="text-base font-bold text-white mt-2 mb-1">$1</h3>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold text-white">$1</strong>').replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^- (.*?)$/gm,'<li class="ml-4 list-disc">$1</li>').replace(/^\d+\. (.*?)$/gm,'<li class="ml-4 list-decimal">$1</li>').replace(/\n/g,"<br/>")}})})]})]})]})})})},zet="ARES_SECURE_STORAGE_v1",Hj="AES-GCM";async function qfe(){const t=[navigator.userAgent,navigator.language,screen.width.toString(),screen.height.toString(),new Date().getTimezoneOffset().toString()].join("|"),e=new TextEncoder,n=await crypto.subtle.importKey("raw",e.encode(t),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:e.encode(zet),iterations:1e5,hash:"SHA-256"},n,{name:Hj,length:256},!1,["encrypt","decrypt"])}async function Fet(t){try{const e=await qfe(),n=new TextEncoder,r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:Hj,iv:r},e,n.encode(t)),a=new Uint8Array(r.length+i.byteLength);return a.set(r),a.set(new Uint8Array(i),r.length),btoa(String.fromCharCode(...a))}catch(e){throw console.error("[SecureStorage] Encryption failed:",e),new Error("Encryption failed")}}async function jet(t){try{const e=await qfe(),n=Uint8Array.from(atob(t),s=>s.charCodeAt(0)),r=n.slice(0,12),i=n.slice(12),a=await crypto.subtle.decrypt({name:Hj,iv:r},e,i);return new TextDecoder().decode(a)}catch(e){throw console.error("[SecureStorage] Decryption failed:",e),new Error("Decryption failed")}}const DX={async setItem(t,e){try{const n=JSON.stringify(e),r=await Fet(n);localStorage.setItem(`secure_${t}`,r)}catch(n){console.error("[SecureStorage] Failed to save:",n)}},async getItem(t){try{const e=localStorage.getItem(`secure_${t}`);if(!e)return null;const n=await jet(e);return JSON.parse(n)}catch(e){return console.error("[SecureStorage] Failed to read:",e),localStorage.removeItem(`secure_${t}`),null}},removeItem(t){localStorage.removeItem(`secure_${t}`)},clear(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n!=null&&n.startsWith("secure_")&&t.push(n)}t.forEach(e=>localStorage.removeItem(e))}},LX="confluence_config",Bet=({initialInput:t,restoredContent:e,onClearRestored:n})=>{const[r,i]=E.useState("input"),[a,s]=E.useState(""),[o,l]=E.useState(""),[c,u]=E.useState(""),[f,d]=E.useState(!1),[h,g]=E.useState(null),[y,x]=E.useState(null),[v,b]=E.useState(!1);E.useEffect(()=>{t&&s(t)},[t]),E.useEffect(()=>{e&&(console.log("[Confluence] Restoring content:",e),e.sopContent&&u(e.sopContent),e.title&&l(e.title),e.knowledge&&s(e.knowledge),e.sopContent&&i("review"),n&&setTimeout(n,100))},[e,n]);const[_,A]=E.useState({baseUrl:"",email:"",apiToken:"",spaceKey:"",parentPageId:""}),[T,M]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const L=await DX.getItem(LX);L&&A(L)}catch{console.error("[Security] Failed to load encrypted config")}finally{b(!0)}})()},[]),E.useEffect(()=>{v&&(_.baseUrl||_.email||_.spaceKey)&&DX.setItem(LX,_)},[_,v]);const I=async()=>{if(!a.trim()||a.length<10){g("Please enter at least 10 characters of knowledge");return}d(!0),g(null);try{const N=await fetch("/api/agents/confluence/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({knowledge:a.trim(),title:o.trim()||void 0})}),L=await N.json();if(!N.ok)throw new Error(L.error||"Failed to generate SOP");u(L.sopContent),L.suggestedTitle&&!o&&l(L.suggestedTitle);const D=bm("ares_agents_history",o||L.suggestedTitle||"SOP Generation","Confluence")[0].id;localStorage.setItem(`ares_agent_${D}`,JSON.stringify({content:{sopContent:L.sopContent,title:o||L.suggestedTitle,knowledge:a.trim()},agent:"confluence"})),i("review")}catch(N){g(N instanceof Error?N.message:"An error occurred")}finally{d(!1)}},O=async()=>{if(!c||!o){g("Missing title or content");return}if(!_.baseUrl||!_.email||!_.apiToken||!_.spaceKey){g("Please configure your Confluence settings (URL, Email, API Token, and Space Key)"),M(!0);return}d(!0),g(null);try{const N=await fetch("/api/agents/confluence/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:o,content:c,confluenceUrl:_.baseUrl,confluenceEmail:_.email,confluenceToken:_.apiToken,spaceKey:_.spaceKey,parentPageId:_.parentPageId||void 0,action:"create"})}),L=await N.json();if(!N.ok)throw new Error(L.error||"Failed to publish");x(L),i("success")}catch(N){g(N instanceof Error?N.message:"An error occurred")}finally{d(!1)}},P=()=>{i("input"),s(""),l(""),u(""),g(null),x(null)},k=(N,L,B)=>{const D=["input","review","publish","success"],V=D.indexOf(r),F=D.indexOf(N),H=F===V,q=F<V;return S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all ${q?"bg-green-500 text-white":H?"bg-orange-500 text-white":"bg-white/10 text-neutral-500"}`,children:q?S.jsx(Uv,{size:16}):B}),S.jsx("span",{className:`text-sm ${H?"text-white font-medium":"text-neutral-500"}`,children:L}),B<4&&S.jsx(rU,{size:16,className:"text-neutral-600 mx-2"})]})};return S.jsx("div",{className:"h-full flex flex-col",children:S.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:S.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[S.jsxs("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/20 rounded-2xl p-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center",children:S.jsx(nU,{size:24,className:"text-white"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg font-bold text-white",children:"Confluence SOP Generator"}),S.jsx("p",{className:"text-sm text-neutral-400",children:"Create & publish SOPs directly to Confluence"})]})]}),S.jsxs("div",{className:"flex items-center justify-center py-4 bg-black/20 rounded-xl",children:[k("input","Input",1),k("review","Review",2),k("publish","Publish",3),k("success","Done",4)]})]}),h&&S.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 text-red-400",children:[S.jsx("p",{className:"font-medium",children:"Error"}),S.jsx("p",{className:"text-sm mt-1",children:h})]}),r==="input"&&S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Title (Optional)"}),S.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),placeholder:"e.g., How to Deploy to Production",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-neutral-500 focus:outline-none focus:border-orange-500/50 focus:ring-1 focus:ring-orange-500/50 transition-all",disabled:f})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Your Knowledge"}),S.jsx("textarea",{value:a,onChange:N=>s(N.target.value),placeholder:`Describe the process, steps, or knowledge you want to document as an SOP. Be as detailed as you like - the AI will structure it properly.\r
\r
Example:\r
When deploying to production, first we need to run the test suite. Then create a PR and get it reviewed. After approval, merge to main and the CI/CD pipeline will handle the rest. Make sure to monitor the deployment in Datadog...`,className:"w-full h-64 bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-neutral-500 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all resize-none",disabled:f}),S.jsxs("p",{className:"text-xs text-neutral-500",children:[a.length," characters"]})]}),S.jsx(Pi,{onClick:I,disabled:a.length<10||f,className:"w-full py-4 bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white rounded-xl shadow-lg shadow-orange-500/20",children:f?S.jsxs(S.Fragment,{children:[S.jsx(Jo,{size:18,className:"animate-spin mr-2"})," Generating SOP..."]}):S.jsxs(S.Fragment,{children:[S.jsx(Wp,{size:18,className:"mr-2"})," Generate SOP"]})})]})}),r==="review"&&S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[S.jsx(eSe,{size:18})," Review & Edit SOP"]}),S.jsxs(Pi,{onClick:()=>i("input"),variant:"ghost",className:"text-neutral-400 hover:text-white",children:[S.jsx(Ite,{size:16,className:"mr-2"})," Regenerate"]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Title"}),S.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500/50 focus:ring-1 focus:ring-orange-500/50 transition-all"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"SOP Content (Editable)"}),S.jsx("textarea",{value:c,onChange:N=>u(N.target.value),className:"w-full h-96 bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white font-mono text-sm focus:outline-none focus:border-orange-500/50 focus:ring-1 focus:ring-orange-500/50 transition-all resize-none"})]}),S.jsx("div",{className:"flex gap-3",children:S.jsxs(Pi,{onClick:()=>i("publish"),className:"flex-1 py-4 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-xl shadow-lg shadow-green-500/20",children:[S.jsx(Uv,{size:18,className:"mr-2"})," Confirm & Continue"]})})]})}),r==="publish"&&S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[S.jsx(Ote,{size:18})," Publish to Confluence"]}),S.jsxs(Pi,{onClick:()=>M(!T),variant:"ghost",className:"text-neutral-400 hover:text-white",children:[S.jsx(t9,{size:16,className:"mr-2"})," ",T?"Hide":"Show"," Settings"]})]}),T&&S.jsxs("div",{className:"bg-black/30 rounded-xl p-4 space-y-3 border border-orange-500/20",children:[S.jsxs("p",{className:"text-sm font-medium text-orange-400 flex items-center gap-2",children:[S.jsx(t9,{size:14})," Confluence Configuration"]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"col-span-2 space-y-1",children:[S.jsx("label",{className:"text-xs text-neutral-400",children:"Confluence URL"}),S.jsx("input",{type:"url",value:_.baseUrl,onChange:N=>A(L=>({...L,baseUrl:N.target.value})),placeholder:"https://yourcompany.atlassian.net",className:"w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm placeholder-neutral-500 focus:outline-none focus:border-orange-500/50"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-xs text-neutral-400",children:"Email"}),S.jsx("input",{type:"email",value:_.email,onChange:N=>A(L=>({...L,email:N.target.value})),placeholder:"your@email.com",className:"w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm placeholder-neutral-500 focus:outline-none focus:border-orange-500/50"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-xs text-neutral-400",children:"API Token"}),S.jsx("input",{type:"password",value:_.apiToken,onChange:N=>A(L=>({...L,apiToken:N.target.value})),placeholder:"",className:"w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm placeholder-neutral-500 focus:outline-none focus:border-orange-500/50"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-xs text-neutral-400",children:"Space Key"}),S.jsx("input",{type:"text",value:_.spaceKey,onChange:N=>A(L=>({...L,spaceKey:N.target.value})),placeholder:"e.g., DOCS, KB, TEAM",className:"w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm placeholder-neutral-500 focus:outline-none focus:border-orange-500/50"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-xs text-neutral-400",children:"Parent Page ID (Optional)"}),S.jsx("input",{type:"text",value:_.parentPageId,onChange:N=>A(L=>({...L,parentPageId:N.target.value})),placeholder:"e.g., 123456789",className:"w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-white text-sm placeholder-neutral-500 focus:outline-none focus:border-orange-500/50"})]})]}),S.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"Get your API token from: Atlassian Account  Security  API tokens"})]}),!T&&S.jsx("div",{className:`rounded-lg p-3 ${_.baseUrl&&_.email&&_.apiToken&&_.spaceKey?"bg-green-500/10 border border-green-500/20":"bg-yellow-500/10 border border-yellow-500/20"}`,children:S.jsx("p",{className:`text-sm ${_.baseUrl&&_.email&&_.apiToken&&_.spaceKey?"text-green-400":"text-yellow-400"}`,children:_.baseUrl&&_.email&&_.apiToken&&_.spaceKey?` Configured: ${_.baseUrl}  ${_.spaceKey}`:" Please configure your Confluence settings"})}),S.jsxs("div",{className:"bg-black/30 rounded-xl p-4",children:[S.jsx("p",{className:"text-sm text-neutral-400 mb-2",children:"Publishing:"}),S.jsx("p",{className:"text-white font-medium",children:o}),S.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:[c.length," characters"]})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx(Pi,{onClick:()=>i("review"),variant:"outline",className:"flex-1 py-4 border-white/20 text-white hover:bg-white/10 rounded-xl",children:"Back to Edit"}),S.jsx(Pi,{onClick:O,disabled:f||!_.baseUrl||!_.email||!_.apiToken||!_.spaceKey,className:"flex-1 py-4 bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white rounded-xl shadow-lg shadow-orange-500/20 disabled:opacity-50",children:f?S.jsxs(S.Fragment,{children:[S.jsx(Jo,{size:18,className:"animate-spin mr-2"})," Publishing..."]}):S.jsxs(S.Fragment,{children:[S.jsx(iU,{size:18,className:"mr-2"})," Publish to Confluence"]})})]})]})}),r==="success"&&y&&S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl p-8 text-center",children:[S.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500 flex items-center justify-center mx-auto mb-4",children:S.jsx(Uv,{size:32,className:"text-white"})}),S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Published Successfully!"}),S.jsx("p",{className:"text-neutral-400 mb-6",children:y.message}),S.jsxs("div",{className:"flex gap-3 justify-center",children:[S.jsxs("a",{href:y.pageUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl transition-colors",children:[S.jsx(Cte,{size:18})," View in Confluence"]}),S.jsx(Pi,{onClick:P,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white rounded-xl",children:"Create Another SOP"})]})]})})]})})})},Vet=({sources:t=[],selectedSources:e=[],userId:n})=>{const[r,i]=E.useState("youtube"),[a,s]=E.useState(!1),o=E.useRef(null),[l,c]=E.useState(["Summarize this YouTube video","Extract key insights from video","Create documentation from content","Generate SOP from video"]),[u,f]=E.useState(!1),[d,h]=E.useState(""),[g,y]=E.useState(null),x=_=>{h(_)},v=t.filter(_=>e.includes(_.id)),b=v.length>0?v:t;return E.useEffect(()=>{(async()=>{var A;if(t.length===0&&e.length===0){c(r==="youtube"?["Summarize YouTube video","Extract key points from video","Create notes from video content","Generate transcript summary"]:["Create Confluence page","Generate SOP documentation","Build knowledge article","Create how-to guide"]);return}f(!0);try{const T={youtube:"YouTube video analysis and summarization",confluence:"Confluence documentation and SOP creation"},M=await fetch("/api/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceIds:b.slice(0,3).map(I=>I.id),userId:n||"anonymous",featureType:"agents",featureContext:T[r]})});if(M.ok){const I=await M.json();((A=I.suggestions)==null?void 0:A.length)>0&&c(I.suggestions)}}catch(T){console.error("[Agent Suggestions] Failed:",T)}finally{f(!1)}})()},[e,r,n,t.length]),S.jsxs("div",{className:"flex flex-col h-full bg-transparent text-white",children:[S.jsxs("div",{className:`flex items-center justify-between gap-4 border-b border-white/10 bg-black/40 backdrop-blur-md transition-all duration-300 cursor-pointer ${a?"px-4 py-1":"px-4 py-2"}`,onClick:()=>s(!a),children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`rounded-lg bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center transition-all ${a?"w-6 h-6":"w-8 h-8"}`,children:S.jsx(Mte,{size:a?12:16,className:"text-white"})}),!a&&S.jsxs(S.Fragment,{children:[S.jsx("div",{children:S.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-purple-400 via-blue-500 to-cyan-400 bg-clip-text text-transparent",children:"Agents"})}),S.jsx("div",{className:"ml-4",children:S.jsx(Vj,{items:[{id:"youtube",label:"YouTube",icon:S.jsx(kte,{size:14}),onClick:()=>i("youtube"),isActive:r==="youtube"},{id:"confluence",label:"Confluence",icon:S.jsx(nU,{size:14}),onClick:()=>i("confluence"),isActive:r==="confluence"}],magnification:1.1,distance:60,baseScale:1,className:"!bg-transparent !border-none !p-0 !gap-2"})})]}),a&&S.jsxs("span",{className:"text-sm font-medium text-neutral-400",children:["Agents  ",r==="youtube"?"YouTube":"Confluence"]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 flex items-center justify-center transition-all duration-200 group",children:S.jsx("div",{className:`text-neutral-500 group-hover:text-white transition-all duration-200 ${a?"":"rotate-180"}`,children:S.jsx(kP,{size:16})})}),!a&&S.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-neutral-500 bg-white/5 px-2 py-1 rounded-full border border-white/5",children:[S.jsx(Du,{size:10,className:"text-purple-400"}),"MCP"]})]})]}),S.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[S.jsx("div",{className:"w-56 border-r border-white/5 bg-black/30 flex-shrink-0 overflow-y-auto",children:S.jsx(SU,{storageKey:"ares_agents_history",title:"Agent History",onSelectItem:_=>{const A=localStorage.getItem(`ares_agent_${_.id}`);if(A)try{const T=JSON.parse(A);console.log("[Agent History] Restoring:",_.query,T),T.agent&&i(T.agent),y(T.content)}catch(T){console.error("[Agent History] Failed to restore:",T)}else console.warn("[Agent History] No content found for:",_.id)}})}),S.jsxs("div",{ref:o,className:"flex-1 overflow-auto relative",children:[S.jsxs("div",{className:"p-4 border-b border-white/5 bg-black/20",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(Du,{size:14,className:"text-purple-400"}),S.jsx("span",{className:"text-xs text-neutral-400 uppercase tracking-wider",children:"AI Suggestions"})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:u?S.jsx("span",{className:"text-xs text-neutral-500",children:"Generating suggestions..."}):l.map((_,A)=>S.jsx("button",{onClick:()=>x(_),className:"px-3 py-1.5 text-xs bg-white/5 hover:bg-purple-500/20 border border-white/10 hover:border-purple-500/30 rounded-full text-neutral-300 hover:text-purple-400 transition-all cursor-pointer",children:_},A))})]}),r==="youtube"&&S.jsx(Uet,{initialQuery:d,restoredContent:g,onClearRestored:()=>y(null)}),r==="confluence"&&S.jsx(Bet,{initialInput:d,restoredContent:g,onClearRestored:()=>y(null)})]})]})]})},Het=({onSubmit:t,onFileUpload:e,onLinkSubmit:n,onTextSubmit:r,onNewChat:i,onStop:a,isLoading:s,disabled:o,value:l,onChange:c,hasMessages:u=!1})=>{const[f,d]=E.useState(!1),[h,g]=E.useState("chat"),y=E.useRef(null),x=E.useRef(null),v=E.useRef(null);E.useEffect(()=>{const I=O=>{x.current&&!x.current.contains(O.target)&&d(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const b=I=>{I==null||I.preventDefault(),!(!l.trim()||o||s)&&(h==="chat"?t(l.trim()):h==="link"&&n?(n(l.trim()),g("chat")):h==="text"&&r&&(r(l.trim()),g("chat")),c(""))},_=I=>{I.key==="Enter"&&!I.shiftKey?(I.preventDefault(),b()):I.key==="Escape"&&(g("chat"),d(!1))},A=I=>{var k;const O=(k=I.target.files)==null?void 0:k[0];if(!O||!e)return;const P=O.type.includes("pdf")?"pdf":O.type.includes("image")?"image":O.type.includes("audio")?"audio":null;P?e(O,P):alert("Unsupported file type"),d(!1),y.current&&(y.current.value="")},T=()=>{switch(h){case"link":return"Paste URL here...";case"text":return"Paste text content here...";default:return"Send a message..."}},M=()=>{switch(h){case"link":return S.jsx(e9,{size:20,className:"text-blue-500"});case"text":return S.jsx(Wp,{size:20,className:"text-green-500"});default:return S.jsx(owe,{size:20,className:"text-neutral-500"})}};return S.jsxs("div",{className:"w-full max-w-2xl mx-auto relative",children:[f&&S.jsx("div",{ref:x,className:"absolute bottom-full left-0 mb-4 bg-neutral-900 border border-neutral-800 rounded-xl shadow-xl overflow-hidden min-w-[200px] z-50 animate-in fade-in slide-in-from-bottom-2",children:S.jsxs("div",{className:"p-2 space-y-1",children:[e&&S.jsxs("button",{onClick:()=>{var I;return(I=y.current)==null?void 0:I.click()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-neutral-300 hover:bg-neutral-800 hover:text-white rounded-lg transition-colors text-left",children:[S.jsx(Pwe,{size:16,className:"text-orange-500"}),"Upload File"]}),n&&S.jsxs("button",{onClick:()=>{var I;g("link"),d(!1),(I=v.current)==null||I.focus()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-neutral-300 hover:bg-neutral-800 hover:text-white rounded-lg transition-colors text-left",children:[S.jsx(e9,{size:16,className:"text-blue-500"}),"Add Link"]}),r&&S.jsxs("button",{onClick:()=>{var I;g("text"),d(!1),(I=v.current)==null||I.focus()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-neutral-300 hover:bg-neutral-800 hover:text-white rounded-lg transition-colors text-left",children:[S.jsx(Wp,{size:16,className:"text-green-500"}),"Paste Text"]})]})}),S.jsx("input",{type:"file",ref:y,className:"hidden",accept:".pdf,image/*,audio/*",onChange:A}),S.jsxs("form",{onSubmit:b,className:"relative flex items-center gap-3",children:[S.jsx("button",{type:"button",onClick:()=>h==="chat"?d(!f):g("chat"),className:`flex-shrink-0 w-10 h-10 rounded-full border flex items-center justify-center transition-all duration-200 ${h!=="chat"?"bg-red-500/10 border-red-500/50 text-red-500 hover:bg-red-500/20":"bg-neutral-900 border-neutral-800 text-neutral-400 hover:text-white hover:border-neutral-700"}`,children:h!=="chat"?S.jsx(Nte,{size:20}):S.jsx(sSe,{size:20})}),u&&i&&S.jsx("button",{type:"button",onClick:i,title:"New Chat",className:"flex-shrink-0 w-10 h-10 rounded-full border bg-neutral-900 border-neutral-800 text-neutral-400 hover:text-orange-500 hover:border-orange-500/50 flex items-center justify-center transition-all duration-200",children:S.jsx(_Se,{size:18})}),S.jsxs("div",{className:`flex-1 flex items-center bg-neutral-900 border rounded-full px-4 py-2 transition-all duration-200 ${h==="link"?"border-blue-500/50 ring-1 ring-blue-500/20":h==="text"?"border-green-500/50 ring-1 ring-green-500/20":"border-neutral-800 hover:border-neutral-700 focus-within:border-orange-500/50 focus-within:ring-1 focus-within:ring-orange-500/50"}`,children:[S.jsx("input",{ref:v,type:"text",value:l,onChange:I=>c(I.target.value),onKeyDown:_,placeholder:T(),className:"flex-1 bg-transparent text-neutral-200 placeholder-neutral-500 outline-none text-sm min-h-[24px]",disabled:o||s,autoComplete:"off"}),S.jsx("div",{className:"flex-shrink-0 ml-2",children:M()})]}),s&&a?S.jsx(Pi,{type:"button",onClick:a,size:"icon",className:"flex-shrink-0 rounded-full shadow-lg bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-400 hover:text-red-300",children:S.jsx(SSe,{size:14,fill:"currentColor"})}):S.jsx(Pi,{type:"submit",variant:"premium-subtle",size:"icon",disabled:!l.trim()||o||s,className:"flex-shrink-0 rounded-full shadow-lg",children:s?S.jsx(Jo,{size:18,className:"animate-spin"}):S.jsx(iU,{size:18,className:"ml-0.5"})})]}),S.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-neutral-600 px-2",children:[S.jsx("span",{children:h==="chat"?"Press Enter to send":h==="link"?"Press Enter to add link":"Press Enter to add text"}),S.jsxs("span",{children:[l.length," chars"]})]}),o&&h==="chat"&&S.jsx("div",{className:"mt-2 text-sm text-orange-400 text-center",children:"Please add at least one source to ask questions"})]})},Get=()=>{const{open:t}=wU();return t?null:S.jsx("div",{className:"mr-2",children:S.jsx(CPe,{className:"text-neutral-400 hover:text-white"})})},UX=["#4da3ff","#00e5ff","#7ec0ff","#3B82F6","#60A5FA"],Wet=({enabled:t=!0})=>{const e=E.useRef(null),n=E.useRef([]),r=E.useRef({x:window.innerWidth/2,y:window.innerHeight/2}),i=E.useRef();return E.useEffect(()=>{if(!t)return;const a=e.current;if(!a)return;const s=a.getContext("2d");if(!s)return;const o=()=>{a.width=window.innerWidth,a.height=window.innerHeight};o(),window.addEventListener("resize",o);const l=()=>{n.current=[];const d=Math.floor(window.innerWidth*window.innerHeight/6e3);for(let h=0;h<d;h++)n.current.push(c())},c=()=>{const d=Math.random();return{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,targetX:Math.random()*window.innerWidth,targetY:Math.random()*window.innerHeight,size:2.5+d*5,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.05,opacity:.4+d*.6,depth:d,color:UX[Math.floor(Math.random()*UX.length)]}};l();const u=d=>{r.current={x:d.clientX,y:d.clientY}};window.addEventListener("mousemove",u);const f=()=>{s.clearRect(0,0,a.width,a.height);const d=r.current;n.current.forEach(h=>{const g=d.x-h.x,y=d.y-h.y,x=Math.sqrt(g*g+y*y),v=600,b=.08+h.depth*.1;if(x<v){const I=(1-x/v)*b;h.targetX=h.x+g*I,h.targetY=h.y+y*I}else h.targetX+=(Math.random()-.5)*2.5,h.targetY+=(Math.random()-.5)*2.5;const _=.08+h.depth*.05;h.x+=(h.targetX-h.x)*_,h.y+=(h.targetY-h.y)*_,h.x<-20&&(h.x=a.width+20),h.x>a.width+20&&(h.x=-20),h.y<-20&&(h.y=a.height+20),h.y>a.height+20&&(h.y=-20),h.rotation+=h.rotationSpeed,s.save(),s.translate(h.x,h.y),s.rotate(h.rotation);const A=h.size*.4,T=h.size*2.5;s.shadowColor=h.color,s.shadowBlur=10+h.depth*10,s.fillStyle=h.color,s.globalAlpha=h.opacity,s.beginPath();const M=A*.3;s.roundRect(-A/2,-T/2,A,T,M),s.fill(),s.restore()}),i.current=requestAnimationFrame(f)};return f(),()=>{window.removeEventListener("resize",o),window.removeEventListener("mousemove",u),i.current&&cancelAnimationFrame(i.current)}},[t]),t?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",style:{background:"radial-gradient(ellipse at center, transparent 40%, rgba(66, 133, 244, 0.08) 100%)"}}),S.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-0"})]}):null},$et=({onSignOut:t,user:e})=>{const[n,r]=E.useState([]),[i,a]=E.useState([]),[s,o]=E.useState(!1),[l,c]=E.useState(!1),[u,f]=E.useState([]),[d,h]=E.useState(null),[g,y]=E.useState(""),[x,v]=E.useState(!1),b=E.useRef(null),_=E.useRef(null),[A,T]=E.useState(!1),[M,I]=E.useState(!1),[O,P]=E.useState("chat"),[k,N]=E.useState([]),[L,B]=E.useState(""),[D,V]=E.useState(!1),[F,H]=E.useState(["What are the key points?","Summarize the main topics","Explain the core concepts","List important details"]),[q,W]=E.useState(!1);E.useEffect(()=>{e&&($(),Z())},[e]),E.useEffect(()=>{z()},[u,l]),E.useEffect(()=>{(async()=>{if(i.length===0){H(["What are the key points?","Summarize the main topics","Explain the core concepts","List important details"]);return}W(!0);try{const ye=await fetch("/api/suggestions",{method:"POST",headers:{"Content-Type":"application/json","X-User-Id":(e==null?void 0:e.uid)||""},body:JSON.stringify({sourceIds:i,userId:(e==null?void 0:e.uid)||"anonymous"})});if(ye.ok){const me=await ye.json();me.suggestions&&me.suggestions.length>0&&(H(me.suggestions),console.log("[Suggestions] AI suggestions loaded:",me.suggestions))}}catch(ye){console.error("[Suggestions] Failed to fetch:",ye)}finally{W(!1)}})()},[i,e]);const z=()=>{var xe;(xe=b.current)==null||xe.scrollIntoView({behavior:"smooth"})},$=async()=>{try{const ye=await(await fetch("/api/documents",{headers:{"X-User-Id":(e==null?void 0:e.uid)||""}})).json();r(ye.documents||[])}catch(xe){console.error("Failed to fetch sources:",xe)}},Z=async()=>{try{const ye=await(await fetch("/api/projects",{headers:{"X-User-Id":(e==null?void 0:e.uid)||""}})).json();N(ye.projects||[])}catch(xe){console.error("Failed to fetch projects:",xe)}},G=async(xe,ye,me,Pe=!1,K)=>{const j=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json","X-User-Id":(e==null?void 0:e.uid)||""},body:JSON.stringify({title:xe,content:ye,type:me,isStarred:Pe,thumbnail:K})});if(!j.ok)throw new Error("Failed to save source");return(await j.json()).id},ie=async(xe,ye)=>{o(!0),h(null);try{if(xe.includes("youtube.com")||xe.includes("youtu.be")){const Pe=await fetch("/api/process/youtube",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:xe})});if(!Pe.ok){const j=await Pe.json();throw new Error(j.error||"Failed to process YouTube video")}const K=await Pe.json();await G(K.title,K.content,"youtube",ye)}else{const Pe=await fetch("/api/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"scrape",payload:{url:xe}})});if(!Pe.ok)throw new Error("Failed to scrape website");const K=await Pe.json();await G(xe,K.content,"url",ye)}await $(),v(!1)}catch(me){h(me instanceof Error?me.message:"Failed to process URL")}finally{o(!1)}},ue=async(xe,ye)=>{o(!0),h(null);try{if(ye==="pdf"){const me=new FormData;me.append("file",xe);const Pe=await fetch("/api/upload",{method:"POST",headers:{"X-User-Id":(e==null?void 0:e.uid)||""},body:me});if(!Pe.ok){const j=await Pe.json().catch(()=>({}));throw new Error(j.error||`Upload failed: ${Pe.status}`)}const K=await Pe.json();console.log("[Upload] PDF uploaded successfully:",K.title)}else if(ye==="image"){const me=new FormData;me.append("image",xe);const Pe=await fetch("/api/process/image",{method:"POST",body:me});if(!Pe.ok){const ce=await Pe.json().catch(()=>({}));throw new Error(ce.error||`Image processing failed: ${Pe.status}`)}const K=new FileReader,ee=await new Promise(ce=>{K.onload=()=>ce(K.result),K.readAsDataURL(xe)}),re=await Pe.json(),se=await G(xe.name,re.text,"image",!1,ee);a(ce=>[...ce,se])}else if(ye==="audio"){const me=new FormData;me.append("audio",xe);const Pe=await fetch("/api/process/audio",{method:"POST",body:me});if(!Pe.ok)throw new Error("Failed to transcribe audio");const K=await Pe.json(),j=await G(xe.name,K.transcript,"audio");a(ee=>[...ee,j])}await $(),v(!1)}catch(me){console.error("Upload error:",me),h(me instanceof Error?me.message:"Failed to process file")}finally{o(!1)}},te=async()=>{const xe=prompt("Paste your text here:");if(xe){o(!0);try{await G("Pasted Text",xe,"text"),await $(),v(!1)}catch{h("Failed to save text")}finally{o(!1)}}},ae=async xe=>{try{await fetch(`/api/documents/${xe}`,{method:"DELETE",headers:{"X-User-Id":(e==null?void 0:e.uid)||""}}),await $(),a(ye=>ye.filter(me=>me!==xe))}catch{h("Failed to delete source")}},he=async(xe,ye)=>{try{await fetch(`/api/documents/${xe}`,{method:"PUT",headers:{"Content-Type":"application/json","X-User-Id":(e==null?void 0:e.uid)||""},body:JSON.stringify({title:ye})}),await $()}catch{h("Failed to rename source")}},le=xe=>{a(ye=>ye.includes(xe)?ye.filter(me=>me!==xe):[...ye,xe])},be=()=>{i.length===n.length?a([]):a(n.map(xe=>xe.id))},Ie=async()=>{var re;if(!g.trim())return;if(i.length===0){h("Please select at least one source");return}const xe=localStorage.getItem("ragQueryHistory"),ye=xe?JSON.parse(xe):[],me=[g,...ye.filter(se=>se!==g)].slice(0,10);localStorage.setItem("ragQueryHistory",JSON.stringify(me)),c(!0),h(null),I(!1);const Pe=Date.now(),K=g;y(""),f(se=>[...se,{id:Pe,query:K,timestamp:new Date}]);const ee=(re=bm("ares_chat_history",K)[0])==null?void 0:re.id;try{const se=n.filter(Ge=>i.includes(Ge.id)),ce=se.map(Ge=>Ge.content).join(`

`);_.current=new AbortController;const Oe=await fetch("/api/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rag",payload:{documentContent:ce,query:K,sourceDetails:se.map(Ge=>({id:Ge.id,title:Ge.title})),hybridSearch:!0,sophisticatedProcessing:!0}}),signal:_.current.signal});if(!Oe.ok)throw new Error("Query failed");const De=await Oe.json();T(!0),f(Ge=>{const rt=Ge.map(Re=>Re.id===Pe?{...Re,result:De}:Re);return ee&&(localStorage.setItem(`ares_convo_${ee}`,JSON.stringify(rt)),console.log("[History] Stored conversation for:",ee)),rt})}catch(se){se instanceof Error&&se.name==="AbortError"?(console.log("[Query] Request cancelled by user"),f(ce=>ce.map(Oe=>Oe.id===Pe?{...Oe,result:{synthesizedAnswer:" Generation stopped by user",rankedChunks:[]}}:Oe))):(console.error("Query error:",se),h(se instanceof Error?se.message:"Query failed"),f(ce=>ce.filter(Oe=>Oe.id!==Pe)),y(K))}finally{c(!1),_.current=null}},fe=()=>{_.current&&(_.current.abort(),console.log("[Query] Abort signal sent")),I(!0),T(!1)},Ye=async()=>{if(i.length===0){alert("Please select at least one source to create a project.");return}if(i.length>5){alert("You can select a maximum of 5 sources for a project.");return}const xe=prompt("Enter project name:");if(xe)try{const ye=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json","X-User-Id":(e==null?void 0:e.uid)||""},body:JSON.stringify({name:xe,source_ids:i})});if(!ye.ok){const me=await ye.json();throw new Error(me.error||"Failed to create project")}await Z(),alert("Project created successfully!")}catch(ye){console.error("Create project error:",ye),alert(ye instanceof Error?ye.message:"Failed to create project")}},we=async xe=>{const ye=prompt("Enter new project name:",xe.name);if(!(!ye||ye===xe.name))try{if(!(await fetch(`/api/projects/${xe.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-User-Id":(e==null?void 0:e.uid)||""},body:JSON.stringify({name:ye})})).ok)throw new Error("Failed to rename project");await Z()}catch(me){console.error("Rename project error:",me),alert("Failed to rename project")}},Te=async xe=>{if(confirm(`Are you sure you want to delete project "${xe.name}"?`))try{if(!(await fetch(`/api/projects/${xe.id}`,{method:"DELETE",headers:{"X-User-Id":(e==null?void 0:e.uid)||""}})).ok)throw new Error("Failed to delete project");await Z(),i.length>0&&JSON.stringify(i)===JSON.stringify(xe.source_ids)&&(a([]),f([]),y(""))}catch(ye){console.error("Delete project error:",ye),alert("Failed to delete project")}},Ee=xe=>{a(xe.source_ids),f([]),y("")},ke=n.filter(xe=>xe.title.toLowerCase().includes(L.toLowerCase())),Y=()=>{f([]),y("")};return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed inset-0 bg-black z-0"}),S.jsx(Wet,{}),S.jsxs(MPe,{children:[S.jsxs("div",{className:"flex h-screen bg-transparent overflow-hidden w-full relative z-10",children:[S.jsx(PPe,{user:e||void 0,onNewChat:Y,projects:k,onSelectProject:Ee,onCreateProject:Ye,searchQuery:L,onSearchChange:B,onRenameProject:we,onDeleteProject:Te,onOpenLibrary:()=>V(!0),onHistorySelect:xe=>{const ye=localStorage.getItem(`ares_convo_${xe.id}`);if(ye)try{const me=JSON.parse(ye);f(me),console.log("[History] Restored conversation:",xe.query)}catch(me){console.error("[History] Failed to restore:",me),y(xe.query)}else y(xe.query)},children:S.jsxs("div",{className:"mb-4",children:[S.jsx("h2",{className:"text-xs font-medium text-neutral-500 mb-2 px-2 uppercase tracking-wider",children:"Sources"}),S.jsx(zEe,{sources:ke,onDelete:ae,onRename:he,selectedSources:i,onToggleSource:le,onToggleAll:be})]})}),S.jsxs(TPe,{className:"bg-black/40 backdrop-blur-md flex-1 flex flex-col min-w-0",children:[S.jsxs("div",{className:"topbar",children:[S.jsxs("div",{className:"topbar-left",children:[S.jsx(Get,{}),S.jsx("div",{className:"flex items-center gap-2",children:S.jsx(Vj,{items:[{id:"chat",label:"Chat",icon:S.jsx(Wwe,{size:16}),onClick:()=>P("chat"),isActive:O==="chat"},{id:"studio",label:"Studio",icon:S.jsx(Lwe,{size:16}),onClick:()=>P("studio"),isActive:O==="studio"},{id:"agents",label:"Agents",icon:S.jsx(Mte,{size:16}),onClick:()=>P("agents"),isActive:O==="agents"}],magnification:1.1,distance:60,baseScale:1,className:"!bg-transparent !border-none !p-0"})})]}),S.jsx("div",{className:"topbar-center",children:"Enterprise Intelligence"}),S.jsxs("div",{className:"topbar-right",children:[u.length>0&&S.jsx(Pi,{variant:"ghost",size:"icon",onClick:Y,title:"New Chat",className:"rounded-full text-neutral-400 hover:text-orange-500 hover:bg-orange-500/10",children:S.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),S.jsx("path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z"})]})}),S.jsx(Pi,{variant:"premium",size:"icon",onClick:()=>v(!0),title:"Upload Documents",className:"rounded-full",children:S.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),S.jsx("polyline",{points:"17 8 12 3 7 8"}),S.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),S.jsx(Pi,{variant:"ghost",size:"icon",onClick:t,title:"Sign Out",className:"rounded-full text-neutral-400 hover:text-white",children:S.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),S.jsx("polyline",{points:"16 17 21 12 16 7"}),S.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}),O==="studio"?S.jsx("div",{className:"flex-1 overflow-hidden",children:S.jsx(Let,{sources:n,selectedSources:i,onFileUpload:ue,isProcessing:s,userId:e==null?void 0:e.uid})}):O==="agents"?S.jsx("div",{className:"flex-1 overflow-hidden",children:S.jsx(Vet,{sources:n,selectedSources:i,userId:e==null?void 0:e.uid})}):S.jsxs("div",{className:"chat-wrapper",children:[S.jsx("div",{className:"chat-messages",children:u.length===0?S.jsxs("div",{className:"welcome-container",children:[S.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Welcome to ARES"}),S.jsx("p",{className:"text-sm mb-6 text-neutral-400 max-w-md",children:"Upload documents or add links to get started."}),S.jsxs("div",{className:"w-full max-w-4xl space-y-12",children:[S.jsx("div",{className:"p-1",children:S.jsx(r9,{onSubmit:ie,isLoading:s})}),S.jsx("div",{className:"p-1",children:S.jsx(m9,{onFileUpload:ue,onTextUpload:te,isProcessing:s})})]})]}):S.jsxs("div",{className:"max-w-3xl mx-auto w-full",children:[u.map(xe=>S.jsxs(He.Fragment,{children:[S.jsxs("div",{className:"message-row user",children:[S.jsx("div",{className:"message-avatar user-avatar",children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),S.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),S.jsx("div",{className:"message-content",children:S.jsx("div",{className:"whitespace-pre-wrap",children:xe.query})})]}),S.jsxs("div",{className:"message-row model",children:[S.jsx("div",{className:"message-avatar model-avatar",children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h1a7 7 0 0 1 7-7V5.73C9.4 5.39 9 4.74 9 4a2 2 0 0 1 2-2z"}),S.jsx("path",{d:"M8 14h8"}),S.jsx("path",{d:"M11 17h2"})]})}),S.jsx("div",{className:"message-content",children:xe.result?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:S.jsx(APe,{text:xe.result.synthesizedAnswer||"",speed:10,onComplete:()=>T(!1),stopped:M})}),xe.result.rankedChunks&&xe.result.rankedChunks.length>0&&S.jsxs("div",{className:"mt-4 pt-4 border-t border-neutral-800",children:[S.jsxs("p",{className:"text-xs font-semibold text-neutral-400 mb-3 flex items-center gap-2",children:[S.jsx("svg",{className:"w-3.5 h-3.5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Sources Referenced"]}),S.jsx("div",{className:"space-y-2",children:xe.result.rankedChunks.slice(0,3).map((ye,me)=>S.jsxs("details",{className:"group rounded-lg border border-neutral-800 bg-neutral-900/50 hover:border-orange-500/30 transition-all duration-200",children:[S.jsxs("summary",{className:"px-4 py-3 cursor-pointer list-none select-none",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-md bg-gradient-to-br from-orange-500/20 to-orange-600/10 border border-orange-500/20",children:S.jsx("span",{className:"text-[10px] font-bold text-orange-400",children:ye.sourceIndex||me+1})}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-xs font-medium text-neutral-200",children:ye.documentTitle||`Source ${ye.sourceIndex||me+1}`}),S.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-neutral-500",children:[ye.pageNumber&&S.jsxs("span",{children:["Page ",ye.pageNumber]}),ye.sectionId&&S.jsxs("span",{children:["",ye.sectionId]})]})]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("span",{className:"px-2 py-0.5 text-[10px] font-medium rounded-full bg-orange-500/10 text-orange-400 border border-orange-500/20",children:[ye.relevanceScore,"% match"]}),S.jsx("svg",{className:"w-4 h-4 text-neutral-500 transition-transform duration-200 group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),S.jsx("p",{className:"mt-2 text-xs text-neutral-400 leading-relaxed line-clamp-2 group-open:hidden",children:ye.chunkText})]}),S.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-neutral-800/50",children:S.jsx("div",{className:"p-3 rounded-md bg-neutral-950/80 border border-neutral-800/50 max-h-64 overflow-y-auto",children:S.jsx("p",{className:"text-xs text-neutral-300 leading-relaxed whitespace-pre-wrap font-mono",children:ye.chunkText})})})]},me))})]})]}):S.jsxs("div",{className:"flex items-center gap-3 h-full",children:[S.jsxs("div",{className:"flex gap-1.5 items-center",children:[S.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),S.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),S.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),S.jsx("span",{className:"text-sm text-neutral-400 animate-pulse",children:"Analyzing sources..."})]})})]})]},xe.id)),S.jsx("div",{ref:b})]})}),S.jsxs("div",{className:"p-4 bg-black border-t border-neutral-800",children:[d&&S.jsxs("div",{className:"mb-4 bg-red-900/80 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm flex justify-between items-center backdrop-blur-sm",children:[S.jsx("span",{children:d}),S.jsx("button",{onClick:()=>h(null),className:"text-red-200 hover:text-white",children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),i.length>0&&u.length===0&&S.jsx("div",{className:"mb-3 flex flex-wrap gap-2 justify-center",children:q?S.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 text-sm",children:[S.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-bounce"}),S.jsx("span",{children:"Analyzing sources..."})]}):F.map((xe,ye)=>S.jsx("button",{onClick:()=>y(xe),className:"px-4 py-2 text-sm bg-white/5 hover:bg-orange-500/20 border border-white/10 hover:border-orange-500/30 rounded-full text-neutral-300 hover:text-orange-400 transition-all duration-200",children:xe},ye))}),S.jsx(Het,{onSubmit:Ie,onFileUpload:ue,onLinkSubmit:xe=>ie(xe,!1),onTextSubmit:async xe=>{o(!0);try{await G("Pasted Text",xe,"text"),await $()}catch{h("Failed to save text")}finally{o(!1)}},onNewChat:Y,onStop:fe,hasMessages:u.length>0,isLoading:l||s||A,disabled:l||s||i.length===0,value:g,onChange:y})]})]})]})]}),x&&S.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl shadow-orange-900/20",children:[S.jsxs("div",{className:"p-6 border-b border-neutral-800 flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Data Sources"}),S.jsx("button",{onClick:()=>v(!1),className:"text-neutral-400 hover:text-white",children:S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),S.jsxs("div",{className:"p-6 space-y-8",children:[S.jsxs("section",{children:[S.jsx("h3",{className:"text-sm font-medium text-neutral-400 mb-3",children:"Add from URL"}),S.jsx(r9,{onSubmit:ie,isLoading:s})]}),S.jsxs("section",{children:[S.jsx("h3",{className:"text-sm font-medium text-neutral-400 mb-3",children:"Upload Files"}),S.jsx(m9,{onFileUpload:ue,onTextUpload:te,isProcessing:s})]}),d&&S.jsx("div",{className:"bg-red-900/30 border border-red-700/50 text-red-300 px-4 py-3 rounded-lg text-sm",children:d})]})]})}),S.jsx(IPe,{isOpen:D,onClose:()=>V(!1),sources:n})]})]})},qet=({initialView:t="login"})=>{const[e,n]=E.useState(t==="signup"),[r,i]=E.useState(!1),[a,s]=E.useState(""),[o,l]=E.useState(""),[c,u]=E.useState("start"),[f,d]=E.useState(""),[h,g]=E.useState(""),[y,x]=E.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",country:""});E.useEffect(()=>{n(t==="signup")},[t]),E.useEffect(()=>{const _=setTimeout(()=>u("zoom"),100),A=setTimeout(()=>u("swiping"),600),T=setTimeout(()=>u("reveal"),1300),M=setTimeout(()=>u("complete"),2500);return()=>{clearTimeout(_),clearTimeout(A),clearTimeout(T),clearTimeout(M)}},[]);const v=async _=>{_.preventDefault(),s(""),i(!0);try{const A=await T1e(Ob,f,h),T=A.user.displayName||"",[M,...I]=T.split(" "),O=I.join(" ");await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:A.user.uid,email:A.user.email,firstName:M||"",lastName:O||""})});const P=await fetch("/api/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:A.user.uid,email:A.user.email})});if(P.ok){const{token:k}=await P.json();localStorage.setItem("auth_token",k),console.log("[Auth] JWT token obtained and stored")}}catch(A){s(A.message||"Login failed")}finally{i(!1)}},b=async _=>{if(_.preventDefault(),s(""),l(""),y.password!==y.confirmPassword){s("Passwords do not match");return}i(!0);try{const A=await M1e(Ob,y.email,y.password);await P1e(A.user,{displayName:`${y.firstName} ${y.lastName}`}),await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:A.user.uid,email:y.email,firstName:y.firstName,lastName:y.lastName,country:y.country})});const T=await fetch("/api/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:A.user.uid,email:y.email})});if(T.ok){const{token:M}=await T.json();localStorage.setItem("auth_token",M),console.log("[Auth] JWT token obtained and stored")}await pte(A.user),l(`Account created! Verification email sent to ${y.email}`)}catch(A){s(A.message||"Signup failed")}finally{i(!1)}};return S.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] flex items-center justify-center p-4 overflow-hidden relative",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2a2a2a] to-[#111]"}),S.jsx("div",{className:`absolute inset-0 z-5 transition-opacity duration-1000 ${c==="walking"||c==="zoom"||c==="swiping"?"opacity-100":"opacity-0"}`,children:S.jsxs("svg",{viewBox:"0 0 1000 600",className:"w-full h-full",preserveAspectRatio:"xMidYMid slice",children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"space-grad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[S.jsx("stop",{offset:"0%",stopColor:"#0a0a0a"}),S.jsx("stop",{offset:"100%",stopColor:"#1a0a00"})]}),S.jsxs("radialGradient",{id:"planet-grad",cx:"50%",cy:"50%",children:[S.jsx("stop",{offset:"0%",stopColor:"#ff6b00"}),S.jsx("stop",{offset:"100%",stopColor:"#8b2500"})]}),S.jsxs("linearGradient",{id:"building-grad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[S.jsx("stop",{offset:"0%",stopColor:"#1a1a1a"}),S.jsx("stop",{offset:"100%",stopColor:"#000"})]})]}),S.jsx("rect",{width:"1000",height:"600",fill:"url(#space-grad)"}),S.jsx("circle",{cx:"100",cy:"50",r:"1",fill:"#f97316",opacity:"0.8",className:"animate-pulse"}),S.jsx("circle",{cx:"300",cy:"100",r:"1.5",fill:"#fff",opacity:"0.6"}),S.jsx("circle",{cx:"500",cy:"80",r:"1",fill:"#f97316",opacity:"0.9"}),S.jsx("circle",{cx:"700",cy:"120",r:"1.5",fill:"#fff",opacity:"0.7",className:"animate-pulse"}),S.jsx("circle",{cx:"850",cy:"60",r:"1",fill:"#f97316",opacity:"0.8"}),S.jsx("circle",{cx:"200",cy:"150",r:"1",fill:"#fff",opacity:"0.5"}),S.jsx("circle",{cx:"600",cy:"40",r:"1.5",fill:"#f97316",opacity:"0.9",className:"animate-pulse"}),S.jsx("circle",{cx:"900",cy:"140",r:"1",fill:"#fff",opacity:"0.6"}),S.jsx("circle",{cx:"850",cy:"150",r:"80",fill:"url(#planet-grad)",opacity:"0.6"}),S.jsx("ellipse",{cx:"850",cy:"150",rx:"90",ry:"15",fill:"none",stroke:"#f97316",strokeWidth:"2",opacity:"0.4"}),S.jsx("circle",{cx:"200",cy:"200",r:"30",fill:"#2a2a2a",opacity:"0.5"}),S.jsxs("g",{opacity:"0.7",children:[S.jsx("rect",{x:"50",y:"400",width:"60",height:"200",fill:"url(#building-grad)"}),S.jsx("rect",{x:"50",y:"400",width:"60",height:"10",fill:"#f97316",opacity:"0.3"}),S.jsx("rect",{x:"65",y:"420",width:"5",height:"5",fill:"#f97316",className:"animate-pulse"}),S.jsx("rect",{x:"85",y:"440",width:"5",height:"5",fill:"#f97316",opacity:"0.7"}),S.jsx("rect",{x:"150",y:"350",width:"70",height:"250",fill:"url(#building-grad)"}),S.jsx("rect",{x:"150",y:"350",width:"70",height:"12",fill:"#f97316",opacity:"0.4"}),S.jsx("rect",{x:"170",y:"380",width:"6",height:"6",fill:"#f97316"}),S.jsx("rect",{x:"190",y:"400",width:"6",height:"6",fill:"#f97316",className:"animate-pulse"}),S.jsx("rect",{x:"700",y:"380",width:"65",height:"220",fill:"url(#building-grad)"}),S.jsx("rect",{x:"700",y:"380",width:"65",height:"10",fill:"#f97316",opacity:"0.3"}),S.jsx("rect",{x:"720",y:"410",width:"5",height:"5",fill:"#f97316",className:"animate-pulse"}),S.jsx("rect",{x:"800",y:"420",width:"80",height:"180",fill:"url(#building-grad)"}),S.jsx("rect",{x:"820",y:"450",width:"6",height:"6",fill:"#f97316"})]}),S.jsxs("g",{className:"animate-shuttle-1",children:[S.jsx("path",{d:"M400,250 L420,245 L425,250 L420,255 Z",fill:"#f97316",opacity:"0.8"}),S.jsx("circle",{cx:"405",cy:"250",r:"2",fill:"#fff"}),S.jsx("path",{d:"M420,250 L435,250 L433,248 L433,252 Z",fill:"#ff8c00"})]}),S.jsxs("g",{className:"animate-shuttle-2",children:[S.jsx("path",{d:"M600,180 L615,177 L618,180 L615,183 Z",fill:"#f97316",opacity:"0.7"}),S.jsx("circle",{cx:"605",cy:"180",r:"1.5",fill:"#fff"}),S.jsx("path",{d:"M615,180 L625,180 L623,178 L623,182 Z",fill:"#ff8c00"})]}),S.jsxs("g",{opacity:"0.4",children:[S.jsx("path",{d:"M250,320 L260,318 L262,320 L260,322 Z",fill:"#f97316"}),S.jsx("path",{d:"M260,320 L268,320 L267,319 L267,321 Z",fill:"#ff8c00"})]})]})}),S.jsx("div",{className:`absolute inset-0 z-10 pointer-events-none transition-opacity duration-1000 ${c==="complete"?"opacity-0":"opacity-100"}`,children:S.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:S.jsxs("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-700 ${c==="zoom"||c==="swiping"||c==="reveal"?"opacity-100":"opacity-0"}`,children:[S.jsx("div",{className:`absolute right-[10%] top-1/2 -translate-y-1/2 w-12 h-[60vh] bg-neutral-900 border-l border-orange-500/50 shadow-[0_0_50px_rgba(249,115,22,0.2)] transition-transform duration-1000 ${c==="swiping"?"translate-x-0":"translate-x-[200px]"}`,children:S.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-0 w-2 h-40 bg-orange-500 shadow-[0_0_30px_orange] rounded-r-full animate-pulse"})}),S.jsx("div",{className:`relative w-[600px] h-[600px] transition-transform duration-[800ms] ease-[cubic-bezier(0.2,0.8,0.2,1)] ${c==="swiping"?"translate-x-[200px]":c==="reveal"?"translate-x-[800px]":"-translate-x-[400px]"}`,children:S.jsxs("svg",{viewBox:"0 0 500 500",className:"w-full h-full drop-shadow-[0_20px_50px_rgba(0,0,0,0.8)]",children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"sleeve-grad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[S.jsx("stop",{offset:"0%",stopColor:"#171717"}),S.jsx("stop",{offset:"100%",stopColor:"#000000"})]}),S.jsxs("linearGradient",{id:"skin-grad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[S.jsx("stop",{offset:"0%",stopColor:"#fdba74"}),S.jsx("stop",{offset:"100%",stopColor:"#fb923c"})]})]}),S.jsx("path",{d:"M-100,500 L200,300 L280,380 L-50,550 Z",fill:"url(#sleeve-grad)",stroke:"#f97316",strokeWidth:"2"}),S.jsx("path",{d:"200,300 L280,380",stroke:"#f97316",strokeWidth:"4"}),S.jsx("path",{d:"M210,310 Q260,260 310,290 L330,330 Q290,390 260,360 Z",fill:"url(#skin-grad)"}),S.jsx("ellipse",{cx:"320",cy:"300",rx:"18",ry:"45",transform:"rotate(-30 320 300)",fill:"url(#skin-grad)"}),S.jsx("ellipse",{cx:"340",cy:"320",rx:"18",ry:"45",transform:"rotate(-30 340 320)",fill:"url(#skin-grad)"}),S.jsxs("g",{transform:"rotate(-10 360 260)",children:[S.jsx("rect",{x:"300",y:"200",width:"220",height:"130",rx:"12",fill:"#000",stroke:"#f97316",strokeWidth:"2"}),S.jsx("rect",{x:"300",y:"230",width:"220",height:"40",fill:"rgba(249,115,22,0.1)"}),S.jsx("circle",{cx:"340",cy:"270",r:"25",fill:"rgba(249,115,22,0.2)"}),S.jsx("rect",{x:"380",y:"260",width:"100",height:"10",rx:"2",fill:"rgba(249,115,22,0.4)"}),S.jsx("rect",{x:"380",y:"280",width:"60",height:"10",rx:"2",fill:"rgba(249,115,22,0.4)"}),S.jsx("text",{x:"480",y:"310",fontFamily:"sans-serif",fontSize:"16",fill:"#f97316",fontWeight:"bold",textAnchor:"end",children:"ARES"})]}),S.jsx("ellipse",{cx:"350",cy:"350",rx:"25",ry:"60",transform:"rotate(-60 350 350)",fill:"url(#skin-grad)"})]})})]})})}),S.jsxs("div",{className:`relative bg-neutral-900 rounded-3xl shadow-2xl overflow-hidden w-[900px] max-w-full min-h-[600px] border border-neutral-800 z-50 transition-all duration-800 ${c==="reveal"||c==="complete"?"scale-100 opacity-100":"scale-75 opacity-0"}`,children:[S.jsx("div",{className:`absolute top-0 h-full transition-all duration-600 left-0 w-1/2 opacity-0 z-10 ${e?"translate-x-full opacity-100 z-50":""}`,children:S.jsxs("form",{onSubmit:b,className:"bg-neutral-900 flex flex-col items-center justify-center h-full px-10 space-y-4",children:[S.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),a&&S.jsx("div",{className:"text-red-400 text-xs bg-red-500/10 p-2 rounded w-full",children:a}),o&&S.jsx("div",{className:"text-green-400 text-xs bg-green-500/10 p-2 rounded w-full",children:o}),S.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[S.jsx("input",{type:"text",placeholder:"First Name",value:y.firstName,onChange:_=>x({...y,firstName:_.target.value}),className:"bg-neutral-800 border-none p-3 rounded-lg text-sm text-white outline-none focus:ring-1 focus:ring-orange-500 w-full",required:!0}),S.jsx("input",{type:"text",placeholder:"Last Name",value:y.lastName,onChange:_=>x({...y,lastName:_.target.value}),className:"bg-neutral-800 border-none p-3 rounded-lg text-sm text-white outline-none focus:ring-1 focus:ring-orange-500 w-full",required:!0})]}),S.jsx("input",{type:"text",placeholder:"Country",value:y.country,onChange:_=>x({...y,country:_.target.value}),className:"bg-neutral-800 border-none p-3 rounded-lg text-sm text-white outline-none focus:ring-1 focus:ring-orange-500 w-full",required:!0}),S.jsx("input",{type:"email",placeholder:"Email",value:y.email,onChange:_=>x({...y,email:_.target.value}),className:"bg-neutral-800 border-none p-3 rounded-lg text-sm text-white outline-none focus:ring-1 focus:ring-orange-500 w-full",required:!0}),S.jsx("input",{type:"password",placeholder:"Password",value:y.password,onChange:_=>x({...y,password:_.target.value}),className:"bg-neutral-800 border-none p-3 rounded-lg text-sm text-white outline-none focus:ring-1 focus:ring-orange-500 w-full",required:!0}),S.jsx("input",{type:"password",placeholder:"Confirm Password",value:y.confirmPassword,onChange:_=>x({...y,confirmPassword:_.target.value}),className:"bg-neutral-800 border-none p-3 rounded-lg text-sm text-white outline-none focus:ring-1 focus:ring-orange-500 w-full",required:!0}),S.jsx("button",{type:"submit",disabled:r,className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white text-xs font-bold py-3 px-10 rounded-lg uppercase tracking-wider mt-4 hover:shadow-lg hover:shadow-orange-500/30 transition-all transform hover:scale-105 disabled:opacity-50",children:r?"Creating...":"Sign Up"})]})}),S.jsx("div",{className:`absolute top-0 h-full transition-all duration-600 left-0 w-1/2 z-20 ${e?"translate-x-full":""}`,children:S.jsxs("form",{onSubmit:v,className:"bg-neutral-900 flex flex-col items-center justify-center h-full px-10 space-y-4",children:[S.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Sign In"}),a&&S.jsx("div",{className:"text-red-400 text-xs bg-red-500/10 p-2 rounded w-full",children:a}),S.jsx("input",{type:"email",placeholder:"Email",value:f,onChange:_=>d(_.target.value),className:"bg-neutral-800 border-none p-3 rounded-lg text-sm text-white outline-none focus:ring-1 focus:ring-orange-500 w-full",required:!0}),S.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:_=>g(_.target.value),className:"bg-neutral-800 border-none p-3 rounded-lg text-sm text-white outline-none focus:ring-1 focus:ring-orange-500 w-full",required:!0}),S.jsx("button",{type:"submit",disabled:r,className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white text-xs font-bold py-3 px-10 rounded-lg uppercase tracking-wider mt-4 hover:shadow-lg hover:shadow-orange-500/30 transition-all transform hover:scale-105 disabled:opacity-50",children:r?"Signing In...":"Sign In"})]})}),S.jsx("div",{className:`absolute top-0 left-1/2 w-1/2 h-full overflow-hidden transition-all duration-600 z-[100] rounded-l-[100px] ${e?"-translate-x-full rounded-l-none rounded-r-[100px]":""}`,children:S.jsxs("div",{className:`bg-gradient-to-r from-orange-600 to-orange-500 text-white relative -left-full h-full w-[200%] transition-all duration-600 ${e?"translate-x-1/2":"translate-x-0"}`,children:[S.jsxs("div",{className:`absolute w-1/2 h-full flex flex-col items-center justify-center px-8 text-center top-0 transition-all duration-600 ${e?"translate-x-0":"-translate-x-[200%]"}`,children:[S.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Welcome Back!"}),S.jsx("p",{className:"text-sm mb-8",children:"Enter your details to access all features"}),S.jsx("button",{onClick:()=>n(!1),className:"bg-transparent border border-white text-white text-xs font-bold py-3 px-10 rounded-lg uppercase hover:bg-white hover:text-orange-600 transition-all",children:"Sign In"})]}),S.jsxs("div",{className:`absolute w-1/2 h-full flex flex-col items-center justify-center px-8 text-center top-0 right-0 transition-all duration-600 ${e?"translate-x-[200%]":"translate-x-0"}`,children:[S.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Hello, Friend!"}),S.jsx("p",{className:"text-sm mb-8",children:"Register to access all features"}),S.jsx("button",{onClick:()=>n(!0),className:"bg-transparent border border-white text-white text-xs font-bold py-3 px-10 rounded-lg uppercase hover:bg-white hover:text-orange-600 transition-all",children:"Sign Up"})]})]})})]}),S.jsx("style",{children:`
                @keyframes move {
                    0%, 49.99% { opacity: 0; z-index: 1; }
                    50%, 100% { opacity: 1; z-index: 5; }
                }
                .animate-move {
                    animation: move 0.6s;
                }
                @keyframes shuttle-1 {
                    0% { transform: translate(0, 0); }
                    50% { transform: translate(30px, -10px); }
                    100% { transform: translate(60px, -5px); }
                }
                .animate-shuttle-1 {
                    animation: shuttle-1 8s ease-in-out infinite;
                }
                @keyframes shuttle-2 {
                    0% { transform: translate(0, 0); }
                    50% { transform: translate(-25px, 8px); }
                    100% { transform: translate(-50px, 3px); }
                }
                .animate-shuttle-2 {
                    animation: shuttle-2 10s ease-in-out infinite;
                }
            `})]})};function Xet({onComplete:t}){const[e,n]=E.useState(!1),r=(i,a)=>{a.offset.y<-100&&(n(!0),setTimeout(t,800))};return S.jsx(afe,{children:!e&&S.jsxs(Fo.div,{initial:{opacity:1},exit:{opacity:0,y:"-100%"},transition:{duration:.8,ease:[.22,1,.36,1]},className:"fixed inset-0 z-50 flex flex-col items-center justify-between bg-black text-white p-8 cursor-grab active:cursor-grabbing",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.2,onDragEnd:r,children:[S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center pointer-events-none",children:[S.jsx(Fo.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-4xl md:text-6xl font-bold tracking-[0.2em]",children:"RAGQUERY"}),S.jsx(Fo.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-4 text-neutral-500 tracking-widest text-sm uppercase",children:"Experience Intelligence"})]}),S.jsxs("div",{className:"pointer-events-none flex flex-col items-center gap-4 mb-12",children:[S.jsx(Fo.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:S.jsx(xwe,{className:"w-6 h-6 text-neutral-400"})}),S.jsx(Fo.p,{className:"text-neutral-500 text-xs tracking-[0.3em] uppercase",animate:{opacity:[.4,1,.4]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},children:"Swipe Up to Enter"})]})]})})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const _y="182",Ket={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Yet={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Xfe=0,h4=1,Kfe=2,Zet=3,Yfe=0,$v=1,$b=2,mp=3,af=0,ns=1,jo=2,Ll=0,Rp=1,p4=2,m4=3,g4=4,Zfe=5,hd=100,Jfe=101,Qfe=102,ede=103,tde=104,nde=200,rde=201,ide=202,ade=203,uC=204,fC=205,sde=206,ode=207,lde=208,cde=209,ude=210,fde=211,dde=212,hde=213,pde=214,dC=0,hC=1,pC=2,am=3,mC=4,gC=5,vC=6,yC=7,Tw=0,mde=1,gde=2,Ko=0,Gj=1,Wj=2,$j=3,tI=4,qj=5,Xj=6,Kj=7,v4="attached",vde="detached",Wd=300,jl=301,$d=302,T0=303,e_=304,wy=306,t_=1e3,ri=1001,n_=1002,di=1003,Yj=1004,Jet=1004,wv=1005,Qet=1005,mn=1006,qb=1007,ett=1007,mc=1008,y4=1008,ia=1009,nI=1010,rI=1011,C0=1012,Cw=1013,go=1014,Ar=1015,Gr=1016,iI=1017,aI=1018,P0=1020,Zj=35902,Jj=35899,Qj=1021,eB=1022,hi=1023,Cc=1026,xd=1027,Pw=1028,Iw=1029,sm=1030,sI=1031,ttt=1032,oI=1033,Xb=33776,Kb=33777,Yb=33778,Zb=33779,xC=35840,bC=35841,_C=35842,wC=35843,SC=36196,EC=37492,AC=37496,MC=37488,TC=37489,CC=37490,PC=37491,IC=37808,OC=37809,kC=37810,NC=37811,RC=37812,DC=37813,LC=37814,UC=37815,zC=37816,FC=37817,jC=37818,BC=37819,VC=37820,HC=37821,GC=36492,WC=36494,$C=36495,qC=36283,XC=36284,KC=36285,YC=36286,yde=2200,xde=2201,bde=2202,r_=2300,ZC=2301,eM=2302,gp=2400,vp=2401,i_=2402,lI=2500,tB=2501,ntt=0,rtt=1,itt=2,_de=3200,wde=3201,att=3202,stt=3203,oh=0,Sde=1,xu="",wa="srgb",Bl="srgb-linear",a_="linear",$n="srgb",ott="",ltt="rg",ctt="ga",utt=0,ap=7680,ftt=7681,dtt=7682,htt=7683,ptt=34055,mtt=34056,gtt=5386,vtt=512,ytt=513,xtt=514,btt=515,_tt=516,wtt=517,Stt=518,x4=519,Ede=512,Ade=513,Mde=514,cI=515,Tde=516,Cde=517,uI=518,Pde=519,s_=35044,Ett=35048,Att=35040,Mtt=35045,Ttt=35049,Ctt=35041,Ptt=35046,Itt=35050,Ott=35042,ktt="100",b4="300 es",ro=2e3,I0=2001,Ntt={COMPUTE:"compute",RENDER:"render"},Rtt={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Dtt={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function Ide(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Ltt={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sv(t,e){return new Ltt[t](e)}function Ode(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function o_(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function kde(){const t=o_("canvas");return t.style.display="block",t}const zX={};let qd=null;function Utt(t){qd=t}function ztt(){return qd}function l_(...t){const e="THREE."+t.shift();qd?qd("log",e,...t):console.log(e,...t)}function At(...t){const e="THREE."+t.shift();qd?qd("warn",e,...t):console.warn(e,...t)}function Ft(...t){const e="THREE."+t.shift();qd?qd("error",e,...t):console.error(e,...t)}function O0(...t){const e=t.join(" ");e in zX||(zX[e]=!0,At(...t))}function Ftt(t,e,n){return new Promise(function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}class Lc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}const Na=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let FX=1234567;const Dp=Math.PI/180,k0=180/Math.PI;function co(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Na[t&255]+Na[t>>8&255]+Na[t>>16&255]+Na[t>>24&255]+"-"+Na[e&255]+Na[e>>8&255]+"-"+Na[e>>16&15|64]+Na[e>>24&255]+"-"+Na[n&63|128]+Na[n>>8&255]+"-"+Na[n>>16&255]+Na[n>>24&255]+Na[r&255]+Na[r>>8&255]+Na[r>>16&255]+Na[r>>24&255]).toLowerCase()}function $t(t,e,n){return Math.max(e,Math.min(n,t))}function nB(t,e){return(t%e+e)%e}function jtt(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Btt(t,e,n){return t!==e?(n-t)/(e-t):0}function Jb(t,e,n){return(1-n)*t+n*e}function Vtt(t,e,n,r){return Jb(t,e,1-Math.exp(-n*r))}function Htt(t,e=1){return e-Math.abs(nB(t,e*2)-e)}function Gtt(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Wtt(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function $tt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function qtt(t,e){return t+Math.random()*(e-t)}function Xtt(t){return t*(.5-Math.random())}function Ktt(t){t!==void 0&&(FX=t);let e=FX+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Ytt(t){return t*Dp}function Ztt(t){return t*k0}function Jtt(t){return(t&t-1)===0&&t!==0}function Qtt(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ent(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function tnt(t,e,n,r,i){const a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),c=a((e+r)/2),u=s((e+r)/2),f=a((e-r)/2),d=s((e-r)/2),h=a((r-e)/2),g=s((r-e)/2);switch(i){case"XYX":t.set(o*u,l*f,l*d,o*c);break;case"YZY":t.set(l*d,o*u,l*f,o*c);break;case"ZXZ":t.set(l*f,l*d,o*u,o*c);break;case"XZX":t.set(o*u,l*g,l*h,o*c);break;case"YXY":t.set(l*h,o*u,l*g,o*c);break;case"ZYZ":t.set(l*g,l*h,o*u,o*c);break;default:At("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ja(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function un(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Xa={DEG2RAD:Dp,RAD2DEG:k0,generateUUID:co,clamp:$t,euclideanModulo:nB,mapLinear:jtt,inverseLerp:Btt,lerp:Jb,damp:Vtt,pingpong:Htt,smoothstep:Gtt,smootherstep:Wtt,randInt:$tt,randFloat:qtt,randFloatSpread:Xtt,seededRandom:Ktt,degToRad:Ytt,radToDeg:Ztt,isPowerOfTwo:Jtt,ceilPowerOfTwo:Qtt,floorPowerOfTwo:ent,setQuaternionFromProperEuler:tnt,normalize:un,denormalize:Ja};class tt{constructor(e=0,n=0){tt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=$t(this.x,e.x,n.x),this.y=$t(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=$t(this.x,e,n),this.y=$t(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar($t(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos($t(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Vi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3],d=a[s+0],h=a[s+1],g=a[s+2],y=a[s+3];if(o<=0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(o>=1){e[n+0]=d,e[n+1]=h,e[n+2]=g,e[n+3]=y;return}if(f!==y||l!==d||c!==h||u!==g){let x=l*d+c*h+u*g+f*y;x<0&&(d=-d,h=-h,g=-g,y=-y,x=-x);let v=1-o;if(x<.9995){const b=Math.acos(x),_=Math.sin(b);v=Math.sin(v*b)/_,o=Math.sin(o*b)/_,l=l*v+d*o,c=c*v+h*o,u=u*v+g*o,f=f*v+y*o}else{l=l*v+d*o,c=c*v+h*o,u=u*v+g*o,f=f*v+y*o;const b=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=b,c*=b,u*=b,f*=b}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=a[s],d=a[s+1],h=a[s+2],g=a[s+3];return e[n]=o*g+u*f+l*h-c*d,e[n+1]=l*g+u*d+c*f-o*h,e[n+2]=c*g+u*h+o*d-l*f,e[n+3]=u*g-o*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),f=o(a/2),d=l(r/2),h=l(i/2),g=l(a/2);switch(s){case"XYZ":this._x=d*u*f+c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f-d*h*g;break;case"YXZ":this._x=d*u*f+c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f+d*h*g;break;case"ZXY":this._x=d*u*f-c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f-d*h*g;break;case"ZYX":this._x=d*u*f-c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f+d*h*g;break;case"YZX":this._x=d*u*f+c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f-d*h*g;break;case"XZY":this._x=d*u*f-c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f+d*h*g;break;default:At("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],s=n[1],o=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+o+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>f){const h=2*Math.sqrt(1+r-o-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>f){const h=2*Math.sqrt(1+o-r-f);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($t(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,s=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,a=e._z,s=e._w,o=this.dot(e);o<0&&(r=-r,i=-i,a=-a,s=-s,o=-o);let l=1-n;if(o<.9995){const c=Math.acos(o),u=Math.sin(c);l=Math.sin(l*c)/u,n=Math.sin(n*c)/u,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+a*n,this._w=this._w*l+s*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+a*n,this._w=this._w*l+s*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,n=0,r=0){oe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(jX.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(jX.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*i-o*r),u=2*(o*n-a*i),f=2*(a*r-s*n);return this.x=n+l*c+s*f-o*u,this.y=r+l*u+o*c-a*f,this.z=i+l*f+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=$t(this.x,e.x,n.x),this.y=$t(this.y,e.y,n.y),this.z=$t(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=$t(this.x,e,n),this.y=$t(this.y,e,n),this.z=$t(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar($t(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,s=n.x,o=n.y,l=n.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return QN.copy(this).projectOnVector(e),this.sub(QN)}reflect(e){return this.sub(QN.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos($t(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const QN=new oe,jX=new Vi;class nn{constructor(e,n,r,i,a,s,o,l,c){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,c)}set(e,n,r,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=n,u[4]=a,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],h=r[5],g=r[8],y=i[0],x=i[3],v=i[6],b=i[1],_=i[4],A=i[7],T=i[2],M=i[5],I=i[8];return a[0]=s*y+o*b+l*T,a[3]=s*x+o*_+l*M,a[6]=s*v+o*A+l*I,a[1]=c*y+u*b+f*T,a[4]=c*x+u*_+f*M,a[7]=c*v+u*A+f*I,a[2]=d*y+h*b+g*T,a[5]=d*x+h*_+g*M,a[8]=d*v+h*A+g*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*o*c-r*a*u+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=u*s-o*c,d=o*l-u*a,h=c*a-s*l,g=n*f+r*d+i*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=f*y,e[1]=(i*c-u*r)*y,e[2]=(o*r-i*s)*y,e[3]=d*y,e[4]=(u*n-i*l)*y,e[5]=(i*a-o*n)*y,e[6]=h*y,e[7]=(r*l-c*n)*y,e[8]=(s*n-r*a)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(eR.makeScale(e,n)),this}rotate(e){return this.premultiply(eR.makeRotation(-e)),this}translate(e,n){return this.premultiply(eR.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const eR=new nn,BX=new nn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),VX=new nn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function nnt(){const t={enabled:!0,workingColorSpace:Bl,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===$n&&(i.r=zu(i.r),i.g=zu(i.g),i.b=zu(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===$n&&(i.r=qv(i.r),i.g=qv(i.g),i.b=qv(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===xu?a_:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return O0("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return O0("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Bl]:{primaries:e,whitePoint:r,transfer:a_,toXYZ:BX,fromXYZ:VX,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:wa},outputColorSpaceConfig:{drawingBufferColorSpace:wa}},[wa]:{primaries:e,whitePoint:r,transfer:$n,toXYZ:BX,fromXYZ:VX,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:wa}}}),t}const En=nnt();function zu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function qv(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let _g;class Nde{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{_g===void 0&&(_g=o_("canvas")),_g.width=e.width,_g.height=e.height;const i=_g.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=_g}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=o_("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=zu(a[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(zu(n[r]/255)*255):n[r]=zu(n[r]);return{data:n,width:e.width,height:e.height}}else return At("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let rnt=0;class bd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:rnt++}),this.uuid=co(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(tR(i[s].image)):a.push(tR(i[s]))}else a=tR(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function tR(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Nde.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(At("Texture: Unable to serialize Texture."),{})}let int=0;const nR=new oe;class Qn extends Lc{constructor(e=Qn.DEFAULT_IMAGE,n=Qn.DEFAULT_MAPPING,r=ri,i=ri,a=mn,s=mc,o=hi,l=ia,c=Qn.DEFAULT_ANISOTROPY,u=xu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:int++}),this.uuid=co(),this.name="",this.source=new bd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new tt(0,0),this.repeat=new tt(1,1),this.center=new tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(nR).x}get height(){return this.source.getSize(nR).y}get depth(){return this.source.getSize(nR).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){At(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){At(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Wd)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case t_:e.x=e.x-Math.floor(e.x);break;case ri:e.x=e.x<0?0:1;break;case n_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case t_:e.y=e.y-Math.floor(e.y);break;case ri:e.y=e.y<0?0:1;break;case n_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Qn.DEFAULT_IMAGE=null;Qn.DEFAULT_MAPPING=Wd;Qn.DEFAULT_ANISOTROPY=1;class In{constructor(e=0,n=0,r=0,i=1){In.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],g=l[9],y=l[2],x=l[6],v=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-y)<.01&&Math.abs(g-x)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+y)<.1&&Math.abs(g+x)<.1&&Math.abs(c+h+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,A=(h+1)/2,T=(v+1)/2,M=(u+d)/4,I=(f+y)/4,O=(g+x)/4;return _>A&&_>T?_<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(_),i=M/r,a=I/r):A>T?A<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(A),r=M/i,a=O/i):T<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(T),r=I/a,i=O/a),this.set(r,i,a,n),this}let b=Math.sqrt((x-g)*(x-g)+(f-y)*(f-y)+(d-u)*(d-u));return Math.abs(b)<.001&&(b=1),this.x=(x-g)/b,this.y=(f-y)/b,this.z=(d-u)/b,this.w=Math.acos((c+h+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=$t(this.x,e.x,n.x),this.y=$t(this.y,e.y,n.y),this.z=$t(this.z,e.z,n.z),this.w=$t(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=$t(this.x,e,n),this.y=$t(this.y,e,n),this.z=$t(this.z,e,n),this.w=$t(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar($t(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class rB extends Lc{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:mn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new In(0,0,e,n),this.scissorTest=!1,this.viewport=new In(0,0,e,n);const i={width:e,height:n,depth:r.depth},a=new Qn(i);this.textures=[];const s=r.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:mn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new bd(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ja extends rB{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class fI extends Qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=di,this.minFilter=di,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ant extends ja{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new fI(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class dI extends Qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=di,this.minFilter=di,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class snt extends ja{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new dI(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class oa{constructor(e=new oe(1/0,1/0,1/0),n=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(gl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(gl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=gl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,gl):gl.fromBufferAttribute(a,s),gl.applyMatrix4(e.matrixWorld),this.expandByPoint(gl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),SE.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),SE.copy(r.boundingBox)),SE.applyMatrix4(e.matrixWorld),this.union(SE)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,gl),gl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Tx),EE.subVectors(this.max,Tx),wg.subVectors(e.a,Tx),Sg.subVectors(e.b,Tx),Eg.subVectors(e.c,Tx),Vf.subVectors(Sg,wg),Hf.subVectors(Eg,Sg),Nh.subVectors(wg,Eg);let n=[0,-Vf.z,Vf.y,0,-Hf.z,Hf.y,0,-Nh.z,Nh.y,Vf.z,0,-Vf.x,Hf.z,0,-Hf.x,Nh.z,0,-Nh.x,-Vf.y,Vf.x,0,-Hf.y,Hf.x,0,-Nh.y,Nh.x,0];return!rR(n,wg,Sg,Eg,EE)||(n=[1,0,0,0,1,0,0,0,1],!rR(n,wg,Sg,Eg,EE))?!1:(AE.crossVectors(Vf,Hf),n=[AE.x,AE.y,AE.z],rR(n,wg,Sg,Eg,EE))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,gl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(gl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(iu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),iu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),iu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),iu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),iu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),iu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),iu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),iu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(iu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const iu=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],gl=new oe,SE=new oa,wg=new oe,Sg=new oe,Eg=new oe,Vf=new oe,Hf=new oe,Nh=new oe,Tx=new oe,EE=new oe,AE=new oe,Rh=new oe;function rR(t,e,n,r,i){for(let a=0,s=t.length-3;a<=s;a+=3){Rh.fromArray(t,a);const o=i.x*Math.abs(Rh.x)+i.y*Math.abs(Rh.y)+i.z*Math.abs(Rh.z),l=e.dot(Rh),c=n.dot(Rh),u=r.dot(Rh);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const ont=new oa,Cx=new oe,iR=new oe;class la{constructor(e=new oe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):ont.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cx.subVectors(e,this.center);const n=Cx.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Cx,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(iR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cx.copy(e.center).add(iR)),this.expandByPoint(Cx.copy(e.center).sub(iR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const au=new oe,aR=new oe,ME=new oe,Gf=new oe,sR=new oe,TE=new oe,oR=new oe;class Sy{constructor(e=new oe,n=new oe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,au)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=au.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(au.copy(this.origin).addScaledVector(this.direction,n),au.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){aR.copy(e).add(n).multiplyScalar(.5),ME.copy(n).sub(e).normalize(),Gf.copy(this.origin).sub(aR);const a=e.distanceTo(n)*.5,s=-this.direction.dot(ME),o=Gf.dot(this.direction),l=-Gf.dot(ME),c=Gf.lengthSq(),u=Math.abs(1-s*s);let f,d,h,g;if(u>0)if(f=s*l-o,d=s*o-l,g=a*u,f>=0)if(d>=-g)if(d<=g){const y=1/u;f*=y,d*=y,h=f*(f+s*d+2*o)+d*(s*f+d+2*l)+c}else d=a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;else d=-a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;else d<=-g?(f=Math.max(0,-(-s*a+o)),d=f>0?-a:Math.min(Math.max(-a,-l),a),h=-f*f+d*(d+2*l)+c):d<=g?(f=0,d=Math.min(Math.max(-a,-l),a),h=d*(d+2*l)+c):(f=Math.max(0,-(s*a+o)),d=f>0?a:Math.min(Math.max(-a,-l),a),h=-f*f+d*(d+2*l)+c);else d=s>0?-a:a,f=Math.max(0,-(s*d+o)),h=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(aR).addScaledVector(ME,d),h}intersectSphere(e,n){au.subVectors(e.center,this.origin);const r=au.dot(this.direction),i=au.dot(au)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(a=(e.min.y-d.y)*u,s=(e.max.y-d.y)*u):(a=(e.max.y-d.y)*u,s=(e.min.y-d.y)*u),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),f>=0?(o=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(o=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,au)!==null}intersectTriangle(e,n,r,i,a){sR.subVectors(n,e),TE.subVectors(r,e),oR.crossVectors(sR,TE);let s=this.direction.dot(oR),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Gf.subVectors(this.origin,e);const l=o*this.direction.dot(TE.crossVectors(Gf,TE));if(l<0)return null;const c=o*this.direction.dot(sR.cross(Gf));if(c<0||l+c>s)return null;const u=-o*Gf.dot(oR);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wt{constructor(e,n,r,i,a,s,o,l,c,u,f,d,h,g,y,x){Wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,c,u,f,d,h,g,y,x)}set(e,n,r,i,a,s,o,l,c,u,f,d,h,g,y,x){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=a,v[5]=s,v[9]=o,v[13]=l,v[2]=c,v[6]=u,v[10]=f,v[14]=d,v[3]=h,v[7]=g,v[11]=y,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/Ag.setFromMatrixColumn(e,0).length(),a=1/Ag.setFromMatrixColumn(e,1).length(),s=1/Ag.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const d=s*u,h=s*f,g=o*u,y=o*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+g*c,n[5]=d-y*c,n[9]=-o*l,n[2]=y-d*c,n[6]=g+h*c,n[10]=s*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,g=c*u,y=c*f;n[0]=d+y*o,n[4]=g*o-h,n[8]=s*c,n[1]=s*f,n[5]=s*u,n[9]=-o,n[2]=h*o-g,n[6]=y+d*o,n[10]=s*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,g=c*u,y=c*f;n[0]=d-y*o,n[4]=-s*f,n[8]=g+h*o,n[1]=h+g*o,n[5]=s*u,n[9]=y-d*o,n[2]=-s*c,n[6]=o,n[10]=s*l}else if(e.order==="ZYX"){const d=s*u,h=s*f,g=o*u,y=o*f;n[0]=l*u,n[4]=g*c-h,n[8]=d*c+y,n[1]=l*f,n[5]=y*c+d,n[9]=h*c-g,n[2]=-c,n[6]=o*l,n[10]=s*l}else if(e.order==="YZX"){const d=s*l,h=s*c,g=o*l,y=o*c;n[0]=l*u,n[4]=y-d*f,n[8]=g*f+h,n[1]=f,n[5]=s*u,n[9]=-o*u,n[2]=-c*u,n[6]=h*f+g,n[10]=d-y*f}else if(e.order==="XZY"){const d=s*l,h=s*c,g=o*l,y=o*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+y,n[5]=s*u,n[9]=h*f-g,n[2]=g*f-h,n[6]=o*u,n[10]=y*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(lnt,e,cnt)}lookAt(e,n,r){const i=this.elements;return qs.subVectors(e,n),qs.lengthSq()===0&&(qs.z=1),qs.normalize(),Wf.crossVectors(r,qs),Wf.lengthSq()===0&&(Math.abs(r.z)===1?qs.x+=1e-4:qs.z+=1e-4,qs.normalize(),Wf.crossVectors(r,qs)),Wf.normalize(),CE.crossVectors(qs,Wf),i[0]=Wf.x,i[4]=CE.x,i[8]=qs.x,i[1]=Wf.y,i[5]=CE.y,i[9]=qs.y,i[2]=Wf.z,i[6]=CE.z,i[10]=qs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],g=r[2],y=r[6],x=r[10],v=r[14],b=r[3],_=r[7],A=r[11],T=r[15],M=i[0],I=i[4],O=i[8],P=i[12],k=i[1],N=i[5],L=i[9],B=i[13],D=i[2],V=i[6],F=i[10],H=i[14],q=i[3],W=i[7],z=i[11],$=i[15];return a[0]=s*M+o*k+l*D+c*q,a[4]=s*I+o*N+l*V+c*W,a[8]=s*O+o*L+l*F+c*z,a[12]=s*P+o*B+l*H+c*$,a[1]=u*M+f*k+d*D+h*q,a[5]=u*I+f*N+d*V+h*W,a[9]=u*O+f*L+d*F+h*z,a[13]=u*P+f*B+d*H+h*$,a[2]=g*M+y*k+x*D+v*q,a[6]=g*I+y*N+x*V+v*W,a[10]=g*O+y*L+x*F+v*z,a[14]=g*P+y*B+x*H+v*$,a[3]=b*M+_*k+A*D+T*q,a[7]=b*I+_*N+A*V+T*W,a[11]=b*O+_*L+A*F+T*z,a[15]=b*P+_*B+A*H+T*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],g=e[3],y=e[7],x=e[11],v=e[15],b=l*h-c*d,_=o*h-c*f,A=o*d-l*f,T=s*h-c*u,M=s*d-l*u,I=s*f-o*u;return n*(y*b-x*_+v*A)-r*(g*b-x*T+v*M)+i*(g*_-y*T+v*I)-a*(g*A-y*M+x*I)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],g=e[12],y=e[13],x=e[14],v=e[15],b=f*x*c-y*d*c+y*l*h-o*x*h-f*l*v+o*d*v,_=g*d*c-u*x*c-g*l*h+s*x*h+u*l*v-s*d*v,A=u*y*c-g*f*c+g*o*h-s*y*h-u*o*v+s*f*v,T=g*f*l-u*y*l-g*o*d+s*y*d+u*o*x-s*f*x,M=n*b+r*_+i*A+a*T;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/M;return e[0]=b*I,e[1]=(y*d*a-f*x*a-y*i*h+r*x*h+f*i*v-r*d*v)*I,e[2]=(o*x*a-y*l*a+y*i*c-r*x*c-o*i*v+r*l*v)*I,e[3]=(f*l*a-o*d*a-f*i*c+r*d*c+o*i*h-r*l*h)*I,e[4]=_*I,e[5]=(u*x*a-g*d*a+g*i*h-n*x*h-u*i*v+n*d*v)*I,e[6]=(g*l*a-s*x*a-g*i*c+n*x*c+s*i*v-n*l*v)*I,e[7]=(s*d*a-u*l*a+u*i*c-n*d*c-s*i*h+n*l*h)*I,e[8]=A*I,e[9]=(g*f*a-u*y*a-g*r*h+n*y*h+u*r*v-n*f*v)*I,e[10]=(s*y*a-g*o*a+g*r*c-n*y*c-s*r*v+n*o*v)*I,e[11]=(u*o*a-s*f*a-u*r*c+n*f*c+s*r*h-n*o*h)*I,e[12]=T*I,e[13]=(u*y*i-g*f*i+g*r*d-n*y*d-u*r*x+n*f*x)*I,e[14]=(g*o*i-s*y*i-g*r*l+n*y*l+s*r*x-n*o*x)*I,e[15]=(s*f*i-u*o*i+u*r*l-n*f*l-s*r*d+n*o*d)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,s=n._y,o=n._z,l=n._w,c=a+a,u=s+s,f=o+o,d=a*c,h=a*u,g=a*f,y=s*u,x=s*f,v=o*f,b=l*c,_=l*u,A=l*f,T=r.x,M=r.y,I=r.z;return i[0]=(1-(y+v))*T,i[1]=(h+A)*T,i[2]=(g-_)*T,i[3]=0,i[4]=(h-A)*M,i[5]=(1-(d+v))*M,i[6]=(x+b)*M,i[7]=0,i[8]=(g+_)*I,i[9]=(x-b)*I,i[10]=(1-(d+y))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let a=Ag.set(i[0],i[1],i[2]).length();const s=Ag.set(i[4],i[5],i[6]).length(),o=Ag.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),vl.copy(this);const c=1/a,u=1/s,f=1/o;return vl.elements[0]*=c,vl.elements[1]*=c,vl.elements[2]*=c,vl.elements[4]*=u,vl.elements[5]*=u,vl.elements[6]*=u,vl.elements[8]*=f,vl.elements[9]*=f,vl.elements[10]*=f,n.setFromRotationMatrix(vl),r.x=a,r.y=s,r.z=o,this}makePerspective(e,n,r,i,a,s,o=ro,l=!1){const c=this.elements,u=2*a/(n-e),f=2*a/(r-i),d=(n+e)/(n-e),h=(r+i)/(r-i);let g,y;if(l)g=a/(s-a),y=s*a/(s-a);else if(o===ro)g=-(s+a)/(s-a),y=-2*s*a/(s-a);else if(o===I0)g=-s/(s-a),y=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=d,c[12]=0,c[1]=0,c[5]=f,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=g,c[14]=y,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,a,s,o=ro,l=!1){const c=this.elements,u=2/(n-e),f=2/(r-i),d=-(n+e)/(n-e),h=-(r+i)/(r-i);let g,y;if(l)g=1/(s-a),y=s/(s-a);else if(o===ro)g=-2/(s-a),y=-(s+a)/(s-a);else if(o===I0)g=-1/(s-a),y=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=0,c[12]=d,c[1]=0,c[5]=f,c[9]=0,c[13]=h,c[2]=0,c[6]=0,c[10]=g,c[14]=y,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ag=new oe,vl=new Wt,lnt=new oe(0,0,0),cnt=new oe(1,1,1),Wf=new oe,CE=new oe,qs=new oe,HX=new Wt,GX=new Vi;class Ns{constructor(e=0,n=0,r=0,i=Ns.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin($t(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-$t(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin($t(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-$t(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin($t(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-$t(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:At("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return HX.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HX,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return GX.setFromEuler(this),this.setFromQuaternion(GX,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ns.DEFAULT_ORDER="XYZ";class N0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let unt=0;const WX=new oe,Mg=new Vi,su=new Wt,PE=new oe,Px=new oe,fnt=new oe,dnt=new Vi,$X=new oe(1,0,0),qX=new oe(0,1,0),XX=new oe(0,0,1),KX={type:"added"},hnt={type:"removed"},Tg={type:"childadded",child:null},lR={type:"childremoved",child:null};class Dn extends Lc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:unt++}),this.uuid=co(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Dn.DEFAULT_UP.clone();const e=new oe,n=new Ns,r=new Vi,i=new oe(1,1,1);function a(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Wt},normalMatrix:{value:new nn}}),this.matrix=new Wt,this.matrixWorld=new Wt,this.matrixAutoUpdate=Dn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new N0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Mg.setFromAxisAngle(e,n),this.quaternion.multiply(Mg),this}rotateOnWorldAxis(e,n){return Mg.setFromAxisAngle(e,n),this.quaternion.premultiply(Mg),this}rotateX(e){return this.rotateOnAxis($X,e)}rotateY(e){return this.rotateOnAxis(qX,e)}rotateZ(e){return this.rotateOnAxis(XX,e)}translateOnAxis(e,n){return WX.copy(e).applyQuaternion(this.quaternion),this.position.add(WX.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis($X,e)}translateY(e){return this.translateOnAxis(qX,e)}translateZ(e){return this.translateOnAxis(XX,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(su.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?PE.copy(e):PE.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Px.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?su.lookAt(Px,PE,this.up):su.lookAt(PE,Px,this.up),this.quaternion.setFromRotationMatrix(su),i&&(su.extractRotation(i.matrixWorld),Mg.setFromRotationMatrix(su),this.quaternion.premultiply(Mg.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Ft("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(KX),Tg.child=e,this.dispatchEvent(Tg),Tg.child=null):Ft("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(hnt),lR.child=e,this.dispatchEvent(lR),lR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),su.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),su.multiply(e.parent.matrixWorld)),e.applyMatrix4(su),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(KX),Tg.child=e,this.dispatchEvent(Tg),Tg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Px,e,fnt),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Px,dnt,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(n){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),f=s(e.shapes),d=s(e.skeletons),h=s(e.animations),g=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Dn.DEFAULT_UP=new oe(0,1,0);Dn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yl=new oe,ou=new oe,cR=new oe,lu=new oe,Cg=new oe,Pg=new oe,YX=new oe,uR=new oe,fR=new oe,dR=new oe,hR=new In,pR=new In,mR=new In;class Es{constructor(e=new oe,n=new oe,r=new oe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),yl.subVectors(e,n),i.cross(yl);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){yl.subVectors(i,n),ou.subVectors(r,n),cR.subVectors(e,n);const s=yl.dot(yl),o=yl.dot(ou),l=yl.dot(cR),c=ou.dot(ou),u=ou.dot(cR),f=s*c-o*o;if(f===0)return a.set(0,0,0),null;const d=1/f,h=(c*l-o*u)*d,g=(s*u-o*l)*d;return a.set(1-h-g,g,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,lu)===null?!1:lu.x>=0&&lu.y>=0&&lu.x+lu.y<=1}static getInterpolation(e,n,r,i,a,s,o,l){return this.getBarycoord(e,n,r,i,lu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,lu.x),l.addScaledVector(s,lu.y),l.addScaledVector(o,lu.z),l)}static getInterpolatedAttribute(e,n,r,i,a,s){return hR.setScalar(0),pR.setScalar(0),mR.setScalar(0),hR.fromBufferAttribute(e,n),pR.fromBufferAttribute(e,r),mR.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(hR,a.x),s.addScaledVector(pR,a.y),s.addScaledVector(mR,a.z),s}static isFrontFacing(e,n,r,i){return yl.subVectors(r,n),ou.subVectors(e,n),yl.cross(ou).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return yl.subVectors(this.c,this.b),ou.subVectors(this.a,this.b),yl.cross(ou).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Es.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Es.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return Es.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return Es.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Es.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let s,o;Cg.subVectors(i,r),Pg.subVectors(a,r),uR.subVectors(e,r);const l=Cg.dot(uR),c=Pg.dot(uR);if(l<=0&&c<=0)return n.copy(r);fR.subVectors(e,i);const u=Cg.dot(fR),f=Pg.dot(fR);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(Cg,s);dR.subVectors(e,a);const h=Cg.dot(dR),g=Pg.dot(dR);if(g>=0&&h<=g)return n.copy(a);const y=h*c-l*g;if(y<=0&&c>=0&&g<=0)return o=c/(c-g),n.copy(r).addScaledVector(Pg,o);const x=u*g-h*f;if(x<=0&&f-u>=0&&h-g>=0)return YX.subVectors(a,i),o=(f-u)/(f-u+(h-g)),n.copy(i).addScaledVector(YX,o);const v=1/(x+y+d);return s=y*v,o=d*v,n.copy(r).addScaledVector(Cg,s).addScaledVector(Pg,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Rde={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$f={h:0,s:0,l:0},IE={h:0,s:0,l:0};function gR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Mt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=wa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,En.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=En.workingColorSpace){return this.r=e,this.g=n,this.b=r,En.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=En.workingColorSpace){if(e=nB(e,1),n=$t(n,0,1),r=$t(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,s=2*r-a;this.r=gR(s,a,e+1/3),this.g=gR(s,a,e),this.b=gR(s,a,e-1/3)}return En.colorSpaceToWorking(this,i),this}setStyle(e,n=wa){function r(a){a!==void 0&&parseFloat(a)<1&&At("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:At("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);At("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=wa){const r=Rde[e.toLowerCase()];return r!==void 0?this.setHex(r,n):At("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zu(e.r),this.g=zu(e.g),this.b=zu(e.b),this}copyLinearToSRGB(e){return this.r=qv(e.r),this.g=qv(e.g),this.b=qv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wa){return En.workingToColorSpace(Ra.copy(this),e),Math.round($t(Ra.r*255,0,255))*65536+Math.round($t(Ra.g*255,0,255))*256+Math.round($t(Ra.b*255,0,255))}getHexString(e=wa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=En.workingColorSpace){En.workingToColorSpace(Ra.copy(this),n);const r=Ra.r,i=Ra.g,a=Ra.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const f=s-o;switch(c=u<=.5?f/(s+o):f/(2-s-o),s){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=En.workingColorSpace){return En.workingToColorSpace(Ra.copy(this),n),e.r=Ra.r,e.g=Ra.g,e.b=Ra.b,e}getStyle(e=wa){En.workingToColorSpace(Ra.copy(this),e);const n=Ra.r,r=Ra.g,i=Ra.b;return e!==wa?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL($f),this.setHSL($f.h+e,$f.s+n,$f.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL($f),e.getHSL(IE);const r=Jb($f.h,IE.h,n),i=Jb($f.s,IE.s,n),a=Jb($f.l,IE.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ra=new Mt;Mt.NAMES=Rde;let pnt=0;class Ga extends Lc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:pnt++}),this.uuid=co(),this.name="",this.type="Material",this.blending=Rp,this.side=af,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=uC,this.blendDst=fC,this.blendEquation=hd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Mt(0,0,0),this.blendAlpha=0,this.depthFunc=am,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=x4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ap,this.stencilZFail=ap,this.stencilZPass=ap,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){At(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){At(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Rp&&(r.blending=this.blending),this.side!==af&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==uC&&(r.blendSrc=this.blendSrc),this.blendDst!==fC&&(r.blendDst=this.blendDst),this.blendEquation!==hd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==am&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==x4&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ap&&(r.stencilFail=this.stencilFail),this.stencilZFail!==ap&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==ap&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(n){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Uc extends Ga{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ns,this.combine=Tw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const bu=mnt();function mnt(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,a[l]=c|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function ys(t){Math.abs(t)>65504&&At("DataUtils.toHalfFloat(): Value out of range."),t=$t(t,-65504,65504),bu.floatView[0]=t;const e=bu.uint32View[0],n=e>>23&511;return bu.baseTable[n]+((e&8388607)>>bu.shiftTable[n])}function fb(t){const e=t>>10;return bu.uint32View[0]=bu.mantissaTable[bu.offsetTable[e]+(t&1023)]+bu.exponentTable[e],bu.floatView[0]}class yp{static toHalfFloat(e){return ys(e)}static fromHalfFloat(e){return fb(e)}}const wi=new oe,OE=new tt;let gnt=0;class ar{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:gnt++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=s_,this.updateRanges=[],this.gpuType=Ar,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)OE.fromBufferAttribute(this,n),OE.applyMatrix3(e),this.setXY(n,OE.x,OE.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)wi.fromBufferAttribute(this,n),wi.applyMatrix3(e),this.setXYZ(n,wi.x,wi.y,wi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)wi.fromBufferAttribute(this,n),wi.applyMatrix4(e),this.setXYZ(n,wi.x,wi.y,wi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)wi.fromBufferAttribute(this,n),wi.applyNormalMatrix(e),this.setXYZ(n,wi.x,wi.y,wi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)wi.fromBufferAttribute(this,n),wi.transformDirection(e),this.setXYZ(n,wi.x,wi.y,wi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ja(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=un(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ja(n,this.array)),n}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ja(n,this.array)),n}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ja(n,this.array)),n}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ja(n,this.array)),n}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array),a=un(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==s_&&(e.usage=this.usage),e}}class vnt extends ar{constructor(e,n,r){super(new Int8Array(e),n,r)}}class ynt extends ar{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class xnt extends ar{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class bnt extends ar{constructor(e,n,r){super(new Int16Array(e),n,r)}}class iB extends ar{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class _nt extends ar{constructor(e,n,r){super(new Int32Array(e),n,r)}}class aB extends ar{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class wnt extends ar{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=fb(this.array[e*this.itemSize]);return this.normalized&&(n=Ja(n,this.array)),n}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize]=ys(n),this}getY(e){let n=fb(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ja(n,this.array)),n}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+1]=ys(n),this}getZ(e){let n=fb(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ja(n,this.array)),n}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+2]=ys(n),this}getW(e){let n=fb(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ja(n,this.array)),n}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+3]=ys(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(r),this.array[e+2]=ys(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array),a=un(a,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(r),this.array[e+2]=ys(i),this.array[e+3]=ys(a),this}}class Nt extends ar{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Snt=0;const Mo=new Wt,vR=new Dn,Ig=new oe,Xs=new oa,Ix=new oa,Zi=new oe;class rn extends Lc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Snt++}),this.uuid=co(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ide(e)?aB:iB)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new nn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mo.makeRotationFromQuaternion(e),this.applyMatrix4(Mo),this}rotateX(e){return Mo.makeRotationX(e),this.applyMatrix4(Mo),this}rotateY(e){return Mo.makeRotationY(e),this.applyMatrix4(Mo),this}rotateZ(e){return Mo.makeRotationZ(e),this.applyMatrix4(Mo),this}translate(e,n,r){return Mo.makeTranslation(e,n,r),this.applyMatrix4(Mo),this}scale(e,n,r){return Mo.makeScale(e,n,r),this.applyMatrix4(Mo),this}lookAt(e){return vR.lookAt(e),vR.updateMatrix(),this.applyMatrix4(vR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ig).negate(),this.translate(Ig.x,Ig.y,Ig.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Nt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const a=e[i];n.setXYZ(i,a.x,a.y,a.z||0)}e.length>n.count&&At("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new oa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ft("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];Xs.setFromBufferAttribute(a),this.morphTargetsRelative?(Zi.addVectors(this.boundingBox.min,Xs.min),this.boundingBox.expandByPoint(Zi),Zi.addVectors(this.boundingBox.max,Xs.max),this.boundingBox.expandByPoint(Zi)):(this.boundingBox.expandByPoint(Xs.min),this.boundingBox.expandByPoint(Xs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Ft('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new la);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ft("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){const r=this.boundingSphere.center;if(Xs.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];Ix.setFromBufferAttribute(o),this.morphTargetsRelative?(Zi.addVectors(Xs.min,Ix.min),Xs.expandByPoint(Zi),Zi.addVectors(Xs.max,Ix.max),Xs.expandByPoint(Zi)):(Xs.expandByPoint(Ix.min),Xs.expandByPoint(Ix.max))}Xs.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Zi.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Zi));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Zi.fromBufferAttribute(o,c),l&&(Ig.fromBufferAttribute(e,c),Zi.add(Ig)),i=Math.max(i,r.distanceToSquared(Zi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Ft('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Ft("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ar(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let O=0;O<r.count;O++)o[O]=new oe,l[O]=new oe;const c=new oe,u=new oe,f=new oe,d=new tt,h=new tt,g=new tt,y=new oe,x=new oe;function v(O,P,k){c.fromBufferAttribute(r,O),u.fromBufferAttribute(r,P),f.fromBufferAttribute(r,k),d.fromBufferAttribute(a,O),h.fromBufferAttribute(a,P),g.fromBufferAttribute(a,k),u.sub(c),f.sub(c),h.sub(d),g.sub(d);const N=1/(h.x*g.y-g.x*h.y);isFinite(N)&&(y.copy(u).multiplyScalar(g.y).addScaledVector(f,-h.y).multiplyScalar(N),x.copy(f).multiplyScalar(h.x).addScaledVector(u,-g.x).multiplyScalar(N),o[O].add(y),o[P].add(y),o[k].add(y),l[O].add(x),l[P].add(x),l[k].add(x))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let O=0,P=b.length;O<P;++O){const k=b[O],N=k.start,L=k.count;for(let B=N,D=N+L;B<D;B+=3)v(e.getX(B+0),e.getX(B+1),e.getX(B+2))}const _=new oe,A=new oe,T=new oe,M=new oe;function I(O){T.fromBufferAttribute(i,O),M.copy(T);const P=o[O];_.copy(P),_.sub(T.multiplyScalar(T.dot(P))).normalize(),A.crossVectors(M,P);const N=A.dot(l[O])<0?-1:1;s.setXYZW(O,_.x,_.y,_.z,N)}for(let O=0,P=b.length;O<P;++O){const k=b[O],N=k.start,L=k.count;for(let B=N,D=N+L;B<D;B+=3)I(e.getX(B+0)),I(e.getX(B+1)),I(e.getX(B+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ar(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new oe,a=new oe,s=new oe,o=new oe,l=new oe,c=new oe,u=new oe,f=new oe;if(e)for(let d=0,h=e.count;d<h;d+=3){const g=e.getX(d+0),y=e.getX(d+1),x=e.getX(d+2);i.fromBufferAttribute(n,g),a.fromBufferAttribute(n,y),s.fromBufferAttribute(n,x),u.subVectors(s,a),f.subVectors(i,a),u.cross(f),o.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,x),o.add(u),l.add(u),c.add(u),r.setXYZ(g,o.x,o.y,o.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),a.fromBufferAttribute(n,d+1),s.fromBufferAttribute(n,d+2),u.subVectors(s,a),f.subVectors(i,a),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Zi.fromBufferAttribute(e,n),Zi.normalize(),e.setXYZ(n,Zi.x,Zi.y,Zi.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,f=o.normalized,d=new c.constructor(l.length*u);let h=0,g=0;for(let y=0,x=l.length;y<x;y++){o.isInterleavedBufferAttribute?h=l[y]*o.data.stride+o.offset:h=l[y]*u;for(let v=0;v<u;v++)d[g++]=c[h++]}return new ar(d,u,f)}if(this.index===null)return At("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new rn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);n.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,r);l.push(h)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const a=e.morphAttributes;for(const c in a){const u=[],f=a[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ZX=new Wt,Dh=new Sy,kE=new la,JX=new oe,NE=new oe,RE=new oe,DE=new oe,yR=new oe,LE=new oe,QX=new oe,UE=new oe;class yr extends Dn{constructor(e=new rn,n=new Uc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){LE.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=o[l],f=a[l];u!==0&&(yR.fromBufferAttribute(f,e),s?LE.addScaledVector(yR,u):LE.addScaledVector(yR.sub(n),u))}n.add(LE)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),kE.copy(r.boundingSphere),kE.applyMatrix4(a),Dh.copy(e.ray).recast(e.near),!(kE.containsPoint(Dh.origin)===!1&&(Dh.intersectSphere(kE,JX)===null||Dh.origin.distanceToSquared(JX)>(e.far-e.near)**2))&&(ZX.copy(a).invert(),Dh.copy(e.ray).applyMatrix4(ZX),!(r.boundingBox!==null&&Dh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Dh)))}_computeIntersections(e,n,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,u=a.attributes.uv1,f=a.attributes.normal,d=a.groups,h=a.drawRange;if(o!==null)if(Array.isArray(s))for(let g=0,y=d.length;g<y;g++){const x=d[g],v=s[x.materialIndex],b=Math.max(x.start,h.start),_=Math.min(o.count,Math.min(x.start+x.count,h.start+h.count));for(let A=b,T=_;A<T;A+=3){const M=o.getX(A),I=o.getX(A+1),O=o.getX(A+2);i=zE(this,v,e,r,c,u,f,M,I,O),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),y=Math.min(o.count,h.start+h.count);for(let x=g,v=y;x<v;x+=3){const b=o.getX(x),_=o.getX(x+1),A=o.getX(x+2);i=zE(this,s,e,r,c,u,f,b,_,A),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,y=d.length;g<y;g++){const x=d[g],v=s[x.materialIndex],b=Math.max(x.start,h.start),_=Math.min(l.count,Math.min(x.start+x.count,h.start+h.count));for(let A=b,T=_;A<T;A+=3){const M=A,I=A+1,O=A+2;i=zE(this,v,e,r,c,u,f,M,I,O),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),y=Math.min(l.count,h.start+h.count);for(let x=g,v=y;x<v;x+=3){const b=x,_=x+1,A=x+2;i=zE(this,s,e,r,c,u,f,b,_,A),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function Ent(t,e,n,r,i,a,s,o){let l;if(e.side===ns?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===af,o),l===null)return null;UE.copy(o),UE.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(UE);return c<n.near||c>n.far?null:{distance:c,point:UE.clone(),object:t}}function zE(t,e,n,r,i,a,s,o,l,c){t.getVertexPosition(o,NE),t.getVertexPosition(l,RE),t.getVertexPosition(c,DE);const u=Ent(t,e,n,r,NE,RE,DE,QX);if(u){const f=new oe;Es.getBarycoord(QX,NE,RE,DE,f),i&&(u.uv=Es.getInterpolatedAttribute(i,o,l,c,f,new tt)),a&&(u.uv1=Es.getInterpolatedAttribute(a,o,l,c,f,new tt)),s&&(u.normal=Es.getInterpolatedAttribute(s,o,l,c,f,new oe),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a:o,b:l,c,normal:new oe,materialIndex:0};Es.getNormal(NE,RE,DE,d.normal),u.face=d,u.barycoord=f}return u}class Pm extends rn{constructor(e=1,n=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],f=[];let d=0,h=0;g("z","y","x",-1,-1,r,n,e,s,a,0),g("z","y","x",1,-1,r,n,-e,s,a,1),g("x","z","y",1,1,e,r,n,i,s,2),g("x","z","y",1,-1,e,r,-n,i,s,3),g("x","y","z",1,-1,e,n,r,i,a,4),g("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Nt(c,3)),this.setAttribute("normal",new Nt(u,3)),this.setAttribute("uv",new Nt(f,2));function g(y,x,v,b,_,A,T,M,I,O,P){const k=A/I,N=T/O,L=A/2,B=T/2,D=M/2,V=I+1,F=O+1;let H=0,q=0;const W=new oe;for(let z=0;z<F;z++){const $=z*N-B;for(let Z=0;Z<V;Z++){const G=Z*k-L;W[y]=G*b,W[x]=$*_,W[v]=D,c.push(W.x,W.y,W.z),W[y]=0,W[x]=0,W[v]=M>0?1:-1,u.push(W.x,W.y,W.z),f.push(Z/I),f.push(1-z/O),H+=1}}for(let z=0;z<O;z++)for(let $=0;$<I;$++){const Z=d+$+V*z,G=d+$+V*(z+1),ie=d+($+1)+V*(z+1),ue=d+($+1)+V*z;l.push(Z,G,ue),l.push(G,ie,ue),q+=6}o.addGroup(h,q,P),h+=q,d+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function R0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(At("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function qa(t){const e={};for(let n=0;n<t.length;n++){const r=R0(t[n]);for(const i in r)e[i]=r[i]}return e}function Ant(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Dde(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:En.workingColorSpace}const sB={clone:R0,merge:qa};var Mnt=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Tnt=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Va extends Ga{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Mnt,this.fragmentShader=Tnt,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=R0(e.uniforms),this.uniformsGroups=Ant(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class hI extends Dn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wt,this.projectionMatrix=new Wt,this.projectionMatrixInverse=new Wt,this.coordinateSystem=ro,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const qf=new oe,eK=new tt,tK=new tt;let ra=class extends hI{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=k0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Dp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return k0*2*Math.atan(Math.tan(Dp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){qf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(qf.x,qf.y).multiplyScalar(-e/qf.z),qf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(qf.x,qf.y).multiplyScalar(-e/qf.z)}getViewSize(e,n){return this.getViewBounds(e,eK,tK),n.subVectors(tK,eK)}setViewOffset(e,n,r,i,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Dp*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const Og=-90,kg=1;class Lde extends Dn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ra(Og,kg,e,n);i.layers=this.layers,this.add(i);const a=new ra(Og,kg,e,n);a.layers=this.layers,this.add(a);const s=new ra(Og,kg,e,n);s.layers=this.layers,this.add(s);const o=new ra(Og,kg,e,n);o.layers=this.layers,this.add(o);const l=new ra(Og,kg,e,n);l.layers=this.layers,this.add(l);const c=new ra(Og,kg,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,s,o,l]=n;for(const c of n)this.remove(c);if(e===ro)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===I0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,a),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,d,h),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Ow extends Qn{constructor(e=[],n=jl,r,i,a,s,o,l,c,u){super(e,n,r,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class pI extends ja{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Ow(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Pm(5,5,5),a=new Va({name:"CubemapFromEquirect",uniforms:R0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ns,blending:Ll});a.uniforms.tEquirect.value=n;const s=new yr(i,a),o=n.minFilter;return n.minFilter===mc&&(n.minFilter=mn),new Lde(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(a)}}class Ev extends Dn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Cnt={type:"move"};class tM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ev,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ev,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ev,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const y of e.hand.values()){const x=n.getJointPose(y,r),v=this._getHandJoint(c,y);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,g=.005;c.inputState.pinching&&d>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Cnt)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ev;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class mI{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Mt(e),this.density=n}clone(){return new mI(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class gI{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Mt(e),this.near=n,this.far=r}clone(){return new gI(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let kw=class extends Dn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ns,this.environmentIntensity=1,this.environmentRotation=new Ns,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};class vI{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=s_,this.updateRanges=[],this.version=0,this.uuid=co()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=co()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=co()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $a=new oe;class om{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)$a.fromBufferAttribute(this,n),$a.applyMatrix4(e),this.setXYZ(n,$a.x,$a.y,$a.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)$a.fromBufferAttribute(this,n),$a.applyNormalMatrix(e),this.setXYZ(n,$a.x,$a.y,$a.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)$a.fromBufferAttribute(this,n),$a.transformDirection(e),this.setXYZ(n,$a.x,$a.y,$a.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Ja(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=un(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ja(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ja(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ja(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ja(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),r=un(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array),a=un(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){l_("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new ar(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new om(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){l_("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class oB extends Ga{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ng;const Ox=new oe,Rg=new oe,Dg=new oe,Lg=new tt,kx=new tt,Ude=new Wt,FE=new oe,Nx=new oe,jE=new oe,nK=new tt,xR=new tt,rK=new tt;class zde extends Dn{constructor(e=new oB){if(super(),this.isSprite=!0,this.type="Sprite",Ng===void 0){Ng=new rn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new vI(n,5);Ng.setIndex([0,1,2,0,2,3]),Ng.setAttribute("position",new om(r,3,0,!1)),Ng.setAttribute("uv",new om(r,2,3,!1))}this.geometry=Ng,this.material=e,this.center=new tt(.5,.5),this.count=1}raycast(e,n){e.camera===null&&Ft('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Rg.setFromMatrixScale(this.matrixWorld),Ude.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Dg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Rg.multiplyScalar(-Dg.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;BE(FE.set(-.5,-.5,0),Dg,s,Rg,i,a),BE(Nx.set(.5,-.5,0),Dg,s,Rg,i,a),BE(jE.set(.5,.5,0),Dg,s,Rg,i,a),nK.set(0,0),xR.set(1,0),rK.set(1,1);let o=e.ray.intersectTriangle(FE,Nx,jE,!1,Ox);if(o===null&&(BE(Nx.set(-.5,.5,0),Dg,s,Rg,i,a),xR.set(0,1),o=e.ray.intersectTriangle(FE,jE,Nx,!1,Ox),o===null))return;const l=e.ray.origin.distanceTo(Ox);l<e.near||l>e.far||n.push({distance:l,point:Ox.clone(),uv:Es.getInterpolation(Ox,FE,Nx,jE,nK,xR,rK,new tt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function BE(t,e,n,r,i,a){Lg.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(kx.x=a*Lg.x-i*Lg.y,kx.y=i*Lg.x+a*Lg.y):kx.copy(Lg),t.copy(e),t.x+=kx.x,t.y+=kx.y,t.applyMatrix4(Ude)}const VE=new oe,iK=new oe;class Fde extends Dn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){VE.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(VE);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){VE.setFromMatrixPosition(e.matrixWorld),iK.setFromMatrixPosition(this.matrixWorld);const r=VE.distanceTo(iK)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const aK=new oe,sK=new In,oK=new In,Pnt=new oe,lK=new Wt,HE=new oe,bR=new la,cK=new Wt,_R=new Sy;class jde extends yr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=v4,this.bindMatrix=new Wt,this.bindMatrixInverse=new Wt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new oa),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,HE),this.boundingBox.expandByPoint(HE)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new la),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,HE),this.boundingSphere.expandByPoint(HE)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bR.copy(this.boundingSphere),bR.applyMatrix4(i),e.ray.intersectsSphere(bR)!==!1&&(cK.copy(i).invert(),_R.copy(e.ray).applyMatrix4(cK),!(this.boundingBox!==null&&_R.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,_R)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new In,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===v4?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===vde?this.bindMatrixInverse.copy(this.bindMatrix).invert():At("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;sK.fromBufferAttribute(i.attributes.skinIndex,e),oK.fromBufferAttribute(i.attributes.skinWeight,e),aK.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=oK.getComponent(a);if(s!==0){const o=sK.getComponent(a);lK.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(Pnt.copy(aK).applyMatrix4(lK),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class lB extends Dn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yo extends Qn{constructor(e=null,n=1,r=1,i,a,s,o,l,c=di,u=di,f,d){super(null,s,o,l,c,u,i,a,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const uK=new Wt,Int=new Wt;class yI{constructor(e=[],n=[]){this.uuid=co(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){At("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Wt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Wt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:Int;uK.multiplyMatrices(o,n[a]),uK.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new yI(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Yo(n,e,e,hi,Ar);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=n[a];s===void 0&&(At("Skeleton: No bone found with UUID:",a),s=new lB),this.bones.push(s),this.boneInverses.push(new Wt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const s=n[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class lm extends ar{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ug=new Wt,fK=new Wt,GE=[],dK=new oa,Ont=new Wt,Rx=new yr,Dx=new la;class Bde extends yr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new lm(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Ont)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new oa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Ug),dK.copy(e.boundingBox).applyMatrix4(Ug),this.boundingBox.union(dK)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new la),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Ug),Dx.copy(e.boundingSphere).applyMatrix4(Ug),this.boundingSphere.union(Dx)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,s=e*a+1;for(let o=0;o<r.length;o++)r[o]=i[s+o]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Rx.geometry=this.geometry,Rx.material=this.material,Rx.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Dx.copy(this.boundingSphere),Dx.applyMatrix4(r),e.ray.intersectsSphere(Dx)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,Ug),fK.multiplyMatrices(r,Ug),Rx.matrixWorld=fK,Rx.raycast(e,GE);for(let s=0,o=GE.length;s<o;s++){const l=GE[s];l.instanceId=a,l.object=this,n.push(l)}GE.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new lm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Yo(new Float32Array(i*this.count),i,this.count,Pw,Ar));const a=this.morphTexture.source.data.data;let s=0;for(let c=0;c<r.length;c++)s+=r[c];const o=this.geometry.morphTargetsRelative?1:1-s,l=i*e;a[l]=o,a.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const wR=new oe,knt=new oe,Nnt=new nn;class nd{constructor(e=new oe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=wR.subVectors(r,n).cross(knt.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(wR),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Nnt.getNormalMatrix(e),i=this.coplanarPoint(wR).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Lh=new la,Rnt=new tt(.5,.5),WE=new oe;class Ey{constructor(e=new nd,n=new nd,r=new nd,i=new nd,a=new nd,s=new nd){this.planes=[e,n,r,i,a,s]}set(e,n,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ro,r=!1){const i=this.planes,a=e.elements,s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],f=a[5],d=a[6],h=a[7],g=a[8],y=a[9],x=a[10],v=a[11],b=a[12],_=a[13],A=a[14],T=a[15];if(i[0].setComponents(c-s,h-u,v-g,T-b).normalize(),i[1].setComponents(c+s,h+u,v+g,T+b).normalize(),i[2].setComponents(c+o,h+f,v+y,T+_).normalize(),i[3].setComponents(c-o,h-f,v-y,T-_).normalize(),r)i[4].setComponents(l,d,x,A).normalize(),i[5].setComponents(c-l,h-d,v-x,T-A).normalize();else if(i[4].setComponents(c-l,h-d,v-x,T-A).normalize(),n===ro)i[5].setComponents(c+l,h+d,v+x,T+A).normalize();else if(n===I0)i[5].setComponents(l,d,x,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Lh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Lh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Lh)}intersectsSprite(e){Lh.center.set(0,0,0);const n=Rnt.distanceTo(e.center);return Lh.radius=.7071067811865476+n,Lh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(WE.x=i.normal.x>0?e.max.x:e.min.x,WE.y=i.normal.y>0?e.max.y:e.min.y,WE.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(WE)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const tc=new Wt,nc=new Ey;class xI{constructor(){this.coordinateSystem=ro}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(tc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),nc.setFromProjectionMatrix(tc,i.coordinateSystem,i.reversedDepth),nc.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(tc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),nc.setFromProjectionMatrix(tc,i.coordinateSystem,i.reversedDepth),nc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(tc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),nc.setFromProjectionMatrix(tc,i.coordinateSystem,i.reversedDepth),nc.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(tc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),nc.setFromProjectionMatrix(tc,i.coordinateSystem,i.reversedDepth),nc.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(tc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),nc.setFromProjectionMatrix(tc,i.coordinateSystem,i.reversedDepth),nc.containsPoint(e))return!0}return!1}clone(){return new xI}}function SR(t,e){return t-e}function Dnt(t,e){return t.z-e.z}function Lnt(t,e){return e.z-t.z}class Unt{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=n,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const gs=new Wt,znt=new Mt(1,1,1),hK=new Ey,Fnt=new xI,$E=new oa,Uh=new la,Lx=new oe,pK=new oe,jnt=new oe,ER=new Unt,Da=new yr,qE=[];function Bnt(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let a=0;a<i;a++)for(let s=0;s<r;s++)e.setComponent(a+n,s,t.getComponent(a,s))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function zh(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class Vde extends yr{constructor(e,n,r=n*2,i){super(new rn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Yo(n,e,e,hi,Ar);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Yo(n,e,e,Iw,go);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Yo(n,e,e,hi,Ar);r.colorSpace=En.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:c}=s,u=new o.constructor(r*l),f=new ar(u,l,c);n.setAttribute(a,f)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new ar(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=n.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new oa);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,gs),this.getBoundingBoxAt(a,$E).applyMatrix4(gs),e.union($E)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new la);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,gs),this.getBoundingSphereAt(a,Uh).applyMatrix4(gs),e.union(Uh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(SR),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;gs.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(znt.toArray(s.image.data,i*4),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const s=e.getIndex();if(s!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?s.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(SR),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),s=n.getIndex(),o=this._geometryInfo[e];if(i&&s.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const u in r.attributes){const f=n.getAttribute(u),d=r.getAttribute(u);Bnt(f,d,l);const h=f.itemSize;for(let g=f.count,y=c;g<y;g++){const x=l+g;for(let v=0;v<h;v++)d.setComponent(x,v,0)}d.needsUpdate=!0,d.addUpdateRange(l*h,c*h)}if(i){const u=o.indexStart,f=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let d=0;d<s.count;d++)a.setX(u+d,l+s.getX(d));for(let d=s.count,h=f;d<h;d++)a.setX(u+d,l);a.needsUpdate=!0,a.addUpdateRange(u,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((s,o)=>o).sort((s,o)=>r[s].vertexStart-r[o].vertexStart),a=this.geometry;for(let s=0,o=r.length;s<o;s++){const l=i[s],c=r[l];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:f,reservedIndexCount:d}=c,h=a.index,g=h.array,y=e-f;for(let x=u;x<u+d;x++)g[x]=g[x]+y;h.array.copyWithin(n,u,u+d),h.addUpdateRange(n,d),h.needsUpdate=!0,c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:f}=c,d=a.attributes;for(const h in d){const g=d[h],{array:y,itemSize:x}=g;y.copyWithin(e*x,u*x,(u+f)*x),g.addUpdateRange(e*x,f*x),g.needsUpdate=!0}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new oa,s=r.index,o=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;s&&(u=s.getX(u)),a.expandByPoint(Lx.fromBufferAttribute(o,u))}i.boundingBox=a}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new la;this.getBoundingBoxAt(e,$E),$E.getCenter(a.center);const s=r.index,o=r.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let f=c;s&&(f=s.getX(f)),Lx.fromBufferAttribute(o,f),l=Math.max(l,a.center.distanceToSquared(Lx))}a.radius=Math.sqrt(l),i.boundingSphere=a}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(SR);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);zh(this._multiDrawCounts,i),zh(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),zh(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),zh(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),zh(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new rn,this._initializeGeometry(a));const s=this.geometry;a.index&&zh(a.index.array,s.index.array);for(const o in a.attributes)zh(a.attributes[o].array,s.attributes[o].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Da.material=this.material,Da.geometry.index=s.index,Da.geometry.attributes=s.attributes,Da.geometry.boundingBox===null&&(Da.geometry.boundingBox=new oa),Da.geometry.boundingSphere===null&&(Da.geometry.boundingSphere=new la);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const c=r[o].geometryIndex,u=i[c];Da.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,Da.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Da.geometry.boundingBox),this.getBoundingSphereAt(c,Da.geometry.boundingSphere),Da.raycast(e,qE);for(let f=0,d=qE.length;f<d;f++){const h=qE[f];h.object=this,h.batchId=o,n.push(h)}qE.length=0}Da.material=null,Da.geometry.index=null,Da.geometry.attributes={},Da.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,g=h.image.data,y=r.isArrayCamera?Fnt:hK;d&&!r.isArrayCamera&&(gs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),hK.setFromProjectionMatrix(gs,r.coordinateSystem,r.reversedDepth));let x=0;if(this.sortObjects){gs.copy(this.matrixWorld).invert(),Lx.setFromMatrixPosition(r.matrixWorld).applyMatrix4(gs),pK.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(gs);for(let _=0,A=l.length;_<A;_++)if(l[_].visible&&l[_].active){const T=l[_].geometryIndex;this.getMatrixAt(_,gs),this.getBoundingSphereAt(T,Uh).applyMatrix4(gs);let M=!1;if(d&&(M=!y.intersectsSphere(Uh,r)),!M){const I=f[T],O=jnt.subVectors(Uh.center,Lx).dot(pK);ER.push(I.start,I.count,O,_)}}const v=ER.list,b=this.customSort;b===null?v.sort(a.transparent?Lnt:Dnt):b.call(this,v,r);for(let _=0,A=v.length;_<A;_++){const T=v[_];c[x]=T.start*o,u[x]=T.count,g[x]=T.index,x++}ER.reset()}else for(let v=0,b=l.length;v<b;v++)if(l[v].visible&&l[v].active){const _=l[v].geometryIndex;let A=!1;if(d&&(this.getMatrixAt(v,gs),this.getBoundingSphereAt(_,Uh).applyMatrix4(gs),A=!y.intersectsSphere(Uh,r)),!A){const T=f[_];c[x]=T.start*o,u[x]=T.count,g[x]=v,x++}}h.needsUpdate=!0,this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,a,s){this.onBeforeRender(e,null,i,a,s)}}class ls extends Ga{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const JC=new oe,QC=new oe,mK=new Wt,Ux=new Sy,XE=new la,AR=new oe,gK=new oe;class Xd extends Dn{constructor(e=new rn,n=new ls){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)JC.fromBufferAttribute(n,i-1),QC.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=JC.distanceTo(QC);e.setAttribute("lineDistance",new Nt(r,1))}else At("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),XE.copy(r.boundingSphere),XE.applyMatrix4(i),XE.radius+=a,e.ray.intersectsSphere(XE)===!1)return;mK.copy(i).invert(),Ux.copy(e.ray).applyMatrix4(mK);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=r.index,d=r.attributes.position;if(u!==null){const h=Math.max(0,s.start),g=Math.min(u.count,s.start+s.count);for(let y=h,x=g-1;y<x;y+=c){const v=u.getX(y),b=u.getX(y+1),_=KE(this,e,Ux,l,v,b,y);_&&n.push(_)}if(this.isLineLoop){const y=u.getX(g-1),x=u.getX(h),v=KE(this,e,Ux,l,y,x,g-1);v&&n.push(v)}}else{const h=Math.max(0,s.start),g=Math.min(d.count,s.start+s.count);for(let y=h,x=g-1;y<x;y+=c){const v=KE(this,e,Ux,l,y,y+1,y);v&&n.push(v)}if(this.isLineLoop){const y=KE(this,e,Ux,l,g-1,h,g-1);y&&n.push(y)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function KE(t,e,n,r,i,a,s){const o=t.geometry.attributes.position;if(JC.fromBufferAttribute(o,i),QC.fromBufferAttribute(o,a),n.distanceSqToSegment(JC,QC,AR,gK)>r)return;AR.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(AR);if(!(c<e.near||c>e.far))return{distance:c,point:gK.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const vK=new oe,yK=new oe;class zc extends Xd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)vK.fromBufferAttribute(n,i),yK.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+vK.distanceTo(yK);e.setAttribute("lineDistance",new Nt(r,1))}else At("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Hde extends Xd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class cB extends Ga{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const xK=new Wt,_4=new Sy,YE=new la,ZE=new oe;class Gde extends Dn{constructor(e=new rn,n=new cB){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),YE.copy(r.boundingSphere),YE.applyMatrix4(i),YE.radius+=a,e.ray.intersectsSphere(YE)===!1)return;xK.copy(i).invert(),_4.copy(e.ray).applyMatrix4(xK);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,s.start),h=Math.min(c.count,s.start+s.count);for(let g=d,y=h;g<y;g++){const x=c.getX(g);ZE.fromBufferAttribute(f,x),bK(ZE,x,l,i,e,n,this)}}else{const d=Math.max(0,s.start),h=Math.min(f.count,s.start+s.count);for(let g=d,y=h;g<y;g++)ZE.fromBufferAttribute(f,g),bK(ZE,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function bK(t,e,n,r,i,a,s){const o=_4.distanceSqToPoint(t);if(o<n){const l=new oe;_4.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class Wde extends Qn{constructor(e,n,r,i,a=mn,s=mn,o,l,c){super(e,n,r,i,a,s,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;function f(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Vnt extends Wde{constructor(e,n,r,i,a,s,o,l){super({},e,n,r,i,a,s,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Hnt extends Qn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=di,this.minFilter=di,this.generateMipmaps=!1,this.needsUpdate=!0}}class bI extends Qn{constructor(e,n,r,i,a,s,o,l,c,u,f,d){super(null,s,o,l,c,u,i,a,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Gnt extends bI{constructor(e,n,r,i,a,s){super(e,n,r,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ri,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Wnt extends bI{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,jl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class $nt extends Qn{constructor(e,n,r,i,a,s,o,l,c){super(e,n,r,i,a,s,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class cm extends Qn{constructor(e,n,r=go,i,a,s,o=di,l=di,c,u=Cc,f=1){if(u!==Cc&&u!==xd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const d={width:e,height:n,depth:f};super(d,i,a,s,o,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new bd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class $de extends cm{constructor(e,n=go,r=jl,i,a,s=di,o=di,l,c=Cc){const u={width:e,height:e,depth:1},f=[u,u,u,u,u,u];super(e,e,n,r,i,a,s,o,l,c),this.image=f,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class uB extends Qn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class _I extends rn{constructor(e=1,n=1,r=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:a},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const s=[],o=[],l=[],c=[],u=n/2,f=Math.PI/2*e,d=n,h=2*f+d,g=r*2+a,y=i+1,x=new oe,v=new oe;for(let b=0;b<=g;b++){let _=0,A=0,T=0,M=0;if(b<=r){const P=b/r,k=P*Math.PI/2;A=-u-e*Math.cos(k),T=e*Math.sin(k),M=-e*Math.cos(k),_=P*f}else if(b<=r+a){const P=(b-r)/a;A=-u+P*n,T=e,M=0,_=f+P*d}else{const P=(b-r-a)/r,k=P*Math.PI/2;A=u+e*Math.sin(k),T=e*Math.cos(k),M=e*Math.sin(k),_=f+d+P*f}const I=Math.max(0,Math.min(1,_/h));let O=0;b===0?O=.5/i:b===g&&(O=-.5/i);for(let P=0;P<=i;P++){const k=P/i,N=k*Math.PI*2,L=Math.sin(N),B=Math.cos(N);v.x=-T*B,v.y=A,v.z=T*L,o.push(v.x,v.y,v.z),x.set(-T*B,M,T*L),x.normalize(),l.push(x.x,x.y,x.z),c.push(k+O,I)}if(b>0){const P=(b-1)*y;for(let k=0;k<i;k++){const N=P+k,L=P+k+1,B=b*y+k,D=b*y+k+1;s.push(N,L,B),s.push(L,D,B)}}}this.setIndex(s),this.setAttribute("position",new Nt(o,3)),this.setAttribute("normal",new Nt(l,3)),this.setAttribute("uv",new Nt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _I(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class wI extends rn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],s=[],o=[],l=[],c=new oe,u=new tt;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const h=r+f/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(s[d]/e+1)/2,u.y=(s[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Nt(s,3)),this.setAttribute("normal",new Nt(o,3)),this.setAttribute("uv",new Nt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wI(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nw extends rn{constructor(e=1,n=1,r=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],f=[],d=[],h=[];let g=0;const y=[],x=r/2;let v=0;b(),s===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new Nt(f,3)),this.setAttribute("normal",new Nt(d,3)),this.setAttribute("uv",new Nt(h,2));function b(){const A=new oe,T=new oe;let M=0;const I=(n-e)/r;for(let O=0;O<=a;O++){const P=[],k=O/a,N=k*(n-e)+e;for(let L=0;L<=i;L++){const B=L/i,D=B*l+o,V=Math.sin(D),F=Math.cos(D);T.x=N*V,T.y=-k*r+x,T.z=N*F,f.push(T.x,T.y,T.z),A.set(V,I,F).normalize(),d.push(A.x,A.y,A.z),h.push(B,1-k),P.push(g++)}y.push(P)}for(let O=0;O<i;O++)for(let P=0;P<a;P++){const k=y[P][O],N=y[P+1][O],L=y[P+1][O+1],B=y[P][O+1];(e>0||P!==0)&&(u.push(k,N,B),M+=3),(n>0||P!==a-1)&&(u.push(N,L,B),M+=3)}c.addGroup(v,M,0),v+=M}function _(A){const T=g,M=new tt,I=new oe;let O=0;const P=A===!0?e:n,k=A===!0?1:-1;for(let L=1;L<=i;L++)f.push(0,x*k,0),d.push(0,k,0),h.push(.5,.5),g++;const N=g;for(let L=0;L<=i;L++){const D=L/i*l+o,V=Math.cos(D),F=Math.sin(D);I.x=P*F,I.y=x*k,I.z=P*V,f.push(I.x,I.y,I.z),d.push(0,k,0),M.x=V*.5+.5,M.y=F*.5*k+.5,h.push(M.x,M.y),g++}for(let L=0;L<i;L++){const B=T+L,D=N+L;A===!0?u.push(D,D+1,B):u.push(D+1,D,B),O+=3}c.addGroup(v,O,A===!0?1:2),v+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Rw extends Nw{constructor(e=1,n=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,n,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new Rw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class lh extends rn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],s=[];o(i),c(r),u(),this.setAttribute("position",new Nt(a,3)),this.setAttribute("normal",new Nt(a.slice(),3)),this.setAttribute("uv",new Nt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const _=new oe,A=new oe,T=new oe;for(let M=0;M<n.length;M+=3)h(n[M+0],_),h(n[M+1],A),h(n[M+2],T),l(_,A,T,b)}function l(b,_,A,T){const M=T+1,I=[];for(let O=0;O<=M;O++){I[O]=[];const P=b.clone().lerp(A,O/M),k=_.clone().lerp(A,O/M),N=M-O;for(let L=0;L<=N;L++)L===0&&O===M?I[O][L]=P:I[O][L]=P.clone().lerp(k,L/N)}for(let O=0;O<M;O++)for(let P=0;P<2*(M-O)-1;P++){const k=Math.floor(P/2);P%2===0?(d(I[O][k+1]),d(I[O+1][k]),d(I[O][k])):(d(I[O][k+1]),d(I[O+1][k+1]),d(I[O+1][k]))}}function c(b){const _=new oe;for(let A=0;A<a.length;A+=3)_.x=a[A+0],_.y=a[A+1],_.z=a[A+2],_.normalize().multiplyScalar(b),a[A+0]=_.x,a[A+1]=_.y,a[A+2]=_.z}function u(){const b=new oe;for(let _=0;_<a.length;_+=3){b.x=a[_+0],b.y=a[_+1],b.z=a[_+2];const A=x(b)/2/Math.PI+.5,T=v(b)/Math.PI+.5;s.push(A,1-T)}g(),f()}function f(){for(let b=0;b<s.length;b+=6){const _=s[b+0],A=s[b+2],T=s[b+4],M=Math.max(_,A,T),I=Math.min(_,A,T);M>.9&&I<.1&&(_<.2&&(s[b+0]+=1),A<.2&&(s[b+2]+=1),T<.2&&(s[b+4]+=1))}}function d(b){a.push(b.x,b.y,b.z)}function h(b,_){const A=b*3;_.x=e[A+0],_.y=e[A+1],_.z=e[A+2]}function g(){const b=new oe,_=new oe,A=new oe,T=new oe,M=new tt,I=new tt,O=new tt;for(let P=0,k=0;P<a.length;P+=9,k+=6){b.set(a[P+0],a[P+1],a[P+2]),_.set(a[P+3],a[P+4],a[P+5]),A.set(a[P+6],a[P+7],a[P+8]),M.set(s[k+0],s[k+1]),I.set(s[k+2],s[k+3]),O.set(s[k+4],s[k+5]),T.copy(b).add(_).add(A).divideScalar(3);const N=x(T);y(M,k+0,b,N),y(I,k+2,_,N),y(O,k+4,A,N)}}function y(b,_,A,T){T<0&&b.x===1&&(s[_]=b.x-1),A.x===0&&A.z===0&&(s[_]=T/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function v(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lh(e.vertices,e.indices,e.radius,e.detail)}}class SI extends lh{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new SI(e.radius,e.detail)}}const JE=new oe,QE=new oe,MR=new oe,eA=new Es;class qde extends rn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),a=Math.cos(Dp*n),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},h=[];for(let g=0;g<l;g+=3){s?(c[0]=s.getX(g),c[1]=s.getX(g+1),c[2]=s.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:x,c:v}=eA;if(y.fromBufferAttribute(o,c[0]),x.fromBufferAttribute(o,c[1]),v.fromBufferAttribute(o,c[2]),eA.getNormal(MR),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const _=(b+1)%3,A=f[b],T=f[_],M=eA[u[b]],I=eA[u[_]],O=`${A}_${T}`,P=`${T}_${A}`;P in d&&d[P]?(MR.dot(d[P].normal)<=a&&(h.push(M.x,M.y,M.z),h.push(I.x,I.y,I.z)),d[P]=null):O in d||(d[O]={index0:c[b],index1:c[_],normal:MR.clone()})}}for(const g in d)if(d[g]){const{index0:y,index1:x}=d[g];JE.fromBufferAttribute(o,y),QE.fromBufferAttribute(o,x),h.push(JE.x,JE.y,JE.z),h.push(QE.x,QE.y,QE.z)}this.setAttribute("position",new Nt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class $l{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){At("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const a=r.length;let s;n?s=n:s=e*r[a-1];let o=0,l=a-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-s,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(a-1);const u=r[i],d=r[i+1]-u,h=(s-u)/d;return(i+h)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=n||(s.isVector2?new tt:new oe);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new oe,i=[],a=[],s=[],o=new oe,l=new Wt;for(let h=0;h<=e;h++){const g=h/e;i[h]=this.getTangentAt(g,new oe)}a[0]=new oe,s[0]=new oe;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let h=1;h<=e;h++){if(a[h]=a[h-1].clone(),s[h]=s[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const g=Math.acos($t(i[h-1].dot(i[h]),-1,1));a[h].applyMatrix4(l.makeRotationAxis(o,g))}s[h].crossVectors(i[h],a[h])}if(n===!0){let h=Math.acos($t(a[0].dot(a[e]),-1,1));h/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(h=-h);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(i[g],h*g)),s[g].crossVectors(i[g],a[g])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class EI extends $l{constructor(e=0,n=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new tt){const r=n,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=c-this.aY;l=d*u-h*f+this.aX,c=d*f+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Xde extends EI{constructor(e,n,r,i,a,s){super(e,n,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function fB(){let t=0,e=0,n=0,r=0;function i(a,s,o,l){t=a,e=o,n=-3*a+3*s-2*o-l,r=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){i(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,u,f){let d=(s-a)/c-(o-a)/(c+u)+(o-s)/u,h=(o-s)/u-(l-s)/(u+f)+(l-o)/f;d*=u,h*=u,i(s,o,d,h)},calc:function(a){const s=a*a,o=s*a;return t+e*a+n*s+r*o}}}const tA=new oe,TR=new fB,CR=new fB,PR=new fB;class Kde extends $l{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new oe){const r=n,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%a]:(tA.subVectors(i[0],i[1]).add(i[0]),c=tA);const f=i[o%a],d=i[(o+1)%a];if(this.closed||o+2<a?u=i[(o+2)%a]:(tA.subVectors(i[a-1],i[a-2]).add(i[a-1]),u=tA),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),h),y=Math.pow(f.distanceToSquared(d),h),x=Math.pow(d.distanceToSquared(u),h);y<1e-4&&(y=1),g<1e-4&&(g=y),x<1e-4&&(x=y),TR.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,g,y,x),CR.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,g,y,x),PR.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,g,y,x)}else this.curveType==="catmullrom"&&(TR.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),CR.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),PR.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(TR.calc(l),CR.calc(l),PR.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new oe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function _K(t,e,n,r,i){const a=(r-e)*.5,s=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+a+s)*l+(-3*n+3*r-2*a-s)*o+a*t+n}function qnt(t,e){const n=1-t;return n*n*e}function Xnt(t,e){return 2*(1-t)*t*e}function Knt(t,e){return t*t*e}function Qb(t,e,n,r){return qnt(t,e)+Xnt(t,n)+Knt(t,r)}function Ynt(t,e){const n=1-t;return n*n*n*e}function Znt(t,e){const n=1-t;return 3*n*n*t*e}function Jnt(t,e){return 3*(1-t)*t*t*e}function Qnt(t,e){return t*t*t*e}function e1(t,e,n,r,i){return Ynt(t,e)+Znt(t,n)+Jnt(t,r)+Qnt(t,i)}class dB extends $l{constructor(e=new tt,n=new tt,r=new tt,i=new tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new tt){const r=n,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(e1(e,i.x,a.x,s.x,o.x),e1(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Yde extends $l{constructor(e=new oe,n=new oe,r=new oe,i=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new oe){const r=n,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(e1(e,i.x,a.x,s.x,o.x),e1(e,i.y,a.y,s.y,o.y),e1(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hB extends $l{constructor(e=new tt,n=new tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new tt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new tt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Zde extends $l{constructor(e=new oe,n=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new oe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pB extends $l{constructor(e=new tt,n=new tt,r=new tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new tt){const r=n,i=this.v0,a=this.v1,s=this.v2;return r.set(Qb(e,i.x,a.x,s.x),Qb(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mB extends $l{constructor(e=new oe,n=new oe,r=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new oe){const r=n,i=this.v0,a=this.v1,s=this.v2;return r.set(Qb(e,i.x,a.x,s.x),Qb(e,i.y,a.y,s.y),Qb(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gB extends $l{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new tt){const r=n,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],f=i[s>i.length-3?i.length-1:s+2];return r.set(_K(o,l.x,c.x,u.x,f.x),_K(o,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new tt().fromArray(i))}return this}}var eP=Object.freeze({__proto__:null,ArcCurve:Xde,CatmullRomCurve3:Kde,CubicBezierCurve:dB,CubicBezierCurve3:Yde,EllipseCurve:EI,LineCurve:hB,LineCurve3:Zde,QuadraticBezierCurve:pB,QuadraticBezierCurve3:mB,SplineCurve:gB});class Jde extends $l{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new eP[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new eP[i.type]().fromJSON(i))}return this}}class tP extends Jde{constructor(e){super(),this.type="Path",this.currentPoint=new tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new hB(this.currentPoint.clone(),new tt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new pB(this.currentPoint.clone(),new tt(e,n),new tt(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,s){const o=new dB(this.currentPoint.clone(),new tt(e,n),new tt(r,i),new tt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new gB(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,a,s),this}absarc(e,n,r,i,a,s){return this.absellipse(e,n,r,r,i,a,s),this}ellipse(e,n,r,i,a,s,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,a,s,o,l),this}absellipse(e,n,r,i,a,s,o,l){const c=new EI(e,n,r,i,a,s,o,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lp extends tP{constructor(e){super(e),this.uuid=co(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new tP().fromJSON(i))}return this}}function ert(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=Qde(t,0,i,n,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c;if(r&&(a=art(t,e,a,n)),t.length>80*n){o=t[0],l=t[1];let u=o,f=l;for(let d=n;d<i;d+=n){const h=t[d],g=t[d+1];h<o&&(o=h),g<l&&(l=g),h>u&&(u=h),g>f&&(f=g)}c=Math.max(u-o,f-l),c=c!==0?32767/c:0}return c_(a,s,n,o,l,c,0),s}function Qde(t,e,n,r,i){let a;if(i===grt(t,e,n,r)>0)for(let s=e;s<n;s+=r)a=wK(s/r|0,t[s],t[s+1],a);else for(let s=n-r;s>=e;s-=r)a=wK(s/r|0,t[s],t[s+1],a);return a&&D0(a,a.next)&&(f_(a),a=a.next),a}function um(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(D0(n,n.next)||Hr(n.prev,n,n.next)===0)){if(f_(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function c_(t,e,n,r,i,a,s){if(!t)return;!s&&a&&urt(t,r,i,a);let o=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(a?nrt(t,r,i,a):trt(t)){e.push(l.i,t.i,c.i),f_(t),t=c.next,o=c.next;continue}if(t=c,t===o){s?s===1?(t=rrt(um(t),e),c_(t,e,n,r,i,a,2)):s===2&&irt(t,e,n,r,i,a):c_(um(t),e,n,r,i,a,1);break}}}function trt(t){const e=t.prev,n=t,r=t.next;if(Hr(e,n,r)>=0)return!1;const i=e.x,a=n.x,s=r.x,o=e.y,l=n.y,c=r.y,u=Math.min(i,a,s),f=Math.min(o,l,c),d=Math.max(i,a,s),h=Math.max(o,l,c);let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=f&&g.y<=h&&db(i,o,a,l,s,c,g.x,g.y)&&Hr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function nrt(t,e,n,r){const i=t.prev,a=t,s=t.next;if(Hr(i,a,s)>=0)return!1;const o=i.x,l=a.x,c=s.x,u=i.y,f=a.y,d=s.y,h=Math.min(o,l,c),g=Math.min(u,f,d),y=Math.max(o,l,c),x=Math.max(u,f,d),v=w4(h,g,e,n,r),b=w4(y,x,e,n,r);let _=t.prevZ,A=t.nextZ;for(;_&&_.z>=v&&A&&A.z<=b;){if(_.x>=h&&_.x<=y&&_.y>=g&&_.y<=x&&_!==i&&_!==s&&db(o,u,l,f,c,d,_.x,_.y)&&Hr(_.prev,_,_.next)>=0||(_=_.prevZ,A.x>=h&&A.x<=y&&A.y>=g&&A.y<=x&&A!==i&&A!==s&&db(o,u,l,f,c,d,A.x,A.y)&&Hr(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;_&&_.z>=v;){if(_.x>=h&&_.x<=y&&_.y>=g&&_.y<=x&&_!==i&&_!==s&&db(o,u,l,f,c,d,_.x,_.y)&&Hr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;A&&A.z<=b;){if(A.x>=h&&A.x<=y&&A.y>=g&&A.y<=x&&A!==i&&A!==s&&db(o,u,l,f,c,d,A.x,A.y)&&Hr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function rrt(t,e){let n=t;do{const r=n.prev,i=n.next.next;!D0(r,i)&&the(r,n,n.next,i)&&u_(r,i)&&u_(i,r)&&(e.push(r.i,n.i,i.i),f_(n),f_(n.next),n=t=i),n=n.next}while(n!==t);return um(n)}function irt(t,e,n,r,i,a){let s=t;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&hrt(s,o)){let l=nhe(s,o);s=um(s,s.next),l=um(l,l.next),c_(s,e,n,r,i,a,0),c_(l,e,n,r,i,a,0);return}o=o.next}s=s.next}while(s!==t)}function art(t,e,n,r){const i=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*r,l=a<s-1?e[a+1]*r:t.length,c=Qde(t,o,l,r,!1);c===c.next&&(c.steiner=!0),i.push(drt(c))}i.sort(srt);for(let a=0;a<i.length;a++)n=ort(i[a],n);return n}function srt(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function ort(t,e){const n=lrt(t,e);if(!n)return e;const r=nhe(n,t);return um(r,r.next),um(n,n.next)}function lrt(t,e){let n=e;const r=t.x,i=t.y;let a=-1/0,s;if(D0(t,n))return n;do{if(D0(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>a&&(a=f,s=n.x<n.next.x?n:n.next,f===r))return s}n=n.next}while(n!==e);if(!s)return null;const o=s,l=s.x,c=s.y;let u=1/0;n=s;do{if(r>=n.x&&n.x>=l&&r!==n.x&&ehe(i<c?r:a,i,l,c,i<c?a:r,i,n.x,n.y)){const f=Math.abs(i-n.y)/(r-n.x);u_(n,t)&&(f<u||f===u&&(n.x>s.x||n.x===s.x&&crt(s,n)))&&(s=n,u=f)}n=n.next}while(n!==o);return s}function crt(t,e){return Hr(t.prev,t,e.prev)<0&&Hr(e.next,t,t.next)<0}function urt(t,e,n,r){let i=t;do i.z===0&&(i.z=w4(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,frt(i)}function frt(t){let e,n=1;do{let r=t,i;t=null;let a=null;for(e=0;r;){e++;let s=r,o=0;for(let c=0;c<n&&(o++,s=s.nextZ,!!s);c++);let l=n;for(;o>0||l>0&&s;)o!==0&&(l===0||!s||r.z<=s.z)?(i=r,r=r.nextZ,o--):(i=s,s=s.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=s}a.nextZ=null,n*=2}while(e>1);return t}function w4(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function drt(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ehe(t,e,n,r,i,a,s,o){return(i-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(r-o)>=(n-s)*(e-o)&&(n-s)*(a-o)>=(i-s)*(r-o)}function db(t,e,n,r,i,a,s,o){return!(t===s&&e===o)&&ehe(t,e,n,r,i,a,s,o)}function hrt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!prt(t,e)&&(u_(t,e)&&u_(e,t)&&mrt(t,e)&&(Hr(t.prev,t,e.prev)||Hr(t,e.prev,e))||D0(t,e)&&Hr(t.prev,t,t.next)>0&&Hr(e.prev,e,e.next)>0)}function Hr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function D0(t,e){return t.x===e.x&&t.y===e.y}function the(t,e,n,r){const i=rA(Hr(t,e,n)),a=rA(Hr(t,e,r)),s=rA(Hr(n,r,t)),o=rA(Hr(n,r,e));return!!(i!==a&&s!==o||i===0&&nA(t,n,e)||a===0&&nA(t,r,e)||s===0&&nA(n,t,r)||o===0&&nA(n,e,r))}function nA(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function rA(t){return t>0?1:t<0?-1:0}function prt(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&the(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function u_(t,e){return Hr(t.prev,t,t.next)<0?Hr(t,e,t.next)>=0&&Hr(t,t.prev,e)>=0:Hr(t,e,t.prev)<0||Hr(t,t.next,e)<0}function mrt(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function nhe(t,e){const n=S4(t.i,t.x,t.y),r=S4(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function wK(t,e,n,r){const i=S4(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function f_(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S4(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function grt(t,e,n,r){let i=0;for(let a=e,s=n-r;a<n;a+=r)i+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return i}class vrt{static triangulate(e,n,r=2){return ert(e,n,r)}}class Nl{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Nl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];SK(e),EK(r,e);let s=e.length;n.forEach(SK);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,EK(r,n[l]);const o=vrt.triangulate(r,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function SK(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function EK(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class AI extends rn{constructor(e=new Lp([new tt(.5,.5),new tt(-.5,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new Nt(i,3)),this.setAttribute("uv",new Nt(a,2)),this.computeVertexNormals();function s(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:h-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:yrt;let _,A=!1,T,M,I,O;if(v){_=v.getSpacedPoints(u),A=!0,d=!1;const we=v.isCatmullRomCurve3?v.closed:!1;T=v.computeFrenetFrames(u,we),M=new oe,I=new oe,O=new oe}d||(x=0,h=0,g=0,y=0);const P=o.extractPoints(c);let k=P.shape;const N=P.holes;if(!Nl.isClockWise(k)){k=k.reverse();for(let we=0,Te=N.length;we<Te;we++){const Ee=N[we];Nl.isClockWise(Ee)&&(N[we]=Ee.reverse())}}function B(we){const Ee=10000000000000001e-36;let ke=we[0];for(let Y=1;Y<=we.length;Y++){const xe=Y%we.length,ye=we[xe],me=ye.x-ke.x,Pe=ye.y-ke.y,K=me*me+Pe*Pe,j=Math.max(Math.abs(ye.x),Math.abs(ye.y),Math.abs(ke.x),Math.abs(ke.y)),ee=Ee*j*j;if(K<=ee){we.splice(xe,1),Y--;continue}ke=ye}}B(k),N.forEach(B);const D=N.length,V=k;for(let we=0;we<D;we++){const Te=N[we];k=k.concat(Te)}function F(we,Te,Ee){return Te||Ft("ExtrudeGeometry: vec does not exist"),we.clone().addScaledVector(Te,Ee)}const H=k.length;function q(we,Te,Ee){let ke,Y,xe;const ye=we.x-Te.x,me=we.y-Te.y,Pe=Ee.x-we.x,K=Ee.y-we.y,j=ye*ye+me*me,ee=ye*K-me*Pe;if(Math.abs(ee)>Number.EPSILON){const re=Math.sqrt(j),se=Math.sqrt(Pe*Pe+K*K),ce=Te.x-me/re,Oe=Te.y+ye/re,De=Ee.x-K/se,Ge=Ee.y+Pe/se,rt=((De-ce)*K-(Ge-Oe)*Pe)/(ye*K-me*Pe);ke=ce+ye*rt-we.x,Y=Oe+me*rt-we.y;const Re=ke*ke+Y*Y;if(Re<=2)return new tt(ke,Y);xe=Math.sqrt(Re/2)}else{let re=!1;ye>Number.EPSILON?Pe>Number.EPSILON&&(re=!0):ye<-Number.EPSILON?Pe<-Number.EPSILON&&(re=!0):Math.sign(me)===Math.sign(K)&&(re=!0),re?(ke=-me,Y=ye,xe=Math.sqrt(j)):(ke=ye,Y=me,xe=Math.sqrt(j/2))}return new tt(ke/xe,Y/xe)}const W=[];for(let we=0,Te=V.length,Ee=Te-1,ke=we+1;we<Te;we++,Ee++,ke++)Ee===Te&&(Ee=0),ke===Te&&(ke=0),W[we]=q(V[we],V[Ee],V[ke]);const z=[];let $,Z=W.concat();for(let we=0,Te=D;we<Te;we++){const Ee=N[we];$=[];for(let ke=0,Y=Ee.length,xe=Y-1,ye=ke+1;ke<Y;ke++,xe++,ye++)xe===Y&&(xe=0),ye===Y&&(ye=0),$[ke]=q(Ee[ke],Ee[xe],Ee[ye]);z.push($),Z=Z.concat($)}let G;if(x===0)G=Nl.triangulateShape(V,N);else{const we=[],Te=[];for(let Ee=0;Ee<x;Ee++){const ke=Ee/x,Y=h*Math.cos(ke*Math.PI/2),xe=g*Math.sin(ke*Math.PI/2)+y;for(let ye=0,me=V.length;ye<me;ye++){const Pe=F(V[ye],W[ye],xe);le(Pe.x,Pe.y,-Y),ke===0&&we.push(Pe)}for(let ye=0,me=D;ye<me;ye++){const Pe=N[ye];$=z[ye];const K=[];for(let j=0,ee=Pe.length;j<ee;j++){const re=F(Pe[j],$[j],xe);le(re.x,re.y,-Y),ke===0&&K.push(re)}ke===0&&Te.push(K)}}G=Nl.triangulateShape(we,Te)}const ie=G.length,ue=g+y;for(let we=0;we<H;we++){const Te=d?F(k[we],Z[we],ue):k[we];A?(I.copy(T.normals[0]).multiplyScalar(Te.x),M.copy(T.binormals[0]).multiplyScalar(Te.y),O.copy(_[0]).add(I).add(M),le(O.x,O.y,O.z)):le(Te.x,Te.y,0)}for(let we=1;we<=u;we++)for(let Te=0;Te<H;Te++){const Ee=d?F(k[Te],Z[Te],ue):k[Te];A?(I.copy(T.normals[we]).multiplyScalar(Ee.x),M.copy(T.binormals[we]).multiplyScalar(Ee.y),O.copy(_[we]).add(I).add(M),le(O.x,O.y,O.z)):le(Ee.x,Ee.y,f/u*we)}for(let we=x-1;we>=0;we--){const Te=we/x,Ee=h*Math.cos(Te*Math.PI/2),ke=g*Math.sin(Te*Math.PI/2)+y;for(let Y=0,xe=V.length;Y<xe;Y++){const ye=F(V[Y],W[Y],ke);le(ye.x,ye.y,f+Ee)}for(let Y=0,xe=N.length;Y<xe;Y++){const ye=N[Y];$=z[Y];for(let me=0,Pe=ye.length;me<Pe;me++){const K=F(ye[me],$[me],ke);A?le(K.x,K.y+_[u-1].y,_[u-1].x+Ee):le(K.x,K.y,f+Ee)}}}te(),ae();function te(){const we=i.length/3;if(d){let Te=0,Ee=H*Te;for(let ke=0;ke<ie;ke++){const Y=G[ke];be(Y[2]+Ee,Y[1]+Ee,Y[0]+Ee)}Te=u+x*2,Ee=H*Te;for(let ke=0;ke<ie;ke++){const Y=G[ke];be(Y[0]+Ee,Y[1]+Ee,Y[2]+Ee)}}else{for(let Te=0;Te<ie;Te++){const Ee=G[Te];be(Ee[2],Ee[1],Ee[0])}for(let Te=0;Te<ie;Te++){const Ee=G[Te];be(Ee[0]+H*u,Ee[1]+H*u,Ee[2]+H*u)}}r.addGroup(we,i.length/3-we,0)}function ae(){const we=i.length/3;let Te=0;he(V,Te),Te+=V.length;for(let Ee=0,ke=N.length;Ee<ke;Ee++){const Y=N[Ee];he(Y,Te),Te+=Y.length}r.addGroup(we,i.length/3-we,1)}function he(we,Te){let Ee=we.length;for(;--Ee>=0;){const ke=Ee;let Y=Ee-1;Y<0&&(Y=we.length-1);for(let xe=0,ye=u+x*2;xe<ye;xe++){const me=H*xe,Pe=H*(xe+1),K=Te+ke+me,j=Te+Y+me,ee=Te+Y+Pe,re=Te+ke+Pe;Ie(K,j,ee,re)}}}function le(we,Te,Ee){l.push(we),l.push(Te),l.push(Ee)}function be(we,Te,Ee){fe(we),fe(Te),fe(Ee);const ke=i.length/3,Y=b.generateTopUV(r,i,ke-3,ke-2,ke-1);Ye(Y[0]),Ye(Y[1]),Ye(Y[2])}function Ie(we,Te,Ee,ke){fe(we),fe(Te),fe(ke),fe(Te),fe(Ee),fe(ke);const Y=i.length/3,xe=b.generateSideWallUV(r,i,Y-6,Y-3,Y-2,Y-1);Ye(xe[0]),Ye(xe[1]),Ye(xe[3]),Ye(xe[1]),Ye(xe[2]),Ye(xe[3])}function fe(we){i.push(l[we*3+0]),i.push(l[we*3+1]),i.push(l[we*3+2])}function Ye(we){a.push(we.x),a.push(we.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return xrt(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=n[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new eP[i.type]().fromJSON(i)),new AI(r,e.options)}}const yrt={generateTopUV:function(t,e,n,r,i){const a=e[n*3],s=e[n*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new tt(a,s),new tt(o,l),new tt(c,u)]},generateSideWallUV:function(t,e,n,r,i,a){const s=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],g=e[i*3+2],y=e[a*3],x=e[a*3+1],v=e[a*3+2];return Math.abs(o-u)<Math.abs(s-c)?[new tt(s,1-l),new tt(c,1-f),new tt(d,1-g),new tt(y,1-v)]:[new tt(o,1-l),new tt(u,1-f),new tt(h,1-g),new tt(x,1-v)]}};function xrt(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Dw extends lh{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Dw(e.radius,e.detail)}}class MI extends rn{constructor(e=[new tt(0,-.5),new tt(.5,0),new tt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=$t(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],u=1/n,f=new oe,d=new tt,h=new oe,g=new oe,y=new oe;let x=0,v=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:x=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,h.x=v*1,h.y=-x,h.z=v*0,y.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,h.x=v*1,h.y=-x,h.z=v*0,g.copy(h),h.x+=y.x,h.y+=y.y,h.z+=y.z,h.normalize(),l.push(h.x,h.y,h.z),y.copy(g)}for(let b=0;b<=n;b++){const _=r+b*u*i,A=Math.sin(_),T=Math.cos(_);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*A,f.y=e[M].y,f.z=e[M].x*T,s.push(f.x,f.y,f.z),d.x=b/n,d.y=M/(e.length-1),o.push(d.x,d.y);const I=l[3*M+0]*A,O=l[3*M+1],P=l[3*M+0]*T;c.push(I,O,P)}}for(let b=0;b<n;b++)for(let _=0;_<e.length-1;_++){const A=_+b*e.length,T=A,M=A+e.length,I=A+e.length+1,O=A+1;a.push(T,M,O),a.push(I,O,M)}this.setIndex(a),this.setAttribute("position",new Nt(s,3)),this.setAttribute("uv",new Nt(o,2)),this.setAttribute("normal",new Nt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MI(e.points,e.segments,e.phiStart,e.phiLength)}}class Lw extends lh{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Lw(e.radius,e.detail)}}class ql extends rn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,s=n/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,f=e/o,d=n/l,h=[],g=[],y=[],x=[];for(let v=0;v<u;v++){const b=v*d-s;for(let _=0;_<c;_++){const A=_*f-a;g.push(A,-b,0),y.push(0,0,1),x.push(_/o),x.push(1-v/l)}}for(let v=0;v<l;v++)for(let b=0;b<o;b++){const _=b+c*v,A=b+c*(v+1),T=b+1+c*(v+1),M=b+1+c*v;h.push(_,A,M),h.push(A,T,M)}this.setIndex(h),this.setAttribute("position",new Nt(g,3)),this.setAttribute("normal",new Nt(y,3)),this.setAttribute("uv",new Nt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ql(e.width,e.height,e.widthSegments,e.heightSegments)}}class TI extends rn{constructor(e=.5,n=1,r=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let f=e;const d=(n-e)/i,h=new oe,g=new tt;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const v=a+x/r*s;h.x=f*Math.cos(v),h.y=f*Math.sin(v),l.push(h.x,h.y,h.z),c.push(0,0,1),g.x=(h.x/n+1)/2,g.y=(h.y/n+1)/2,u.push(g.x,g.y)}f+=d}for(let y=0;y<i;y++){const x=y*(r+1);for(let v=0;v<r;v++){const b=v+x,_=b,A=b+r+1,T=b+r+2,M=b+1;o.push(_,A,M),o.push(A,T,M)}}this.setIndex(o),this.setAttribute("position",new Nt(l,3)),this.setAttribute("normal",new Nt(c,3)),this.setAttribute("uv",new Nt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TI(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class CI extends rn{constructor(e=new Lp([new tt(0,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Nt(i,3)),this.setAttribute("normal",new Nt(a,3)),this.setAttribute("uv",new Nt(s,2));function c(u){const f=i.length/3,d=u.extractPoints(n);let h=d.shape;const g=d.holes;Nl.isClockWise(h)===!1&&(h=h.reverse());for(let x=0,v=g.length;x<v;x++){const b=g[x];Nl.isClockWise(b)===!0&&(g[x]=b.reverse())}const y=Nl.triangulateShape(h,g);for(let x=0,v=g.length;x<v;x++){const b=g[x];h=h.concat(b)}for(let x=0,v=h.length;x<v;x++){const b=h[x];i.push(b.x,b.y,0),a.push(0,0,1),s.push(b.x,b.y)}for(let x=0,v=y.length;x<v;x++){const b=y[x],_=b[0]+f,A=b[1]+f,T=b[2]+f;r.push(_,A,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return brt(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=n[e.shapes[i]];r.push(s)}return new CI(r,e.curveSegments)}}function brt(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Uw extends rn{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const u=[],f=new oe,d=new oe,h=[],g=[],y=[],x=[];for(let v=0;v<=r;v++){const b=[],_=v/r;let A=0;v===0&&s===0?A=.5/n:v===r&&l===Math.PI&&(A=-.5/n);for(let T=0;T<=n;T++){const M=T/n;f.x=-e*Math.cos(i+M*a)*Math.sin(s+_*o),f.y=e*Math.cos(s+_*o),f.z=e*Math.sin(i+M*a)*Math.sin(s+_*o),g.push(f.x,f.y,f.z),d.copy(f).normalize(),y.push(d.x,d.y,d.z),x.push(M+A,1-_),b.push(c++)}u.push(b)}for(let v=0;v<r;v++)for(let b=0;b<n;b++){const _=u[v][b+1],A=u[v][b],T=u[v+1][b],M=u[v+1][b+1];(v!==0||s>0)&&h.push(_,A,M),(v!==r-1||l<Math.PI)&&h.push(A,T,M)}this.setIndex(h),this.setAttribute("position",new Nt(g,3)),this.setAttribute("normal",new Nt(y,3)),this.setAttribute("uv",new Nt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class PI extends lh{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new PI(e.radius,e.detail)}}class II extends rn{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],l=[],c=[],u=new oe,f=new oe,d=new oe;for(let h=0;h<=r;h++)for(let g=0;g<=i;g++){const y=g/i*a,x=h/r*Math.PI*2;f.x=(e+n*Math.cos(x))*Math.cos(y),f.y=(e+n*Math.cos(x))*Math.sin(y),f.z=n*Math.sin(x),o.push(f.x,f.y,f.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let g=1;g<=i;g++){const y=(i+1)*h+g-1,x=(i+1)*(h-1)+g-1,v=(i+1)*(h-1)+g,b=(i+1)*h+g;s.push(y,x,b),s.push(x,v,b)}this.setIndex(s),this.setAttribute("position",new Nt(o,3)),this.setAttribute("normal",new Nt(l,3)),this.setAttribute("uv",new Nt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new II(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class OI extends rn{constructor(e=1,n=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],f=new oe,d=new oe,h=new oe,g=new oe,y=new oe,x=new oe,v=new oe;for(let _=0;_<=r;++_){const A=_/r*a*Math.PI*2;b(A,a,s,e,h),b(A+.01,a,s,e,g),x.subVectors(g,h),v.addVectors(g,h),y.crossVectors(x,v),v.crossVectors(y,x),y.normalize(),v.normalize();for(let T=0;T<=i;++T){const M=T/i*Math.PI*2,I=-n*Math.cos(M),O=n*Math.sin(M);f.x=h.x+(I*v.x+O*y.x),f.y=h.y+(I*v.y+O*y.y),f.z=h.z+(I*v.z+O*y.z),l.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),u.push(_/r),u.push(T/i)}}for(let _=1;_<=r;_++)for(let A=1;A<=i;A++){const T=(i+1)*(_-1)+(A-1),M=(i+1)*_+(A-1),I=(i+1)*_+A,O=(i+1)*(_-1)+A;o.push(T,M,O),o.push(M,I,O)}this.setIndex(o),this.setAttribute("position",new Nt(l,3)),this.setAttribute("normal",new Nt(c,3)),this.setAttribute("uv",new Nt(u,2));function b(_,A,T,M,I){const O=Math.cos(_),P=Math.sin(_),k=T/A*_,N=Math.cos(k);I.x=M*(2+N)*.5*O,I.y=M*(2+N)*P*.5,I.z=M*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OI(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class kI extends rn{constructor(e=new mB(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new oe,l=new oe,c=new tt;let u=new oe;const f=[],d=[],h=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new Nt(f,3)),this.setAttribute("normal",new Nt(d,3)),this.setAttribute("uv",new Nt(h,2));function y(){for(let _=0;_<n;_++)x(_);x(a===!1?n:0),b(),v()}function x(_){u=e.getPointAt(_/n,u);const A=s.normals[_],T=s.binormals[_];for(let M=0;M<=i;M++){const I=M/i*Math.PI*2,O=Math.sin(I),P=-Math.cos(I);l.x=P*A.x+O*T.x,l.y=P*A.y+O*T.y,l.z=P*A.z+O*T.z,l.normalize(),d.push(l.x,l.y,l.z),o.x=u.x+r*l.x,o.y=u.y+r*l.y,o.z=u.z+r*l.z,f.push(o.x,o.y,o.z)}}function v(){for(let _=1;_<=n;_++)for(let A=1;A<=i;A++){const T=(i+1)*(_-1)+(A-1),M=(i+1)*_+(A-1),I=(i+1)*_+A,O=(i+1)*(_-1)+A;g.push(T,M,O),g.push(M,I,O)}}function b(){for(let _=0;_<=n;_++)for(let A=0;A<=i;A++)c.x=_/n,c.y=A/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new kI(new eP[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class rhe extends rn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new oe,a=new oe;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,h=f.count;for(let g=d,y=d+h;g<y;g+=3)for(let x=0;x<3;x++){const v=o.getX(g+x),b=o.getX(g+(x+1)%3);i.fromBufferAttribute(s,v),a.fromBufferAttribute(s,b),AK(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,f=3*o+(c+1)%3;i.fromBufferAttribute(s,u),a.fromBufferAttribute(s,f),AK(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Nt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function AK(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var MK=Object.freeze({__proto__:null,BoxGeometry:Pm,CapsuleGeometry:_I,CircleGeometry:wI,ConeGeometry:Rw,CylinderGeometry:Nw,DodecahedronGeometry:SI,EdgesGeometry:qde,ExtrudeGeometry:AI,IcosahedronGeometry:Dw,LatheGeometry:MI,OctahedronGeometry:Lw,PlaneGeometry:ql,PolyhedronGeometry:lh,RingGeometry:TI,ShapeGeometry:CI,SphereGeometry:Uw,TetrahedronGeometry:PI,TorusGeometry:II,TorusKnotGeometry:OI,TubeGeometry:kI,WireframeGeometry:rhe});class ihe extends Ga{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class vB extends Va{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yB extends Ga{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ns,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ahe extends yB{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $t(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class she extends Ga{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Mt(16777215),this.specular=new Mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ns,this.combine=Tw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ohe extends Ga{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class lhe extends Ga{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class che extends Ga{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ns,this.combine=Tw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NI extends Ga{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_de,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class RI extends Ga{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class uhe extends Ga{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oh,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fhe extends ls{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xp(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function dhe(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function E4(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,s=0;s!==r;++a){const o=n[a]*e;for(let l=0;l!==e;++l)i[s++]=t[o+l]}return i}function xB(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),n.push(...s)),a=t[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),n.push(s)),a=t[i++];while(a!==void 0)}function _rt(t,e,n,r,i=30){const a=t.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],u=c.getValueSize(),f=[],d=[];for(let h=0;h<c.times.length;++h){const g=c.times[h]*i;if(!(g<n||g>=r)){f.push(c.times[h]);for(let y=0;y<u;++y)d.push(c.values[h*u+y])}}f.length!==0&&(c.times=xp(f,c.times.constructor),c.values=xp(d,c.values.constructor),s.push(c))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function wrt(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let s=0;s<i;++s){const o=n.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===o.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const g=o.times.length-1;let y;if(a<=o.times[0]){const v=u,b=f-u;y=o.values.slice(v,b)}else if(a>=o.times[g]){const v=g*f+u,b=v+f-u;y=o.values.slice(v,b)}else{const v=o.createInterpolant(),b=u,_=f-u;v.evaluate(a),y=v.resultBuffer.slice(b,_)}l==="quaternion"&&new Vi().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let v=0;v<x;++v){const b=v*h+d;if(l==="quaternion")Vi.multiplyQuaternionsFlat(c.values,b,y,0,c.values,b);else{const _=h-d*2;for(let A=0;A<_;++A)c.values[b+A]-=y[A]}}}return t.blendMode=tB,t}class Srt{static convertArray(e,n){return xp(e,n)}static isTypedArray(e){return Ode(e)}static getKeyframeOrder(e){return dhe(e)}static sortedArray(e,n,r){return E4(e,n,r)}static flattenJSON(e,n,r,i){xB(e,n,r,i)}static subclip(e,n,r,i,a=30){return _rt(e,n,r,i,a)}static makeClipAdditive(e,n=0,r=e,i=30){return wrt(e,n,r,i)}}class zw{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=a)){const o=n[1];e<o&&(r=2,a=o);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<n[o]?s=o:r=o+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)n[s]=r[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class hhe extends zw{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gp,endingEnd:gp}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case vp:a=e,o=2*n-r;break;case i_:a=i.length-2,o=n+i[a]-i[a+1];break;default:a=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case vp:s=e,l=2*r-n;break;case i_:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-r),this._offsetPrev=a*u,this._offsetNext=s*u}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,g=(r-n)/(i-n),y=g*g,x=y*g,v=-d*x+2*d*y-d*g,b=(1+d)*x+(-1.5-2*d)*y+(-.5+d)*g+1,_=(-1-h)*x+(1.5+h)*y+.5*g,A=h*x-h*y;for(let T=0;T!==o;++T)a[T]=v*s[u+T]+b*s[c+T]+_*s[l+T]+A*s[f+T];return a}}class bB extends zw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(r-n)/(i-n),f=1-u;for(let d=0;d!==o;++d)a[d]=s[c+d]*f+s[l+d]*u;return a}}class phe extends zw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class sl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xp(n,this.TimeBufferType),this.values=xp(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:xp(e.times,Array),values:xp(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new phe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new bB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new hhe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case r_:n=this.InterpolantFactoryMethodDiscrete;break;case ZC:n=this.InterpolantFactoryMethodLinear;break;case eM:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return At("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return r_;case this.InterpolantFactoryMethodLinear:return ZC;case this.InterpolantFactoryMethodSmooth:return eM}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>n;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=r.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(Ft("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(Ft("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){Ft("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){Ft("KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&Ode(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){Ft("KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===eM,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const f=o*r,d=f-r,h=f+r;for(let g=0;g!==r;++g){const y=n[f+g];if(y!==n[d+g]||y!==n[h+g]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const f=o*r,d=s*r;for(let h=0;h!==r;++h)n[d+h]=n[f+h]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,l=s*r,c=0;c!==r;++c)n[l+c]=n[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}sl.prototype.ValueTypeName="";sl.prototype.TimeBufferType=Float32Array;sl.prototype.ValueBufferType=Float32Array;sl.prototype.DefaultInterpolation=ZC;class Im extends sl{constructor(e,n,r){super(e,n,r)}}Im.prototype.ValueTypeName="bool";Im.prototype.ValueBufferType=Array;Im.prototype.DefaultInterpolation=r_;Im.prototype.InterpolantFactoryMethodLinear=void 0;Im.prototype.InterpolantFactoryMethodSmooth=void 0;class _B extends sl{constructor(e,n,r,i){super(e,n,r,i)}}_B.prototype.ValueTypeName="color";class d_ extends sl{constructor(e,n,r,i){super(e,n,r,i)}}d_.prototype.ValueTypeName="number";class mhe extends zw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let c=e*o;for(let u=c+o;c!==u;c+=4)Vi.slerpFlat(a,0,s,c-o,s,c,l);return a}}class Fw extends sl{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new mhe(this.times,this.values,this.getValueSize(),e)}}Fw.prototype.ValueTypeName="quaternion";Fw.prototype.InterpolantFactoryMethodSmooth=void 0;class Om extends sl{constructor(e,n,r){super(e,n,r)}}Om.prototype.ValueTypeName="string";Om.prototype.ValueBufferType=Array;Om.prototype.DefaultInterpolation=r_;Om.prototype.InterpolantFactoryMethodLinear=void 0;Om.prototype.InterpolantFactoryMethodSmooth=void 0;class h_ extends sl{constructor(e,n,r,i){super(e,n,r,i)}}h_.prototype.ValueTypeName="vector";class p_{constructor(e="",n=-1,r=[],i=lI){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=co(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)n.push(Art(r[s]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=r.length;a!==s;++a)n.push(sl.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const u=dhe(l);l=E4(l,1,u),c=E4(c,1,u),!i&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new d_(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(a);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return s}static parseAnimation(e,n){if(At("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Ft("AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,g,y){if(h.length!==0){const x=[],v=[];xB(h,x,v,g),x.length!==0&&y.push(new f(d,x,v))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let y=0;y<d[g].morphTargets.length;y++)h[d[g].morphTargets[y]]=-1;for(const y in h){const x=[],v=[];for(let b=0;b!==d[g].morphTargets.length;++b){const _=d[g];x.push(_.time),v.push(_.morphTarget===y?1:0)}i.push(new d_(".morphTargetInfluence["+y+"]",x,v))}l=h.length*s}else{const h=".bones["+n[f].name+"]";r(h_,h+".position",d,"pos",i),r(Fw,h+".quaternion",d,"rot",i),r(h_,h+".scale",d,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Ert(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return d_;case"vector":case"vector2":case"vector3":case"vector4":return h_;case"color":return _B;case"quaternion":return Fw;case"bool":case"boolean":return Im;case"string":return Om}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Art(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Ert(t.type);if(t.times===void 0){const n=[],r=[];xB(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const gc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class DI{constructor(e,n,r){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(u){o++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const h=c[f],g=c[f+1];if(h.global&&(h.lastIndex=0),h.test(u))return g}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Av=new DI;let cs=class{constructor(e){this.manager=e!==void 0?e:Av,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};cs.DEFAULT_MATERIAL_NAME="__DEFAULT";const cu={};class Mrt extends Error{constructor(e,n){super(e),this.response=n}}class uo extends cs{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=gc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(cu[e]!==void 0){cu[e].push({onLoad:n,onProgress:r,onError:i});return}cu[e]=[],cu[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&At("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=cu[e],f=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),h=d?parseInt(d):0,g=h!==0;let y=0;const x=new ReadableStream({start(v){b();function b(){f.read().then(({done:_,value:A})=>{if(_)v.close();else{y+=A.byteLength;const T=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:h});for(let M=0,I=u.length;M<I;M++){const O=u[M];O.onProgress&&O.onProgress(T)}v.enqueue(A),b()}},_=>{v.error(_)})}}});return new Response(x)}else throw new Mrt(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o==="")return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return c.arrayBuffer().then(g=>h.decode(g))}}}).then(c=>{gc.add(`file:${e}`,c);const u=cu[e];delete cu[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=cu[e];if(u===void 0)throw this.manager.itemError(e),c;delete cu[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Trt extends cs{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new uo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):Ft(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=p_.parse(e[r]);n.push(i)}return n}}class Crt extends cs{constructor(e){super(e)}load(e,n,r,i){const a=this,s=[],o=new bI,l=new uo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const h=a.parse(d,!0);s[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=mn),o.image=s,o.format=h.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=a.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let g=0;g<h;g++){s[g]={mipmaps:[]};for(let y=0;y<d.mipmapCount;y++)s[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+y]),s[g].format=d.format,s[g].width=d.width,s[g].height=d.height}o.image=s}else o.image.width=d.width,o.image.height=d.height,o.mipmaps=d.mipmaps;d.mipmapCount===1&&(o.minFilter=mn),o.format=d.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}const zg=new WeakMap;class m_ extends cs{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=gc.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0);else{let f=zg.get(s);f===void 0&&(f=[],zg.set(s,f)),f.push({onLoad:n,onError:i})}return s}const o=o_("img");function l(){u(),n&&n(this);const f=zg.get(this)||[];for(let d=0;d<f.length;d++){const h=f[d];h.onLoad&&h.onLoad(this)}zg.delete(this),a.manager.itemEnd(e)}function c(f){u(),i&&i(f),gc.remove(`image:${e}`);const d=zg.get(this)||[];for(let h=0;h<d.length;h++){const g=d[h];g.onError&&g.onError(f)}zg.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),gc.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class ghe extends cs{constructor(e){super(e)}load(e,n,r,i){const a=new Ow;a.colorSpace=wa;const s=new m_(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(c){s.load(e[c],function(u){a.images[c]=u,o++,o===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return a}}class wB extends cs{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new Yo,o=new uo(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let c;try{c=a.parse(l)}catch(u){if(i!==void 0)i(u);else{u(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:ri,s.wrapT=c.wrapT!==void 0?c.wrapT:ri,s.magFilter=c.magFilter!==void 0?c.magFilter:mn,s.minFilter=c.minFilter!==void 0?c.minFilter:mn,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=mc),c.mipmapCount===1&&(s.minFilter=mn),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c)},r,i),s}}class Prt extends cs{constructor(e){super(e)}load(e,n,r,i){const a=new Qn,s=new m_(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class ch extends Dn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Mt(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class vhe extends ch{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Dn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Mt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const IR=new Wt,TK=new oe,CK=new oe;class SB{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tt(512,512),this.mapType=ia,this.map=null,this.mapPass=null,this.matrix=new Wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ey,this._frameExtents=new tt(1,1),this._viewportCount=1,this._viewports=[new In(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;TK.setFromMatrixPosition(e.matrixWorld),n.position.copy(TK),CK.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(CK),n.updateMatrixWorld(),IR.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IR,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(IR)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Irt extends SB{constructor(){super(new ra(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=k0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class yhe extends ch{constructor(e,n,r=0,i=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Dn.DEFAULT_UP),this.updateMatrix(),this.target=new Dn,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new Irt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class Ort extends SB{constructor(){super(new ra(90,1,.5,500)),this.isPointLightShadow=!0}}class xhe extends ch{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Ort}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class km extends hI{constructor(e=-1,n=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class krt extends SB{constructor(){super(new km(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bhe extends ch{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Dn.DEFAULT_UP),this.updateMatrix(),this.target=new Dn,this.shadow=new krt}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class _he extends ch{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class whe extends ch{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class EB{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(r*a)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*r*a),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}}class She extends ch{constructor(e=new EB,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class LI extends cs{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,s=new uo(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):Ft(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&At("MaterialLoader: Undefined texture",a),n[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new Mt().setHex(s.value);break;case"v2":i.uniforms[a].value=new tt().fromArray(s.value);break;case"v3":i.uniforms[a].value=new oe().fromArray(s.value);break;case"v4":i.uniforms[a].value=new In().fromArray(s.value);break;case"m3":i.uniforms[a].value=new nn().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Wt().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new tt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return LI.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:ihe,SpriteMaterial:oB,RawShaderMaterial:vB,ShaderMaterial:Va,PointsMaterial:cB,MeshPhysicalMaterial:ahe,MeshStandardMaterial:yB,MeshPhongMaterial:she,MeshToonMaterial:ohe,MeshNormalMaterial:lhe,MeshLambertMaterial:che,MeshDepthMaterial:NI,MeshDistanceMaterial:RI,MeshBasicMaterial:Uc,MeshMatcapMaterial:uhe,LineDashedMaterial:fhe,LineBasicMaterial:ls,Material:Ga};return new n[e]}}class A4{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class AB extends rn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Ehe extends cs{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new uo(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):Ft(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,g){if(n[g]!==void 0)return n[g];const x=h.interleavedBuffers[g],v=a(h,x.buffer),b=Sv(x.type,v),_=new vI(b,x.stride);return _.uuid=x.uuid,n[g]=_,_}function a(h,g){if(r[g]!==void 0)return r[g];const x=h.arrayBuffers[g],v=new Uint32Array(x).buffer;return r[g]=v,v}const s=e.isInstancedBufferGeometry?new AB:new rn,o=e.data.index;if(o!==void 0){const h=Sv(o.type,o.array);s.setIndex(new ar(h,1))}const l=e.data.attributes;for(const h in l){const g=l[h];let y;if(g.isInterleavedBufferAttribute){const x=i(e.data,g.data);y=new om(x,g.itemSize,g.offset,g.normalized)}else{const x=Sv(g.type,g.array),v=g.isInstancedBufferAttribute?lm:ar;y=new v(x,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),s.setAttribute(h,y)}const c=e.data.morphAttributes;if(c)for(const h in c){const g=c[h],y=[];for(let x=0,v=g.length;x<v;x++){const b=g[x];let _;if(b.isInterleavedBufferAttribute){const A=i(e.data,b.data);_=new om(A,b.itemSize,b.offset,b.normalized)}else{const A=Sv(b.type,b.array);_=new ar(A,b.itemSize,b.normalized)}b.name!==void 0&&(_.name=b.name),y.push(_)}s.morphAttributes[h]=y}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,g=f.length;h!==g;++h){const y=f[h];s.addGroup(y.start,y.count,y.materialIndex)}const d=e.data.boundingSphere;return d!==void 0&&(s.boundingSphere=new la().fromJSON(d)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Nrt extends cs{constructor(e){super(e)}load(e,n,r,i){const a=this,s=this.path===""?A4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new uo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),Ft("ObjectLoader: Can't load "+e);return}a.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?A4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new uo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let f=!1;for(const d in s)if(s[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new Lp().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new yI().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Ehe;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in MK?o=MK[l.type].fromJSON(l,n):At(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new LI;a.setTextures(n);for(let s=0,o=e.length;s<o;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=p_.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function s(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return l.data?{data:Sv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new DI(n);a=new m_(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const h=[];for(let g=0,y=d.length;g<y;g++){const x=d[g],v=o(x);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Yo(v.data,v.width,v.height)))}i[f.uuid]=new bd(h)}else{const h=o(f.url);i[f.uuid]=new bd(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:Sv(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new m_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f],g=await a(h);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Yo(g.data,g.width,g.height)))}r[l.uuid]=new bd(u)}else{const u=await a(l.url);r[l.uuid]=new bd(u)}}}return r}parseTextures(e,n){function r(a,s){return typeof a=="number"?a:(At("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&At('ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&At("ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new Ow,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Yo:u=new Qn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=r(o.mapping,Rrt)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=r(o.wrap[0],PK),u.wrapT=r(o.wrap[1],PK)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=r(o.minFilter,IK)),o.magFilter!==void 0&&(u.magFilter=r(o.magFilter,IK)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,n,r,i,a){let s;function o(d){return n[d]===void 0&&At("ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let g=0,y=d.length;g<y;g++){const x=d[g];r[x]===void 0&&At("ObjectLoader: Undefined material",x),h.push(r[x])}return h}return r[d]===void 0&&At("ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&At("ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":s=new kw,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Mt(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new gI(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new mI(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new ra(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new km(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new _he(e.color,e.intensity);break;case"DirectionalLight":s=new bhe(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new xhe(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new whe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new yhe(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new vhe(e.color,e.groundColor,e.intensity);break;case"LightProbe":const d=new EB().fromArray(e.sh);s=new She(d,e.intensity);break;case"SkinnedMesh":u=o(e.geometry),f=l(e.material),s=new jde(u,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),f=l(e.material),s=new yr(u,f);break;case"InstancedMesh":u=o(e.geometry),f=l(e.material);const h=e.count,g=e.instanceMatrix,y=e.instanceColor;s=new Bde(u,f,h),s.instanceMatrix=new lm(new Float32Array(g.array),16),y!==void 0&&(s.instanceColor=new lm(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":u=o(e.geometry),f=l(e.material),s=new Vde(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(x=>{let v=null,b=null;return x.boundingBox!==void 0&&(v=new oa().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(b=new la().fromJSON(x.boundingSphere)),{...x,boundingBox:v,boundingSphere:b}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=c(e.matricesTexture.uuid),s._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new la().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new oa().fromJSON(e.boundingBox));break;case"LOD":s=new Fde;break;case"Line":s=new Xd(o(e.geometry),l(e.material));break;case"LineLoop":s=new Hde(o(e.geometry),l(e.material));break;case"LineSegments":s=new zc(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new Gde(o(e.geometry),l(e.material));break;case"Sprite":s=new zde(l(e.material));break;case"Group":s=new Ev;break;case"Bone":s=new lB;break;default:s=new Dn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)s.add(this.parseObject(d[h],n,r,i,a))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const g=d[h];s.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const g=d[h],y=s.getObjectByProperty("uuid",g.object);y!==void 0&&s.addLevel(y,g.distance,g.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?At("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Dn}})}}const Rrt={UVMapping:Wd,CubeReflectionMapping:jl,CubeRefractionMapping:$d,EquirectangularReflectionMapping:T0,EquirectangularRefractionMapping:e_,CubeUVReflectionMapping:wy},PK={RepeatWrapping:t_,ClampToEdgeWrapping:ri,MirroredRepeatWrapping:n_},IK={NearestFilter:di,NearestMipmapNearestFilter:Yj,NearestMipmapLinearFilter:wv,LinearFilter:mn,LinearMipmapNearestFilter:qb,LinearMipmapLinearFilter:mc},OR=new WeakMap;class Drt extends cs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&At("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&At("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=gc.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(c=>{if(OR.has(s)===!0)i&&i(OR.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(c),a.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return gc.add(`image-bitmap:${e}`,c),n&&n(c),a.manager.itemEnd(e),c}).catch(function(c){i&&i(c),OR.set(l,c),gc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});gc.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let iA;class MB{static getContext(){return iA===void 0&&(iA=new(window.AudioContext||window.webkitAudioContext)),iA}static setContext(e){iA=e}}class Lrt extends cs{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new uo(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);MB.getContext().decodeAudioData(c,function(f){n(f)}).catch(o)}catch(c){o(c)}},r,i);function o(l){i?i(l):Ft(l),a.manager.itemError(e)}}}const OK=new Wt,kK=new Wt,Fh=new Wt;class Urt{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ra,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ra,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Fh.copy(e.projectionMatrix);const i=n.eyeSep/2,a=i*n.near/n.focus,s=n.near*Math.tan(Dp*n.fov*.5)/n.zoom;let o,l;kK.elements[12]=-i,OK.elements[12]=i,o=-s*n.aspect+a,l=s*n.aspect+a,Fh.elements[0]=2*n.near/(l-o),Fh.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Fh),o=-s*n.aspect-a,l=s*n.aspect-a,Fh.elements[0]=2*n.near/(l-o),Fh.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Fh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(kK),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(OK)}}class Ahe extends ra{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class TB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const jh=new oe,kR=new Vi,zrt=new oe,Bh=new oe,Vh=new oe;class Frt extends Dn{constructor(){super(),this.type="AudioListener",this.context=MB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new TB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(jh,kR,zrt),Bh.set(0,0,-1).applyQuaternion(kR),Vh.set(0,1,0).applyQuaternion(kR),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(jh.x,r),n.positionY.linearRampToValueAtTime(jh.y,r),n.positionZ.linearRampToValueAtTime(jh.z,r),n.forwardX.linearRampToValueAtTime(Bh.x,r),n.forwardY.linearRampToValueAtTime(Bh.y,r),n.forwardZ.linearRampToValueAtTime(Bh.z,r),n.upX.linearRampToValueAtTime(Vh.x,r),n.upY.linearRampToValueAtTime(Vh.y,r),n.upZ.linearRampToValueAtTime(Vh.z,r)}else n.setPosition(jh.x,jh.y,jh.z),n.setOrientation(Bh.x,Bh.y,Bh.z,Vh.x,Vh.y,Vh.z)}}class Mhe extends Dn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){At("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(At("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(At("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Hh=new oe,NK=new Vi,jrt=new oe,Gh=new oe;class Brt extends Mhe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Hh,NK,jrt),Gh.set(0,0,1).applyQuaternion(NK);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Hh.x,r),n.positionY.linearRampToValueAtTime(Hh.y,r),n.positionZ.linearRampToValueAtTime(Hh.z,r),n.orientationX.linearRampToValueAtTime(Gh.x,r),n.orientationY.linearRampToValueAtTime(Gh.y,r),n.orientationZ.linearRampToValueAtTime(Gh.z,r)}else n.setPosition(Hh.x,Hh.y,Hh.z),n.setOrientation(Gh.x,Gh.y,Gh.z)}}class Vrt{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class The{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,s;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=n}else{s+=n;const o=n/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,s=i;a!==s;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){Vi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const s=this._workIndex*a;Vi.multiplyQuaternionsFlat(e,s,e,n,e,r),Vi.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=n+o;e[l]=e[l]*s+e[r+o]*i}}_lerpAdditive(e,n,r,i,a){for(let s=0;s!==a;++s){const o=n+s;e[o]=e[o]+e[r+s]*i}}}const CB="\\[\\]\\.:\\/",Hrt=new RegExp("["+CB+"]","g"),PB="[^"+CB+"]",Grt="[^"+CB.replace("\\.","")+"]",Wrt=/((?:WC+[\/:])*)/.source.replace("WC",PB),$rt=/(WCOD+)?/.source.replace("WCOD",Grt),qrt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",PB),Xrt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",PB),Krt=new RegExp("^"+Wrt+$rt+qrt+Xrt+"$"),Yrt=["material","materials","bones","map"];class Zrt{constructor(e,n,r){const i=r||Nn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Nn{constructor(e,n,r){this.path=n,this.parsedPath=r||Nn.parseTrackName(n),this.node=Nn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Nn.Composite(e,n,r):new Nn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Hrt,"")}static parseTrackName(e){const n=Krt.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);Yrt.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=Nn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){At("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){Ft("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Ft("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Ft("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Ft("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Ft("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){Ft("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){Ft("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=n.nodeName;Ft("PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){Ft("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Ft("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nn.Composite=Zrt;Nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nn.prototype.GetterByBindingType=[Nn.prototype._getValue_direct,Nn.prototype._getValue_array,Nn.prototype._getValue_arrayElement,Nn.prototype._getValue_toArray];Nn.prototype.SetterByBindingTypeAndVersioning=[[Nn.prototype._setValue_direct,Nn.prototype._setValue_direct_setNeedsUpdate,Nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_array,Nn.prototype._setValue_array_setNeedsUpdate,Nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_arrayElement,Nn.prototype._setValue_arrayElement_setNeedsUpdate,Nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_fromArray,Nn.prototype._setValue_fromArray_setNeedsUpdate,Nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Jrt{constructor(){this.isAnimationObjectGroup=!0,this.uuid=co(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],h=d.uuid;let g=n[h];if(g===void 0){g=l++,n[h]=g,e.push(d);for(let y=0,x=s;y!==x;++y)a[y].push(new Nn(d,r[y],i[y]))}else if(g<c){o=e[g];const y=--c,x=e[y];n[x.uuid]=g,e[g]=x,n[h]=y,e[y]=d;for(let v=0,b=s;v!==b;++v){const _=a[v],A=_[y];let T=_[g];_[g]=A,T===void 0&&(T=new Nn(d,r[v],i[v])),_[y]=T}}else e[g]!==o&&Ft("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],c=l.uuid,u=n[c];if(u!==void 0&&u>=a){const f=a++,d=e[f];n[d.uuid]=u,e[u]=d,n[c]=f,e[f]=l;for(let h=0,g=i;h!==g;++h){const y=r[h],x=y[f],v=y[u];y[u]=x,y[f]=v}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<a){const d=--a,h=e[d],g=--s,y=e[g];n[h.uuid]=f,e[f]=h,n[y.uuid]=d,e[d]=y,e.pop();for(let x=0,v=i;x!==v;++x){const b=r[x],_=b[d],A=b[g];b[f]=_,b[d]=A,b.pop()}}else{const d=--s,h=e[d];d>0&&(n[h.uuid]=f),e[f]=h,e.pop();for(let g=0,y=i;g!==y;++g){const x=r[g];x[f]=x[d],x.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=a.length,r[e]=i,s.push(e),o.push(n),a.push(f);for(let d=u,h=l.length;d!==h;++d){const g=l[d];f[d]=new Nn(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],c=e[o];n[c]=r,s[r]=l,s.pop(),a[r]=a[o],a.pop(),i[r]=i[o],i.pop()}}}class Che{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,s=a.length,o=new Array(s),l={endingStart:gp,endingEnd:gp};for(let c=0;c!==s;++c){const u=a[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xde,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+r,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case tB:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(s),c[u].accumulateAdditive(o);break;case lI:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(s),c[u].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===bde;if(e===0)return a===-1?i:s&&(a&1)===1?n-i:i;if(r===yde){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=vp,i.endingEnd=vp):(e?i.endingStart=this.zeroSlopeAtStart?vp:gp:i.endingStart=i_,n?i.endingEnd=this.zeroSlopeAtEnd?vp:gp:i.endingEnd=i_)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=n,o[1]=a+e,l[1]=r,this}}const Qrt=new Float32Array(1);class eit extends Lc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==a;++f){const d=i[f],h=d.name;let g=u[h];if(g!==void 0)++g.referenceCount,s[f]=g;else{if(g=s[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,h));continue}const y=n&&n._propertyBindings[f].binding.parsedPath;g=new The(Nn.create(r,h,y),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,h),s[f]=g}o[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new bB(new Float32Array(2),new Float32Array(2),1,Qrt),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let s=typeof e=="string"?p_.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=lI),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new Che(this,s,n,r);return this._bindAction(u,c),this._addInactiveAction(u,o,a),u}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?p_.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class tit extends rB{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new dI(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class IB{constructor(e){this.value=e}clone(){return new IB(this.value.clone===void 0?this.value:this.value.clone())}}let nit=0;class rit extends Lc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nit++}),this.name="",this.usage=s_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class iit extends vI{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class ait{constructor(e,n,r,i,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const RK=new Wt;class OB{constructor(e,n,r=0,i=1/0){this.ray=new Sy(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new N0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):Ft("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return RK.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(RK),this}intersectObject(e,n=!0,r=[]){return M4(e,this,r,n),r.sort(DK),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)M4(e[i],this,r,n);return r.sort(DK),r}}function DK(t,e){return t.distance-e.distance}function M4(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const a=t.children;for(let s=0,o=a.length;s<o;s++)M4(a[s],e,n,!0)}}class sit{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=oit.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function oit(){this._document.hidden===!1&&this.reset()}class Phe{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=$t(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos($t(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class lit{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class kB{constructor(e,n,r,i){kB.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const a=this.elements;return a[0]=e,a[2]=n,a[1]=r,a[3]=i,this}}const LK=new tt;class cit{constructor(e=new tt(1/0,1/0),n=new tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=LK.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,LK).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const UK=new oe,aA=new oe,Fg=new oe,jg=new oe,NR=new oe,uit=new oe,fit=new oe;class dit{constructor(e=new oe,n=new oe){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){UK.subVectors(e,this.start),aA.subVectors(this.end,this.start);const r=aA.dot(aA);let a=aA.dot(UK)/r;return n&&(a=$t(a,0,1)),a}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=uit,r=fit){const i=10000000000000001e-32;let a,s;const o=this.start,l=e.start,c=this.end,u=e.end;Fg.subVectors(c,o),jg.subVectors(u,l),NR.subVectors(o,l);const f=Fg.dot(Fg),d=jg.dot(jg),h=jg.dot(NR);if(f<=i&&d<=i)return n.copy(o),r.copy(l),n.sub(r),n.dot(n);if(f<=i)a=0,s=h/d,s=$t(s,0,1);else{const g=Fg.dot(NR);if(d<=i)s=0,a=$t(-g/f,0,1);else{const y=Fg.dot(jg),x=f*d-y*y;x!==0?a=$t((y*h-g*d)/x,0,1):a=0,s=(y*a+h)/d,s<0?(s=0,a=$t(-g/f,0,1)):s>1&&(s=1,a=$t((y-g)/f,0,1))}}return n.copy(o).add(Fg.multiplyScalar(a)),r.copy(l).add(jg.multiplyScalar(s)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const zK=new oe;class hit extends Dn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new rn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const c=s/l*Math.PI*2,u=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Nt(i,3));const a=new ls({fog:!1,toneMapped:!1});this.cone=new zc(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),zK.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zK),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Xf=new oe,sA=new Wt,RR=new Wt;class pit extends zc{constructor(e){const n=Ihe(e),r=new rn,i=[],a=[];for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new Nt(i,3)),r.setAttribute("color",new Nt(a,3));const s=new ls({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Mt(255),l=new Mt(65280);this.setColors(o,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");RR.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const o=n[a];o.parent&&o.parent.isBone&&(sA.multiplyMatrices(RR,o.matrixWorld),Xf.setFromMatrixPosition(sA),i.setXYZ(s,Xf.x,Xf.y,Xf.z),sA.multiplyMatrices(RR,o.parent.matrixWorld),Xf.setFromMatrixPosition(sA),i.setXYZ(s+1,Xf.x,Xf.y,Xf.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ihe(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...Ihe(t.children[n]));return e}class mit extends yr{constructor(e,n,r){const i=new Uw(n,4,2),a=new Uc({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const git=new oe,FK=new Mt,jK=new Mt;class vit extends Dn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Lw(n);i.rotateY(Math.PI*.5),this.material=new Uc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new ar(s,3)),this.add(new yr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");FK.copy(this.light.color),jK.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?FK:jK;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(git.setFromMatrixPosition(this.light.matrixWorld).negate())}}class yit extends zc{constructor(e=10,n=10,r=4473924,i=8947848){r=new Mt(r),i=new Mt(i);const a=n/2,s=e/n,o=e/2,l=[],c=[];for(let d=0,h=0,g=-o;d<=n;d++,g+=s){l.push(-o,0,g,o,0,g),l.push(g,0,-o,g,0,o);const y=d===a?r:i;y.toArray(c,h),h+=3,y.toArray(c,h),h+=3,y.toArray(c,h),h+=3,y.toArray(c,h),h+=3}const u=new rn;u.setAttribute("position",new Nt(l,3)),u.setAttribute("color",new Nt(c,3));const f=new ls({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class xit extends zc{constructor(e=10,n=16,r=8,i=64,a=4473924,s=8947848){a=new Mt(a),s=new Mt(s);const o=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),h=Math.sin(d)*e,g=Math.cos(d)*e;o.push(0,0,0),o.push(h,0,g);const y=f&1?a:s;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const d=f&1?a:s,h=e-e/r*f;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),x=Math.sin(y)*h,v=Math.cos(y)*h;o.push(x,0,v),l.push(d.r,d.g,d.b),y=(g+1)/i*(Math.PI*2),x=Math.sin(y)*h,v=Math.cos(y)*h,o.push(x,0,v),l.push(d.r,d.g,d.b)}}const c=new rn;c.setAttribute("position",new Nt(o,3)),c.setAttribute("color",new Nt(l,3));const u=new ls({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const BK=new oe,oA=new oe,VK=new oe;class bit extends Dn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new rn;i.setAttribute("position",new Nt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new ls({fog:!1,toneMapped:!1});this.lightPlane=new Xd(i,a),this.add(this.lightPlane),i=new rn,i.setAttribute("position",new Nt([0,0,0,0,0,1],3)),this.targetLine=new Xd(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),BK.setFromMatrixPosition(this.light.matrixWorld),oA.setFromMatrixPosition(this.light.target.matrixWorld),VK.subVectors(oA,BK),this.lightPlane.lookAt(oA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(oA),this.targetLine.scale.z=VK.length()}}const lA=new oe,Zr=new hI;class _it extends zc{constructor(e){const n=new rn,r=new ls({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(g,y){l(g),l(y)}function l(g){i.push(0,0,0),a.push(0,0,0),s[g]===void 0&&(s[g]=[]),s[g].push(i.length/3-1)}n.setAttribute("position",new Nt(i,3)),n.setAttribute("color",new Nt(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Mt(16755200),u=new Mt(16711680),f=new Mt(43775),d=new Mt(16777215),h=new Mt(3355443);this.setColors(c,u,f,d,h)}setColors(e,n,r,i,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let a,s;if(Zr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===ro)a=-1,s=1;else if(this.camera.coordinateSystem===I0)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);oi("c",n,e,Zr,0,0,a),oi("t",n,e,Zr,0,0,s),oi("n1",n,e,Zr,-r,-i,a),oi("n2",n,e,Zr,r,-i,a),oi("n3",n,e,Zr,-r,i,a),oi("n4",n,e,Zr,r,i,a),oi("f1",n,e,Zr,-r,-i,s),oi("f2",n,e,Zr,r,-i,s),oi("f3",n,e,Zr,-r,i,s),oi("f4",n,e,Zr,r,i,s),oi("u1",n,e,Zr,r*.7,i*1.1,a),oi("u2",n,e,Zr,-r*.7,i*1.1,a),oi("u3",n,e,Zr,0,i*2,a),oi("cf1",n,e,Zr,-r,0,s),oi("cf2",n,e,Zr,r,0,s),oi("cf3",n,e,Zr,0,-i,s),oi("cf4",n,e,Zr,0,i,s),oi("cn1",n,e,Zr,-r,0,a),oi("cn2",n,e,Zr,r,0,a),oi("cn3",n,e,Zr,0,-i,a),oi("cn4",n,e,Zr,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function oi(t,e,n,r,i,a,s){lA.set(i,a,s).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],lA.x,lA.y,lA.z)}}const cA=new oa;class wit extends zc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new rn;a.setIndex(new ar(r,1)),a.setAttribute("position",new ar(i,3)),super(a,new ls({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&cA.setFromObject(this.object),cA.isEmpty())return;const e=cA.min,n=cA.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sit extends zc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new rn;a.setIndex(new ar(r,1)),a.setAttribute("position",new Nt(i,3)),super(a,new ls({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Eit extends Xd{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new rn;s.setAttribute("position",new Nt(a,3)),s.computeBoundingSphere(),super(s,new ls({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new rn;l.setAttribute("position",new Nt(o,3)),l.computeBoundingSphere(),this.add(new yr(l,new Uc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const HK=new oe;let uA,DR;class Ait extends Dn{constructor(e=new oe(0,0,1),n=new oe(0,0,0),r=1,i=16776960,a=r*.2,s=a*.2){super(),this.type="ArrowHelper",uA===void 0&&(uA=new rn,uA.setAttribute("position",new Nt([0,0,0,0,1,0],3)),DR=new Rw(.5,1,5,1),DR.translate(0,-.5,0)),this.position.copy(n),this.line=new Xd(uA,new ls({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new yr(DR,new Uc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{HK.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(HK,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Mit extends zc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new rn;i.setAttribute("position",new Nt(n,3)),i.setAttribute("color",new Nt(r,3));const a=new ls({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new Mt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tit{constructor(){this.type="ShapePath",this.color=new Mt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new tP,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,s){return this.currentPath.bezierCurveTo(e,n,r,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const b=[];for(let _=0,A=v.length;_<A;_++){const T=v[_],M=new Lp;M.curves=T.curves,b.push(M)}return b}function r(v,b){const _=b.length;let A=!1;for(let T=_-1,M=0;M<_;T=M++){let I=b[T],O=b[M],P=O.x-I.x,k=O.y-I.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(I=b[M],P=-P,O=b[T],k=-k),v.y<I.y||v.y>O.y)continue;if(v.y===I.y){if(v.x===I.x)return!0}else{const N=k*(v.x-I.x)-P*(v.y-I.y);if(N===0)return!0;if(N<0)continue;A=!A}}else{if(v.y!==I.y)continue;if(O.x<=v.x&&v.x<=I.x||I.x<=v.x&&v.x<=O.x)return!0}}return A}const i=Nl.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const c=[];if(a.length===1)return o=a[0],l=new Lp,l.curves=o.curves,c.push(l),c;let u=!i(a[0].getPoints());u=e?!u:u;const f=[],d=[];let h=[],g=0,y;d[g]=void 0,h[g]=[];for(let v=0,b=a.length;v<b;v++)o=a[v],y=o.getPoints(),s=i(y),s=e?!s:s,s?(!u&&d[g]&&g++,d[g]={s:new Lp,p:y},d[g].s.curves=o.curves,u&&g++,h[g]=[]):h[g].push({h:o,p:y[0]});if(!d[0])return n(a);if(d.length>1){let v=!1,b=0;for(let _=0,A=d.length;_<A;_++)f[_]=[];for(let _=0,A=d.length;_<A;_++){const T=h[_];for(let M=0;M<T.length;M++){const I=T[M];let O=!0;for(let P=0;P<d.length;P++)r(I.p,d[P].p)&&(_!==P&&b++,O?(O=!1,f[P].push(I)):v=!0);O&&f[_].push(I)}}b>0&&v===!1&&(h=f)}let x;for(let v=0,b=d.length;v<b;v++){l=d[v].s,c.push(l),x=h[v];for(let _=0,A=x.length;_<A;_++)l.holes.push(x[_].h)}return c}}class Cit extends Lc{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){At("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Pit(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Iit(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Oit(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function T4(t,e,n,r){const i=kit(r);switch(n){case Qj:return t*e;case Pw:return t*e/i.components*i.byteLength;case Iw:return t*e/i.components*i.byteLength;case sm:return t*e*2/i.components*i.byteLength;case sI:return t*e*2/i.components*i.byteLength;case eB:return t*e*3/i.components*i.byteLength;case hi:return t*e*4/i.components*i.byteLength;case oI:return t*e*4/i.components*i.byteLength;case Xb:case Kb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Yb:case Zb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case bC:case wC:return Math.max(t,16)*Math.max(e,8)/4;case xC:case _C:return Math.max(t,8)*Math.max(e,8)/2;case SC:case EC:case MC:case TC:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case AC:case CC:case PC:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case IC:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case OC:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case kC:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case NC:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case RC:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case DC:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case LC:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case UC:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case zC:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case FC:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case jC:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case BC:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case VC:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case HC:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case GC:case WC:case $C:return Math.ceil(t/4)*Math.ceil(e/4)*16;case qC:case XC:return Math.ceil(t/4)*Math.ceil(e/4)*8;case KC:case YC:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function kit(t){switch(t){case ia:case nI:return{byteLength:1,components:1};case C0:case rI:case Gr:return{byteLength:2,components:1};case iI:case aI:return{byteLength:2,components:4};case go:case Cw:case Ar:return{byteLength:4,components:1};case Zj:case Jj:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Nit{static contain(e,n){return Pit(e,n)}static cover(e,n){return Iit(e,n)}static fill(e){return Oit(e)}static getByteLength(e,n,r,i){return T4(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_y}}));typeof window<"u"&&(window.__THREE__?At("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_y);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Ohe(){let t=null,e=!1,n=null,r=null;function i(a,s){n(a,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function Rit(t){const e=new WeakMap;function n(o,l){const c=o.array,u=o.usage,f=c.byteLength,d=t.createBuffer();t.bindBuffer(l,d),t.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)h=t.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:f}}function r(o,l,c){const u=l.array,f=l.updateRanges;if(t.bindBuffer(c,o),f.length===0)t.bufferSubData(c,0,u);else{f.sort((h,g)=>h.start-g.start);let d=0;for(let h=1;h<f.length;h++){const g=f[d],y=f[h];y.start<=g.start+g.count+1?g.count=Math.max(g.count,y.start+y.count-g.start):(++d,f[d]=y)}f.length=d+1;for(let h=0,g=f.length;h<g;h++){const y=f[h];t.bufferSubData(c,y.start*u.BYTES_PER_ELEMENT,u,y.start,y.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:a,update:s}}var Dit=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Lit=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Uit=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zit=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Fit=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,jit=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Bit=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Vit=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Hit=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Git=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Wit=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,$it=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qit=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Xit=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Kit=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Yit=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Zit=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Jit=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Qit=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,eat=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,tat=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,nat=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,rat=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,iat=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,aat=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sat=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oat=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,lat=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,cat=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,uat=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,fat="gl_FragColor = linearToOutputTexel( gl_FragColor );",dat=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,hat=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,pat=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,mat=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,gat=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,vat=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,yat=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,xat=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,bat=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_at=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,wat=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Sat=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Eat=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Aat=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Mat=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Tat=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Cat=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Pat=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Iat=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Oat=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,kat=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Nat=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Rat=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Dat=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Lat=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Uat=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zat=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fat=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jat=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Bat=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Vat=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Hat=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Gat=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Wat=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$at=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,qat=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Xat=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Kat=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Yat=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Zat=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Jat=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Qat=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,est=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tst=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nst=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,rst=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ist=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ast=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,sst=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ost=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,lst=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,cst=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ust=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fst=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dst=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,hst=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,pst=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,mst=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,gst=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,vst=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,yst=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,xst=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,bst=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_st=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,wst=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Sst=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Est=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ast=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Mst=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Tst=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Cst=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Pst=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Ist=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ost=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kst=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Nst=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Rst=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Dst=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lst=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ust=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zst=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Fst=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jst=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Bst=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Vst=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Hst=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,Gst=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Wst=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$st=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qst=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Xst=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Kst=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yst=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zst=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jst=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Qst=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eot=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,tot=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,not=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rot=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iot=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,aot=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sot=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oot=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lot=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,cot=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uot=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fot=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dot=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,hot=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cn={alphahash_fragment:Dit,alphahash_pars_fragment:Lit,alphamap_fragment:Uit,alphamap_pars_fragment:zit,alphatest_fragment:Fit,alphatest_pars_fragment:jit,aomap_fragment:Bit,aomap_pars_fragment:Vit,batching_pars_vertex:Hit,batching_vertex:Git,begin_vertex:Wit,beginnormal_vertex:$it,bsdfs:qit,iridescence_fragment:Xit,bumpmap_pars_fragment:Kit,clipping_planes_fragment:Yit,clipping_planes_pars_fragment:Zit,clipping_planes_pars_vertex:Jit,clipping_planes_vertex:Qit,color_fragment:eat,color_pars_fragment:tat,color_pars_vertex:nat,color_vertex:rat,common:iat,cube_uv_reflection_fragment:aat,defaultnormal_vertex:sat,displacementmap_pars_vertex:oat,displacementmap_vertex:lat,emissivemap_fragment:cat,emissivemap_pars_fragment:uat,colorspace_fragment:fat,colorspace_pars_fragment:dat,envmap_fragment:hat,envmap_common_pars_fragment:pat,envmap_pars_fragment:mat,envmap_pars_vertex:gat,envmap_physical_pars_fragment:Tat,envmap_vertex:vat,fog_vertex:yat,fog_pars_vertex:xat,fog_fragment:bat,fog_pars_fragment:_at,gradientmap_pars_fragment:wat,lightmap_pars_fragment:Sat,lights_lambert_fragment:Eat,lights_lambert_pars_fragment:Aat,lights_pars_begin:Mat,lights_toon_fragment:Cat,lights_toon_pars_fragment:Pat,lights_phong_fragment:Iat,lights_phong_pars_fragment:Oat,lights_physical_fragment:kat,lights_physical_pars_fragment:Nat,lights_fragment_begin:Rat,lights_fragment_maps:Dat,lights_fragment_end:Lat,logdepthbuf_fragment:Uat,logdepthbuf_pars_fragment:zat,logdepthbuf_pars_vertex:Fat,logdepthbuf_vertex:jat,map_fragment:Bat,map_pars_fragment:Vat,map_particle_fragment:Hat,map_particle_pars_fragment:Gat,metalnessmap_fragment:Wat,metalnessmap_pars_fragment:$at,morphinstance_vertex:qat,morphcolor_vertex:Xat,morphnormal_vertex:Kat,morphtarget_pars_vertex:Yat,morphtarget_vertex:Zat,normal_fragment_begin:Jat,normal_fragment_maps:Qat,normal_pars_fragment:est,normal_pars_vertex:tst,normal_vertex:nst,normalmap_pars_fragment:rst,clearcoat_normal_fragment_begin:ist,clearcoat_normal_fragment_maps:ast,clearcoat_pars_fragment:sst,iridescence_pars_fragment:ost,opaque_fragment:lst,packing:cst,premultiplied_alpha_fragment:ust,project_vertex:fst,dithering_fragment:dst,dithering_pars_fragment:hst,roughnessmap_fragment:pst,roughnessmap_pars_fragment:mst,shadowmap_pars_fragment:gst,shadowmap_pars_vertex:vst,shadowmap_vertex:yst,shadowmask_pars_fragment:xst,skinbase_vertex:bst,skinning_pars_vertex:_st,skinning_vertex:wst,skinnormal_vertex:Sst,specularmap_fragment:Est,specularmap_pars_fragment:Ast,tonemapping_fragment:Mst,tonemapping_pars_fragment:Tst,transmission_fragment:Cst,transmission_pars_fragment:Pst,uv_pars_fragment:Ist,uv_pars_vertex:Ost,uv_vertex:kst,worldpos_vertex:Nst,background_vert:Rst,background_frag:Dst,backgroundCube_vert:Lst,backgroundCube_frag:Ust,cube_vert:zst,cube_frag:Fst,depth_vert:jst,depth_frag:Bst,distance_vert:Vst,distance_frag:Hst,equirect_vert:Gst,equirect_frag:Wst,linedashed_vert:$st,linedashed_frag:qst,meshbasic_vert:Xst,meshbasic_frag:Kst,meshlambert_vert:Yst,meshlambert_frag:Zst,meshmatcap_vert:Jst,meshmatcap_frag:Qst,meshnormal_vert:eot,meshnormal_frag:tot,meshphong_vert:not,meshphong_frag:rot,meshphysical_vert:iot,meshphysical_frag:aot,meshtoon_vert:sot,meshtoon_frag:oot,points_vert:lot,points_frag:cot,shadow_vert:uot,shadow_frag:fot,sprite_vert:dot,sprite_frag:hot},Ct={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nn}},envmap:{envMap:{value:null},envMapRotation:{value:new nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nn},normalScale:{value:new tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}}},Al={basic:{uniforms:qa([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:qa([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,Ct.lights,{emissive:{value:new Mt(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:qa([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,Ct.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:qa([Ct.common,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.roughnessmap,Ct.metalnessmap,Ct.fog,Ct.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:qa([Ct.common,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.gradientmap,Ct.fog,Ct.lights,{emissive:{value:new Mt(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:qa([Ct.common,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:qa([Ct.points,Ct.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:qa([Ct.common,Ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:qa([Ct.common,Ct.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:qa([Ct.common,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:qa([Ct.sprite,Ct.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new nn}},vertexShader:cn.backgroundCube_vert,fragmentShader:cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distance:{uniforms:qa([Ct.common,Ct.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distance_vert,fragmentShader:cn.distance_frag},shadow:{uniforms:qa([Ct.lights,Ct.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};Al.physical={uniforms:qa([Al.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nn},clearcoatNormalScale:{value:new tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nn},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nn},transmissionSamplerSize:{value:new tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nn},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nn},anisotropyVector:{value:new tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nn}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};const fA={r:0,b:0,g:0},Wh=new Ns,pot=new Wt;function mot(t,e,n,r,i,a,s){const o=new Mt(0);let l=a===!0?0:1,c,u,f=null,d=0,h=null;function g(_){let A=_.isScene===!0?_.background:null;return A&&A.isTexture&&(A=(_.backgroundBlurriness>0?n:e).get(A)),A}function y(_){let A=!1;const T=g(_);T===null?v(o,l):T&&T.isColor&&(v(T,1),A=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,s):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||A)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function x(_,A){const T=g(A);T&&(T.isCubeTexture||T.mapping===wy)?(u===void 0&&(u=new yr(new Pm(1,1,1),new Va({name:"BackgroundCubeMaterial",uniforms:R0(Al.backgroundCube.uniforms),vertexShader:Al.backgroundCube.vertexShader,fragmentShader:Al.backgroundCube.fragmentShader,side:ns,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,I,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Wh.copy(A.backgroundRotation),Wh.x*=-1,Wh.y*=-1,Wh.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Wh.y*=-1,Wh.z*=-1),u.material.uniforms.envMap.value=T,u.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(pot.makeRotationFromEuler(Wh)),u.material.toneMapped=En.getTransfer(T.colorSpace)!==$n,(f!==T||d!==T.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=T,d=T.version,h=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new yr(new ql(2,2),new Va({name:"BackgroundMaterial",uniforms:R0(Al.background.uniforms),vertexShader:Al.background.vertexShader,fragmentShader:Al.background.fragmentShader,side:af,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=En.getTransfer(T.colorSpace)!==$n,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(f!==T||d!==T.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=T,d=T.version,h=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function v(_,A){_.getRGB(fA,Dde(t)),r.buffers.color.setClear(fA.r,fA.g,fA.b,A,s)}function b(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(_,A=1){o.set(_),l=A,v(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,v(o,l)},render:y,addToRenderList:x,dispose:b}}function got(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=d(null);let a=i,s=!1;function o(k,N,L,B,D){let V=!1;const F=f(B,L,N);a!==F&&(a=F,c(a.object)),V=h(k,B,L,D),V&&g(k,B,L,D),D!==null&&e.update(D,t.ELEMENT_ARRAY_BUFFER),(V||s)&&(s=!1,A(k,N,L,B),D!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(D).buffer))}function l(){return t.createVertexArray()}function c(k){return t.bindVertexArray(k)}function u(k){return t.deleteVertexArray(k)}function f(k,N,L){const B=L.wireframe===!0;let D=r[k.id];D===void 0&&(D={},r[k.id]=D);let V=D[N.id];V===void 0&&(V={},D[N.id]=V);let F=V[B];return F===void 0&&(F=d(l()),V[B]=F),F}function d(k){const N=[],L=[],B=[];for(let D=0;D<n;D++)N[D]=0,L[D]=0,B[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:L,attributeDivisors:B,object:k,attributes:{},index:null}}function h(k,N,L,B){const D=a.attributes,V=N.attributes;let F=0;const H=L.getAttributes();for(const q in H)if(H[q].location>=0){const z=D[q];let $=V[q];if($===void 0&&(q==="instanceMatrix"&&k.instanceMatrix&&($=k.instanceMatrix),q==="instanceColor"&&k.instanceColor&&($=k.instanceColor)),z===void 0||z.attribute!==$||$&&z.data!==$.data)return!0;F++}return a.attributesNum!==F||a.index!==B}function g(k,N,L,B){const D={},V=N.attributes;let F=0;const H=L.getAttributes();for(const q in H)if(H[q].location>=0){let z=V[q];z===void 0&&(q==="instanceMatrix"&&k.instanceMatrix&&(z=k.instanceMatrix),q==="instanceColor"&&k.instanceColor&&(z=k.instanceColor));const $={};$.attribute=z,z&&z.data&&($.data=z.data),D[q]=$,F++}a.attributes=D,a.attributesNum=F,a.index=B}function y(){const k=a.newAttributes;for(let N=0,L=k.length;N<L;N++)k[N]=0}function x(k){v(k,0)}function v(k,N){const L=a.newAttributes,B=a.enabledAttributes,D=a.attributeDivisors;L[k]=1,B[k]===0&&(t.enableVertexAttribArray(k),B[k]=1),D[k]!==N&&(t.vertexAttribDivisor(k,N),D[k]=N)}function b(){const k=a.newAttributes,N=a.enabledAttributes;for(let L=0,B=N.length;L<B;L++)N[L]!==k[L]&&(t.disableVertexAttribArray(L),N[L]=0)}function _(k,N,L,B,D,V,F){F===!0?t.vertexAttribIPointer(k,N,L,D,V):t.vertexAttribPointer(k,N,L,B,D,V)}function A(k,N,L,B){y();const D=B.attributes,V=L.getAttributes(),F=N.defaultAttributeValues;for(const H in V){const q=V[H];if(q.location>=0){let W=D[H];if(W===void 0&&(H==="instanceMatrix"&&k.instanceMatrix&&(W=k.instanceMatrix),H==="instanceColor"&&k.instanceColor&&(W=k.instanceColor)),W!==void 0){const z=W.normalized,$=W.itemSize,Z=e.get(W);if(Z===void 0)continue;const G=Z.buffer,ie=Z.type,ue=Z.bytesPerElement,te=ie===t.INT||ie===t.UNSIGNED_INT||W.gpuType===Cw;if(W.isInterleavedBufferAttribute){const ae=W.data,he=ae.stride,le=W.offset;if(ae.isInstancedInterleavedBuffer){for(let be=0;be<q.locationSize;be++)v(q.location+be,ae.meshPerAttribute);k.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let be=0;be<q.locationSize;be++)x(q.location+be);t.bindBuffer(t.ARRAY_BUFFER,G);for(let be=0;be<q.locationSize;be++)_(q.location+be,$/q.locationSize,ie,z,he*ue,(le+$/q.locationSize*be)*ue,te)}else{if(W.isInstancedBufferAttribute){for(let ae=0;ae<q.locationSize;ae++)v(q.location+ae,W.meshPerAttribute);k.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let ae=0;ae<q.locationSize;ae++)x(q.location+ae);t.bindBuffer(t.ARRAY_BUFFER,G);for(let ae=0;ae<q.locationSize;ae++)_(q.location+ae,$/q.locationSize,ie,z,$*ue,$/q.locationSize*ae*ue,te)}}else if(F!==void 0){const z=F[H];if(z!==void 0)switch(z.length){case 2:t.vertexAttrib2fv(q.location,z);break;case 3:t.vertexAttrib3fv(q.location,z);break;case 4:t.vertexAttrib4fv(q.location,z);break;default:t.vertexAttrib1fv(q.location,z)}}}}b()}function T(){O();for(const k in r){const N=r[k];for(const L in N){const B=N[L];for(const D in B)u(B[D].object),delete B[D];delete N[L]}delete r[k]}}function M(k){if(r[k.id]===void 0)return;const N=r[k.id];for(const L in N){const B=N[L];for(const D in B)u(B[D].object),delete B[D];delete N[L]}delete r[k.id]}function I(k){for(const N in r){const L=r[N];if(L[k.id]===void 0)continue;const B=L[k.id];for(const D in B)u(B[D].object),delete B[D];delete L[k.id]}}function O(){P(),s=!0,a!==i&&(a=i,c(a.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:O,resetDefaultState:P,dispose:T,releaseStatesOfGeometry:M,releaseStatesOfProgram:I,initAttributes:y,enableAttribute:x,disableUnusedAttributes:b}}function vot(t,e,n){let r;function i(c){r=c}function a(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,f){f!==0&&(t.drawArraysInstanced(r,c,u,f),n.update(u,r,f))}function o(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,f);let h=0;for(let g=0;g<f;g++)h+=u[g];n.update(h,r,1)}function l(c,u,f,d){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let g=0;g<c.length;g++)s(c[g],u[g],d[g]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,d,0,f);let g=0;for(let y=0;y<f;y++)g+=u[y]*d[y];n.update(g,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function yot(t,e,n,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(I){return!(I!==hi&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(I){const O=I===Gr&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==ia&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Ar&&!O)}function l(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(At("WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,d=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),A=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=t.getParameter(t.MAX_SAMPLES),M=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:f,reversedDepthBuffer:d,maxTextures:h,maxVertexTextures:g,maxTextureSize:y,maxCubemapSize:x,maxAttributes:v,maxVertexUniforms:b,maxVaryings:_,maxFragmentUniforms:A,maxSamples:T,samples:M}}function xot(t){const e=this;let n=null,r=0,i=!1,a=!1;const s=new nd,o=new nn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,h){const g=f.clippingPlanes,y=f.clipIntersection,x=f.clipShadows,v=t.get(f);if(!i||g===null||g.length===0||a&&!x)a?u(null):c();else{const b=a?0:r,_=b*4;let A=v.clippingState||null;l.value=A,A=u(g,d,_,h);for(let T=0;T!==_;++T)A[T]=n[T];v.clippingState=A,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,h,g){const y=f!==null?f.length:0;let x=null;if(y!==0){if(x=l.value,g!==!0||x===null){const v=h+y*4,b=d.matrixWorldInverse;o.getNormalMatrix(b),(x===null||x.length<v)&&(x=new Float32Array(v));for(let _=0,A=h;_!==y;++_,A+=4)s.copy(f[_]).applyMatrix4(b,o),s.normal.toArray(x,A),x[A+3]=s.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function bot(t){let e=new WeakMap;function n(s,o){return o===T0?s.mapping=jl:o===e_&&(s.mapping=$d),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===T0||o===e_)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new pI(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const _d=4,GK=[.125,.215,.35,.446,.526,.582],lp=20,_ot=256,zx=new km,WK=new Mt;let LR=null,UR=0,zR=0,FR=!1;const wot=new oe;class C4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,a={}){const{size:s=256,position:o=wot}=a;LR=this._renderer.getRenderTarget(),UR=this._renderer.getActiveCubeFace(),zR=this._renderer.getActiveMipmapLevel(),FR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=XK(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=qK(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(LR,UR,zR),this._renderer.xr.enabled=FR,e.scissorTest=!1,Bg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===jl||e.mapping===$d?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),LR=this._renderer.getRenderTarget(),UR=this._renderer.getActiveCubeFace(),zR=this._renderer.getActiveMipmapLevel(),FR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:mn,minFilter:mn,generateMipmaps:!1,type:Gr,format:hi,colorSpace:Bl,depthBuffer:!1},i=$K(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$K(e,n,r);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Sot(a)),this._blurMaterial=Aot(a,e,n),this._ggxMaterial=Eot(a,e,n)}return i}_compileMaterial(e){const n=new yr(new rn,e);this._renderer.compile(n,zx)}_sceneToCubeUV(e,n,r,i,a){const l=new ra(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,h=f.toneMapping;f.getClearColor(WK),f.toneMapping=Ko,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new yr(new Pm,new Uc({name:"PMREM.Background",side:ns,depthWrite:!1,depthTest:!1})));const y=this._backgroundBox,x=y.material;let v=!1;const b=e.background;b?b.isColor&&(x.color.copy(b),e.background=null,v=!0):(x.color.copy(WK),v=!0);for(let _=0;_<6;_++){const A=_%3;A===0?(l.up.set(0,c[_],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+u[_],a.y,a.z)):A===1?(l.up.set(0,0,c[_]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+u[_],a.z)):(l.up.set(0,c[_],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+u[_]));const T=this._cubeSize;Bg(i,A*T,_>2?T:0,T,T),f.setRenderTarget(i),v&&f.render(y,l),f.render(e,l)}f.toneMapping=h,f.autoClear=d,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===jl||e.mapping===$d;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=XK()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=qK());const a=i?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;Bg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,zx)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,o=this._lodMeshes[r];o.material=s;const l=s.uniforms,c=r/(this._lodMeshes.length-1),u=n/(this._lodMeshes.length-1),f=Math.sqrt(c*c-u*u),d=0+c*1.25,h=f*d,{_lodMax:g}=this,y=this._sizeLods[r],x=3*y*(r>g-_d?r-g+_d:0),v=4*(this._cubeSize-y);l.envMap.value=e.texture,l.roughness.value=h,l.mipInt.value=g-n,Bg(a,x,v,3*y,2*y),i.setRenderTarget(a),i.render(o,zx),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=g-r,Bg(e,x,v,3*y,2*y),i.setRenderTarget(e),i.render(o,zx)}_blur(e,n,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&Ft("blur direction must be either latitudinal or longitudinal!");const u=3,f=this._lodMeshes[i];f.material=c;const d=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*lp-1),y=a/g,x=isFinite(a)?1+Math.floor(u*y):lp;x>lp&&At(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${lp}`);const v=[];let b=0;for(let I=0;I<lp;++I){const O=I/y,P=Math.exp(-O*O/2);v.push(P),I===0?b+=P:I<x&&(b+=2*P)}for(let I=0;I<v.length;I++)v[I]=v[I]/b;d.envMap.value=e.texture,d.samples.value=x,d.weights.value=v,d.latitudinal.value=s==="latitudinal",o&&(d.poleAxis.value=o);const{_lodMax:_}=this;d.dTheta.value=g,d.mipInt.value=_-r;const A=this._sizeLods[i],T=3*A*(i>_-_d?i-_+_d:0),M=4*(this._cubeSize-A);Bg(n,T,M,3*A,2*A),l.setRenderTarget(n),l.render(f,zx)}}function Sot(t){const e=[],n=[],r=[];let i=t;const a=t-_d+1+GK.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);e.push(o);let l=1/o;s>t-_d?l=GK[s-t+_d-1]:s===0&&(l=0),n.push(l);const c=1/(o-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,g=6,y=3,x=2,v=1,b=new Float32Array(y*g*h),_=new Float32Array(x*g*h),A=new Float32Array(v*g*h);for(let M=0;M<h;M++){const I=M%3*2/3-1,O=M>2?0:-1,P=[I,O,0,I+2/3,O,0,I+2/3,O+1,0,I,O,0,I+2/3,O+1,0,I,O+1,0];b.set(P,y*g*M),_.set(d,x*g*M);const k=[M,M,M,M,M,M];A.set(k,v*g*M)}const T=new rn;T.setAttribute("position",new ar(b,y)),T.setAttribute("uv",new ar(_,x)),T.setAttribute("faceIndex",new ar(A,v)),r.push(new yr(T,null)),i>_d&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function $K(t,e,n){const r=new ja(t,e,n);return r.texture.mapping=wy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Bg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Eot(t,e,n){return new Va({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:_ot,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:UI(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Ll,depthTest:!1,depthWrite:!1})}function Aot(t,e,n){const r=new Float32Array(lp),i=new oe(0,1,0);return new Va({name:"SphericalGaussianBlur",defines:{n:lp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:UI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ll,depthTest:!1,depthWrite:!1})}function qK(){return new Va({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:UI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ll,depthTest:!1,depthWrite:!1})}function XK(){return new Va({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:UI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ll,depthTest:!1,depthWrite:!1})}function UI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Mot(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===T0||l===e_,u=l===jl||l===$d;if(c||u){let f=e.get(o);const d=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==d)return n===null&&(n=new C4(t)),f=c?n.fromEquirectangular(o,f):n.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new C4(t)),f=c?n.fromEquirectangular(o):n.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",a),f.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function Tot(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&O0("WebGLRenderer: "+r+" extension not supported."),i}}}function Cot(t,e,n,r){const i={},a=new WeakMap;function s(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",s),delete i[d.id];const h=a.get(d);h&&(e.remove(h),a.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function o(f,d){return i[d.id]===!0||(d.addEventListener("dispose",s),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const h in d)e.update(d[h],t.ARRAY_BUFFER)}function c(f){const d=[],h=f.index,g=f.attributes.position;let y=0;if(h!==null){const b=h.array;y=h.version;for(let _=0,A=b.length;_<A;_+=3){const T=b[_+0],M=b[_+1],I=b[_+2];d.push(T,M,M,I,I,T)}}else if(g!==void 0){const b=g.array;y=g.version;for(let _=0,A=b.length/3-1;_<A;_+=3){const T=_+0,M=_+1,I=_+2;d.push(T,M,M,I,I,T)}}else return;const x=new(Ide(d)?aB:iB)(d,1);x.version=y;const v=a.get(f);v&&e.remove(v),a.set(f,x)}function u(f){const d=a.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return a.get(f)}return{get:o,update:l,getWireframeAttribute:u}}function Pot(t,e,n){let r;function i(d){r=d}let a,s;function o(d){a=d.type,s=d.bytesPerElement}function l(d,h){t.drawElements(r,h,a,d*s),n.update(h,r,1)}function c(d,h,g){g!==0&&(t.drawElementsInstanced(r,h,a,d*s,g),n.update(h,r,g))}function u(d,h,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,a,d,0,g);let x=0;for(let v=0;v<g;v++)x+=h[v];n.update(x,r,1)}function f(d,h,g,y){if(g===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let v=0;v<d.length;v++)c(d[v]/s,h[v],y[v]);else{x.multiDrawElementsInstancedWEBGL(r,h,0,a,d,0,y,0,g);let v=0;for(let b=0;b<g;b++)v+=h[b]*y[b];n.update(v,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function Iot(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:Ft("WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Oot(t,e,n){const r=new WeakMap,i=new In;function a(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=u!==void 0?u.length:0;let d=r.get(o);if(d===void 0||d.count!==f){let k=function(){O.dispose(),r.delete(o),o.removeEventListener("dispose",k)};var h=k;d!==void 0&&d.texture.dispose();const g=o.morphAttributes.position!==void 0,y=o.morphAttributes.normal!==void 0,x=o.morphAttributes.color!==void 0,v=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],_=o.morphAttributes.color||[];let A=0;g===!0&&(A=1),y===!0&&(A=2),x===!0&&(A=3);let T=o.attributes.position.count*A,M=1;T>e.maxTextureSize&&(M=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const I=new Float32Array(T*M*4*f),O=new fI(I,T,M,f);O.type=Ar,O.needsUpdate=!0;const P=A*4;for(let N=0;N<f;N++){const L=v[N],B=b[N],D=_[N],V=T*M*4*N;for(let F=0;F<L.count;F++){const H=F*P;g===!0&&(i.fromBufferAttribute(L,F),I[V+H+0]=i.x,I[V+H+1]=i.y,I[V+H+2]=i.z,I[V+H+3]=0),y===!0&&(i.fromBufferAttribute(B,F),I[V+H+4]=i.x,I[V+H+5]=i.y,I[V+H+6]=i.z,I[V+H+7]=0),x===!0&&(i.fromBufferAttribute(D,F),I[V+H+8]=i.x,I[V+H+9]=i.y,I[V+H+10]=i.z,I[V+H+11]=D.itemSize===4?i.w:1)}}d={count:f,texture:O,size:new tt(T,M)},r.set(o,d),o.addEventListener("dispose",k)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let g=0;for(let x=0;x<c.length;x++)g+=c[x];const y=o.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",y),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}return{update:a}}function kot(t,e,n,r){let i=new WeakMap;function a(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:s}}const Not={[Gj]:"LINEAR_TONE_MAPPING",[Wj]:"REINHARD_TONE_MAPPING",[$j]:"CINEON_TONE_MAPPING",[tI]:"ACES_FILMIC_TONE_MAPPING",[Xj]:"AGX_TONE_MAPPING",[Kj]:"NEUTRAL_TONE_MAPPING",[qj]:"CUSTOM_TONE_MAPPING"};function Rot(t,e,n,r,i){const a=new ja(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),s=new ja(e,n,{type:Gr,depthBuffer:!1,stencilBuffer:!1}),o=new rn;o.setAttribute("position",new Nt([-1,3,0,-1,-1,0,3,-1,0],3)),o.setAttribute("uv",new Nt([0,2,0,0,2,0],2));const l=new vB({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new yr(o,l),u=new km(-1,1,1,-1,0,1);let f=null,d=null,h=!1,g,y=null,x=[],v=!1;this.setSize=function(b,_){a.setSize(b,_),s.setSize(b,_);for(let A=0;A<x.length;A++){const T=x[A];T.setSize&&T.setSize(b,_)}},this.setEffects=function(b){x=b,v=x.length>0&&x[0].isRenderPass===!0;const _=a.width,A=a.height;for(let T=0;T<x.length;T++){const M=x[T];M.setSize&&M.setSize(_,A)}},this.begin=function(b,_){if(h||b.toneMapping===Ko&&x.length===0)return!1;if(y=_,_!==null){const A=_.width,T=_.height;(a.width!==A||a.height!==T)&&this.setSize(A,T)}return v===!1&&b.setRenderTarget(a),g=b.toneMapping,b.toneMapping=Ko,!0},this.hasRenderPass=function(){return v},this.end=function(b,_){b.toneMapping=g,h=!0;let A=a,T=s;for(let M=0;M<x.length;M++){const I=x[M];if(I.enabled!==!1&&(I.render(b,T,A,_),I.needsSwap!==!1)){const O=A;A=T,T=O}}if(f!==b.outputColorSpace||d!==b.toneMapping){f=b.outputColorSpace,d=b.toneMapping,l.defines={},En.getTransfer(f)===$n&&(l.defines.SRGB_TRANSFER="");const M=Not[d];M&&(l.defines[M]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=A.texture,b.setRenderTarget(y),b.render(c,u),y=null,h=!1},this.isCompositing=function(){return h},this.dispose=function(){a.dispose(),s.dispose(),o.dispose(),l.dispose()}}const khe=new Qn,P4=new cm(1,1),Nhe=new fI,Rhe=new dI,Dhe=new Ow,KK=[],YK=[],ZK=new Float32Array(16),JK=new Float32Array(9),QK=new Float32Array(4);function Ay(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=KK[i];if(a===void 0&&(a=new Float32Array(i),KK[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function Gi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Wi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function zI(t,e){let n=YK[e];n===void 0&&(n=new Int32Array(e),YK[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Dot(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Lot(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gi(n,e))return;t.uniform2fv(this.addr,e),Wi(n,e)}}function Uot(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Gi(n,e))return;t.uniform3fv(this.addr,e),Wi(n,e)}}function zot(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gi(n,e))return;t.uniform4fv(this.addr,e),Wi(n,e)}}function Fot(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Wi(n,e)}else{if(Gi(n,r))return;QK.set(r),t.uniformMatrix2fv(this.addr,!1,QK),Wi(n,r)}}function jot(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Wi(n,e)}else{if(Gi(n,r))return;JK.set(r),t.uniformMatrix3fv(this.addr,!1,JK),Wi(n,r)}}function Bot(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Wi(n,e)}else{if(Gi(n,r))return;ZK.set(r),t.uniformMatrix4fv(this.addr,!1,ZK),Wi(n,r)}}function Vot(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Hot(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gi(n,e))return;t.uniform2iv(this.addr,e),Wi(n,e)}}function Got(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gi(n,e))return;t.uniform3iv(this.addr,e),Wi(n,e)}}function Wot(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gi(n,e))return;t.uniform4iv(this.addr,e),Wi(n,e)}}function $ot(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function qot(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gi(n,e))return;t.uniform2uiv(this.addr,e),Wi(n,e)}}function Xot(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gi(n,e))return;t.uniform3uiv(this.addr,e),Wi(n,e)}}function Kot(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gi(n,e))return;t.uniform4uiv(this.addr,e),Wi(n,e)}}function Yot(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let a;this.type===t.SAMPLER_2D_SHADOW?(P4.compareFunction=n.isReversedDepthBuffer()?uI:cI,a=P4):a=khe,n.setTexture2D(e||a,i)}function Zot(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Rhe,i)}function Jot(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Dhe,i)}function Qot(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Nhe,i)}function elt(t){switch(t){case 5126:return Dot;case 35664:return Lot;case 35665:return Uot;case 35666:return zot;case 35674:return Fot;case 35675:return jot;case 35676:return Bot;case 5124:case 35670:return Vot;case 35667:case 35671:return Hot;case 35668:case 35672:return Got;case 35669:case 35673:return Wot;case 5125:return $ot;case 36294:return qot;case 36295:return Xot;case 36296:return Kot;case 35678:case 36198:case 36298:case 36306:case 35682:return Yot;case 35679:case 36299:case 36307:return Zot;case 35680:case 36300:case 36308:case 36293:return Jot;case 36289:case 36303:case 36311:case 36292:return Qot}}function tlt(t,e){t.uniform1fv(this.addr,e)}function nlt(t,e){const n=Ay(e,this.size,2);t.uniform2fv(this.addr,n)}function rlt(t,e){const n=Ay(e,this.size,3);t.uniform3fv(this.addr,n)}function ilt(t,e){const n=Ay(e,this.size,4);t.uniform4fv(this.addr,n)}function alt(t,e){const n=Ay(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function slt(t,e){const n=Ay(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function olt(t,e){const n=Ay(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function llt(t,e){t.uniform1iv(this.addr,e)}function clt(t,e){t.uniform2iv(this.addr,e)}function ult(t,e){t.uniform3iv(this.addr,e)}function flt(t,e){t.uniform4iv(this.addr,e)}function dlt(t,e){t.uniform1uiv(this.addr,e)}function hlt(t,e){t.uniform2uiv(this.addr,e)}function plt(t,e){t.uniform3uiv(this.addr,e)}function mlt(t,e){t.uniform4uiv(this.addr,e)}function glt(t,e,n){const r=this.cache,i=e.length,a=zI(n,i);Gi(r,a)||(t.uniform1iv(this.addr,a),Wi(r,a));let s;this.type===t.SAMPLER_2D_SHADOW?s=P4:s=khe;for(let o=0;o!==i;++o)n.setTexture2D(e[o]||s,a[o])}function vlt(t,e,n){const r=this.cache,i=e.length,a=zI(n,i);Gi(r,a)||(t.uniform1iv(this.addr,a),Wi(r,a));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||Rhe,a[s])}function ylt(t,e,n){const r=this.cache,i=e.length,a=zI(n,i);Gi(r,a)||(t.uniform1iv(this.addr,a),Wi(r,a));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||Dhe,a[s])}function xlt(t,e,n){const r=this.cache,i=e.length,a=zI(n,i);Gi(r,a)||(t.uniform1iv(this.addr,a),Wi(r,a));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||Nhe,a[s])}function blt(t){switch(t){case 5126:return tlt;case 35664:return nlt;case 35665:return rlt;case 35666:return ilt;case 35674:return alt;case 35675:return slt;case 35676:return olt;case 5124:case 35670:return llt;case 35667:case 35671:return clt;case 35668:case 35672:return ult;case 35669:case 35673:return flt;case 5125:return dlt;case 36294:return hlt;case 36295:return plt;case 36296:return mlt;case 35678:case 36198:case 36298:case 36306:case 35682:return glt;case 35679:case 36299:case 36307:return vlt;case 35680:case 36300:case 36308:case 36293:return ylt;case 36289:case 36303:case 36311:case 36292:return xlt}}class _lt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=elt(n.type)}}class wlt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=blt(n.type)}}class Slt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,n[o.id],r)}}}const jR=/(\w+)(\])?(\[|\.)?/g;function eY(t,e){t.seq.push(e),t.map[e.id]=e}function Elt(t,e,n){const r=t.name,i=r.length;for(jR.lastIndex=0;;){const a=jR.exec(r),s=jR.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){eY(n,c===void 0?new _lt(o,t,e):new wlt(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new Slt(o),eY(n,f)),n=f}}}class nM{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;++s){const o=e.getActiveUniform(n,s),l=e.getUniformLocation(n,o.name);Elt(o,l,this)}const i=[],a=[];for(const s of this.seq)s.type===e.SAMPLER_2D_SHADOW||s.type===e.SAMPLER_CUBE_SHADOW||s.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(s):a.push(s);i.length>0&&(this.seq=i.concat(a))}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,s=n.length;a!==s;++a){const o=n[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function tY(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Alt=37297;let Mlt=0;function Tlt(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return r.join(`
`)}const nY=new nn;function Clt(t){En._getMatrix(nY,En.workingColorSpace,t);const e=`mat3( ${nY.elements.map(n=>n.toFixed(4))} )`;switch(En.getTransfer(t)){case a_:return[e,"LinearTransferOETF"];case $n:return[e,"sRGBTransferOETF"];default:return At("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function rY(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+a+`

`+Tlt(t.getShaderSource(e),o)}else return a}function Plt(t,e){const n=Clt(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const Ilt={[Gj]:"Linear",[Wj]:"Reinhard",[$j]:"Cineon",[tI]:"ACESFilmic",[Xj]:"AgX",[Kj]:"Neutral",[qj]:"Custom"};function Olt(t,e){const n=Ilt[e];return n===void 0?(At("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const dA=new oe;function klt(){En.getLuminanceCoefficients(dA);const t=dA.x.toFixed(4),e=dA.y.toFixed(4),n=dA.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Nlt(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(hb).join(`
`)}function Rlt(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Dlt(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function hb(t){return t!==""}function iY(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function aY(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Llt=/^[ \t]*#include +<([\w\d./]+)>/gm;function I4(t){return t.replace(Llt,zlt)}const Ult=new Map;function zlt(t,e){let n=cn[e];if(n===void 0){const r=Ult.get(e);if(r!==void 0)n=cn[r],At('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return I4(n)}const Flt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sY(t){return t.replace(Flt,jlt)}function jlt(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function oY(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Blt={[$v]:"SHADOWMAP_TYPE_PCF",[mp]:"SHADOWMAP_TYPE_VSM"};function Vlt(t){return Blt[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Hlt={[jl]:"ENVMAP_TYPE_CUBE",[$d]:"ENVMAP_TYPE_CUBE",[wy]:"ENVMAP_TYPE_CUBE_UV"};function Glt(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":Hlt[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const Wlt={[$d]:"ENVMAP_MODE_REFRACTION"};function $lt(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":Wlt[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const qlt={[Tw]:"ENVMAP_BLENDING_MULTIPLY",[mde]:"ENVMAP_BLENDING_MIX",[gde]:"ENVMAP_BLENDING_ADD"};function Xlt(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":qlt[t.combine]||"ENVMAP_BLENDING_NONE"}function Klt(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Ylt(t,e,n,r){const i=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=Vlt(n),c=Glt(n),u=$lt(n),f=Xlt(n),d=Klt(n),h=Nlt(n),g=Rlt(a),y=i.createProgram();let x,v,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(hb).join(`
`),x.length>0&&(x+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(hb).join(`
`),v.length>0&&(v+=`
`)):(x=[oY(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(hb).join(`
`),v=[oY(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ko?"#define TONE_MAPPING":"",n.toneMapping!==Ko?cn.tonemapping_pars_fragment:"",n.toneMapping!==Ko?Olt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",cn.colorspace_pars_fragment,Plt("linearToOutputTexel",n.outputColorSpace),klt(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(hb).join(`
`)),s=I4(s),s=iY(s,n),s=aY(s,n),o=I4(o),o=iY(o,n),o=aY(o,n),s=sY(s),o=sY(o),n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,x=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["#define varying in",n.glslVersion===b4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===b4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=b+x+s,A=b+v+o,T=tY(i,i.VERTEX_SHADER,_),M=tY(i,i.FRAGMENT_SHADER,A);i.attachShader(y,T),i.attachShader(y,M),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function I(N){if(t.debug.checkShaderErrors){const L=i.getProgramInfoLog(y)||"",B=i.getShaderInfoLog(T)||"",D=i.getShaderInfoLog(M)||"",V=L.trim(),F=B.trim(),H=D.trim();let q=!0,W=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,T,M);else{const z=rY(i,T,"vertex"),$=rY(i,M,"fragment");Ft("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+V+`
`+z+`
`+$)}else V!==""?At("WebGLProgram: Program Info Log:",V):(F===""||H==="")&&(W=!1);W&&(N.diagnostics={runnable:q,programLog:V,vertexShader:{log:F,prefix:x},fragmentShader:{log:H,prefix:v}})}i.deleteShader(T),i.deleteShader(M),O=new nM(i,y),P=Dlt(i,y)}let O;this.getUniforms=function(){return O===void 0&&I(this),O};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let k=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=i.getProgramParameter(y,Alt)),k},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Mlt++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=M,this}let Zlt=0;class Jlt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Qlt(e),n.set(e,r)),r}}class Qlt{constructor(e){this.id=Zlt++,this.code=e,this.usedTimes=0}}function ect(t,e,n,r,i,a,s){const o=new N0,l=new Jlt,c=new Set,u=[],f=new Map,d=i.logarithmicDepthBuffer;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(P){return c.add(P),P===0?"uv":`uv${P}`}function x(P,k,N,L,B){const D=L.fog,V=B.geometry,F=P.isMeshStandardMaterial?L.environment:null,H=(P.isMeshStandardMaterial?n:e).get(P.envMap||F),q=H&&H.mapping===wy?H.image.height:null,W=g[P.type];P.precision!==null&&(h=i.getMaxPrecision(P.precision),h!==P.precision&&At("WebGLProgram.getParameters:",P.precision,"not supported, using",h,"instead."));const z=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,$=z!==void 0?z.length:0;let Z=0;V.morphAttributes.position!==void 0&&(Z=1),V.morphAttributes.normal!==void 0&&(Z=2),V.morphAttributes.color!==void 0&&(Z=3);let G,ie,ue,te;if(W){const zt=Al[W];G=zt.vertexShader,ie=zt.fragmentShader}else G=P.vertexShader,ie=P.fragmentShader,l.update(P),ue=l.getVertexShaderID(P),te=l.getFragmentShaderID(P);const ae=t.getRenderTarget(),he=t.state.buffers.depth.getReversed(),le=B.isInstancedMesh===!0,be=B.isBatchedMesh===!0,Ie=!!P.map,fe=!!P.matcap,Ye=!!H,we=!!P.aoMap,Te=!!P.lightMap,Ee=!!P.bumpMap,ke=!!P.normalMap,Y=!!P.displacementMap,xe=!!P.emissiveMap,ye=!!P.metalnessMap,me=!!P.roughnessMap,Pe=P.anisotropy>0,K=P.clearcoat>0,j=P.dispersion>0,ee=P.iridescence>0,re=P.sheen>0,se=P.transmission>0,ce=Pe&&!!P.anisotropyMap,Oe=K&&!!P.clearcoatMap,De=K&&!!P.clearcoatNormalMap,Ge=K&&!!P.clearcoatRoughnessMap,rt=ee&&!!P.iridescenceMap,Re=ee&&!!P.iridescenceThicknessMap,Ue=re&&!!P.sheenColorMap,Be=re&&!!P.sheenRoughnessMap,Je=!!P.specularMap,We=!!P.specularColorMap,ut=!!P.specularIntensityMap,pe=se&&!!P.transmissionMap,Me=se&&!!P.thicknessMap,Ze=!!P.gradientMap,xt=!!P.alphaMap,Ke=P.alphaTest>0,ze=!!P.alphaHash,at=!!P.extensions;let Tt=Ko;P.toneMapped&&(ae===null||ae.isXRRenderTarget===!0)&&(Tt=t.toneMapping);const wt={shaderID:W,shaderType:P.type,shaderName:P.name,vertexShader:G,fragmentShader:ie,defines:P.defines,customVertexShaderID:ue,customFragmentShaderID:te,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:h,batching:be,batchingColor:be&&B._colorsTexture!==null,instancing:le,instancingColor:le&&B.instanceColor!==null,instancingMorph:le&&B.morphTexture!==null,outputColorSpace:ae===null?t.outputColorSpace:ae.isXRRenderTarget===!0?ae.texture.colorSpace:Bl,alphaToCoverage:!!P.alphaToCoverage,map:Ie,matcap:fe,envMap:Ye,envMapMode:Ye&&H.mapping,envMapCubeUVHeight:q,aoMap:we,lightMap:Te,bumpMap:Ee,normalMap:ke,displacementMap:Y,emissiveMap:xe,normalMapObjectSpace:ke&&P.normalMapType===Sde,normalMapTangentSpace:ke&&P.normalMapType===oh,metalnessMap:ye,roughnessMap:me,anisotropy:Pe,anisotropyMap:ce,clearcoat:K,clearcoatMap:Oe,clearcoatNormalMap:De,clearcoatRoughnessMap:Ge,dispersion:j,iridescence:ee,iridescenceMap:rt,iridescenceThicknessMap:Re,sheen:re,sheenColorMap:Ue,sheenRoughnessMap:Be,specularMap:Je,specularColorMap:We,specularIntensityMap:ut,transmission:se,transmissionMap:pe,thicknessMap:Me,gradientMap:Ze,opaque:P.transparent===!1&&P.blending===Rp&&P.alphaToCoverage===!1,alphaMap:xt,alphaTest:Ke,alphaHash:ze,combine:P.combine,mapUv:Ie&&y(P.map.channel),aoMapUv:we&&y(P.aoMap.channel),lightMapUv:Te&&y(P.lightMap.channel),bumpMapUv:Ee&&y(P.bumpMap.channel),normalMapUv:ke&&y(P.normalMap.channel),displacementMapUv:Y&&y(P.displacementMap.channel),emissiveMapUv:xe&&y(P.emissiveMap.channel),metalnessMapUv:ye&&y(P.metalnessMap.channel),roughnessMapUv:me&&y(P.roughnessMap.channel),anisotropyMapUv:ce&&y(P.anisotropyMap.channel),clearcoatMapUv:Oe&&y(P.clearcoatMap.channel),clearcoatNormalMapUv:De&&y(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ge&&y(P.clearcoatRoughnessMap.channel),iridescenceMapUv:rt&&y(P.iridescenceMap.channel),iridescenceThicknessMapUv:Re&&y(P.iridescenceThicknessMap.channel),sheenColorMapUv:Ue&&y(P.sheenColorMap.channel),sheenRoughnessMapUv:Be&&y(P.sheenRoughnessMap.channel),specularMapUv:Je&&y(P.specularMap.channel),specularColorMapUv:We&&y(P.specularColorMap.channel),specularIntensityMapUv:ut&&y(P.specularIntensityMap.channel),transmissionMapUv:pe&&y(P.transmissionMap.channel),thicknessMapUv:Me&&y(P.thicknessMap.channel),alphaMapUv:xt&&y(P.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(ke||Pe),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,pointsUvs:B.isPoints===!0&&!!V.attributes.uv&&(Ie||xt),fog:!!D,useFog:P.fog===!0,fogExp2:!!D&&D.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:he,skinning:B.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:Z,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:Tt,decodeVideoTexture:Ie&&P.map.isVideoTexture===!0&&En.getTransfer(P.map.colorSpace)===$n,decodeVideoTextureEmissive:xe&&P.emissiveMap.isVideoTexture===!0&&En.getTransfer(P.emissiveMap.colorSpace)===$n,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===jo,flipSided:P.side===ns,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:at&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(at&&P.extensions.multiDraw===!0||be)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return wt.vertexUv1s=c.has(1),wt.vertexUv2s=c.has(2),wt.vertexUv3s=c.has(3),c.clear(),wt}function v(P){const k=[];if(P.shaderID?k.push(P.shaderID):(k.push(P.customVertexShaderID),k.push(P.customFragmentShaderID)),P.defines!==void 0)for(const N in P.defines)k.push(N),k.push(P.defines[N]);return P.isRawShaderMaterial===!1&&(b(k,P),_(k,P),k.push(t.outputColorSpace)),k.push(P.customProgramCacheKey),k.join()}function b(P,k){P.push(k.precision),P.push(k.outputColorSpace),P.push(k.envMapMode),P.push(k.envMapCubeUVHeight),P.push(k.mapUv),P.push(k.alphaMapUv),P.push(k.lightMapUv),P.push(k.aoMapUv),P.push(k.bumpMapUv),P.push(k.normalMapUv),P.push(k.displacementMapUv),P.push(k.emissiveMapUv),P.push(k.metalnessMapUv),P.push(k.roughnessMapUv),P.push(k.anisotropyMapUv),P.push(k.clearcoatMapUv),P.push(k.clearcoatNormalMapUv),P.push(k.clearcoatRoughnessMapUv),P.push(k.iridescenceMapUv),P.push(k.iridescenceThicknessMapUv),P.push(k.sheenColorMapUv),P.push(k.sheenRoughnessMapUv),P.push(k.specularMapUv),P.push(k.specularColorMapUv),P.push(k.specularIntensityMapUv),P.push(k.transmissionMapUv),P.push(k.thicknessMapUv),P.push(k.combine),P.push(k.fogExp2),P.push(k.sizeAttenuation),P.push(k.morphTargetsCount),P.push(k.morphAttributeCount),P.push(k.numDirLights),P.push(k.numPointLights),P.push(k.numSpotLights),P.push(k.numSpotLightMaps),P.push(k.numHemiLights),P.push(k.numRectAreaLights),P.push(k.numDirLightShadows),P.push(k.numPointLightShadows),P.push(k.numSpotLightShadows),P.push(k.numSpotLightShadowsWithMaps),P.push(k.numLightProbes),P.push(k.shadowMapType),P.push(k.toneMapping),P.push(k.numClippingPlanes),P.push(k.numClipIntersection),P.push(k.depthPacking)}function _(P,k){o.disableAll(),k.instancing&&o.enable(0),k.instancingColor&&o.enable(1),k.instancingMorph&&o.enable(2),k.matcap&&o.enable(3),k.envMap&&o.enable(4),k.normalMapObjectSpace&&o.enable(5),k.normalMapTangentSpace&&o.enable(6),k.clearcoat&&o.enable(7),k.iridescence&&o.enable(8),k.alphaTest&&o.enable(9),k.vertexColors&&o.enable(10),k.vertexAlphas&&o.enable(11),k.vertexUv1s&&o.enable(12),k.vertexUv2s&&o.enable(13),k.vertexUv3s&&o.enable(14),k.vertexTangents&&o.enable(15),k.anisotropy&&o.enable(16),k.alphaHash&&o.enable(17),k.batching&&o.enable(18),k.dispersion&&o.enable(19),k.batchingColor&&o.enable(20),k.gradientMap&&o.enable(21),P.push(o.mask),o.disableAll(),k.fog&&o.enable(0),k.useFog&&o.enable(1),k.flatShading&&o.enable(2),k.logarithmicDepthBuffer&&o.enable(3),k.reversedDepthBuffer&&o.enable(4),k.skinning&&o.enable(5),k.morphTargets&&o.enable(6),k.morphNormals&&o.enable(7),k.morphColors&&o.enable(8),k.premultipliedAlpha&&o.enable(9),k.shadowMapEnabled&&o.enable(10),k.doubleSided&&o.enable(11),k.flipSided&&o.enable(12),k.useDepthPacking&&o.enable(13),k.dithering&&o.enable(14),k.transmission&&o.enable(15),k.sheen&&o.enable(16),k.opaque&&o.enable(17),k.pointsUvs&&o.enable(18),k.decodeVideoTexture&&o.enable(19),k.decodeVideoTextureEmissive&&o.enable(20),k.alphaToCoverage&&o.enable(21),P.push(o.mask)}function A(P){const k=g[P.type];let N;if(k){const L=Al[k];N=sB.clone(L.uniforms)}else N=P.uniforms;return N}function T(P,k){let N=f.get(k);return N!==void 0?++N.usedTimes:(N=new Ylt(t,k,P,a),u.push(N),f.set(k,N)),N}function M(P){if(--P.usedTimes===0){const k=u.indexOf(P);u[k]=u[u.length-1],u.pop(),f.delete(P.cacheKey),P.destroy()}}function I(P){l.remove(P)}function O(){l.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:A,acquireProgram:T,releaseProgram:M,releaseShaderCache:I,programs:u,dispose:O}}function tct(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function r(s){t.delete(s)}function i(s,o,l){t.get(s)[o]=l}function a(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:a}}function nct(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function lY(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function cY(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function s(f,d,h,g,y,x){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:d,material:h,groupOrder:g,renderOrder:f.renderOrder,z:y,group:x},t[e]=v):(v.id=f.id,v.object=f,v.geometry=d,v.material=h,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=y,v.group=x),e++,v}function o(f,d,h,g,y,x){const v=s(f,d,h,g,y,x);h.transmission>0?r.push(v):h.transparent===!0?i.push(v):n.push(v)}function l(f,d,h,g,y,x){const v=s(f,d,h,g,y,x);h.transmission>0?r.unshift(v):h.transparent===!0?i.unshift(v):n.unshift(v)}function c(f,d){n.length>1&&n.sort(f||nct),r.length>1&&r.sort(d||lY),i.length>1&&i.sort(d||lY)}function u(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function rct(){let t=new WeakMap;function e(r,i){const a=t.get(r);let s;return a===void 0?(s=new cY,t.set(r,[s])):i>=a.length?(s=new cY,a.push(s)):s=a[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function ict(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new oe,color:new Mt};break;case"SpotLight":n={position:new oe,direction:new oe,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new oe,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new oe,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":n={color:new Mt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return t[e.id]=n,n}}}function act(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let sct=0;function oct(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function lct(t){const e=new ict,n=act(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new oe);const i=new oe,a=new Wt,s=new Wt;function o(c){let u=0,f=0,d=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let h=0,g=0,y=0,x=0,v=0,b=0,_=0,A=0,T=0,M=0,I=0;c.sort(oct);for(let P=0,k=c.length;P<k;P++){const N=c[P],L=N.color,B=N.intensity,D=N.distance;let V=null;if(N.shadow&&N.shadow.map&&(N.shadow.map.texture.format===sm?V=N.shadow.map.texture:V=N.shadow.map.depthTexture||N.shadow.map.texture),N.isAmbientLight)u+=L.r*B,f+=L.g*B,d+=L.b*B;else if(N.isLightProbe){for(let F=0;F<9;F++)r.probe[F].addScaledVector(N.sh.coefficients[F],B);I++}else if(N.isDirectionalLight){const F=e.get(N);if(F.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const H=N.shadow,q=n.get(N);q.shadowIntensity=H.intensity,q.shadowBias=H.bias,q.shadowNormalBias=H.normalBias,q.shadowRadius=H.radius,q.shadowMapSize=H.mapSize,r.directionalShadow[h]=q,r.directionalShadowMap[h]=V,r.directionalShadowMatrix[h]=N.shadow.matrix,b++}r.directional[h]=F,h++}else if(N.isSpotLight){const F=e.get(N);F.position.setFromMatrixPosition(N.matrixWorld),F.color.copy(L).multiplyScalar(B),F.distance=D,F.coneCos=Math.cos(N.angle),F.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),F.decay=N.decay,r.spot[y]=F;const H=N.shadow;if(N.map&&(r.spotLightMap[T]=N.map,T++,H.updateMatrices(N),N.castShadow&&M++),r.spotLightMatrix[y]=H.matrix,N.castShadow){const q=n.get(N);q.shadowIntensity=H.intensity,q.shadowBias=H.bias,q.shadowNormalBias=H.normalBias,q.shadowRadius=H.radius,q.shadowMapSize=H.mapSize,r.spotShadow[y]=q,r.spotShadowMap[y]=V,A++}y++}else if(N.isRectAreaLight){const F=e.get(N);F.color.copy(L).multiplyScalar(B),F.halfWidth.set(N.width*.5,0,0),F.halfHeight.set(0,N.height*.5,0),r.rectArea[x]=F,x++}else if(N.isPointLight){const F=e.get(N);if(F.color.copy(N.color).multiplyScalar(N.intensity),F.distance=N.distance,F.decay=N.decay,N.castShadow){const H=N.shadow,q=n.get(N);q.shadowIntensity=H.intensity,q.shadowBias=H.bias,q.shadowNormalBias=H.normalBias,q.shadowRadius=H.radius,q.shadowMapSize=H.mapSize,q.shadowCameraNear=H.camera.near,q.shadowCameraFar=H.camera.far,r.pointShadow[g]=q,r.pointShadowMap[g]=V,r.pointShadowMatrix[g]=N.shadow.matrix,_++}r.point[g]=F,g++}else if(N.isHemisphereLight){const F=e.get(N);F.skyColor.copy(N.color).multiplyScalar(B),F.groundColor.copy(N.groundColor).multiplyScalar(B),r.hemi[v]=F,v++}}x>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ct.LTC_FLOAT_1,r.rectAreaLTC2=Ct.LTC_FLOAT_2):(r.rectAreaLTC1=Ct.LTC_HALF_1,r.rectAreaLTC2=Ct.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=f,r.ambient[2]=d;const O=r.hash;(O.directionalLength!==h||O.pointLength!==g||O.spotLength!==y||O.rectAreaLength!==x||O.hemiLength!==v||O.numDirectionalShadows!==b||O.numPointShadows!==_||O.numSpotShadows!==A||O.numSpotMaps!==T||O.numLightProbes!==I)&&(r.directional.length=h,r.spot.length=y,r.rectArea.length=x,r.point.length=g,r.hemi.length=v,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=A+T-M,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=M,r.numLightProbes=I,O.directionalLength=h,O.pointLength=g,O.spotLength=y,O.rectAreaLength=x,O.hemiLength=v,O.numDirectionalShadows=b,O.numPointShadows=_,O.numSpotShadows=A,O.numSpotMaps=T,O.numLightProbes=I,r.version=sct++)}function l(c,u){let f=0,d=0,h=0,g=0,y=0;const x=u.matrixWorldInverse;for(let v=0,b=c.length;v<b;v++){const _=c[v];if(_.isDirectionalLight){const A=r.directional[f];A.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(x),f++}else if(_.isSpotLight){const A=r.spot[h];A.position.setFromMatrixPosition(_.matrixWorld),A.position.applyMatrix4(x),A.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(x),h++}else if(_.isRectAreaLight){const A=r.rectArea[g];A.position.setFromMatrixPosition(_.matrixWorld),A.position.applyMatrix4(x),s.identity(),a.copy(_.matrixWorld),a.premultiply(x),s.extractRotation(a),A.halfWidth.set(_.width*.5,0,0),A.halfHeight.set(0,_.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),g++}else if(_.isPointLight){const A=r.point[d];A.position.setFromMatrixPosition(_.matrixWorld),A.position.applyMatrix4(x),d++}else if(_.isHemisphereLight){const A=r.hemi[y];A.direction.setFromMatrixPosition(_.matrixWorld),A.direction.transformDirection(x),y++}}}return{setup:o,setupView:l,state:r}}function uY(t){const e=new lct(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function a(u){n.push(u)}function s(u){r.push(u)}function o(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function cct(t){let e=new WeakMap;function n(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new uY(t),e.set(i,[o])):a>=s.length?(o=new uY(t),s.push(o)):o=s[a],o}function r(){e=new WeakMap}return{get:n,dispose:r}}const uct=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fct=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,dct=[new oe(1,0,0),new oe(-1,0,0),new oe(0,1,0),new oe(0,-1,0),new oe(0,0,1),new oe(0,0,-1)],hct=[new oe(0,-1,0),new oe(0,-1,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,-1,0),new oe(0,-1,0)],fY=new Wt,Fx=new oe,BR=new oe;function pct(t,e,n){let r=new Ey;const i=new tt,a=new tt,s=new In,o=new NI,l=new RI,c={},u=n.maxTextureSize,f={[af]:ns,[ns]:af,[jo]:jo},d=new Va({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tt},radius:{value:4}},vertexShader:uct,fragmentShader:fct}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const g=new rn;g.setAttribute("position",new ar(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new yr(g,d),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$v;let v=this.type;this.render=function(M,I,O){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;M.type===$b&&(At("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),M.type=$v);const P=t.getRenderTarget(),k=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),L=t.state;L.setBlending(Ll),L.buffers.depth.getReversed()===!0?L.buffers.color.setClear(0,0,0,0):L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const B=v!==this.type;B&&I.traverse(function(D){D.material&&(Array.isArray(D.material)?D.material.forEach(V=>V.needsUpdate=!0):D.material.needsUpdate=!0)});for(let D=0,V=M.length;D<V;D++){const F=M[D],H=F.shadow;if(H===void 0){At("WebGLShadowMap:",F,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const q=H.getFrameExtents();if(i.multiply(q),a.copy(H.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/q.x),i.x=a.x*q.x,H.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/q.y),i.y=a.y*q.y,H.mapSize.y=a.y)),H.map===null||B===!0){if(H.map!==null&&(H.map.depthTexture!==null&&(H.map.depthTexture.dispose(),H.map.depthTexture=null),H.map.dispose()),this.type===mp){if(F.isPointLight){At("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}H.map=new ja(i.x,i.y,{format:sm,type:Gr,minFilter:mn,magFilter:mn,generateMipmaps:!1}),H.map.texture.name=F.name+".shadowMap",H.map.depthTexture=new cm(i.x,i.y,Ar),H.map.depthTexture.name=F.name+".shadowMapDepth",H.map.depthTexture.format=Cc,H.map.depthTexture.compareFunction=null,H.map.depthTexture.minFilter=di,H.map.depthTexture.magFilter=di}else{F.isPointLight?(H.map=new pI(i.x),H.map.depthTexture=new $de(i.x,go)):(H.map=new ja(i.x,i.y),H.map.depthTexture=new cm(i.x,i.y,go)),H.map.depthTexture.name=F.name+".shadowMap",H.map.depthTexture.format=Cc;const z=t.state.buffers.depth.getReversed();this.type===$v?(H.map.depthTexture.compareFunction=z?uI:cI,H.map.depthTexture.minFilter=mn,H.map.depthTexture.magFilter=mn):(H.map.depthTexture.compareFunction=null,H.map.depthTexture.minFilter=di,H.map.depthTexture.magFilter=di)}H.camera.updateProjectionMatrix()}const W=H.map.isWebGLCubeRenderTarget?6:1;for(let z=0;z<W;z++){if(H.map.isWebGLCubeRenderTarget)t.setRenderTarget(H.map,z),t.clear();else{z===0&&(t.setRenderTarget(H.map),t.clear());const $=H.getViewport(z);s.set(a.x*$.x,a.y*$.y,a.x*$.z,a.y*$.w),L.viewport(s)}if(F.isPointLight){const $=H.camera,Z=H.matrix,G=F.distance||$.far;G!==$.far&&($.far=G,$.updateProjectionMatrix()),Fx.setFromMatrixPosition(F.matrixWorld),$.position.copy(Fx),BR.copy($.position),BR.add(dct[z]),$.up.copy(hct[z]),$.lookAt(BR),$.updateMatrixWorld(),Z.makeTranslation(-Fx.x,-Fx.y,-Fx.z),fY.multiplyMatrices($.projectionMatrix,$.matrixWorldInverse),H._frustum.setFromProjectionMatrix(fY,$.coordinateSystem,$.reversedDepth)}else H.updateMatrices(F);r=H.getFrustum(),A(I,O,H.camera,F,this.type)}H.isPointLightShadow!==!0&&this.type===mp&&b(H,O),H.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(P,k,N)};function b(M,I){const O=e.update(y);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,h.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new ja(i.x,i.y,{format:sm,type:Gr})),d.uniforms.shadow_pass.value=M.map.depthTexture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(I,null,O,d,y,null),h.uniforms.shadow_pass.value=M.mapPass.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(I,null,O,h,y,null)}function _(M,I,O,P){let k=null;const N=O.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(N!==void 0)k=N;else if(k=O.isPointLight===!0?l:o,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const L=k.uuid,B=I.uuid;let D=c[L];D===void 0&&(D={},c[L]=D);let V=D[B];V===void 0&&(V=k.clone(),D[B]=V,I.addEventListener("dispose",T)),k=V}if(k.visible=I.visible,k.wireframe=I.wireframe,P===mp?k.side=I.shadowSide!==null?I.shadowSide:I.side:k.side=I.shadowSide!==null?I.shadowSide:f[I.side],k.alphaMap=I.alphaMap,k.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,k.map=I.map,k.clipShadows=I.clipShadows,k.clippingPlanes=I.clippingPlanes,k.clipIntersection=I.clipIntersection,k.displacementMap=I.displacementMap,k.displacementScale=I.displacementScale,k.displacementBias=I.displacementBias,k.wireframeLinewidth=I.wireframeLinewidth,k.linewidth=I.linewidth,O.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const L=t.properties.get(k);L.light=O}return k}function A(M,I,O,P,k){if(M.visible===!1)return;if(M.layers.test(I.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&k===mp)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,M.matrixWorld);const B=e.update(M),D=M.material;if(Array.isArray(D)){const V=B.groups;for(let F=0,H=V.length;F<H;F++){const q=V[F],W=D[q.materialIndex];if(W&&W.visible){const z=_(M,W,P,k);M.onBeforeShadow(t,M,I,O,B,z,q),t.renderBufferDirect(O,null,B,z,M,q),M.onAfterShadow(t,M,I,O,B,z,q)}}}else if(D.visible){const V=_(M,D,P,k);M.onBeforeShadow(t,M,I,O,B,V,null),t.renderBufferDirect(O,null,B,V,M,null),M.onAfterShadow(t,M,I,O,B,V,null)}}const L=M.children;for(let B=0,D=L.length;B<D;B++)A(L[B],I,O,P,k)}function T(M){M.target.removeEventListener("dispose",T);for(const O in c){const P=c[O],k=M.target.uuid;k in P&&(P[k].dispose(),delete P[k])}}}const mct={[dC]:hC,[pC]:vC,[mC]:yC,[am]:gC,[hC]:dC,[vC]:pC,[yC]:mC,[gC]:am};function gct(t,e){function n(){let pe=!1;const Me=new In;let Ze=null;const xt=new In(0,0,0,0);return{setMask:function(Ke){Ze!==Ke&&!pe&&(t.colorMask(Ke,Ke,Ke,Ke),Ze=Ke)},setLocked:function(Ke){pe=Ke},setClear:function(Ke,ze,at,Tt,wt){wt===!0&&(Ke*=Tt,ze*=Tt,at*=Tt),Me.set(Ke,ze,at,Tt),xt.equals(Me)===!1&&(t.clearColor(Ke,ze,at,Tt),xt.copy(Me))},reset:function(){pe=!1,Ze=null,xt.set(-1,0,0,0)}}}function r(){let pe=!1,Me=!1,Ze=null,xt=null,Ke=null;return{setReversed:function(ze){if(Me!==ze){const at=e.get("EXT_clip_control");ze?at.clipControlEXT(at.LOWER_LEFT_EXT,at.ZERO_TO_ONE_EXT):at.clipControlEXT(at.LOWER_LEFT_EXT,at.NEGATIVE_ONE_TO_ONE_EXT),Me=ze;const Tt=Ke;Ke=null,this.setClear(Tt)}},getReversed:function(){return Me},setTest:function(ze){ze?ae(t.DEPTH_TEST):he(t.DEPTH_TEST)},setMask:function(ze){Ze!==ze&&!pe&&(t.depthMask(ze),Ze=ze)},setFunc:function(ze){if(Me&&(ze=mct[ze]),xt!==ze){switch(ze){case dC:t.depthFunc(t.NEVER);break;case hC:t.depthFunc(t.ALWAYS);break;case pC:t.depthFunc(t.LESS);break;case am:t.depthFunc(t.LEQUAL);break;case mC:t.depthFunc(t.EQUAL);break;case gC:t.depthFunc(t.GEQUAL);break;case vC:t.depthFunc(t.GREATER);break;case yC:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}xt=ze}},setLocked:function(ze){pe=ze},setClear:function(ze){Ke!==ze&&(Me&&(ze=1-ze),t.clearDepth(ze),Ke=ze)},reset:function(){pe=!1,Ze=null,xt=null,Ke=null,Me=!1}}}function i(){let pe=!1,Me=null,Ze=null,xt=null,Ke=null,ze=null,at=null,Tt=null,wt=null;return{setTest:function(zt){pe||(zt?ae(t.STENCIL_TEST):he(t.STENCIL_TEST))},setMask:function(zt){Me!==zt&&!pe&&(t.stencilMask(zt),Me=zt)},setFunc:function(zt,On,Mn){(Ze!==zt||xt!==On||Ke!==Mn)&&(t.stencilFunc(zt,On,Mn),Ze=zt,xt=On,Ke=Mn)},setOp:function(zt,On,Mn){(ze!==zt||at!==On||Tt!==Mn)&&(t.stencilOp(zt,On,Mn),ze=zt,at=On,Tt=Mn)},setLocked:function(zt){pe=zt},setClear:function(zt){wt!==zt&&(t.clearStencil(zt),wt=zt)},reset:function(){pe=!1,Me=null,Ze=null,xt=null,Ke=null,ze=null,at=null,Tt=null,wt=null}}}const a=new n,s=new r,o=new i,l=new WeakMap,c=new WeakMap;let u={},f={},d=new WeakMap,h=[],g=null,y=!1,x=null,v=null,b=null,_=null,A=null,T=null,M=null,I=new Mt(0,0,0),O=0,P=!1,k=null,N=null,L=null,B=null,D=null;const V=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,H=0;const q=t.getParameter(t.VERSION);q.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(q)[1]),F=H>=1):q.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),F=H>=2);let W=null,z={};const $=t.getParameter(t.SCISSOR_BOX),Z=t.getParameter(t.VIEWPORT),G=new In().fromArray($),ie=new In().fromArray(Z);function ue(pe,Me,Ze,xt){const Ke=new Uint8Array(4),ze=t.createTexture();t.bindTexture(pe,ze),t.texParameteri(pe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(pe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let at=0;at<Ze;at++)pe===t.TEXTURE_3D||pe===t.TEXTURE_2D_ARRAY?t.texImage3D(Me,0,t.RGBA,1,1,xt,0,t.RGBA,t.UNSIGNED_BYTE,Ke):t.texImage2D(Me+at,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ke);return ze}const te={};te[t.TEXTURE_2D]=ue(t.TEXTURE_2D,t.TEXTURE_2D,1),te[t.TEXTURE_CUBE_MAP]=ue(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),te[t.TEXTURE_2D_ARRAY]=ue(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),te[t.TEXTURE_3D]=ue(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ae(t.DEPTH_TEST),s.setFunc(am),Ee(!1),ke(h4),ae(t.CULL_FACE),we(Ll);function ae(pe){u[pe]!==!0&&(t.enable(pe),u[pe]=!0)}function he(pe){u[pe]!==!1&&(t.disable(pe),u[pe]=!1)}function le(pe,Me){return f[pe]!==Me?(t.bindFramebuffer(pe,Me),f[pe]=Me,pe===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Me),pe===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Me),!0):!1}function be(pe,Me){let Ze=h,xt=!1;if(pe){Ze=d.get(Me),Ze===void 0&&(Ze=[],d.set(Me,Ze));const Ke=pe.textures;if(Ze.length!==Ke.length||Ze[0]!==t.COLOR_ATTACHMENT0){for(let ze=0,at=Ke.length;ze<at;ze++)Ze[ze]=t.COLOR_ATTACHMENT0+ze;Ze.length=Ke.length,xt=!0}}else Ze[0]!==t.BACK&&(Ze[0]=t.BACK,xt=!0);xt&&t.drawBuffers(Ze)}function Ie(pe){return g!==pe?(t.useProgram(pe),g=pe,!0):!1}const fe={[hd]:t.FUNC_ADD,[Jfe]:t.FUNC_SUBTRACT,[Qfe]:t.FUNC_REVERSE_SUBTRACT};fe[ede]=t.MIN,fe[tde]=t.MAX;const Ye={[nde]:t.ZERO,[rde]:t.ONE,[ide]:t.SRC_COLOR,[uC]:t.SRC_ALPHA,[ude]:t.SRC_ALPHA_SATURATE,[lde]:t.DST_COLOR,[sde]:t.DST_ALPHA,[ade]:t.ONE_MINUS_SRC_COLOR,[fC]:t.ONE_MINUS_SRC_ALPHA,[cde]:t.ONE_MINUS_DST_COLOR,[ode]:t.ONE_MINUS_DST_ALPHA,[fde]:t.CONSTANT_COLOR,[dde]:t.ONE_MINUS_CONSTANT_COLOR,[hde]:t.CONSTANT_ALPHA,[pde]:t.ONE_MINUS_CONSTANT_ALPHA};function we(pe,Me,Ze,xt,Ke,ze,at,Tt,wt,zt){if(pe===Ll){y===!0&&(he(t.BLEND),y=!1);return}if(y===!1&&(ae(t.BLEND),y=!0),pe!==Zfe){if(pe!==x||zt!==P){if((v!==hd||A!==hd)&&(t.blendEquation(t.FUNC_ADD),v=hd,A=hd),zt)switch(pe){case Rp:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case p4:t.blendFunc(t.ONE,t.ONE);break;case m4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case g4:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Ft("WebGLState: Invalid blending: ",pe);break}else switch(pe){case Rp:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case p4:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case m4:Ft("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case g4:Ft("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Ft("WebGLState: Invalid blending: ",pe);break}b=null,_=null,T=null,M=null,I.set(0,0,0),O=0,x=pe,P=zt}return}Ke=Ke||Me,ze=ze||Ze,at=at||xt,(Me!==v||Ke!==A)&&(t.blendEquationSeparate(fe[Me],fe[Ke]),v=Me,A=Ke),(Ze!==b||xt!==_||ze!==T||at!==M)&&(t.blendFuncSeparate(Ye[Ze],Ye[xt],Ye[ze],Ye[at]),b=Ze,_=xt,T=ze,M=at),(Tt.equals(I)===!1||wt!==O)&&(t.blendColor(Tt.r,Tt.g,Tt.b,wt),I.copy(Tt),O=wt),x=pe,P=!1}function Te(pe,Me){pe.side===jo?he(t.CULL_FACE):ae(t.CULL_FACE);let Ze=pe.side===ns;Me&&(Ze=!Ze),Ee(Ze),pe.blending===Rp&&pe.transparent===!1?we(Ll):we(pe.blending,pe.blendEquation,pe.blendSrc,pe.blendDst,pe.blendEquationAlpha,pe.blendSrcAlpha,pe.blendDstAlpha,pe.blendColor,pe.blendAlpha,pe.premultipliedAlpha),s.setFunc(pe.depthFunc),s.setTest(pe.depthTest),s.setMask(pe.depthWrite),a.setMask(pe.colorWrite);const xt=pe.stencilWrite;o.setTest(xt),xt&&(o.setMask(pe.stencilWriteMask),o.setFunc(pe.stencilFunc,pe.stencilRef,pe.stencilFuncMask),o.setOp(pe.stencilFail,pe.stencilZFail,pe.stencilZPass)),xe(pe.polygonOffset,pe.polygonOffsetFactor,pe.polygonOffsetUnits),pe.alphaToCoverage===!0?ae(t.SAMPLE_ALPHA_TO_COVERAGE):he(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(pe){k!==pe&&(pe?t.frontFace(t.CW):t.frontFace(t.CCW),k=pe)}function ke(pe){pe!==Xfe?(ae(t.CULL_FACE),pe!==N&&(pe===h4?t.cullFace(t.BACK):pe===Kfe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):he(t.CULL_FACE),N=pe}function Y(pe){pe!==L&&(F&&t.lineWidth(pe),L=pe)}function xe(pe,Me,Ze){pe?(ae(t.POLYGON_OFFSET_FILL),(B!==Me||D!==Ze)&&(t.polygonOffset(Me,Ze),B=Me,D=Ze)):he(t.POLYGON_OFFSET_FILL)}function ye(pe){pe?ae(t.SCISSOR_TEST):he(t.SCISSOR_TEST)}function me(pe){pe===void 0&&(pe=t.TEXTURE0+V-1),W!==pe&&(t.activeTexture(pe),W=pe)}function Pe(pe,Me,Ze){Ze===void 0&&(W===null?Ze=t.TEXTURE0+V-1:Ze=W);let xt=z[Ze];xt===void 0&&(xt={type:void 0,texture:void 0},z[Ze]=xt),(xt.type!==pe||xt.texture!==Me)&&(W!==Ze&&(t.activeTexture(Ze),W=Ze),t.bindTexture(pe,Me||te[pe]),xt.type=pe,xt.texture=Me)}function K(){const pe=z[W];pe!==void 0&&pe.type!==void 0&&(t.bindTexture(pe.type,null),pe.type=void 0,pe.texture=void 0)}function j(){try{t.compressedTexImage2D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function ee(){try{t.compressedTexImage3D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function re(){try{t.texSubImage2D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function se(){try{t.texSubImage3D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function ce(){try{t.compressedTexSubImage2D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function Oe(){try{t.compressedTexSubImage3D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function De(){try{t.texStorage2D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function Ge(){try{t.texStorage3D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function rt(){try{t.texImage2D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function Re(){try{t.texImage3D(...arguments)}catch(pe){Ft("WebGLState:",pe)}}function Ue(pe){G.equals(pe)===!1&&(t.scissor(pe.x,pe.y,pe.z,pe.w),G.copy(pe))}function Be(pe){ie.equals(pe)===!1&&(t.viewport(pe.x,pe.y,pe.z,pe.w),ie.copy(pe))}function Je(pe,Me){let Ze=c.get(Me);Ze===void 0&&(Ze=new WeakMap,c.set(Me,Ze));let xt=Ze.get(pe);xt===void 0&&(xt=t.getUniformBlockIndex(Me,pe.name),Ze.set(pe,xt))}function We(pe,Me){const xt=c.get(Me).get(pe);l.get(Me)!==xt&&(t.uniformBlockBinding(Me,xt,pe.__bindingPointIndex),l.set(Me,xt))}function ut(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},W=null,z={},f={},d=new WeakMap,h=[],g=null,y=!1,x=null,v=null,b=null,_=null,A=null,T=null,M=null,I=new Mt(0,0,0),O=0,P=!1,k=null,N=null,L=null,B=null,D=null,G.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:ae,disable:he,bindFramebuffer:le,drawBuffers:be,useProgram:Ie,setBlending:we,setMaterial:Te,setFlipSided:Ee,setCullFace:ke,setLineWidth:Y,setPolygonOffset:xe,setScissorTest:ye,activeTexture:me,bindTexture:Pe,unbindTexture:K,compressedTexImage2D:j,compressedTexImage3D:ee,texImage2D:rt,texImage3D:Re,updateUBOMapping:Je,uniformBlockBinding:We,texStorage2D:De,texStorage3D:Ge,texSubImage2D:re,texSubImage3D:se,compressedTexSubImage2D:ce,compressedTexSubImage3D:Oe,scissor:Ue,viewport:Be,reset:ut}}function vct(t,e,n,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new tt,u=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(K,j){return h?new OffscreenCanvas(K,j):o_("canvas")}function y(K,j,ee){let re=1;const se=Pe(K);if((se.width>ee||se.height>ee)&&(re=ee/Math.max(se.width,se.height)),re<1)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const ce=Math.floor(re*se.width),Oe=Math.floor(re*se.height);f===void 0&&(f=g(ce,Oe));const De=j?g(ce,Oe):f;return De.width=ce,De.height=Oe,De.getContext("2d").drawImage(K,0,0,ce,Oe),At("WebGLRenderer: Texture has been resized from ("+se.width+"x"+se.height+") to ("+ce+"x"+Oe+")."),De}else return"data"in K&&At("WebGLRenderer: Image in DataTexture is too big ("+se.width+"x"+se.height+")."),K;return K}function x(K){return K.generateMipmaps}function v(K){t.generateMipmap(K)}function b(K){return K.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?t.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(K,j,ee,re,se=!1){if(K!==null){if(t[K]!==void 0)return t[K];At("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let ce=j;if(j===t.RED&&(ee===t.FLOAT&&(ce=t.R32F),ee===t.HALF_FLOAT&&(ce=t.R16F),ee===t.UNSIGNED_BYTE&&(ce=t.R8)),j===t.RED_INTEGER&&(ee===t.UNSIGNED_BYTE&&(ce=t.R8UI),ee===t.UNSIGNED_SHORT&&(ce=t.R16UI),ee===t.UNSIGNED_INT&&(ce=t.R32UI),ee===t.BYTE&&(ce=t.R8I),ee===t.SHORT&&(ce=t.R16I),ee===t.INT&&(ce=t.R32I)),j===t.RG&&(ee===t.FLOAT&&(ce=t.RG32F),ee===t.HALF_FLOAT&&(ce=t.RG16F),ee===t.UNSIGNED_BYTE&&(ce=t.RG8)),j===t.RG_INTEGER&&(ee===t.UNSIGNED_BYTE&&(ce=t.RG8UI),ee===t.UNSIGNED_SHORT&&(ce=t.RG16UI),ee===t.UNSIGNED_INT&&(ce=t.RG32UI),ee===t.BYTE&&(ce=t.RG8I),ee===t.SHORT&&(ce=t.RG16I),ee===t.INT&&(ce=t.RG32I)),j===t.RGB_INTEGER&&(ee===t.UNSIGNED_BYTE&&(ce=t.RGB8UI),ee===t.UNSIGNED_SHORT&&(ce=t.RGB16UI),ee===t.UNSIGNED_INT&&(ce=t.RGB32UI),ee===t.BYTE&&(ce=t.RGB8I),ee===t.SHORT&&(ce=t.RGB16I),ee===t.INT&&(ce=t.RGB32I)),j===t.RGBA_INTEGER&&(ee===t.UNSIGNED_BYTE&&(ce=t.RGBA8UI),ee===t.UNSIGNED_SHORT&&(ce=t.RGBA16UI),ee===t.UNSIGNED_INT&&(ce=t.RGBA32UI),ee===t.BYTE&&(ce=t.RGBA8I),ee===t.SHORT&&(ce=t.RGBA16I),ee===t.INT&&(ce=t.RGBA32I)),j===t.RGB&&(ee===t.UNSIGNED_INT_5_9_9_9_REV&&(ce=t.RGB9_E5),ee===t.UNSIGNED_INT_10F_11F_11F_REV&&(ce=t.R11F_G11F_B10F)),j===t.RGBA){const Oe=se?a_:En.getTransfer(re);ee===t.FLOAT&&(ce=t.RGBA32F),ee===t.HALF_FLOAT&&(ce=t.RGBA16F),ee===t.UNSIGNED_BYTE&&(ce=Oe===$n?t.SRGB8_ALPHA8:t.RGBA8),ee===t.UNSIGNED_SHORT_4_4_4_4&&(ce=t.RGBA4),ee===t.UNSIGNED_SHORT_5_5_5_1&&(ce=t.RGB5_A1)}return(ce===t.R16F||ce===t.R32F||ce===t.RG16F||ce===t.RG32F||ce===t.RGBA16F||ce===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ce}function A(K,j){let ee;return K?j===null||j===go||j===P0?ee=t.DEPTH24_STENCIL8:j===Ar?ee=t.DEPTH32F_STENCIL8:j===C0&&(ee=t.DEPTH24_STENCIL8,At("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===go||j===P0?ee=t.DEPTH_COMPONENT24:j===Ar?ee=t.DEPTH_COMPONENT32F:j===C0&&(ee=t.DEPTH_COMPONENT16),ee}function T(K,j){return x(K)===!0||K.isFramebufferTexture&&K.minFilter!==di&&K.minFilter!==mn?Math.log2(Math.max(j.width,j.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?j.mipmaps.length:1}function M(K){const j=K.target;j.removeEventListener("dispose",M),O(j),j.isVideoTexture&&u.delete(j)}function I(K){const j=K.target;j.removeEventListener("dispose",I),k(j)}function O(K){const j=r.get(K);if(j.__webglInit===void 0)return;const ee=K.source,re=d.get(ee);if(re){const se=re[j.__cacheKey];se.usedTimes--,se.usedTimes===0&&P(K),Object.keys(re).length===0&&d.delete(ee)}r.remove(K)}function P(K){const j=r.get(K);t.deleteTexture(j.__webglTexture);const ee=K.source,re=d.get(ee);delete re[j.__cacheKey],s.memory.textures--}function k(K){const j=r.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),r.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let re=0;re<6;re++){if(Array.isArray(j.__webglFramebuffer[re]))for(let se=0;se<j.__webglFramebuffer[re].length;se++)t.deleteFramebuffer(j.__webglFramebuffer[re][se]);else t.deleteFramebuffer(j.__webglFramebuffer[re]);j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer[re])}else{if(Array.isArray(j.__webglFramebuffer))for(let re=0;re<j.__webglFramebuffer.length;re++)t.deleteFramebuffer(j.__webglFramebuffer[re]);else t.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&t.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let re=0;re<j.__webglColorRenderbuffer.length;re++)j.__webglColorRenderbuffer[re]&&t.deleteRenderbuffer(j.__webglColorRenderbuffer[re]);j.__webglDepthRenderbuffer&&t.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const ee=K.textures;for(let re=0,se=ee.length;re<se;re++){const ce=r.get(ee[re]);ce.__webglTexture&&(t.deleteTexture(ce.__webglTexture),s.memory.textures--),r.remove(ee[re])}r.remove(K)}let N=0;function L(){N=0}function B(){const K=N;return K>=i.maxTextures&&At("WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+i.maxTextures),N+=1,K}function D(K){const j=[];return j.push(K.wrapS),j.push(K.wrapT),j.push(K.wrapR||0),j.push(K.magFilter),j.push(K.minFilter),j.push(K.anisotropy),j.push(K.internalFormat),j.push(K.format),j.push(K.type),j.push(K.generateMipmaps),j.push(K.premultiplyAlpha),j.push(K.flipY),j.push(K.unpackAlignment),j.push(K.colorSpace),j.join()}function V(K,j){const ee=r.get(K);if(K.isVideoTexture&&ye(K),K.isRenderTargetTexture===!1&&K.isExternalTexture!==!0&&K.version>0&&ee.__version!==K.version){const re=K.image;if(re===null)At("WebGLRenderer: Texture marked for update but no image data found.");else if(re.complete===!1)At("WebGLRenderer: Texture marked for update but image is incomplete");else{te(ee,K,j);return}}else K.isExternalTexture&&(ee.__webglTexture=K.sourceTexture?K.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ee.__webglTexture,t.TEXTURE0+j)}function F(K,j){const ee=r.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&ee.__version!==K.version){te(ee,K,j);return}else K.isExternalTexture&&(ee.__webglTexture=K.sourceTexture?K.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,ee.__webglTexture,t.TEXTURE0+j)}function H(K,j){const ee=r.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&ee.__version!==K.version){te(ee,K,j);return}n.bindTexture(t.TEXTURE_3D,ee.__webglTexture,t.TEXTURE0+j)}function q(K,j){const ee=r.get(K);if(K.isCubeDepthTexture!==!0&&K.version>0&&ee.__version!==K.version){ae(ee,K,j);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+j)}const W={[t_]:t.REPEAT,[ri]:t.CLAMP_TO_EDGE,[n_]:t.MIRRORED_REPEAT},z={[di]:t.NEAREST,[Yj]:t.NEAREST_MIPMAP_NEAREST,[wv]:t.NEAREST_MIPMAP_LINEAR,[mn]:t.LINEAR,[qb]:t.LINEAR_MIPMAP_NEAREST,[mc]:t.LINEAR_MIPMAP_LINEAR},$={[Ede]:t.NEVER,[Pde]:t.ALWAYS,[Ade]:t.LESS,[cI]:t.LEQUAL,[Mde]:t.EQUAL,[uI]:t.GEQUAL,[Tde]:t.GREATER,[Cde]:t.NOTEQUAL};function Z(K,j){if(j.type===Ar&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===mn||j.magFilter===qb||j.magFilter===wv||j.magFilter===mc||j.minFilter===mn||j.minFilter===qb||j.minFilter===wv||j.minFilter===mc)&&At("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(K,t.TEXTURE_WRAP_S,W[j.wrapS]),t.texParameteri(K,t.TEXTURE_WRAP_T,W[j.wrapT]),(K===t.TEXTURE_3D||K===t.TEXTURE_2D_ARRAY)&&t.texParameteri(K,t.TEXTURE_WRAP_R,W[j.wrapR]),t.texParameteri(K,t.TEXTURE_MAG_FILTER,z[j.magFilter]),t.texParameteri(K,t.TEXTURE_MIN_FILTER,z[j.minFilter]),j.compareFunction&&(t.texParameteri(K,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(K,t.TEXTURE_COMPARE_FUNC,$[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===di||j.minFilter!==wv&&j.minFilter!==mc||j.type===Ar&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||r.get(j).__currentAnisotropy){const ee=e.get("EXT_texture_filter_anisotropic");t.texParameterf(K,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,i.getMaxAnisotropy())),r.get(j).__currentAnisotropy=j.anisotropy}}}function G(K,j){let ee=!1;K.__webglInit===void 0&&(K.__webglInit=!0,j.addEventListener("dispose",M));const re=j.source;let se=d.get(re);se===void 0&&(se={},d.set(re,se));const ce=D(j);if(ce!==K.__cacheKey){se[ce]===void 0&&(se[ce]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ee=!0),se[ce].usedTimes++;const Oe=se[K.__cacheKey];Oe!==void 0&&(se[K.__cacheKey].usedTimes--,Oe.usedTimes===0&&P(j)),K.__cacheKey=ce,K.__webglTexture=se[ce].texture}return ee}function ie(K,j,ee){return Math.floor(Math.floor(K/ee)/j)}function ue(K,j,ee,re){const ce=K.updateRanges;if(ce.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,j.width,j.height,ee,re,j.data);else{ce.sort((Re,Ue)=>Re.start-Ue.start);let Oe=0;for(let Re=1;Re<ce.length;Re++){const Ue=ce[Oe],Be=ce[Re],Je=Ue.start+Ue.count,We=ie(Be.start,j.width,4),ut=ie(Ue.start,j.width,4);Be.start<=Je+1&&We===ut&&ie(Be.start+Be.count-1,j.width,4)===We?Ue.count=Math.max(Ue.count,Be.start+Be.count-Ue.start):(++Oe,ce[Oe]=Be)}ce.length=Oe+1;const De=t.getParameter(t.UNPACK_ROW_LENGTH),Ge=t.getParameter(t.UNPACK_SKIP_PIXELS),rt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,j.width);for(let Re=0,Ue=ce.length;Re<Ue;Re++){const Be=ce[Re],Je=Math.floor(Be.start/4),We=Math.ceil(Be.count/4),ut=Je%j.width,pe=Math.floor(Je/j.width),Me=We,Ze=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,ut),t.pixelStorei(t.UNPACK_SKIP_ROWS,pe),n.texSubImage2D(t.TEXTURE_2D,0,ut,pe,Me,Ze,ee,re,j.data)}K.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,De),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ge),t.pixelStorei(t.UNPACK_SKIP_ROWS,rt)}}function te(K,j,ee){let re=t.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(re=t.TEXTURE_2D_ARRAY),j.isData3DTexture&&(re=t.TEXTURE_3D);const se=G(K,j),ce=j.source;n.bindTexture(re,K.__webglTexture,t.TEXTURE0+ee);const Oe=r.get(ce);if(ce.version!==Oe.__version||se===!0){n.activeTexture(t.TEXTURE0+ee);const De=En.getPrimaries(En.workingColorSpace),Ge=j.colorSpace===xu?null:En.getPrimaries(j.colorSpace),rt=j.colorSpace===xu||De===Ge?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,rt);let Re=y(j.image,!1,i.maxTextureSize);Re=me(j,Re);const Ue=a.convert(j.format,j.colorSpace),Be=a.convert(j.type);let Je=_(j.internalFormat,Ue,Be,j.colorSpace,j.isVideoTexture);Z(re,j);let We;const ut=j.mipmaps,pe=j.isVideoTexture!==!0,Me=Oe.__version===void 0||se===!0,Ze=ce.dataReady,xt=T(j,Re);if(j.isDepthTexture)Je=A(j.format===xd,j.type),Me&&(pe?n.texStorage2D(t.TEXTURE_2D,1,Je,Re.width,Re.height):n.texImage2D(t.TEXTURE_2D,0,Je,Re.width,Re.height,0,Ue,Be,null));else if(j.isDataTexture)if(ut.length>0){pe&&Me&&n.texStorage2D(t.TEXTURE_2D,xt,Je,ut[0].width,ut[0].height);for(let Ke=0,ze=ut.length;Ke<ze;Ke++)We=ut[Ke],pe?Ze&&n.texSubImage2D(t.TEXTURE_2D,Ke,0,0,We.width,We.height,Ue,Be,We.data):n.texImage2D(t.TEXTURE_2D,Ke,Je,We.width,We.height,0,Ue,Be,We.data);j.generateMipmaps=!1}else pe?(Me&&n.texStorage2D(t.TEXTURE_2D,xt,Je,Re.width,Re.height),Ze&&ue(j,Re,Ue,Be)):n.texImage2D(t.TEXTURE_2D,0,Je,Re.width,Re.height,0,Ue,Be,Re.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){pe&&Me&&n.texStorage3D(t.TEXTURE_2D_ARRAY,xt,Je,ut[0].width,ut[0].height,Re.depth);for(let Ke=0,ze=ut.length;Ke<ze;Ke++)if(We=ut[Ke],j.format!==hi)if(Ue!==null)if(pe){if(Ze)if(j.layerUpdates.size>0){const at=T4(We.width,We.height,j.format,j.type);for(const Tt of j.layerUpdates){const wt=We.data.subarray(Tt*at/We.data.BYTES_PER_ELEMENT,(Tt+1)*at/We.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ke,0,0,Tt,We.width,We.height,1,Ue,wt)}j.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ke,0,0,0,We.width,We.height,Re.depth,Ue,We.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ke,Je,We.width,We.height,Re.depth,0,We.data,0,0);else At("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else pe?Ze&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ke,0,0,0,We.width,We.height,Re.depth,Ue,Be,We.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ke,Je,We.width,We.height,Re.depth,0,Ue,Be,We.data)}else{pe&&Me&&n.texStorage2D(t.TEXTURE_2D,xt,Je,ut[0].width,ut[0].height);for(let Ke=0,ze=ut.length;Ke<ze;Ke++)We=ut[Ke],j.format!==hi?Ue!==null?pe?Ze&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ke,0,0,We.width,We.height,Ue,We.data):n.compressedTexImage2D(t.TEXTURE_2D,Ke,Je,We.width,We.height,0,We.data):At("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):pe?Ze&&n.texSubImage2D(t.TEXTURE_2D,Ke,0,0,We.width,We.height,Ue,Be,We.data):n.texImage2D(t.TEXTURE_2D,Ke,Je,We.width,We.height,0,Ue,Be,We.data)}else if(j.isDataArrayTexture)if(pe){if(Me&&n.texStorage3D(t.TEXTURE_2D_ARRAY,xt,Je,Re.width,Re.height,Re.depth),Ze)if(j.layerUpdates.size>0){const Ke=T4(Re.width,Re.height,j.format,j.type);for(const ze of j.layerUpdates){const at=Re.data.subarray(ze*Ke/Re.data.BYTES_PER_ELEMENT,(ze+1)*Ke/Re.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,ze,Re.width,Re.height,1,Ue,Be,at)}j.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,Ue,Be,Re.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Je,Re.width,Re.height,Re.depth,0,Ue,Be,Re.data);else if(j.isData3DTexture)pe?(Me&&n.texStorage3D(t.TEXTURE_3D,xt,Je,Re.width,Re.height,Re.depth),Ze&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,Ue,Be,Re.data)):n.texImage3D(t.TEXTURE_3D,0,Je,Re.width,Re.height,Re.depth,0,Ue,Be,Re.data);else if(j.isFramebufferTexture){if(Me)if(pe)n.texStorage2D(t.TEXTURE_2D,xt,Je,Re.width,Re.height);else{let Ke=Re.width,ze=Re.height;for(let at=0;at<xt;at++)n.texImage2D(t.TEXTURE_2D,at,Je,Ke,ze,0,Ue,Be,null),Ke>>=1,ze>>=1}}else if(ut.length>0){if(pe&&Me){const Ke=Pe(ut[0]);n.texStorage2D(t.TEXTURE_2D,xt,Je,Ke.width,Ke.height)}for(let Ke=0,ze=ut.length;Ke<ze;Ke++)We=ut[Ke],pe?Ze&&n.texSubImage2D(t.TEXTURE_2D,Ke,0,0,Ue,Be,We):n.texImage2D(t.TEXTURE_2D,Ke,Je,Ue,Be,We);j.generateMipmaps=!1}else if(pe){if(Me){const Ke=Pe(Re);n.texStorage2D(t.TEXTURE_2D,xt,Je,Ke.width,Ke.height)}Ze&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ue,Be,Re)}else n.texImage2D(t.TEXTURE_2D,0,Je,Ue,Be,Re);x(j)&&v(re),Oe.__version=ce.version,j.onUpdate&&j.onUpdate(j)}K.__version=j.version}function ae(K,j,ee){if(j.image.length!==6)return;const re=G(K,j),se=j.source;n.bindTexture(t.TEXTURE_CUBE_MAP,K.__webglTexture,t.TEXTURE0+ee);const ce=r.get(se);if(se.version!==ce.__version||re===!0){n.activeTexture(t.TEXTURE0+ee);const Oe=En.getPrimaries(En.workingColorSpace),De=j.colorSpace===xu?null:En.getPrimaries(j.colorSpace),Ge=j.colorSpace===xu||Oe===De?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ge);const rt=j.isCompressedTexture||j.image[0].isCompressedTexture,Re=j.image[0]&&j.image[0].isDataTexture,Ue=[];for(let ze=0;ze<6;ze++)!rt&&!Re?Ue[ze]=y(j.image[ze],!0,i.maxCubemapSize):Ue[ze]=Re?j.image[ze].image:j.image[ze],Ue[ze]=me(j,Ue[ze]);const Be=Ue[0],Je=a.convert(j.format,j.colorSpace),We=a.convert(j.type),ut=_(j.internalFormat,Je,We,j.colorSpace),pe=j.isVideoTexture!==!0,Me=ce.__version===void 0||re===!0,Ze=se.dataReady;let xt=T(j,Be);Z(t.TEXTURE_CUBE_MAP,j);let Ke;if(rt){pe&&Me&&n.texStorage2D(t.TEXTURE_CUBE_MAP,xt,ut,Be.width,Be.height);for(let ze=0;ze<6;ze++){Ke=Ue[ze].mipmaps;for(let at=0;at<Ke.length;at++){const Tt=Ke[at];j.format!==hi?Je!==null?pe?Ze&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at,0,0,Tt.width,Tt.height,Je,Tt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at,ut,Tt.width,Tt.height,0,Tt.data):At("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):pe?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at,0,0,Tt.width,Tt.height,Je,We,Tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at,ut,Tt.width,Tt.height,0,Je,We,Tt.data)}}}else{if(Ke=j.mipmaps,pe&&Me){Ke.length>0&&xt++;const ze=Pe(Ue[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,xt,ut,ze.width,ze.height)}for(let ze=0;ze<6;ze++)if(Re){pe?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,Ue[ze].width,Ue[ze].height,Je,We,Ue[ze].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,ut,Ue[ze].width,Ue[ze].height,0,Je,We,Ue[ze].data);for(let at=0;at<Ke.length;at++){const wt=Ke[at].image[ze].image;pe?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at+1,0,0,wt.width,wt.height,Je,We,wt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at+1,ut,wt.width,wt.height,0,Je,We,wt.data)}}else{pe?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,0,0,Je,We,Ue[ze]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,ut,Je,We,Ue[ze]);for(let at=0;at<Ke.length;at++){const Tt=Ke[at];pe?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at+1,0,0,Je,We,Tt.image[ze]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ze,at+1,ut,Je,We,Tt.image[ze])}}}x(j)&&v(t.TEXTURE_CUBE_MAP),ce.__version=se.version,j.onUpdate&&j.onUpdate(j)}K.__version=j.version}function he(K,j,ee,re,se,ce){const Oe=a.convert(ee.format,ee.colorSpace),De=a.convert(ee.type),Ge=_(ee.internalFormat,Oe,De,ee.colorSpace),rt=r.get(j),Re=r.get(ee);if(Re.__renderTarget=j,!rt.__hasExternalTextures){const Ue=Math.max(1,j.width>>ce),Be=Math.max(1,j.height>>ce);se===t.TEXTURE_3D||se===t.TEXTURE_2D_ARRAY?n.texImage3D(se,ce,Ge,Ue,Be,j.depth,0,Oe,De,null):n.texImage2D(se,ce,Ge,Ue,Be,0,Oe,De,null)}n.bindFramebuffer(t.FRAMEBUFFER,K),xe(j)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,re,se,Re.__webglTexture,0,Y(j)):(se===t.TEXTURE_2D||se>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&se<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,re,se,Re.__webglTexture,ce),n.bindFramebuffer(t.FRAMEBUFFER,null)}function le(K,j,ee){if(t.bindRenderbuffer(t.RENDERBUFFER,K),j.depthBuffer){const re=j.depthTexture,se=re&&re.isDepthTexture?re.type:null,ce=A(j.stencilBuffer,se),Oe=j.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;xe(j)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Y(j),ce,j.width,j.height):ee?t.renderbufferStorageMultisample(t.RENDERBUFFER,Y(j),ce,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,ce,j.width,j.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Oe,t.RENDERBUFFER,K)}else{const re=j.textures;for(let se=0;se<re.length;se++){const ce=re[se],Oe=a.convert(ce.format,ce.colorSpace),De=a.convert(ce.type),Ge=_(ce.internalFormat,Oe,De,ce.colorSpace);xe(j)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Y(j),Ge,j.width,j.height):ee?t.renderbufferStorageMultisample(t.RENDERBUFFER,Y(j),Ge,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,Ge,j.width,j.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function be(K,j,ee){const re=j.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,K),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const se=r.get(j.depthTexture);if(se.__renderTarget=j,(!se.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),re){if(se.__webglInit===void 0&&(se.__webglInit=!0,j.depthTexture.addEventListener("dispose",M)),se.__webglTexture===void 0){se.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture),Z(t.TEXTURE_CUBE_MAP,j.depthTexture);const rt=a.convert(j.depthTexture.format),Re=a.convert(j.depthTexture.type);let Ue;j.depthTexture.format===Cc?Ue=t.DEPTH_COMPONENT24:j.depthTexture.format===xd&&(Ue=t.DEPTH24_STENCIL8);for(let Be=0;Be<6;Be++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,Ue,j.width,j.height,0,rt,Re,null)}}else V(j.depthTexture,0);const ce=se.__webglTexture,Oe=Y(j),De=re?t.TEXTURE_CUBE_MAP_POSITIVE_X+ee:t.TEXTURE_2D,Ge=j.depthTexture.format===xd?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(j.depthTexture.format===Cc)xe(j)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ge,De,ce,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,Ge,De,ce,0);else if(j.depthTexture.format===xd)xe(j)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ge,De,ce,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,Ge,De,ce,0);else throw new Error("Unknown depthTexture format")}function Ie(K){const j=r.get(K),ee=K.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==K.depthTexture){const re=K.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),re){const se=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,re.removeEventListener("dispose",se)};re.addEventListener("dispose",se),j.__depthDisposeCallback=se}j.__boundDepthTexture=re}if(K.depthTexture&&!j.__autoAllocateDepthBuffer)if(ee)for(let re=0;re<6;re++)be(j.__webglFramebuffer[re],K,re);else{const re=K.texture.mipmaps;re&&re.length>0?be(j.__webglFramebuffer[0],K,0):be(j.__webglFramebuffer,K,0)}else if(ee){j.__webglDepthbuffer=[];for(let re=0;re<6;re++)if(n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer[re]),j.__webglDepthbuffer[re]===void 0)j.__webglDepthbuffer[re]=t.createRenderbuffer(),le(j.__webglDepthbuffer[re],K,!1);else{const se=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ce=j.__webglDepthbuffer[re];t.bindRenderbuffer(t.RENDERBUFFER,ce),t.framebufferRenderbuffer(t.FRAMEBUFFER,se,t.RENDERBUFFER,ce)}}else{const re=K.texture.mipmaps;if(re&&re.length>0?n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=t.createRenderbuffer(),le(j.__webglDepthbuffer,K,!1);else{const se=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ce=j.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ce),t.framebufferRenderbuffer(t.FRAMEBUFFER,se,t.RENDERBUFFER,ce)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function fe(K,j,ee){const re=r.get(K);j!==void 0&&he(re.__webglFramebuffer,K,K.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ee!==void 0&&Ie(K)}function Ye(K){const j=K.texture,ee=r.get(K),re=r.get(j);K.addEventListener("dispose",I);const se=K.textures,ce=K.isWebGLCubeRenderTarget===!0,Oe=se.length>1;if(Oe||(re.__webglTexture===void 0&&(re.__webglTexture=t.createTexture()),re.__version=j.version,s.memory.textures++),ce){ee.__webglFramebuffer=[];for(let De=0;De<6;De++)if(j.mipmaps&&j.mipmaps.length>0){ee.__webglFramebuffer[De]=[];for(let Ge=0;Ge<j.mipmaps.length;Ge++)ee.__webglFramebuffer[De][Ge]=t.createFramebuffer()}else ee.__webglFramebuffer[De]=t.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){ee.__webglFramebuffer=[];for(let De=0;De<j.mipmaps.length;De++)ee.__webglFramebuffer[De]=t.createFramebuffer()}else ee.__webglFramebuffer=t.createFramebuffer();if(Oe)for(let De=0,Ge=se.length;De<Ge;De++){const rt=r.get(se[De]);rt.__webglTexture===void 0&&(rt.__webglTexture=t.createTexture(),s.memory.textures++)}if(K.samples>0&&xe(K)===!1){ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let De=0;De<se.length;De++){const Ge=se[De];ee.__webglColorRenderbuffer[De]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ee.__webglColorRenderbuffer[De]);const rt=a.convert(Ge.format,Ge.colorSpace),Re=a.convert(Ge.type),Ue=_(Ge.internalFormat,rt,Re,Ge.colorSpace,K.isXRRenderTarget===!0),Be=Y(K);t.renderbufferStorageMultisample(t.RENDERBUFFER,Be,Ue,K.width,K.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.RENDERBUFFER,ee.__webglColorRenderbuffer[De])}t.bindRenderbuffer(t.RENDERBUFFER,null),K.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),le(ee.__webglDepthRenderbuffer,K,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ce){n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture),Z(t.TEXTURE_CUBE_MAP,j);for(let De=0;De<6;De++)if(j.mipmaps&&j.mipmaps.length>0)for(let Ge=0;Ge<j.mipmaps.length;Ge++)he(ee.__webglFramebuffer[De][Ge],K,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+De,Ge);else he(ee.__webglFramebuffer[De],K,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0);x(j)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Oe){for(let De=0,Ge=se.length;De<Ge;De++){const rt=se[De],Re=r.get(rt);let Ue=t.TEXTURE_2D;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(Ue=K.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ue,Re.__webglTexture),Z(Ue,rt),he(ee.__webglFramebuffer,K,rt,t.COLOR_ATTACHMENT0+De,Ue,0),x(rt)&&v(Ue)}n.unbindTexture()}else{let De=t.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(De=K.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(De,re.__webglTexture),Z(De,j),j.mipmaps&&j.mipmaps.length>0)for(let Ge=0;Ge<j.mipmaps.length;Ge++)he(ee.__webglFramebuffer[Ge],K,j,t.COLOR_ATTACHMENT0,De,Ge);else he(ee.__webglFramebuffer,K,j,t.COLOR_ATTACHMENT0,De,0);x(j)&&v(De),n.unbindTexture()}K.depthBuffer&&Ie(K)}function we(K){const j=K.textures;for(let ee=0,re=j.length;ee<re;ee++){const se=j[ee];if(x(se)){const ce=b(K),Oe=r.get(se).__webglTexture;n.bindTexture(ce,Oe),v(ce),n.unbindTexture()}}}const Te=[],Ee=[];function ke(K){if(K.samples>0){if(xe(K)===!1){const j=K.textures,ee=K.width,re=K.height;let se=t.COLOR_BUFFER_BIT;const ce=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=r.get(K),De=j.length>1;if(De)for(let rt=0;rt<j.length;rt++)n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer);const Ge=K.texture.mipmaps;Ge&&Ge.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglFramebuffer);for(let rt=0;rt<j.length;rt++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(se|=t.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(se|=t.STENCIL_BUFFER_BIT)),De){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[rt]);const Re=r.get(j[rt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Re,0)}t.blitFramebuffer(0,0,ee,re,0,0,ee,re,se,t.NEAREST),l===!0&&(Te.length=0,Ee.length=0,Te.push(t.COLOR_ATTACHMENT0+rt),K.depthBuffer&&K.resolveDepthBuffer===!1&&(Te.push(ce),Ee.push(ce),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ee)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Te))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),De)for(let rt=0;rt<j.length;rt++){n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[rt]);const Re=r.get(j[rt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,Re,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer)}else if(K.depthBuffer&&K.resolveDepthBuffer===!1&&l){const j=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[j])}}}function Y(K){return Math.min(i.maxSamples,K.samples)}function xe(K){const j=r.get(K);return K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function ye(K){const j=s.render.frame;u.get(K)!==j&&(u.set(K,j),K.update())}function me(K,j){const ee=K.colorSpace,re=K.format,se=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||ee!==Bl&&ee!==xu&&(En.getTransfer(ee)===$n?(re!==hi||se!==ia)&&At("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Ft("WebGLTextures: Unsupported texture color space:",ee)),j}function Pe(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(c.width=K.naturalWidth||K.width,c.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(c.width=K.displayWidth,c.height=K.displayHeight):(c.width=K.width,c.height=K.height),c}this.allocateTextureUnit=B,this.resetTextureUnits=L,this.setTexture2D=V,this.setTexture2DArray=F,this.setTexture3D=H,this.setTextureCube=q,this.rebindTextures=fe,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=we,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=Ie,this.setupFrameBufferTexture=he,this.useMultisampledRTT=xe,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function Lhe(t,e){function n(r,i=xu){let a;const s=En.getTransfer(i);if(r===ia)return t.UNSIGNED_BYTE;if(r===iI)return t.UNSIGNED_SHORT_4_4_4_4;if(r===aI)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Zj)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===Jj)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===nI)return t.BYTE;if(r===rI)return t.SHORT;if(r===C0)return t.UNSIGNED_SHORT;if(r===Cw)return t.INT;if(r===go)return t.UNSIGNED_INT;if(r===Ar)return t.FLOAT;if(r===Gr)return t.HALF_FLOAT;if(r===Qj)return t.ALPHA;if(r===eB)return t.RGB;if(r===hi)return t.RGBA;if(r===Cc)return t.DEPTH_COMPONENT;if(r===xd)return t.DEPTH_STENCIL;if(r===Pw)return t.RED;if(r===Iw)return t.RED_INTEGER;if(r===sm)return t.RG;if(r===sI)return t.RG_INTEGER;if(r===oI)return t.RGBA_INTEGER;if(r===Xb||r===Kb||r===Yb||r===Zb)if(s===$n)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===Xb)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Kb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Yb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Zb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===Xb)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Kb)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Yb)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Zb)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===xC||r===bC||r===_C||r===wC)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===xC)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===bC)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===_C)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===wC)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===SC||r===EC||r===AC||r===MC||r===TC||r===CC||r===PC)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===SC||r===EC)return s===$n?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===AC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(r===MC)return a.COMPRESSED_R11_EAC;if(r===TC)return a.COMPRESSED_SIGNED_R11_EAC;if(r===CC)return a.COMPRESSED_RG11_EAC;if(r===PC)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===IC||r===OC||r===kC||r===NC||r===RC||r===DC||r===LC||r===UC||r===zC||r===FC||r===jC||r===BC||r===VC||r===HC)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===IC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===OC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===kC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===NC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===RC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===DC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===LC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===UC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===zC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===FC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===jC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===BC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===VC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===HC)return s===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===GC||r===WC||r===$C)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===GC)return s===$n?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===WC)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===$C)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===qC||r===XC||r===KC||r===YC)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===qC)return a.COMPRESSED_RED_RGTC1_EXT;if(r===XC)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===KC)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===YC)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===P0?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const yct=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,xct=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class bct{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new uB(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Va({vertexShader:yct,fragmentShader:xct,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new yr(new ql(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class _ct extends Lc{constructor(e,n){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,g=null;const y=typeof XRWebGLBinding<"u",x=new bct,v={},b=n.getContextAttributes();let _=null,A=null;const T=[],M=[],I=new tt;let O=null;const P=new ra;P.viewport=new In;const k=new ra;k.viewport=new In;const N=[P,k],L=new Ahe;let B=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let ae=T[te];return ae===void 0&&(ae=new tM,T[te]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(te){let ae=T[te];return ae===void 0&&(ae=new tM,T[te]=ae),ae.getGripSpace()},this.getHand=function(te){let ae=T[te];return ae===void 0&&(ae=new tM,T[te]=ae),ae.getHandSpace()};function V(te){const ae=M.indexOf(te.inputSource);if(ae===-1)return;const he=T[ae];he!==void 0&&(he.update(te.inputSource,te.frame,c||s),he.dispatchEvent({type:te.type,data:te.inputSource}))}function F(){i.removeEventListener("select",V),i.removeEventListener("selectstart",V),i.removeEventListener("selectend",V),i.removeEventListener("squeeze",V),i.removeEventListener("squeezestart",V),i.removeEventListener("squeezeend",V),i.removeEventListener("end",F),i.removeEventListener("inputsourceschange",H);for(let te=0;te<T.length;te++){const ae=M[te];ae!==null&&(M[te]=null,T[te].disconnect(ae))}B=null,D=null,x.reset();for(const te in v)delete v[te];e.setRenderTarget(_),h=null,d=null,f=null,i=null,A=null,ue.stop(),r.isPresenting=!1,e.setPixelRatio(O),e.setSize(I.width,I.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(te){a=te,r.isPresenting===!0&&At("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){o=te,r.isPresenting===!0&&At("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(te){c=te},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f===null&&y&&(f=new XRWebGLBinding(i,n)),f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(te){if(i=te,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",V),i.addEventListener("selectstart",V),i.addEventListener("selectend",V),i.addEventListener("squeeze",V),i.addEventListener("squeezestart",V),i.addEventListener("squeezeend",V),i.addEventListener("end",F),i.addEventListener("inputsourceschange",H),b.xrCompatible!==!0&&await n.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(I),y&&"createProjectionLayer"in XRWebGLBinding.prototype){let he=null,le=null,be=null;b.depth&&(be=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,he=b.stencil?xd:Cc,le=b.stencil?P0:go);const Ie={colorFormat:n.RGBA8,depthFormat:be,scaleFactor:a};f=this.getBinding(),d=f.createProjectionLayer(Ie),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),A=new ja(d.textureWidth,d.textureHeight,{format:hi,type:ia,depthTexture:new cm(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}else{const he={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(i,n,he),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),A=new ja(h.framebufferWidth,h.framebufferHeight,{format:hi,type:ia,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(o),ue.setContext(i),ue.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function H(te){for(let ae=0;ae<te.removed.length;ae++){const he=te.removed[ae],le=M.indexOf(he);le>=0&&(M[le]=null,T[le].disconnect(he))}for(let ae=0;ae<te.added.length;ae++){const he=te.added[ae];let le=M.indexOf(he);if(le===-1){for(let Ie=0;Ie<T.length;Ie++)if(Ie>=M.length){M.push(he),le=Ie;break}else if(M[Ie]===null){M[Ie]=he,le=Ie;break}if(le===-1)break}const be=T[le];be&&be.connect(he)}}const q=new oe,W=new oe;function z(te,ae,he){q.setFromMatrixPosition(ae.matrixWorld),W.setFromMatrixPosition(he.matrixWorld);const le=q.distanceTo(W),be=ae.projectionMatrix.elements,Ie=he.projectionMatrix.elements,fe=be[14]/(be[10]-1),Ye=be[14]/(be[10]+1),we=(be[9]+1)/be[5],Te=(be[9]-1)/be[5],Ee=(be[8]-1)/be[0],ke=(Ie[8]+1)/Ie[0],Y=fe*Ee,xe=fe*ke,ye=le/(-Ee+ke),me=ye*-Ee;if(ae.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(me),te.translateZ(ye),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert(),be[10]===-1)te.projectionMatrix.copy(ae.projectionMatrix),te.projectionMatrixInverse.copy(ae.projectionMatrixInverse);else{const Pe=fe+ye,K=Ye+ye,j=Y-me,ee=xe+(le-me),re=we*Ye/K*Pe,se=Te*Ye/K*Pe;te.projectionMatrix.makePerspective(j,ee,re,se,Pe,K),te.projectionMatrixInverse.copy(te.projectionMatrix).invert()}}function $(te,ae){ae===null?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(ae.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(i===null)return;let ae=te.near,he=te.far;x.texture!==null&&(x.depthNear>0&&(ae=x.depthNear),x.depthFar>0&&(he=x.depthFar)),L.near=k.near=P.near=ae,L.far=k.far=P.far=he,(B!==L.near||D!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),B=L.near,D=L.far),L.layers.mask=te.layers.mask|6,P.layers.mask=L.layers.mask&3,k.layers.mask=L.layers.mask&5;const le=te.parent,be=L.cameras;$(L,le);for(let Ie=0;Ie<be.length;Ie++)$(be[Ie],le);be.length===2?z(L,P,k):L.projectionMatrix.copy(P.projectionMatrix),Z(te,L,le)};function Z(te,ae,he){he===null?te.matrix.copy(ae.matrixWorld):(te.matrix.copy(he.matrixWorld),te.matrix.invert(),te.matrix.multiply(ae.matrixWorld)),te.matrix.decompose(te.position,te.quaternion,te.scale),te.updateMatrixWorld(!0),te.projectionMatrix.copy(ae.projectionMatrix),te.projectionMatrixInverse.copy(ae.projectionMatrixInverse),te.isPerspectiveCamera&&(te.fov=k0*2*Math.atan(1/te.projectionMatrix.elements[5]),te.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(te){l=te,d!==null&&(d.fixedFoveation=te),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=te)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(L)},this.getCameraTexture=function(te){return v[te]};let G=null;function ie(te,ae){if(u=ae.getViewerPose(c||s),g=ae,u!==null){const he=u.views;h!==null&&(e.setRenderTargetFramebuffer(A,h.framebuffer),e.setRenderTarget(A));let le=!1;he.length!==L.cameras.length&&(L.cameras.length=0,le=!0);for(let Ye=0;Ye<he.length;Ye++){const we=he[Ye];let Te=null;if(h!==null)Te=h.getViewport(we);else{const ke=f.getViewSubImage(d,we);Te=ke.viewport,Ye===0&&(e.setRenderTargetTextures(A,ke.colorTexture,ke.depthStencilTexture),e.setRenderTarget(A))}let Ee=N[Ye];Ee===void 0&&(Ee=new ra,Ee.layers.enable(Ye),Ee.viewport=new In,N[Ye]=Ee),Ee.matrix.fromArray(we.transform.matrix),Ee.matrix.decompose(Ee.position,Ee.quaternion,Ee.scale),Ee.projectionMatrix.fromArray(we.projectionMatrix),Ee.projectionMatrixInverse.copy(Ee.projectionMatrix).invert(),Ee.viewport.set(Te.x,Te.y,Te.width,Te.height),Ye===0&&(L.matrix.copy(Ee.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),le===!0&&L.cameras.push(Ee)}const be=i.enabledFeatures;if(be&&be.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&y){f=r.getBinding();const Ye=f.getDepthInformation(he[0]);Ye&&Ye.isValid&&Ye.texture&&x.init(Ye,i.renderState)}if(be&&be.includes("camera-access")&&y){e.state.unbindTexture(),f=r.getBinding();for(let Ye=0;Ye<he.length;Ye++){const we=he[Ye].camera;if(we){let Te=v[we];Te||(Te=new uB,v[we]=Te);const Ee=f.getCameraImage(we);Te.sourceTexture=Ee}}}}for(let he=0;he<T.length;he++){const le=M[he],be=T[he];le!==null&&be!==void 0&&be.update(le,ae,c||s)}G&&G(te,ae),ae.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ae}),g=null}const ue=new Ohe;ue.setAnimationLoop(ie),this.setAnimationLoop=function(te){G=te},this.dispose=function(){}}}const $h=new Ns,wct=new Wt;function Sct(t,e){function n(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function r(x,v){v.color.getRGB(x.fogColor.value,Dde(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function i(x,v,b,_,A){v.isMeshBasicMaterial||v.isMeshLambertMaterial?a(x,v):v.isMeshToonMaterial?(a(x,v),f(x,v)):v.isMeshPhongMaterial?(a(x,v),u(x,v)):v.isMeshStandardMaterial?(a(x,v),d(x,v),v.isMeshPhysicalMaterial&&h(x,v,A)):v.isMeshMatcapMaterial?(a(x,v),g(x,v)):v.isMeshDepthMaterial?a(x,v):v.isMeshDistanceMaterial?(a(x,v),y(x,v)):v.isMeshNormalMaterial?a(x,v):v.isLineBasicMaterial?(s(x,v),v.isLineDashedMaterial&&o(x,v)):v.isPointsMaterial?l(x,v,b,_):v.isSpriteMaterial?c(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function a(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,n(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===ns&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,n(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===ns&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,n(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,n(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const b=e.get(v),_=b.envMap,A=b.envMapRotation;_&&(x.envMap.value=_,$h.copy(A),$h.x*=-1,$h.y*=-1,$h.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&($h.y*=-1,$h.z*=-1),x.envMapRotation.value.setFromMatrix4(wct.makeRotationFromEuler($h)),x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap&&(x.lightMap.value=v.lightMap,x.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,x.lightMapTransform)),v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,x.aoMapTransform))}function s(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform))}function o(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function l(x,v,b,_){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*b,x.scale.value=_*.5,v.map&&(x.map.value=v.map,n(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function c(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function f(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function d(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,x.roughnessMapTransform)),v.envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function h(x,v,b){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===ns&&x.clearcoatNormalScale.value.negate())),v.dispersion>0&&(x.dispersion.value=v.dispersion),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=b.texture,x.transmissionSamplerSize.value.set(b.width,b.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,x.specularIntensityMapTransform))}function g(x,v){v.matcap&&(x.matcap.value=v.matcap)}function y(x,v){const b=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(b.matrixWorld),x.nearDistance.value=b.shadow.camera.near,x.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Ect(t,e,n,r){let i={},a={},s=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,_){const A=_.program;r.uniformBlockBinding(b,A)}function c(b,_){let A=i[b.id];A===void 0&&(g(b),A=u(b),i[b.id]=A,b.addEventListener("dispose",x));const T=_.program;r.updateUBOMapping(b,T);const M=e.render.frame;a[b.id]!==M&&(d(b),a[b.id]=M)}function u(b){const _=f();b.__bindingPointIndex=_;const A=t.createBuffer(),T=b.__size,M=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,T,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,A),A}function f(){for(let b=0;b<o;b++)if(s.indexOf(b)===-1)return s.push(b),b;return Ft("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(b){const _=i[b.id],A=b.uniforms,T=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let M=0,I=A.length;M<I;M++){const O=Array.isArray(A[M])?A[M]:[A[M]];for(let P=0,k=O.length;P<k;P++){const N=O[P];if(h(N,M,P,T)===!0){const L=N.__offset,B=Array.isArray(N.value)?N.value:[N.value];let D=0;for(let V=0;V<B.length;V++){const F=B[V],H=y(F);typeof F=="number"||typeof F=="boolean"?(N.__data[0]=F,t.bufferSubData(t.UNIFORM_BUFFER,L+D,N.__data)):F.isMatrix3?(N.__data[0]=F.elements[0],N.__data[1]=F.elements[1],N.__data[2]=F.elements[2],N.__data[3]=0,N.__data[4]=F.elements[3],N.__data[5]=F.elements[4],N.__data[6]=F.elements[5],N.__data[7]=0,N.__data[8]=F.elements[6],N.__data[9]=F.elements[7],N.__data[10]=F.elements[8],N.__data[11]=0):(F.toArray(N.__data,D),D+=H.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,L,N.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(b,_,A,T){const M=b.value,I=_+"_"+A;if(T[I]===void 0)return typeof M=="number"||typeof M=="boolean"?T[I]=M:T[I]=M.clone(),!0;{const O=T[I];if(typeof M=="number"||typeof M=="boolean"){if(O!==M)return T[I]=M,!0}else if(O.equals(M)===!1)return O.copy(M),!0}return!1}function g(b){const _=b.uniforms;let A=0;const T=16;for(let I=0,O=_.length;I<O;I++){const P=Array.isArray(_[I])?_[I]:[_[I]];for(let k=0,N=P.length;k<N;k++){const L=P[k],B=Array.isArray(L.value)?L.value:[L.value];for(let D=0,V=B.length;D<V;D++){const F=B[D],H=y(F),q=A%T,W=q%H.boundary,z=q+W;A+=W,z!==0&&T-z<H.storage&&(A+=T-z),L.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=A,A+=H.storage}}}const M=A%T;return M>0&&(A+=T-M),b.__size=A,b.__cache={},this}function y(b){const _={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?At("WebGLRenderer: Texture samplers can not be part of an uniforms group."):At("WebGLRenderer: Unsupported uniform value type.",b),_}function x(b){const _=b.target;_.removeEventListener("dispose",x);const A=s.indexOf(_.__bindingPointIndex);s.splice(A,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete a[_.id]}function v(){for(const b in i)t.deleteBuffer(i[b]);s=[],i={},a={}}return{bind:l,update:c,dispose:v}}const Act=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let rc=null;function Mct(){return rc===null&&(rc=new Yo(Act,16,16,sm,Gr),rc.name="DFG_LUT",rc.minFilter=mn,rc.magFilter=mn,rc.wrapS=ri,rc.wrapT=ri,rc.generateMipmaps=!1,rc.needsUpdate=!0),rc}class NB{constructor(e={}){const{canvas:n=kde(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:d=!1,outputBufferType:h=ia}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=s;const y=h,x=new Set([oI,sI,Iw]),v=new Set([ia,go,C0,P0,iI,aI]),b=new Uint32Array(4),_=new Int32Array(4);let A=null,T=null;const M=[],I=[];let O=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ko,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const P=this;let k=!1;this._outputColorSpace=wa;let N=0,L=0,B=null,D=-1,V=null;const F=new In,H=new In;let q=null;const W=new Mt(0);let z=0,$=n.width,Z=n.height,G=1,ie=null,ue=null;const te=new In(0,0,$,Z),ae=new In(0,0,$,Z);let he=!1;const le=new Ey;let be=!1,Ie=!1;const fe=new Wt,Ye=new oe,we=new In,Te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ee=!1;function ke(){return B===null?G:1}let Y=r;function xe(J,de){return n.getContext(J,de)}try{const J={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${_y}`),n.addEventListener("webglcontextlost",Tt,!1),n.addEventListener("webglcontextrestored",wt,!1),n.addEventListener("webglcontextcreationerror",zt,!1),Y===null){const de="webgl2";if(Y=xe(de,J),Y===null)throw xe(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(J){throw Ft("WebGLRenderer: "+J.message),J}let ye,me,Pe,K,j,ee,re,se,ce,Oe,De,Ge,rt,Re,Ue,Be,Je,We,ut,pe,Me,Ze,xt,Ke;function ze(){ye=new Tot(Y),ye.init(),Ze=new Lhe(Y,ye),me=new yot(Y,ye,e,Ze),Pe=new gct(Y,ye),me.reversedDepthBuffer&&d&&Pe.buffers.depth.setReversed(!0),K=new Iot(Y),j=new tct,ee=new vct(Y,ye,Pe,j,me,Ze,K),re=new bot(P),se=new Mot(P),ce=new Rit(Y),xt=new got(Y,ce),Oe=new Cot(Y,ce,K,xt),De=new kot(Y,Oe,ce,K),ut=new Oot(Y,me,ee),Be=new xot(j),Ge=new ect(P,re,se,ye,me,xt,Be),rt=new Sct(P,j),Re=new rct,Ue=new cct(ye),We=new mot(P,re,se,Pe,De,g,l),Je=new pct(P,De,me),Ke=new Ect(Y,K,me,Pe),pe=new vot(Y,ye,K),Me=new Pot(Y,ye,K),K.programs=Ge.programs,P.capabilities=me,P.extensions=ye,P.properties=j,P.renderLists=Re,P.shadowMap=Je,P.state=Pe,P.info=K}ze(),y!==ia&&(O=new Rot(y,n.width,n.height,i,a));const at=new _ct(P,Y);this.xr=at,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const J=ye.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=ye.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(J){J!==void 0&&(G=J,this.setSize($,Z,!1))},this.getSize=function(J){return J.set($,Z)},this.setSize=function(J,de,Se=!0){if(at.isPresenting){At("WebGLRenderer: Can't change size while VR device is presenting.");return}$=J,Z=de,n.width=Math.floor(J*G),n.height=Math.floor(de*G),Se===!0&&(n.style.width=J+"px",n.style.height=de+"px"),O!==null&&O.setSize(n.width,n.height),this.setViewport(0,0,J,de)},this.getDrawingBufferSize=function(J){return J.set($*G,Z*G).floor()},this.setDrawingBufferSize=function(J,de,Se){$=J,Z=de,G=Se,n.width=Math.floor(J*Se),n.height=Math.floor(de*Se),this.setViewport(0,0,J,de)},this.setEffects=function(J){if(y===ia){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(J){for(let de=0;de<J.length;de++)if(J[de].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}O.setEffects(J||[])},this.getCurrentViewport=function(J){return J.copy(F)},this.getViewport=function(J){return J.copy(te)},this.setViewport=function(J,de,Se,Ae){J.isVector4?te.set(J.x,J.y,J.z,J.w):te.set(J,de,Se,Ae),Pe.viewport(F.copy(te).multiplyScalar(G).round())},this.getScissor=function(J){return J.copy(ae)},this.setScissor=function(J,de,Se,Ae){J.isVector4?ae.set(J.x,J.y,J.z,J.w):ae.set(J,de,Se,Ae),Pe.scissor(H.copy(ae).multiplyScalar(G).round())},this.getScissorTest=function(){return he},this.setScissorTest=function(J){Pe.setScissorTest(he=J)},this.setOpaqueSort=function(J){ie=J},this.setTransparentSort=function(J){ue=J},this.getClearColor=function(J){return J.copy(We.getClearColor())},this.setClearColor=function(){We.setClearColor(...arguments)},this.getClearAlpha=function(){return We.getClearAlpha()},this.setClearAlpha=function(){We.setClearAlpha(...arguments)},this.clear=function(J=!0,de=!0,Se=!0){let Ae=0;if(J){let _e=!1;if(B!==null){const Qe=B.texture.format;_e=x.has(Qe)}if(_e){const Qe=B.texture.type,st=v.has(Qe),et=We.getClearColor(),gt=We.getClearAlpha(),dt=et.r,Rt=et.g,bt=et.b;st?(b[0]=dt,b[1]=Rt,b[2]=bt,b[3]=gt,Y.clearBufferuiv(Y.COLOR,0,b)):(_[0]=dt,_[1]=Rt,_[2]=bt,_[3]=gt,Y.clearBufferiv(Y.COLOR,0,_))}else Ae|=Y.COLOR_BUFFER_BIT}de&&(Ae|=Y.DEPTH_BUFFER_BIT),Se&&(Ae|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(Ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Tt,!1),n.removeEventListener("webglcontextrestored",wt,!1),n.removeEventListener("webglcontextcreationerror",zt,!1),We.dispose(),Re.dispose(),Ue.dispose(),j.dispose(),re.dispose(),se.dispose(),De.dispose(),xt.dispose(),Ke.dispose(),Ge.dispose(),at.dispose(),at.removeEventListener("sessionstart",Cr),at.removeEventListener("sessionend",Xr),Dt.stop()};function Tt(J){J.preventDefault(),l_("WebGLRenderer: Context Lost."),k=!0}function wt(){l_("WebGLRenderer: Context Restored."),k=!1;const J=K.autoReset,de=Je.enabled,Se=Je.autoUpdate,Ae=Je.needsUpdate,_e=Je.type;ze(),K.autoReset=J,Je.enabled=de,Je.autoUpdate=Se,Je.needsUpdate=Ae,Je.type=_e}function zt(J){Ft("WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function On(J){const de=J.target;de.removeEventListener("dispose",On),Mn(de)}function Mn(J){Bn(J),j.remove(J)}function Bn(J){const de=j.get(J).programs;de!==void 0&&(de.forEach(function(Se){Ge.releaseProgram(Se)}),J.isShaderMaterial&&Ge.releaseShaderCache(J))}this.renderBufferDirect=function(J,de,Se,Ae,_e,Qe){de===null&&(de=Te);const st=_e.isMesh&&_e.matrixWorld.determinant()<0,et=lt(J,de,Se,Ae,_e);Pe.setMaterial(Ae,st);let gt=Se.index,dt=1;if(Ae.wireframe===!0){if(gt=Oe.getWireframeAttribute(Se),gt===void 0)return;dt=2}const Rt=Se.drawRange,bt=Se.attributes.position;let Ut=Rt.start*dt,Xt=(Rt.start+Rt.count)*dt;Qe!==null&&(Ut=Math.max(Ut,Qe.start*dt),Xt=Math.min(Xt,(Qe.start+Qe.count)*dt)),gt!==null?(Ut=Math.max(Ut,0),Xt=Math.min(Xt,gt.count)):bt!=null&&(Ut=Math.max(Ut,0),Xt=Math.min(Xt,bt.count));const wn=Xt-Ut;if(wn<0||wn===1/0)return;xt.setup(_e,Ae,et,Se,gt);let en,Pt=pe;if(gt!==null&&(en=ce.get(gt),Pt=Me,Pt.setIndex(en)),_e.isMesh)Ae.wireframe===!0?(Pe.setLineWidth(Ae.wireframeLinewidth*ke()),Pt.setMode(Y.LINES)):Pt.setMode(Y.TRIANGLES);else if(_e.isLine){let ct=Ae.linewidth;ct===void 0&&(ct=1),Pe.setLineWidth(ct*ke()),_e.isLineSegments?Pt.setMode(Y.LINES):_e.isLineLoop?Pt.setMode(Y.LINE_LOOP):Pt.setMode(Y.LINE_STRIP)}else _e.isPoints?Pt.setMode(Y.POINTS):_e.isSprite&&Pt.setMode(Y.TRIANGLES);if(_e.isBatchedMesh)if(_e._multiDrawInstances!==null)O0("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Pt.renderMultiDrawInstances(_e._multiDrawStarts,_e._multiDrawCounts,_e._multiDrawCount,_e._multiDrawInstances);else if(ye.get("WEBGL_multi_draw"))Pt.renderMultiDraw(_e._multiDrawStarts,_e._multiDrawCounts,_e._multiDrawCount);else{const ct=_e._multiDrawStarts,Lt=_e._multiDrawCounts,St=_e._multiDrawCount,kn=gt?ce.get(gt).bytesPerElement:1,Lr=j.get(Ae).currentProgram.getUniforms();for(let an=0;an<St;an++)Lr.setValue(Y,"_gl_DrawID",an),Pt.render(ct[an]/kn,Lt[an])}else if(_e.isInstancedMesh)Pt.renderInstances(Ut,wn,_e.count);else if(Se.isInstancedBufferGeometry){const ct=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,Lt=Math.min(Se.instanceCount,ct);Pt.renderInstances(Ut,wn,Lt)}else Pt.render(Ut,wn)};function Dr(J,de,Se){J.transparent===!0&&J.side===jo&&J.forceSinglePass===!1?(J.side=ns,J.needsUpdate=!0,Le(J,de,Se),J.side=af,J.needsUpdate=!0,Le(J,de,Se),J.side=jo):Le(J,de,Se)}this.compile=function(J,de,Se=null){Se===null&&(Se=J),T=Ue.get(Se),T.init(de),I.push(T),Se.traverseVisible(function(_e){_e.isLight&&_e.layers.test(de.layers)&&(T.pushLight(_e),_e.castShadow&&T.pushShadow(_e))}),J!==Se&&J.traverseVisible(function(_e){_e.isLight&&_e.layers.test(de.layers)&&(T.pushLight(_e),_e.castShadow&&T.pushShadow(_e))}),T.setupLights();const Ae=new Set;return J.traverse(function(_e){if(!(_e.isMesh||_e.isPoints||_e.isLine||_e.isSprite))return;const Qe=_e.material;if(Qe)if(Array.isArray(Qe))for(let st=0;st<Qe.length;st++){const et=Qe[st];Dr(et,Se,_e),Ae.add(et)}else Dr(Qe,Se,_e),Ae.add(Qe)}),T=I.pop(),Ae},this.compileAsync=function(J,de,Se=null){const Ae=this.compile(J,de,Se);return new Promise(_e=>{function Qe(){if(Ae.forEach(function(st){j.get(st).currentProgram.isReady()&&Ae.delete(st)}),Ae.size===0){_e(J);return}setTimeout(Qe,10)}ye.get("KHR_parallel_shader_compile")!==null?Qe():setTimeout(Qe,10)})};let qr=null;function mi(J){qr&&qr(J)}function Cr(){Dt.stop()}function Xr(){Dt.start()}const Dt=new Ohe;Dt.setAnimationLoop(mi),typeof self<"u"&&Dt.setContext(self),this.setAnimationLoop=function(J){qr=J,at.setAnimationLoop(J),J===null?Dt.stop():Dt.start()},at.addEventListener("sessionstart",Cr),at.addEventListener("sessionend",Xr),this.render=function(J,de){if(de!==void 0&&de.isCamera!==!0){Ft("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;const Se=at.enabled===!0&&at.isPresenting===!0,Ae=O!==null&&(B===null||Se)&&O.begin(P,B);if(J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),at.enabled===!0&&at.isPresenting===!0&&(O===null||O.isCompositing()===!1)&&(at.cameraAutoUpdate===!0&&at.updateCamera(de),de=at.getCamera()),J.isScene===!0&&J.onBeforeRender(P,J,de,B),T=Ue.get(J,I.length),T.init(de),I.push(T),fe.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),le.setFromProjectionMatrix(fe,ro,de.reversedDepth),Ie=this.localClippingEnabled,be=Be.init(this.clippingPlanes,Ie),A=Re.get(J,M.length),A.init(),M.push(A),at.enabled===!0&&at.isPresenting===!0){const st=P.xr.getDepthSensingMesh();st!==null&&sr(st,de,-1/0,P.sortObjects)}sr(J,de,0,P.sortObjects),A.finish(),P.sortObjects===!0&&A.sort(ie,ue),Ee=at.enabled===!1||at.isPresenting===!1||at.hasDepthSensing()===!1,Ee&&We.addToRenderList(A,J),this.info.render.frame++,be===!0&&Be.beginShadows();const _e=T.state.shadowsArray;if(Je.render(_e,J,de),be===!0&&Be.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Ae&&O.hasRenderPass())===!1){const st=A.opaque,et=A.transmissive;if(T.setupLights(),de.isArrayCamera){const gt=de.cameras;if(et.length>0)for(let dt=0,Rt=gt.length;dt<Rt;dt++){const bt=gt[dt];X(st,et,J,bt)}Ee&&We.render(J);for(let dt=0,Rt=gt.length;dt<Rt;dt++){const bt=gt[dt];Di(A,J,bt,bt.viewport)}}else et.length>0&&X(st,et,J,de),Ee&&We.render(J),Di(A,J,de)}B!==null&&L===0&&(ee.updateMultisampleRenderTarget(B),ee.updateRenderTargetMipmap(B)),Ae&&O.end(P),J.isScene===!0&&J.onAfterRender(P,J,de),xt.resetDefaultState(),D=-1,V=null,I.pop(),I.length>0?(T=I[I.length-1],be===!0&&Be.setGlobalState(P.clippingPlanes,T.state.camera)):T=null,M.pop(),M.length>0?A=M[M.length-1]:A=null};function sr(J,de,Se,Ae){if(J.visible===!1)return;if(J.layers.test(de.layers)){if(J.isGroup)Se=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(de);else if(J.isLight)T.pushLight(J),J.castShadow&&T.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||le.intersectsSprite(J)){Ae&&we.setFromMatrixPosition(J.matrixWorld).applyMatrix4(fe);const st=De.update(J),et=J.material;et.visible&&A.push(J,st,et,Se,we.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(!J.frustumCulled||le.intersectsObject(J))){const st=De.update(J),et=J.material;if(Ae&&(J.boundingSphere!==void 0?(J.boundingSphere===null&&J.computeBoundingSphere(),we.copy(J.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),we.copy(st.boundingSphere.center)),we.applyMatrix4(J.matrixWorld).applyMatrix4(fe)),Array.isArray(et)){const gt=st.groups;for(let dt=0,Rt=gt.length;dt<Rt;dt++){const bt=gt[dt],Ut=et[bt.materialIndex];Ut&&Ut.visible&&A.push(J,st,Ut,Se,we.z,bt)}}else et.visible&&A.push(J,st,et,Se,we.z,null)}}const Qe=J.children;for(let st=0,et=Qe.length;st<et;st++)sr(Qe[st],de,Se,Ae)}function Di(J,de,Se,Ae){const{opaque:_e,transmissive:Qe,transparent:st}=J;T.setupLightsView(Se),be===!0&&Be.setGlobalState(P.clippingPlanes,Se),Ae&&Pe.viewport(F.copy(Ae)),_e.length>0&&ne(_e,de,Se),Qe.length>0&&ne(Qe,de,Se),st.length>0&&ne(st,de,Se),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1)}function X(J,de,Se,Ae){if((Se.isScene===!0?Se.overrideMaterial:null)!==null)return;if(T.state.transmissionRenderTarget[Ae.id]===void 0){const Ut=ye.has("EXT_color_buffer_half_float")||ye.has("EXT_color_buffer_float");T.state.transmissionRenderTarget[Ae.id]=new ja(1,1,{generateMipmaps:!0,type:Ut?Gr:ia,minFilter:mc,samples:me.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:En.workingColorSpace})}const Qe=T.state.transmissionRenderTarget[Ae.id],st=Ae.viewport||F;Qe.setSize(st.z*P.transmissionResolutionScale,st.w*P.transmissionResolutionScale);const et=P.getRenderTarget(),gt=P.getActiveCubeFace(),dt=P.getActiveMipmapLevel();P.setRenderTarget(Qe),P.getClearColor(W),z=P.getClearAlpha(),z<1&&P.setClearColor(16777215,.5),P.clear(),Ee&&We.render(Se);const Rt=P.toneMapping;P.toneMapping=Ko;const bt=Ae.viewport;if(Ae.viewport!==void 0&&(Ae.viewport=void 0),T.setupLightsView(Ae),be===!0&&Be.setGlobalState(P.clippingPlanes,Ae),ne(J,Se,Ae),ee.updateMultisampleRenderTarget(Qe),ee.updateRenderTargetMipmap(Qe),ye.has("WEBGL_multisampled_render_to_texture")===!1){let Ut=!1;for(let Xt=0,wn=de.length;Xt<wn;Xt++){const en=de[Xt],{object:Pt,geometry:ct,material:Lt,group:St}=en;if(Lt.side===jo&&Pt.layers.test(Ae.layers)){const kn=Lt.side;Lt.side=ns,Lt.needsUpdate=!0,ge(Pt,Se,Ae,ct,Lt,St),Lt.side=kn,Lt.needsUpdate=!0,Ut=!0}}Ut===!0&&(ee.updateMultisampleRenderTarget(Qe),ee.updateRenderTargetMipmap(Qe))}P.setRenderTarget(et,gt,dt),P.setClearColor(W,z),bt!==void 0&&(Ae.viewport=bt),P.toneMapping=Rt}function ne(J,de,Se){const Ae=de.isScene===!0?de.overrideMaterial:null;for(let _e=0,Qe=J.length;_e<Qe;_e++){const st=J[_e],{object:et,geometry:gt,group:dt}=st;let Rt=st.material;Rt.allowOverride===!0&&Ae!==null&&(Rt=Ae),et.layers.test(Se.layers)&&ge(et,de,Se,gt,Rt,dt)}}function ge(J,de,Se,Ae,_e,Qe){J.onBeforeRender(P,de,Se,Ae,_e,Qe),J.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),_e.onBeforeRender(P,de,Se,Ae,J,Qe),_e.transparent===!0&&_e.side===jo&&_e.forceSinglePass===!1?(_e.side=ns,_e.needsUpdate=!0,P.renderBufferDirect(Se,de,Ae,_e,J,Qe),_e.side=af,_e.needsUpdate=!0,P.renderBufferDirect(Se,de,Ae,_e,J,Qe),_e.side=jo):P.renderBufferDirect(Se,de,Ae,_e,J,Qe),J.onAfterRender(P,de,Se,Ae,_e,Qe)}function Le(J,de,Se){de.isScene!==!0&&(de=Te);const Ae=j.get(J),_e=T.state.lights,Qe=T.state.shadowsArray,st=_e.state.version,et=Ge.getParameters(J,_e.state,Qe,de,Se),gt=Ge.getProgramCacheKey(et);let dt=Ae.programs;Ae.environment=J.isMeshStandardMaterial?de.environment:null,Ae.fog=de.fog,Ae.envMap=(J.isMeshStandardMaterial?se:re).get(J.envMap||Ae.environment),Ae.envMapRotation=Ae.environment!==null&&J.envMap===null?de.environmentRotation:J.envMapRotation,dt===void 0&&(J.addEventListener("dispose",On),dt=new Map,Ae.programs=dt);let Rt=dt.get(gt);if(Rt!==void 0){if(Ae.currentProgram===Rt&&Ae.lightsStateVersion===st)return $e(J,et),Rt}else et.uniforms=Ge.getUniforms(J),J.onBeforeCompile(et,P),Rt=Ge.acquireProgram(et,gt),dt.set(gt,Rt),Ae.uniforms=et.uniforms;const bt=Ae.uniforms;return(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(bt.clippingPlanes=Be.uniform),$e(J,et),Ae.needsLights=ht(J),Ae.lightsStateVersion=st,Ae.needsLights&&(bt.ambientLightColor.value=_e.state.ambient,bt.lightProbe.value=_e.state.probe,bt.directionalLights.value=_e.state.directional,bt.directionalLightShadows.value=_e.state.directionalShadow,bt.spotLights.value=_e.state.spot,bt.spotLightShadows.value=_e.state.spotShadow,bt.rectAreaLights.value=_e.state.rectArea,bt.ltc_1.value=_e.state.rectAreaLTC1,bt.ltc_2.value=_e.state.rectAreaLTC2,bt.pointLights.value=_e.state.point,bt.pointLightShadows.value=_e.state.pointShadow,bt.hemisphereLights.value=_e.state.hemi,bt.directionalShadowMap.value=_e.state.directionalShadowMap,bt.directionalShadowMatrix.value=_e.state.directionalShadowMatrix,bt.spotShadowMap.value=_e.state.spotShadowMap,bt.spotLightMatrix.value=_e.state.spotLightMatrix,bt.spotLightMap.value=_e.state.spotLightMap,bt.pointShadowMap.value=_e.state.pointShadowMap,bt.pointShadowMatrix.value=_e.state.pointShadowMatrix),Ae.currentProgram=Rt,Ae.uniformsList=null,Rt}function Ve(J){if(J.uniformsList===null){const de=J.currentProgram.getUniforms();J.uniformsList=nM.seqWithValue(de.seq,J.uniforms)}return J.uniformsList}function $e(J,de){const Se=j.get(J);Se.outputColorSpace=de.outputColorSpace,Se.batching=de.batching,Se.batchingColor=de.batchingColor,Se.instancing=de.instancing,Se.instancingColor=de.instancingColor,Se.instancingMorph=de.instancingMorph,Se.skinning=de.skinning,Se.morphTargets=de.morphTargets,Se.morphNormals=de.morphNormals,Se.morphColors=de.morphColors,Se.morphTargetsCount=de.morphTargetsCount,Se.numClippingPlanes=de.numClippingPlanes,Se.numIntersection=de.numClipIntersection,Se.vertexAlphas=de.vertexAlphas,Se.vertexTangents=de.vertexTangents,Se.toneMapping=de.toneMapping}function lt(J,de,Se,Ae,_e){de.isScene!==!0&&(de=Te),ee.resetTextureUnits();const Qe=de.fog,st=Ae.isMeshStandardMaterial?de.environment:null,et=B===null?P.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:Bl,gt=(Ae.isMeshStandardMaterial?se:re).get(Ae.envMap||st),dt=Ae.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,Rt=!!Se.attributes.tangent&&(!!Ae.normalMap||Ae.anisotropy>0),bt=!!Se.morphAttributes.position,Ut=!!Se.morphAttributes.normal,Xt=!!Se.morphAttributes.color;let wn=Ko;Ae.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(wn=P.toneMapping);const en=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,Pt=en!==void 0?en.length:0,ct=j.get(Ae),Lt=T.state.lights;if(be===!0&&(Ie===!0||J!==V)){const ai=J===V&&Ae.id===D;Be.setState(Ae,J,ai)}let St=!1;Ae.version===ct.__version?(ct.needsLights&&ct.lightsStateVersion!==Lt.state.version||ct.outputColorSpace!==et||_e.isBatchedMesh&&ct.batching===!1||!_e.isBatchedMesh&&ct.batching===!0||_e.isBatchedMesh&&ct.batchingColor===!0&&_e.colorTexture===null||_e.isBatchedMesh&&ct.batchingColor===!1&&_e.colorTexture!==null||_e.isInstancedMesh&&ct.instancing===!1||!_e.isInstancedMesh&&ct.instancing===!0||_e.isSkinnedMesh&&ct.skinning===!1||!_e.isSkinnedMesh&&ct.skinning===!0||_e.isInstancedMesh&&ct.instancingColor===!0&&_e.instanceColor===null||_e.isInstancedMesh&&ct.instancingColor===!1&&_e.instanceColor!==null||_e.isInstancedMesh&&ct.instancingMorph===!0&&_e.morphTexture===null||_e.isInstancedMesh&&ct.instancingMorph===!1&&_e.morphTexture!==null||ct.envMap!==gt||Ae.fog===!0&&ct.fog!==Qe||ct.numClippingPlanes!==void 0&&(ct.numClippingPlanes!==Be.numPlanes||ct.numIntersection!==Be.numIntersection)||ct.vertexAlphas!==dt||ct.vertexTangents!==Rt||ct.morphTargets!==bt||ct.morphNormals!==Ut||ct.morphColors!==Xt||ct.toneMapping!==wn||ct.morphTargetsCount!==Pt)&&(St=!0):(St=!0,ct.__version=Ae.version);let kn=ct.currentProgram;St===!0&&(kn=Le(Ae,de,_e));let Lr=!1,an=!1,Kr=!1;const Tn=kn.getUniforms(),Ur=ct.uniforms;if(Pe.useProgram(kn.program)&&(Lr=!0,an=!0,Kr=!0),Ae.id!==D&&(D=Ae.id,an=!0),Lr||V!==J){Pe.buffers.depth.getReversed()&&J.reversedDepth!==!0&&(J._reversedDepth=!0,J.updateProjectionMatrix()),Tn.setValue(Y,"projectionMatrix",J.projectionMatrix),Tn.setValue(Y,"viewMatrix",J.matrixWorldInverse);const gi=Tn.map.cameraPosition;gi!==void 0&&gi.setValue(Y,Ye.setFromMatrixPosition(J.matrixWorld)),me.logarithmicDepthBuffer&&Tn.setValue(Y,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),(Ae.isMeshPhongMaterial||Ae.isMeshToonMaterial||Ae.isMeshLambertMaterial||Ae.isMeshBasicMaterial||Ae.isMeshStandardMaterial||Ae.isShaderMaterial)&&Tn.setValue(Y,"isOrthographic",J.isOrthographicCamera===!0),V!==J&&(V=J,an=!0,Kr=!0)}if(ct.needsLights&&(Lt.state.directionalShadowMap.length>0&&Tn.setValue(Y,"directionalShadowMap",Lt.state.directionalShadowMap,ee),Lt.state.spotShadowMap.length>0&&Tn.setValue(Y,"spotShadowMap",Lt.state.spotShadowMap,ee),Lt.state.pointShadowMap.length>0&&Tn.setValue(Y,"pointShadowMap",Lt.state.pointShadowMap,ee)),_e.isSkinnedMesh){Tn.setOptional(Y,_e,"bindMatrix"),Tn.setOptional(Y,_e,"bindMatrixInverse");const ai=_e.skeleton;ai&&(ai.boneTexture===null&&ai.computeBoneTexture(),Tn.setValue(Y,"boneTexture",ai.boneTexture,ee))}_e.isBatchedMesh&&(Tn.setOptional(Y,_e,"batchingTexture"),Tn.setValue(Y,"batchingTexture",_e._matricesTexture,ee),Tn.setOptional(Y,_e,"batchingIdTexture"),Tn.setValue(Y,"batchingIdTexture",_e._indirectTexture,ee),Tn.setOptional(Y,_e,"batchingColorTexture"),_e._colorsTexture!==null&&Tn.setValue(Y,"batchingColorTexture",_e._colorsTexture,ee));const Li=Se.morphAttributes;if((Li.position!==void 0||Li.normal!==void 0||Li.color!==void 0)&&ut.update(_e,Se,kn),(an||ct.receiveShadow!==_e.receiveShadow)&&(ct.receiveShadow=_e.receiveShadow,Tn.setValue(Y,"receiveShadow",_e.receiveShadow)),Ae.isMeshGouraudMaterial&&Ae.envMap!==null&&(Ur.envMap.value=gt,Ur.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1),Ae.isMeshStandardMaterial&&Ae.envMap===null&&de.environment!==null&&(Ur.envMapIntensity.value=de.environmentIntensity),Ur.dfgLUT!==void 0&&(Ur.dfgLUT.value=Mct()),an&&(Tn.setValue(Y,"toneMappingExposure",P.toneMappingExposure),ct.needsLights&&it(Ur,Kr),Qe&&Ae.fog===!0&&rt.refreshFogUniforms(Ur,Qe),rt.refreshMaterialUniforms(Ur,Ae,G,Z,T.state.transmissionRenderTarget[J.id]),nM.upload(Y,Ve(ct),Ur,ee)),Ae.isShaderMaterial&&Ae.uniformsNeedUpdate===!0&&(nM.upload(Y,Ve(ct),Ur,ee),Ae.uniformsNeedUpdate=!1),Ae.isSpriteMaterial&&Tn.setValue(Y,"center",_e.center),Tn.setValue(Y,"modelViewMatrix",_e.modelViewMatrix),Tn.setValue(Y,"normalMatrix",_e.normalMatrix),Tn.setValue(Y,"modelMatrix",_e.matrixWorld),Ae.isShaderMaterial||Ae.isRawShaderMaterial){const ai=Ae.uniformsGroups;for(let gi=0,Xl=ai.length;gi<Xl;gi++){const Ca=ai[gi];Ke.update(Ca,kn),Ke.bind(Ca,kn)}}return kn}function it(J,de){J.ambientLightColor.needsUpdate=de,J.lightProbe.needsUpdate=de,J.directionalLights.needsUpdate=de,J.directionalLightShadows.needsUpdate=de,J.pointLights.needsUpdate=de,J.pointLightShadows.needsUpdate=de,J.spotLights.needsUpdate=de,J.spotLightShadows.needsUpdate=de,J.rectAreaLights.needsUpdate=de,J.hemisphereLights.needsUpdate=de}function ht(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(J,de,Se){const Ae=j.get(J);Ae.__autoAllocateDepthBuffer=J.resolveDepthBuffer===!1,Ae.__autoAllocateDepthBuffer===!1&&(Ae.__useRenderToTexture=!1),j.get(J.texture).__webglTexture=de,j.get(J.depthTexture).__webglTexture=Ae.__autoAllocateDepthBuffer?void 0:Se,Ae.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(J,de){const Se=j.get(J);Se.__webglFramebuffer=de,Se.__useDefaultFramebuffer=de===void 0};const ft=Y.createFramebuffer();this.setRenderTarget=function(J,de=0,Se=0){B=J,N=de,L=Se;let Ae=null,_e=!1,Qe=!1;if(J){const et=j.get(J);if(et.__useDefaultFramebuffer!==void 0){Pe.bindFramebuffer(Y.FRAMEBUFFER,et.__webglFramebuffer),F.copy(J.viewport),H.copy(J.scissor),q=J.scissorTest,Pe.viewport(F),Pe.scissor(H),Pe.setScissorTest(q),D=-1;return}else if(et.__webglFramebuffer===void 0)ee.setupRenderTarget(J);else if(et.__hasExternalTextures)ee.rebindTextures(J,j.get(J.texture).__webglTexture,j.get(J.depthTexture).__webglTexture);else if(J.depthBuffer){const Rt=J.depthTexture;if(et.__boundDepthTexture!==Rt){if(Rt!==null&&j.has(Rt)&&(J.width!==Rt.image.width||J.height!==Rt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ee.setupDepthRenderbuffer(J)}}const gt=J.texture;(gt.isData3DTexture||gt.isDataArrayTexture||gt.isCompressedArrayTexture)&&(Qe=!0);const dt=j.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Array.isArray(dt[de])?Ae=dt[de][Se]:Ae=dt[de],_e=!0):J.samples>0&&ee.useMultisampledRTT(J)===!1?Ae=j.get(J).__webglMultisampledFramebuffer:Array.isArray(dt)?Ae=dt[Se]:Ae=dt,F.copy(J.viewport),H.copy(J.scissor),q=J.scissorTest}else F.copy(te).multiplyScalar(G).floor(),H.copy(ae).multiplyScalar(G).floor(),q=he;if(Se!==0&&(Ae=ft),Pe.bindFramebuffer(Y.FRAMEBUFFER,Ae)&&Pe.drawBuffers(J,Ae),Pe.viewport(F),Pe.scissor(H),Pe.setScissorTest(q),_e){const et=j.get(J.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+de,et.__webglTexture,Se)}else if(Qe){const et=de;for(let gt=0;gt<J.textures.length;gt++){const dt=j.get(J.textures[gt]);Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0+gt,dt.__webglTexture,Se,et)}}else if(J!==null&&Se!==0){const et=j.get(J.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,et.__webglTexture,Se)}D=-1},this.readRenderTargetPixels=function(J,de,Se,Ae,_e,Qe,st,et=0){if(!(J&&J.isWebGLRenderTarget)){Ft("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=j.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&st!==void 0&&(gt=gt[st]),gt){Pe.bindFramebuffer(Y.FRAMEBUFFER,gt);try{const dt=J.textures[et],Rt=dt.format,bt=dt.type;if(!me.textureFormatReadable(Rt)){Ft("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!me.textureTypeReadable(bt)){Ft("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=J.width-Ae&&Se>=0&&Se<=J.height-_e&&(J.textures.length>1&&Y.readBuffer(Y.COLOR_ATTACHMENT0+et),Y.readPixels(de,Se,Ae,_e,Ze.convert(Rt),Ze.convert(bt),Qe))}finally{const dt=B!==null?j.get(B).__webglFramebuffer:null;Pe.bindFramebuffer(Y.FRAMEBUFFER,dt)}}},this.readRenderTargetPixelsAsync=async function(J,de,Se,Ae,_e,Qe,st,et=0){if(!(J&&J.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gt=j.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&st!==void 0&&(gt=gt[st]),gt)if(de>=0&&de<=J.width-Ae&&Se>=0&&Se<=J.height-_e){Pe.bindFramebuffer(Y.FRAMEBUFFER,gt);const dt=J.textures[et],Rt=dt.format,bt=dt.type;if(!me.textureFormatReadable(Rt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!me.textureTypeReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ut=Y.createBuffer();Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Ut),Y.bufferData(Y.PIXEL_PACK_BUFFER,Qe.byteLength,Y.STREAM_READ),J.textures.length>1&&Y.readBuffer(Y.COLOR_ATTACHMENT0+et),Y.readPixels(de,Se,Ae,_e,Ze.convert(Rt),Ze.convert(bt),0);const Xt=B!==null?j.get(B).__webglFramebuffer:null;Pe.bindFramebuffer(Y.FRAMEBUFFER,Xt);const wn=Y.fenceSync(Y.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),await Ftt(Y,wn,4),Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Ut),Y.getBufferSubData(Y.PIXEL_PACK_BUFFER,0,Qe),Y.deleteBuffer(Ut),Y.deleteSync(wn),Qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(J,de=null,Se=0){const Ae=Math.pow(2,-Se),_e=Math.floor(J.image.width*Ae),Qe=Math.floor(J.image.height*Ae),st=de!==null?de.x:0,et=de!==null?de.y:0;ee.setTexture2D(J,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,Se,0,0,st,et,_e,Qe),Pe.unbindTexture()};const mt=Y.createFramebuffer(),je=Y.createFramebuffer();this.copyTextureToTexture=function(J,de,Se=null,Ae=null,_e=0,Qe=null){Qe===null&&(_e!==0?(O0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Qe=_e,_e=0):Qe=0);let st,et,gt,dt,Rt,bt,Ut,Xt,wn;const en=J.isCompressedTexture?J.mipmaps[Qe]:J.image;if(Se!==null)st=Se.max.x-Se.min.x,et=Se.max.y-Se.min.y,gt=Se.isBox3?Se.max.z-Se.min.z:1,dt=Se.min.x,Rt=Se.min.y,bt=Se.isBox3?Se.min.z:0;else{const Li=Math.pow(2,-_e);st=Math.floor(en.width*Li),et=Math.floor(en.height*Li),J.isDataArrayTexture?gt=en.depth:J.isData3DTexture?gt=Math.floor(en.depth*Li):gt=1,dt=0,Rt=0,bt=0}Ae!==null?(Ut=Ae.x,Xt=Ae.y,wn=Ae.z):(Ut=0,Xt=0,wn=0);const Pt=Ze.convert(de.format),ct=Ze.convert(de.type);let Lt;de.isData3DTexture?(ee.setTexture3D(de,0),Lt=Y.TEXTURE_3D):de.isDataArrayTexture||de.isCompressedArrayTexture?(ee.setTexture2DArray(de,0),Lt=Y.TEXTURE_2D_ARRAY):(ee.setTexture2D(de,0),Lt=Y.TEXTURE_2D),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,de.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,de.unpackAlignment);const St=Y.getParameter(Y.UNPACK_ROW_LENGTH),kn=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),Lr=Y.getParameter(Y.UNPACK_SKIP_PIXELS),an=Y.getParameter(Y.UNPACK_SKIP_ROWS),Kr=Y.getParameter(Y.UNPACK_SKIP_IMAGES);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,en.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,en.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,dt),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Rt),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,bt);const Tn=J.isDataArrayTexture||J.isData3DTexture,Ur=de.isDataArrayTexture||de.isData3DTexture;if(J.isDepthTexture){const Li=j.get(J),ai=j.get(de),gi=j.get(Li.__renderTarget),Xl=j.get(ai.__renderTarget);Pe.bindFramebuffer(Y.READ_FRAMEBUFFER,gi.__webglFramebuffer),Pe.bindFramebuffer(Y.DRAW_FRAMEBUFFER,Xl.__webglFramebuffer);for(let Ca=0;Ca<gt;Ca++)Tn&&(Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,j.get(J).__webglTexture,_e,bt+Ca),Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,j.get(de).__webglTexture,Qe,wn+Ca)),Y.blitFramebuffer(dt,Rt,st,et,Ut,Xt,st,et,Y.DEPTH_BUFFER_BIT,Y.NEAREST);Pe.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Pe.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else if(_e!==0||J.isRenderTargetTexture||j.has(J)){const Li=j.get(J),ai=j.get(de);Pe.bindFramebuffer(Y.READ_FRAMEBUFFER,mt),Pe.bindFramebuffer(Y.DRAW_FRAMEBUFFER,je);for(let gi=0;gi<gt;gi++)Tn?Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Li.__webglTexture,_e,bt+gi):Y.framebufferTexture2D(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Li.__webglTexture,_e),Ur?Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,ai.__webglTexture,Qe,wn+gi):Y.framebufferTexture2D(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,ai.__webglTexture,Qe),_e!==0?Y.blitFramebuffer(dt,Rt,st,et,Ut,Xt,st,et,Y.COLOR_BUFFER_BIT,Y.NEAREST):Ur?Y.copyTexSubImage3D(Lt,Qe,Ut,Xt,wn+gi,dt,Rt,st,et):Y.copyTexSubImage2D(Lt,Qe,Ut,Xt,dt,Rt,st,et);Pe.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Pe.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else Ur?J.isDataTexture||J.isData3DTexture?Y.texSubImage3D(Lt,Qe,Ut,Xt,wn,st,et,gt,Pt,ct,en.data):de.isCompressedArrayTexture?Y.compressedTexSubImage3D(Lt,Qe,Ut,Xt,wn,st,et,gt,Pt,en.data):Y.texSubImage3D(Lt,Qe,Ut,Xt,wn,st,et,gt,Pt,ct,en):J.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,Qe,Ut,Xt,st,et,Pt,ct,en.data):J.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,Qe,Ut,Xt,en.width,en.height,Pt,en.data):Y.texSubImage2D(Y.TEXTURE_2D,Qe,Ut,Xt,st,et,Pt,ct,en);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,St),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,kn),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Lr),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,an),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Kr),Qe===0&&de.generateMipmaps&&Y.generateMipmap(Lt),Pe.unbindTexture()},this.initRenderTarget=function(J){j.get(J).__webglFramebuffer===void 0&&ee.setupRenderTarget(J)},this.initTexture=function(J){J.isCubeTexture?ee.setTextureCube(J,0):J.isData3DTexture?ee.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?ee.setTexture2DArray(J,0):ee.setTexture2D(J,0),Pe.unbindTexture()},this.resetState=function(){N=0,L=0,B=null,Pe.reset(),xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ro}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=En._getDrawingBufferColorSpace(e),n.unpackColorSpace=En._getUnpackColorSpace()}}const Tct=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:tI,AddEquation:hd,AddOperation:gde,AdditiveAnimationBlendMode:tB,AdditiveBlending:p4,AgXToneMapping:Xj,AlphaFormat:Qj,AlwaysCompare:Pde,AlwaysDepth:hC,AlwaysStencilFunc:x4,AmbientLight:_he,AnimationAction:Che,AnimationClip:p_,AnimationLoader:Trt,AnimationMixer:eit,AnimationObjectGroup:Jrt,AnimationUtils:Srt,ArcCurve:Xde,ArrayCamera:Ahe,ArrowHelper:Ait,AttachedBindMode:v4,Audio:Mhe,AudioAnalyser:Vrt,AudioContext:MB,AudioListener:Frt,AudioLoader:Lrt,AxesHelper:Mit,BackSide:ns,BasicDepthPacking:_de,BasicShadowMap:Yfe,BatchedMesh:Vde,Bone:lB,BooleanKeyframeTrack:Im,Box2:cit,Box3:oa,Box3Helper:Sit,BoxGeometry:Pm,BoxHelper:wit,BufferAttribute:ar,BufferGeometry:rn,BufferGeometryLoader:Ehe,ByteType:nI,Cache:gc,Camera:hI,CameraHelper:_it,CanvasTexture:$nt,CapsuleGeometry:_I,CatmullRomCurve3:Kde,CineonToneMapping:$j,CircleGeometry:wI,ClampToEdgeWrapping:ri,Clock:TB,Color:Mt,ColorKeyframeTrack:_B,ColorManagement:En,CompressedArrayTexture:Gnt,CompressedCubeTexture:Wnt,CompressedTexture:bI,CompressedTextureLoader:Crt,ConeGeometry:Rw,ConstantAlphaFactor:hde,ConstantColorFactor:fde,Controls:Cit,CubeCamera:Lde,CubeDepthTexture:$de,CubeReflectionMapping:jl,CubeRefractionMapping:$d,CubeTexture:Ow,CubeTextureLoader:ghe,CubeUVReflectionMapping:wy,CubicBezierCurve:dB,CubicBezierCurve3:Yde,CubicInterpolant:hhe,CullFaceBack:h4,CullFaceFront:Kfe,CullFaceFrontBack:Zet,CullFaceNone:Xfe,Curve:$l,CurvePath:Jde,CustomBlending:Zfe,CustomToneMapping:qj,CylinderGeometry:Nw,Cylindrical:lit,Data3DTexture:dI,DataArrayTexture:fI,DataTexture:Yo,DataTextureLoader:wB,DataUtils:yp,DecrementStencilOp:htt,DecrementWrapStencilOp:mtt,DefaultLoadingManager:Av,DepthFormat:Cc,DepthStencilFormat:xd,DepthTexture:cm,DetachedBindMode:vde,DirectionalLight:bhe,DirectionalLightHelper:bit,DiscreteInterpolant:phe,DodecahedronGeometry:SI,DoubleSide:jo,DstAlphaFactor:sde,DstColorFactor:lde,DynamicCopyUsage:Itt,DynamicDrawUsage:Ett,DynamicReadUsage:Ttt,EdgesGeometry:qde,EllipseCurve:EI,EqualCompare:Mde,EqualDepth:mC,EqualStencilFunc:xtt,EquirectangularReflectionMapping:T0,EquirectangularRefractionMapping:e_,Euler:Ns,EventDispatcher:Lc,ExternalTexture:uB,ExtrudeGeometry:AI,FileLoader:uo,Float16BufferAttribute:wnt,Float32BufferAttribute:Nt,FloatType:Ar,Fog:gI,FogExp2:mI,FramebufferTexture:Hnt,FrontSide:af,Frustum:Ey,FrustumArray:xI,GLBufferAttribute:ait,GLSL1:ktt,GLSL3:b4,GreaterCompare:Tde,GreaterDepth:vC,GreaterEqualCompare:uI,GreaterEqualDepth:gC,GreaterEqualStencilFunc:Stt,GreaterStencilFunc:_tt,GridHelper:yit,Group:Ev,HalfFloatType:Gr,HemisphereLight:vhe,HemisphereLightHelper:vit,IcosahedronGeometry:Dw,ImageBitmapLoader:Drt,ImageLoader:m_,ImageUtils:Nde,IncrementStencilOp:dtt,IncrementWrapStencilOp:ptt,InstancedBufferAttribute:lm,InstancedBufferGeometry:AB,InstancedInterleavedBuffer:iit,InstancedMesh:Bde,Int16BufferAttribute:bnt,Int32BufferAttribute:_nt,Int8BufferAttribute:vnt,IntType:Cw,InterleavedBuffer:vI,InterleavedBufferAttribute:om,Interpolant:zw,InterpolateDiscrete:r_,InterpolateLinear:ZC,InterpolateSmooth:eM,InterpolationSamplingMode:Dtt,InterpolationSamplingType:Rtt,InvertStencilOp:gtt,KeepStencilOp:ap,KeyframeTrack:sl,LOD:Fde,LatheGeometry:MI,Layers:N0,LessCompare:Ade,LessDepth:pC,LessEqualCompare:cI,LessEqualDepth:am,LessEqualStencilFunc:btt,LessStencilFunc:ytt,Light:ch,LightProbe:She,Line:Xd,Line3:dit,LineBasicMaterial:ls,LineCurve:hB,LineCurve3:Zde,LineDashedMaterial:fhe,LineLoop:Hde,LineSegments:zc,LinearFilter:mn,LinearInterpolant:bB,LinearMipMapLinearFilter:y4,LinearMipMapNearestFilter:ett,LinearMipmapLinearFilter:mc,LinearMipmapNearestFilter:qb,LinearSRGBColorSpace:Bl,LinearToneMapping:Gj,LinearTransfer:a_,Loader:cs,LoaderUtils:A4,LoadingManager:DI,LoopOnce:yde,LoopPingPong:bde,LoopRepeat:xde,MOUSE:Ket,Material:Ga,MaterialLoader:LI,MathUtils:Xa,Matrix2:kB,Matrix3:nn,Matrix4:Wt,MaxEquation:tde,Mesh:yr,MeshBasicMaterial:Uc,MeshDepthMaterial:NI,MeshDistanceMaterial:RI,MeshLambertMaterial:che,MeshMatcapMaterial:uhe,MeshNormalMaterial:lhe,MeshPhongMaterial:she,MeshPhysicalMaterial:ahe,MeshStandardMaterial:yB,MeshToonMaterial:ohe,MinEquation:ede,MirroredRepeatWrapping:n_,MixOperation:mde,MultiplyBlending:g4,MultiplyOperation:Tw,NearestFilter:di,NearestMipMapLinearFilter:Qet,NearestMipMapNearestFilter:Jet,NearestMipmapLinearFilter:wv,NearestMipmapNearestFilter:Yj,NeutralToneMapping:Kj,NeverCompare:Ede,NeverDepth:dC,NeverStencilFunc:vtt,NoBlending:Ll,NoColorSpace:xu,NoNormalPacking:ott,NoToneMapping:Ko,NormalAnimationBlendMode:lI,NormalBlending:Rp,NormalGAPacking:ctt,NormalRGPacking:ltt,NotEqualCompare:Cde,NotEqualDepth:yC,NotEqualStencilFunc:wtt,NumberKeyframeTrack:d_,Object3D:Dn,ObjectLoader:Nrt,ObjectSpaceNormalMap:Sde,OctahedronGeometry:Lw,OneFactor:rde,OneMinusConstantAlphaFactor:pde,OneMinusConstantColorFactor:dde,OneMinusDstAlphaFactor:ode,OneMinusDstColorFactor:cde,OneMinusSrcAlphaFactor:fC,OneMinusSrcColorFactor:ade,OrthographicCamera:km,PCFShadowMap:$v,PCFSoftShadowMap:$b,PMREMGenerator:C4,Path:tP,PerspectiveCamera:ra,Plane:nd,PlaneGeometry:ql,PlaneHelper:Eit,PointLight:xhe,PointLightHelper:mit,Points:Gde,PointsMaterial:cB,PolarGridHelper:xit,PolyhedronGeometry:lh,PositionalAudio:Brt,PropertyBinding:Nn,PropertyMixer:The,QuadraticBezierCurve:pB,QuadraticBezierCurve3:mB,Quaternion:Vi,QuaternionKeyframeTrack:Fw,QuaternionLinearInterpolant:mhe,R11_EAC_Format:MC,RED_GREEN_RGTC2_Format:KC,RED_RGTC1_Format:qC,REVISION:_y,RG11_EAC_Format:CC,RGBADepthPacking:wde,RGBAFormat:hi,RGBAIntegerFormat:oI,RGBA_ASTC_10x10_Format:BC,RGBA_ASTC_10x5_Format:zC,RGBA_ASTC_10x6_Format:FC,RGBA_ASTC_10x8_Format:jC,RGBA_ASTC_12x10_Format:VC,RGBA_ASTC_12x12_Format:HC,RGBA_ASTC_4x4_Format:IC,RGBA_ASTC_5x4_Format:OC,RGBA_ASTC_5x5_Format:kC,RGBA_ASTC_6x5_Format:NC,RGBA_ASTC_6x6_Format:RC,RGBA_ASTC_8x5_Format:DC,RGBA_ASTC_8x6_Format:LC,RGBA_ASTC_8x8_Format:UC,RGBA_BPTC_Format:GC,RGBA_ETC2_EAC_Format:AC,RGBA_PVRTC_2BPPV1_Format:wC,RGBA_PVRTC_4BPPV1_Format:_C,RGBA_S3TC_DXT1_Format:Kb,RGBA_S3TC_DXT3_Format:Yb,RGBA_S3TC_DXT5_Format:Zb,RGBDepthPacking:att,RGBFormat:eB,RGBIntegerFormat:ttt,RGB_BPTC_SIGNED_Format:WC,RGB_BPTC_UNSIGNED_Format:$C,RGB_ETC1_Format:SC,RGB_ETC2_Format:EC,RGB_PVRTC_2BPPV1_Format:bC,RGB_PVRTC_4BPPV1_Format:xC,RGB_S3TC_DXT1_Format:Xb,RGDepthPacking:stt,RGFormat:sm,RGIntegerFormat:sI,RawShaderMaterial:vB,Ray:Sy,Raycaster:OB,RectAreaLight:whe,RedFormat:Pw,RedIntegerFormat:Iw,ReinhardToneMapping:Wj,RenderTarget:rB,RenderTarget3D:tit,RepeatWrapping:t_,ReplaceStencilOp:ftt,ReverseSubtractEquation:Qfe,RingGeometry:TI,SIGNED_R11_EAC_Format:TC,SIGNED_RED_GREEN_RGTC2_Format:YC,SIGNED_RED_RGTC1_Format:XC,SIGNED_RG11_EAC_Format:PC,SRGBColorSpace:wa,SRGBTransfer:$n,Scene:kw,ShaderChunk:cn,ShaderLib:Al,ShaderMaterial:Va,ShadowMaterial:ihe,Shape:Lp,ShapeGeometry:CI,ShapePath:Tit,ShapeUtils:Nl,ShortType:rI,Skeleton:yI,SkeletonHelper:pit,SkinnedMesh:jde,Source:bd,Sphere:la,SphereGeometry:Uw,Spherical:Phe,SphericalHarmonics3:EB,SplineCurve:gB,SpotLight:yhe,SpotLightHelper:hit,Sprite:zde,SpriteMaterial:oB,SrcAlphaFactor:uC,SrcAlphaSaturateFactor:ude,SrcColorFactor:ide,StaticCopyUsage:Ptt,StaticDrawUsage:s_,StaticReadUsage:Mtt,StereoCamera:Urt,StreamCopyUsage:Ott,StreamDrawUsage:Att,StreamReadUsage:Ctt,StringKeyframeTrack:Om,SubtractEquation:Jfe,SubtractiveBlending:m4,TOUCH:Yet,TangentSpaceNormalMap:oh,TetrahedronGeometry:PI,Texture:Qn,TextureLoader:Prt,TextureUtils:Nit,Timer:sit,TimestampQuery:Ntt,TorusGeometry:II,TorusKnotGeometry:OI,Triangle:Es,TriangleFanDrawMode:itt,TriangleStripDrawMode:rtt,TrianglesDrawMode:ntt,TubeGeometry:kI,UVMapping:Wd,Uint16BufferAttribute:iB,Uint32BufferAttribute:aB,Uint8BufferAttribute:ynt,Uint8ClampedBufferAttribute:xnt,Uniform:IB,UniformsGroup:rit,UniformsLib:Ct,UniformsUtils:sB,UnsignedByteType:ia,UnsignedInt101111Type:Jj,UnsignedInt248Type:P0,UnsignedInt5999Type:Zj,UnsignedIntType:go,UnsignedShort4444Type:iI,UnsignedShort5551Type:aI,UnsignedShortType:C0,VSMShadowMap:mp,Vector2:tt,Vector3:oe,Vector4:In,VectorKeyframeTrack:h_,VideoFrameTexture:Vnt,VideoTexture:Wde,WebGL3DRenderTarget:snt,WebGLArrayRenderTarget:ant,WebGLCoordinateSystem:ro,WebGLCubeRenderTarget:pI,WebGLRenderTarget:ja,WebGLRenderer:NB,WebGLUtils:Lhe,WebGPUCoordinateSystem:I0,WebXRController:tM,WireframeGeometry:rhe,WrapAroundEnding:i_,ZeroCurvatureEnding:gp,ZeroFactor:nde,ZeroSlopeEnding:vp,ZeroStencilOp:utt,createCanvasElement:kde,error:Ft,getConsoleFunction:ztt,log:l_,setConsoleFunction:Utt,warn:At,warnOnce:O0},Symbol.toStringTag,{value:"Module"})),dY=t=>{let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const d=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,o);return o},Cct=t=>t?dY(t):dY,{useSyncExternalStoreWithSelector:Pct}=Lne,Ict=t=>t;function Oct(t,e=Ict,n){const r=Pct(t.subscribe,t.getState,t.getInitialState,e,n);return He.useDebugValue(r),r}const hY=(t,e)=>{const n=Cct(t),r=(i,a=e)=>Oct(n,i,a);return Object.assign(r,n),r},Uhe=(t,e)=>t?hY(t,e):hY,kct=t=>typeof t=="object"&&typeof t.then=="function",bp=[];function zhe(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Fhe(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const a of bp)if(zhe(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=bp.indexOf(i);a!==-1&&bp.splice(a,1)},promise:(kct(t)?t:t(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(bp.push(i),!n)throw i.promise}const jhe=(t,e,n)=>Fhe(t,e,!1,n),Nct=(t,e,n)=>void Fhe(t,e,!0,n),Rct=t=>{if(t===void 0||t.length===0)bp.splice(0,bp.length);else{const e=bp.find(n=>zhe(t,n.keys,n.equal));e&&e.remove()}};function RB(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=RB(r,e,n);if(i)return i;r=e?null:r.sibling}}function Bhe(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const DB=Bhe(E.createContext(null));class Vhe extends E.Component{render(){return E.createElement(DB.Provider,{value:this._reactInternals},this.props.children)}}function Hhe(){const t=E.useContext(DB);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=E.useId();return E.useMemo(()=>{for(const n of[t,t==null?void 0:t.alternate]){if(!n)continue;const r=RB(n,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[t,e])}const Dct=Symbol.for("react.context"),Lct=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Dct;function Uct(){const t=Hhe(),[e]=E.useState(()=>new Map);e.clear();let n=t;for(;n;){const r=n.type;Lct(r)&&r!==DB&&!e.has(r)&&e.set(r,E.use(Bhe(r))),n=n.return}return e}function zct(){const t=Uct();return E.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>E.createElement(e,null,E.createElement(n.Provider,{...r,value:t.get(n)})),e=>E.createElement(Vhe,{...e})),[t])}function Ghe(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Whe=t=>t&&t.isOrthographicCamera,Fct=t=>t&&t.hasOwnProperty("current"),jct=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),jw=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?E.useLayoutEffect:E.useEffect;function LB(t){const e=E.useRef(t);return jw(()=>void(e.current=t),[t]),e}function Bct(){const t=Hhe(),e=zct();return E.useMemo(()=>({children:n})=>{const i=!!RB(t,!0,a=>a.type===E.StrictMode)?E.StrictMode:E.Fragment;return S.jsx(i,{children:S.jsx(e,{children:n})})},[t,e])}function Vct({set:t}){return jw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const Hct=(t=>(t=class extends E.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function $he(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function Vg(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const Or={obj:t=>t===Object(t)&&!Or.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Or.str(t)||Or.num(t)||Or.boo(t))return t===e;const a=Or.obj(t);if(a&&r==="reference")return t===e;const s=Or.arr(t);if(s&&n==="reference")return t===e;if((s||a)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!Or.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(Or.und(o)){if(s&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Gct(t){const e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material),n.isMesh&&!e.meshes[n.name]&&(e.meshes[n.name]=n)}),e}function Wct(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];(n==null?void 0:n.type)!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const qhe=["children","key","ref"];function $ct(t){const e={};for(const n in t)qhe.includes(n)||(e[n]=t[n]);return e}function nP(t,e,n,r){const i=t;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:$ct(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function g_(t,e){if(!e.includes("-"))return{root:t,key:e,target:t[e]};if(e in t)return{root:t,key:e,target:t[e]};let n=t;const r=e.split("-");for(const i of r){if(typeof n!="object"||n===null){if(n!==void 0){const a=r.slice(r.indexOf(i)).join("-");return{root:n,key:a,target:void 0}}return{root:t,key:e,target:void 0}}e=i,t=n,n=n[e]}return{root:t,key:e,target:n}}const pY=/-\d+$/;function rP(t,e){if(Or.str(e.props.attach)){if(pY.test(e.props.attach)){const i=e.props.attach.replace(pY,""),{root:a,key:s}=g_(t.object,i);Array.isArray(a[s])||(a[s]=[])}const{root:n,key:r}=g_(t.object,e.props.attach);e.previousAttach=n[r],n[r]=e.object}else Or.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function iP(t,e){if(Or.str(e.props.attach)){const{root:n,key:r}=g_(t.object,e.props.attach),i=e.previousAttach;i===void 0?delete n[r]:n[r]=i}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const O4=[...qhe,"args","dispose","attach","object","onUpdate","dispose"],mY=new Map;function qct(t){let e=mY.get(t.constructor);try{e||(e=new t.constructor,mY.set(t.constructor,e))}catch{}return e}function Xct(t,e){const n={};for(const r in e)if(!O4.includes(r)&&!Or.equ(e[r],t.props[r])){n[r]=e[r];for(const i in e)i.startsWith(`${r}-`)&&(n[i]=e[i])}for(const r in t.props){if(O4.includes(r)||e.hasOwnProperty(r))continue;const{root:i,key:a}=g_(t.object,r);if(i.constructor&&i.constructor.length===0){const s=qct(i);Or.und(s)||(n[a]=s[a])}else n[a]=0}return n}const Kct=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Yct=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function uc(t,e){var n;const r=t.__r3f,i=r&&Ghe(r).getState(),a=r==null?void 0:r.eventCount;for(const o in e){let l=e[o];if(O4.includes(o))continue;if(r&&Yct.test(o)){typeof l=="function"?r.handlers[o]=l:delete r.handlers[o],r.eventCount=Object.keys(r.handlers).length;continue}if(l===void 0)continue;let{root:c,key:u,target:f}=g_(t,o);if(f===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${u}".`);if(f instanceof N0&&l instanceof N0)f.mask=l.mask;else if(f instanceof Mt&&jct(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var s;c[u]=l,i&&!i.linear&&Kct.includes(u)&&(s=c[u])!=null&&s.isTexture&&c[u].format===hi&&c[u].type===ia&&(c[u].colorSpace=wa)}}if(r!=null&&r.parent&&i!=null&&i.internal&&(n=r.object)!=null&&n.isObject3D&&a!==r.eventCount){const o=r.object,l=i.internal.interaction.indexOf(o);l>-1&&i.internal.interaction.splice(l,1),r.eventCount&&o.raycast!==null&&i.internal.interaction.push(o)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&My(r),t}function My(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function Xhe(t,e){t.manual||(Whe(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const Ya=t=>t==null?void 0:t.isObject3D;function hA(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Khe(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Zct(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Khe(n.capturedMap,e,r,i)})}function Jct(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,d=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<h.length;v++){const b=Vg(h[v]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const b=Vg(v);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var _;b.events.compute==null||b.events.compute(l,b,(_=b.previousRoot)==null?void 0:_.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(v,!0):[]}let y=h.flatMap(g).sort((v,b)=>{const _=Vg(v.object),A=Vg(b.object);return!_||!A?v.distance-b.distance:A.events.priority-_.events.priority||v.distance-b.distance}).filter(v=>{const b=hA(v);return f.has(b)?!1:(f.add(b),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let b=v.object;for(;b;){var x;(x=b.__r3f)!=null&&x.eventCount&&d.push({...v,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())f.has(hA(v.intersection))||d.push(v.intersection);return d}function i(l,c,u,f){if(l.length){const d={stopped:!1};for(const h of l){let g=Vg(h.object);if(g||h.object.traverseAncestors(y=>{const x=Vg(y);if(x)return g=x,!1}),g){const{raycaster:y,pointer:x,camera:v,internal:b}=g,_=new oe(x.x,x.y,0).unproject(v),A=P=>{var k,N;return(k=(N=b.capturedMap.get(P))==null?void 0:N.has(h.eventObject))!=null?k:!1},T=P=>{const k={intersection:h,target:c.target};b.capturedMap.has(P)?b.capturedMap.get(P).set(h.eventObject,k):b.capturedMap.set(P,new Map([[h.eventObject,k]])),c.target.setPointerCapture(P)},M=P=>{const k=b.capturedMap.get(P);k&&Khe(b.capturedMap,h.eventObject,k,P)};let I={};for(let P in c){let k=c[P];typeof k!="function"&&(I[P]=k)}let O={...h,...I,pointer:x,intersections:l,stopped:d.stopped,delta:u,unprojectedPoint:_,ray:y.ray,camera:v,stopPropagation(){const P="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!P||P.has(h.eventObject))&&(O.stopped=d.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(k=>k.eventObject===h.eventObject))){const k=l.slice(0,l.indexOf(h));a([...k,h])}},target:{hasPointerCapture:A,setPointerCapture:T,releasePointerCapture:M},currentTarget:{hasPointerCapture:A,setPointerCapture:T,releasePointerCapture:M},nativeEvent:c};if(f(O),d.stopped===!0)break}}}return l}function a(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f;if(c.hovered.delete(hA(u)),d!=null&&d.eventCount){const h=d.handlers,g={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(g),h.onPointerLeave==null||h.onPointerLeave(g)}}}function s(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),a([]))})}}return function(u){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=u;const h=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,h?n:void 0),v=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=x.map(_=>_.eventObject)),g&&!x.length&&v<=2&&(s(u,d.interaction),f&&f(u)),h&&a(x);function b(_){const A=_.eventObject,T=A.__r3f;if(!(T!=null&&T.eventCount))return;const M=T.handlers;if(h){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const I=hA(_),O=d.hovered.get(I);O?O.stopped&&_.stopPropagation():(d.hovered.set(I,_),M.onPointerOver==null||M.onPointerOver(_),M.onPointerEnter==null||M.onPointerEnter(_))}M.onPointerMove==null||M.onPointerMove(_)}else{const I=M[l];I?(!g||d.initialHits.includes(A))&&(s(u,d.interaction.filter(O=>!d.initialHits.includes(O))),I(_)):g&&d.initialHits.includes(A)&&s(u,d.interaction.filter(O=>!d.initialHits.includes(O)))}}i(x,u,v,b)}}return{handlePointer:o}}const gY=t=>!!(t!=null&&t.render),v_=E.createContext(null),Qct=(t,e)=>{const n=Uhe((o,l)=>{const c=new oe,u=new oe,f=new oe;function d(v=l().camera,b=u,_=l().size){const{width:A,height:T,top:M,left:I}=_,O=A/T;b.isVector3?f.copy(b):f.set(...b);const P=v.getWorldPosition(c).distanceTo(f);if(Whe(v))return{width:A/v.zoom,height:T/v.zoom,top:M,left:I,factor:1,distance:P,aspect:O};{const k=v.fov*Math.PI/180,N=2*Math.tan(k/2)*P,L=N*(A/T);return{width:L,height:N,top:M,left:I,factor:A/L,distance:P,aspect:O}}}let h;const g=v=>o(b=>({performance:{...b.performance,current:v}})),y=new tt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(v=1)=>t(l(),v),advance:(v,b)=>e(v,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new TB,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();h&&clearTimeout(h),v.performance.current!==v.performance.min&&g(v.performance.min),h=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:v=>o(b=>({...b,events:{...b.events,...v}})),setSize:(v,b,_=0,A=0)=>{const T=l().camera,M={width:v,height:b,top:_,left:A};o(I=>({size:M,viewport:{...I.viewport,...d(T,u,M)}}))},setDpr:v=>o(b=>{const _=$he(v);return{viewport:{...b.viewport,dpr:_,initialDpr:b.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,v!=="never"&&(b.start(),b.elapsedTime=0),o(()=>({frameloop:v}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:E.createRef(),active:!1,frames:0,priority:0,subscribe:(v,b,_)=>{const A=l().internal;return A.priority=A.priority+(b>0?1:0),A.subscribers.push({ref:v,priority:b,store:_}),A.subscribers=A.subscribers.sort((T,M)=>T.priority-M.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(b>0?1:0),T.subscribers=T.subscribers.filter(M=>M.ref!==v))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==a){i=l,a=c.dpr,Xhe(o,l),c.dpr>0&&u.setPixelRatio(c.dpr);const d=typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,d)}o!==s&&(s=o,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};function UB(){const t=E.useContext(v_);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function rs(t=n=>n,e){return UB()(t,e)}function uh(t,e=0){const n=UB(),r=n.getState().internal.subscribe,i=LB(t);return jw(()=>r(i,e,n),[e,r,n]),null}const vY=new WeakMap,eut=t=>{var e;return typeof t=="function"&&(t==null||(e=t.prototype)==null?void 0:e.constructor)===t};function Yhe(t,e){return function(n,...r){let i;return eut(n)?(i=vY.get(n),i||(i=new n,vY.set(n,i))):i=n,t&&t(i),Promise.all(r.map(a=>new Promise((s,o)=>i.load(a,l=>{Ya(l==null?void 0:l.scene)&&Object.assign(l,Gct(l.scene)),s(l)},e,l=>o(new Error(`Could not load ${a}: ${l==null?void 0:l.message}`))))))}}function L0(t,e,n,r){const i=Array.isArray(e)?e:[e],a=jhe(Yhe(n,r),[t,...i],{equal:Or.equ});return Array.isArray(e)?a:a[0]}L0.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Nct(Yhe(n),[t,...r])};L0.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Rct([t,...n])};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const tut=1,nut=8,rut=32,iut=2;var aut={version:"9.5.0"};function sut(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yY={exports:{}},xY={exports:{}},bY;function out(){return bY||(bY=1,function(t){t.exports=function(e){function n(p,m,w,C){return new Kpe(p,m,w,C)}function r(){}function i(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(p){var m=p,w=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&4098&&(w=m.return),p=m.return;while(p)}return m.tag===3?w:null}function s(p){if(a(p)!==p)throw Error(i(188))}function o(p){var m=p.alternate;if(!m){if(m=a(p),m===null)throw Error(i(188));return m!==p?null:p}for(var w=p,C=m;;){var R=w.return;if(R===null)break;var U=R.alternate;if(U===null){if(C=R.return,C!==null){w=C;continue}break}if(R.child===U.child){for(U=R.child;U;){if(U===w)return s(R),p;if(U===C)return s(R),m;U=U.sibling}throw Error(i(188))}if(w.return!==C.return)w=R,C=U;else{for(var Q=!1,ve=R.child;ve;){if(ve===w){Q=!0,w=R,C=U;break}if(ve===C){Q=!0,C=R,w=U;break}ve=ve.sibling}if(!Q){for(ve=U.child;ve;){if(ve===w){Q=!0,w=U,C=R;break}if(ve===C){Q=!0,C=U,w=R;break}ve=ve.sibling}if(!Q)throw Error(i(189))}}if(w.alternate!==C)throw Error(i(190))}if(w.tag!==3)throw Error(i(188));return w.stateNode.current===w?p:m}function l(p){var m=p.tag;if(m===5||m===26||m===27||m===6)return p;for(p=p.child;p!==null;){if(m=l(p),m!==null)return m;p=p.sibling}return null}function c(p){var m=p.tag;if(m===5||m===26||m===27||m===6)return p;for(p=p.child;p!==null;){if(p.tag!==4&&(m=c(p),m!==null))return m;p=p.sibling}return null}function u(p){return p===null||typeof p!="object"?null:(p=h8&&p[h8]||p["@@iterator"],typeof p=="function"?p:null)}function f(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===eme?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case Wm:return"Fragment";case xO:return"Profiler";case f8:return"StrictMode";case _O:return"Suspense";case wO:return"SuspenseList";case EO:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case Gm:return"Portal";case Mf:return p.displayName||"Context";case d8:return(p._context.displayName||"Context")+".Consumer";case bO:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case SO:return m=p.displayName||null,m!==null?m:f(p.type)||"Memo";case Tf:m=p._payload,p=p._init;try{return f(p(m))}catch{}}return null}function d(p){return{current:p}}function h(p){0>Xm||(p.current=IO[Xm],IO[Xm]=null,Xm--)}function g(p,m){Xm++,IO[Xm]=p.current,p.current=m}function y(p){return p>>>=0,p===0?32:31-(Cge(p)/Pge|0)|0}function x(p){var m=p&42;if(m!==0)return m;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function v(p,m,w){var C=p.pendingLanes;if(C===0)return 0;var R=0,U=p.suspendedLanes,Q=p.pingedLanes;p=p.warmLanes;var ve=C&134217727;return ve!==0?(C=ve&~U,C!==0?R=x(C):(Q&=ve,Q!==0?R=x(Q):w||(w=ve&~p,w!==0&&(R=x(w))))):(ve=C&~U,ve!==0?R=x(ve):Q!==0?R=x(Q):w||(w=C&~p,w!==0&&(R=x(w)))),R===0?0:m!==0&&m!==R&&!(m&U)&&(U=R&-R,w=m&-m,U>=w||U===32&&(w&4194048)!==0)?m:R}function b(p,m){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&m)===0}function _(p,m){switch(p){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A(){var p=lS;return lS<<=1,!(lS&62914560)&&(lS=4194304),p}function T(p){for(var m=[],w=0;31>w;w++)m.push(p);return m}function M(p,m){p.pendingLanes|=m,m!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function I(p,m,w,C,R,U){var Q=p.pendingLanes;p.pendingLanes=w,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=w,p.entangledLanes&=w,p.errorRecoveryDisabledLanes&=w,p.shellSuspendCounter=0;var ve=p.entanglements,Xe=p.expirationTimes,ot=p.hiddenUpdates;for(w=Q&~w;0<w;){var Et=31-Bs(w),vt=1<<Et;ve[Et]=0,Xe[Et]=-1;var Ot=ot[Et];if(Ot!==null)for(ot[Et]=null,Et=0;Et<Ot.length;Et++){var sn=Ot[Et];sn!==null&&(sn.lane&=-536870913)}w&=~vt}C!==0&&O(p,C,0),U!==0&&R===0&&p.tag!==0&&(p.suspendedLanes|=U&~(Q&~m))}function O(p,m,w){p.pendingLanes|=m,p.suspendedLanes&=~m;var C=31-Bs(m);p.entangledLanes|=m,p.entanglements[C]=p.entanglements[C]|1073741824|w&261930}function P(p,m){var w=p.entangledLanes|=m;for(p=p.entanglements;w;){var C=31-Bs(w),R=1<<C;R&m|p[C]&m&&(p[C]|=m),w&=~R}}function k(p,m){var w=m&-m;return w=w&42?1:N(w),w&(p.suspendedLanes|m)?0:w}function N(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function L(p){return p&=-p,2<p?8<p?p&134217727?32:268435456:8:2}function B(p){if(typeof Rge=="function"&&Dge(p),Vs&&typeof Vs.setStrictMode=="function")try{Vs.setStrictMode(Wy,p)}catch{}}function D(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}function V(p){if(NO===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);NO=m&&m[1]||"",F8=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+NO+p+F8}function F(p,m){if(!p||RO)return"";RO=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(m){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(sn){var Ot=sn}Reflect.construct(p,[],vt)}else{try{vt.call()}catch(sn){Ot=sn}p.call(vt.prototype)}}else{try{throw Error()}catch(sn){Ot=sn}(vt=p())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(sn){if(sn&&Ot&&typeof sn.stack=="string")return[sn.stack,Ot.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=C.DetermineComponentFrameRoot(),Q=U[0],ve=U[1];if(Q&&ve){var Xe=Q.split(`
`),ot=ve.split(`
`);for(R=C=0;C<Xe.length&&!Xe[C].includes("DetermineComponentFrameRoot");)C++;for(;R<ot.length&&!ot[R].includes("DetermineComponentFrameRoot");)R++;if(C===Xe.length||R===ot.length)for(C=Xe.length-1,R=ot.length-1;1<=C&&0<=R&&Xe[C]!==ot[R];)R--;for(;1<=C&&0<=R;C--,R--)if(Xe[C]!==ot[R]){if(C!==1||R!==1)do if(C--,R--,0>R||Xe[C]!==ot[R]){var Et=`
`+Xe[C].replace(" at new "," at ");return p.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",p.displayName)),Et}while(1<=C&&0<=R);break}}}finally{RO=!1,Error.prepareStackTrace=w}return(w=p?p.displayName||p.name:"")?V(w):""}function H(p,m){switch(p.tag){case 26:case 27:case 5:return V(p.type);case 16:return V("Lazy");case 13:return p.child!==m&&m!==null?V("Suspense Fallback"):V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return F(p.type,!1);case 11:return F(p.type.render,!1);case 1:return F(p.type,!0);case 31:return V("Activity");default:return""}}function q(p){try{var m="",w=null;do m+=H(p,w),w=p,p=p.return;while(p);return m}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}function W(p,m){if(typeof p=="object"&&p!==null){var w=j8.get(p);return w!==void 0?w:(m={value:p,source:m,stack:q(m)},j8.set(p,m),m)}return{value:p,source:m,stack:q(m)}}function z(p,m){Ym[Zm++]=$y,Ym[Zm++]=uS,uS=p,$y=m}function $(p,m,w){xo[bo++]=Zl,xo[bo++]=Jl,xo[bo++]=Cf,Cf=p;var C=Zl;p=Jl;var R=32-Bs(C)-1;C&=~(1<<R),w+=1;var U=32-Bs(m)+R;if(30<U){var Q=R-R%5;U=(C&(1<<Q)-1).toString(32),C>>=Q,R-=Q,Zl=1<<32-Bs(m)+R|w<<R|C,Jl=U+p}else Zl=1<<U|w<<R|C,Jl=p}function Z(p){p.return!==null&&(z(p,1),$(p,1,0))}function G(p){for(;p===uS;)uS=Ym[--Zm],Ym[Zm]=null,$y=Ym[--Zm],Ym[Zm]=null;for(;p===Cf;)Cf=xo[--bo],xo[bo]=null,Jl=xo[--bo],xo[bo]=null,Zl=xo[--bo],xo[bo]=null}function ie(p,m){xo[bo++]=Zl,xo[bo++]=Jl,xo[bo++]=Cf,Zl=m.id,Jl=m.overflow,Cf=p}function ue(p,m){g(Pf,m),g(qy,p),g(ga,null),p=rme(m),h(ga),g(ga,p)}function te(){h(ga),h(qy),h(Pf)}function ae(p){p.memoizedState!==null&&g(fS,p);var m=ga.current,w=ime(m,p.type);m!==w&&(g(qy,p),g(ga,w))}function he(p){qy.current===p&&(h(ga),h(qy)),fS.current===p&&(h(fS),$c?wh._currentValue=$m:wh._currentValue2=$m)}function le(p){var m=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Te(W(m,p)),DO}function be(p,m){if(!ka)throw Error(i(175));ige(p.stateNode,p.type,p.memoizedProps,m,p)||le(p,!0)}function Ie(p){for(va=p.return;va;)switch(va.tag){case 5:case 31:case 13:_o=!1;return;case 27:case 3:_o=!0;return;default:va=va.return}}function fe(p){if(!ka||p!==va)return!1;if(!Cn)return Ie(p),Cn=!0,!1;var m=p.tag;if(Ui?m!==3&&m!==27&&(m!==5||M8(p.type)&&!aS(p.type,p.memoizedProps))&&zr&&le(p):m!==3&&(m!==5||M8(p.type)&&!aS(p.type,p.memoizedProps))&&zr&&le(p),Ie(p),m===13){if(!ka)throw Error(i(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));zr=cge(p)}else if(m===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));zr=lge(p)}else zr=Ui&&m===27?Xme(p.type,zr):va?A8(p.stateNode):null;return!0}function Ye(){ka&&(zr=va=null,Cn=!1)}function we(){var p=If;return p!==null&&(hs===null?hs=p:hs.push.apply(hs,p),If=null),p}function Te(p){If===null?If=[p]:If.push(p)}function Ee(p,m,w){$c?(g(dS,m._currentValue),m._currentValue=w):(g(dS,m._currentValue2),m._currentValue2=w)}function ke(p){var m=dS.current;$c?p._currentValue=m:p._currentValue2=m,h(dS)}function Y(p,m,w){for(;p!==null;){var C=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),p===w)break;p=p.return}}function xe(p,m,w,C){var R=p.child;for(R!==null&&(R.return=p);R!==null;){var U=R.dependencies;if(U!==null){var Q=R.child;U=U.firstContext;e:for(;U!==null;){var ve=U;U=R;for(var Xe=0;Xe<m.length;Xe++)if(ve.context===m[Xe]){U.lanes|=w,ve=U.alternate,ve!==null&&(ve.lanes|=w),Y(U.return,w,p),C||(Q=null);break e}U=ve.next}}else if(R.tag===18){if(Q=R.return,Q===null)throw Error(i(341));Q.lanes|=w,U=Q.alternate,U!==null&&(U.lanes|=w),Y(Q,w,p),Q=null}else Q=R.child;if(Q!==null)Q.return=R;else for(Q=R;Q!==null;){if(Q===p){Q=null;break}if(R=Q.sibling,R!==null){R.return=Q.return,Q=R;break}Q=Q.return}R=Q}}function ye(p,m,w,C){p=null;for(var R=m,U=!1;R!==null;){if(!U){if(R.flags&524288)U=!0;else if(R.flags&262144)break}if(R.tag===10){var Q=R.alternate;if(Q===null)throw Error(i(387));if(Q=Q.memoizedProps,Q!==null){var ve=R.type;Hs(R.pendingProps.value,Q.value)||(p!==null?p.push(ve):p=[ve])}}else if(R===fS.current){if(Q=R.alternate,Q===null)throw Error(i(387));Q.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(p!==null?p.push(wh):p=[wh])}R=R.return}p!==null&&xe(m,p,w,C),m.flags|=262144}function me(p){for(p=p.firstContext;p!==null;){var m=p.context;if(!Hs($c?m._currentValue:m._currentValue2,p.memoizedValue))return!0;p=p.next}return!1}function Pe(p){Sh=p,Xc=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function K(p){return ee(Sh,p)}function j(p,m){return Sh===null&&Pe(p),ee(p,m)}function ee(p,m){var w=$c?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:w,next:null},Xc===null){if(p===null)throw Error(i(308));Xc=m,p.dependencies={lanes:0,firstContext:m},p.flags|=524288}else Xc=Xc.next=m;return w}function re(){return{controller:new Uge,data:new Map,refCount:0}}function se(p){p.refCount--,p.refCount===0&&zge(Fge,function(){p.controller.abort()})}function ce(){}function Oe(p){p!==Jm&&p.next===null&&(Jm===null?hS=Jm=p:Jm=Jm.next=p),pS=!0,LO||(LO=!0,Je())}function De(p,m){if(!UO&&pS){UO=!0;do for(var w=!1,C=hS;C!==null;){if(p!==0){var R=C.pendingLanes;if(R===0)var U=0;else{var Q=C.suspendedLanes,ve=C.pingedLanes;U=(1<<31-Bs(42|p)+1)-1,U&=R&~(Q&~ve),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(w=!0,Be(C,U))}else U=Sn,U=v(C,C===or?U:0,C.cancelPendingCommit!==null||C.timeoutHandle!==_h),!(U&3)||b(C,U)||(w=!0,Be(C,U));C=C.next}while(w);UO=!1}}function Ge(){rt()}function rt(){pS=LO=!1;var p=0;Eh!==0&&hme()&&(p=Eh);for(var m=fs(),w=null,C=hS;C!==null;){var R=C.next,U=Re(C,m);U===0?(C.next=null,w===null?hS=R:w.next=R,R===null&&(Jm=w)):(w=C,(p!==0||U&3)&&(pS=!0)),C=R}zi!==0&&zi!==5||De(p),Eh!==0&&(Eh=0)}function Re(p,m){for(var w=p.suspendedLanes,C=p.pingedLanes,R=p.expirationTimes,U=p.pendingLanes&-62914561;0<U;){var Q=31-Bs(U),ve=1<<Q,Xe=R[Q];Xe===-1?(!(ve&w)||ve&C)&&(R[Q]=_(ve,m)):Xe<=m&&(p.expiredLanes|=ve),U&=~ve}if(m=or,w=Sn,w=v(p,p===m?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==_h),C=p.callbackNode,w===0||p===m&&(Kn===2||Kn===9)||p.cancelPendingCommit!==null)return C!==null&&C!==null&&OO(C),p.callbackNode=null,p.callbackPriority=0;if(!(w&3)||b(p,w)){if(m=w&-w,m===p.callbackPriority)return m;switch(C!==null&&OO(C),L(w)){case 2:case 8:w=kge;break;case 32:w=kO;break;case 268435456:w=Nge;break;default:w=kO}return C=Ue.bind(null,p),w=cS(w,C),p.callbackPriority=m,p.callbackNode=w,m}return C!==null&&C!==null&&OO(C),p.callbackPriority=2,p.callbackNode=null,2}function Ue(p,m){if(zi!==0&&zi!==5)return p.callbackNode=null,p.callbackPriority=0,null;var w=p.callbackNode;if(By()&&p.callbackNode!==w)return null;var C=Sn;return C=v(p,p===or?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==_h),C===0?null:(j6(p,C,m),Re(p,fs()),p.callbackNode!=null&&p.callbackNode===w?Ue.bind(null,p):null)}function Be(p,m){if(By())return null;j6(p,m,!0)}function Je(){bme?_me(function(){yn&6?cS(U8,Ge):rt()}):cS(U8,Ge)}function We(){if(Eh===0){var p=Qm;p===0&&(p=sS,sS<<=1,!(sS&261888)&&(sS=256)),Eh=p}return Eh}function ut(p,m){if(Xy===null){var w=Xy=[];zO=0,Qm=We(),eg={status:"pending",value:void 0,then:function(C){w.push(C)}}}return zO++,m.then(pe,pe),m}function pe(){if(--zO===0&&Xy!==null){eg!==null&&(eg.status="fulfilled");var p=Xy;Xy=null,Qm=0,eg=null;for(var m=0;m<p.length;m++)(0,p[m])()}}function Me(p,m){var w=[],C={status:"pending",value:null,reason:null,then:function(R){w.push(R)}};return p.then(function(){C.status="fulfilled",C.value=m;for(var R=0;R<w.length;R++)(0,w[R])(m)},function(R){for(C.status="rejected",C.reason=R,R=0;R<w.length;R++)(0,w[R])(void 0)}),C}function Ze(){var p=Ah.current;return p!==null?p:or.pooledCache}function xt(p,m){m===null?g(Ah,Ah.current):g(Ah,m.pool)}function Ke(){var p=Ze();return p===null?null:{parent:$c?Fr._currentValue:Fr._currentValue2,pool:p}}function ze(p,m){if(Hs(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var w=Object.keys(p),C=Object.keys(m);if(w.length!==C.length)return!1;for(C=0;C<w.length;C++){var R=w[C];if(!Lge.call(m,R)||!Hs(p[R],m[R]))return!1}return!0}function at(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Tt(p,m,w){switch(w=p[w],w===void 0?p.push(m):w!==m&&(m.then(ce,ce),m=w),m.status){case"fulfilled":return m.value;case"rejected":throw p=m.reason,On(p),p;default:if(typeof m.status=="string")m.then(ce,ce);else{if(p=or,p!==null&&100<p.shellSuspendCounter)throw Error(i(482));p=m,p.status="pending",p.then(function(C){if(m.status==="pending"){var R=m;R.status="fulfilled",R.value=C}},function(C){if(m.status==="pending"){var R=m;R.status="rejected",R.reason=C}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw p=m.reason,On(p),p}throw Mh=m,tg}}function wt(p){try{var m=p._init;return m(p._payload)}catch(w){throw w!==null&&typeof w=="object"&&typeof w.then=="function"?(Mh=w,tg):w}}function zt(){if(Mh===null)throw Error(i(459));var p=Mh;return Mh=null,p}function On(p){if(p===tg||p===mS)throw Error(i(483))}function Mn(p){var m=Ky;return Ky+=1,ng===null&&(ng=[]),Tt(ng,p,m)}function Bn(p,m){m=m.props.ref,p.ref=m!==void 0?m:null}function Dr(p,m){throw m.$$typeof===Jpe?Error(i(525)):(p=Object.prototype.toString.call(m),Error(i(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p)))}function qr(p){function m(Fe,Ne){if(p){var qe=Fe.deletions;qe===null?(Fe.deletions=[Ne],Fe.flags|=16):qe.push(Ne)}}function w(Fe,Ne){if(!p)return null;for(;Ne!==null;)m(Fe,Ne),Ne=Ne.sibling;return null}function C(Fe){for(var Ne=new Map;Fe!==null;)Fe.key!==null?Ne.set(Fe.key,Fe):Ne.set(Fe.index,Fe),Fe=Fe.sibling;return Ne}function R(Fe,Ne){return Fe=Wc(Fe,Ne),Fe.index=0,Fe.sibling=null,Fe}function U(Fe,Ne,qe){return Fe.index=qe,p?(qe=Fe.alternate,qe!==null?(qe=qe.index,qe<Ne?(Fe.flags|=67108866,Ne):qe):(Fe.flags|=67108866,Ne)):(Fe.flags|=1048576,Ne)}function Q(Fe){return p&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function ve(Fe,Ne,qe,yt){return Ne===null||Ne.tag!==6?(Ne=mO(qe,Fe.mode,yt),Ne.return=Fe,Ne):(Ne=R(Ne,qe),Ne.return=Fe,Ne)}function Xe(Fe,Ne,qe,yt){var Ht=qe.type;return Ht===Wm?Et(Fe,Ne,qe.props.children,yt,qe.key):Ne!==null&&(Ne.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Tf&&wt(Ht)===Ne.type)?(Ne=R(Ne,qe.props),Bn(Ne,qe),Ne.return=Fe,Ne):(Ne=nS(qe.type,qe.key,qe.props,null,Fe.mode,yt),Bn(Ne,qe),Ne.return=Fe,Ne)}function ot(Fe,Ne,qe,yt){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==qe.containerInfo||Ne.stateNode.implementation!==qe.implementation?(Ne=gO(qe,Fe.mode,yt),Ne.return=Fe,Ne):(Ne=R(Ne,qe.children||[]),Ne.return=Fe,Ne)}function Et(Fe,Ne,qe,yt,Ht){return Ne===null||Ne.tag!==7?(Ne=bh(qe,Fe.mode,yt,Ht),Ne.return=Fe,Ne):(Ne=R(Ne,qe),Ne.return=Fe,Ne)}function vt(Fe,Ne,qe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=mO(""+Ne,Fe.mode,qe),Ne.return=Fe,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case rS:return qe=nS(Ne.type,Ne.key,Ne.props,null,Fe.mode,qe),Bn(qe,Ne),qe.return=Fe,qe;case Gm:return Ne=gO(Ne,Fe.mode,qe),Ne.return=Fe,Ne;case Tf:return Ne=wt(Ne),vt(Fe,Ne,qe)}if(iS(Ne)||u(Ne))return Ne=bh(Ne,Fe.mode,qe,null),Ne.return=Fe,Ne;if(typeof Ne.then=="function")return vt(Fe,Mn(Ne),qe);if(Ne.$$typeof===Mf)return vt(Fe,j(Fe,Ne),qe);Dr(Fe,Ne)}return null}function Ot(Fe,Ne,qe,yt){var Ht=Ne!==null?Ne.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ht!==null?null:ve(Fe,Ne,""+qe,yt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case rS:return qe.key===Ht?Xe(Fe,Ne,qe,yt):null;case Gm:return qe.key===Ht?ot(Fe,Ne,qe,yt):null;case Tf:return qe=wt(qe),Ot(Fe,Ne,qe,yt)}if(iS(qe)||u(qe))return Ht!==null?null:Et(Fe,Ne,qe,yt,null);if(typeof qe.then=="function")return Ot(Fe,Ne,Mn(qe),yt);if(qe.$$typeof===Mf)return Ot(Fe,Ne,j(Fe,qe),yt);Dr(Fe,qe)}return null}function sn(Fe,Ne,qe,yt,Ht){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return Fe=Fe.get(qe)||null,ve(Ne,Fe,""+yt,Ht);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case rS:return Fe=Fe.get(yt.key===null?qe:yt.key)||null,Xe(Ne,Fe,yt,Ht);case Gm:return Fe=Fe.get(yt.key===null?qe:yt.key)||null,ot(Ne,Fe,yt,Ht);case Tf:return yt=wt(yt),sn(Fe,Ne,qe,yt,Ht)}if(iS(yt)||u(yt))return Fe=Fe.get(qe)||null,Et(Ne,Fe,yt,Ht,null);if(typeof yt.then=="function")return sn(Fe,Ne,qe,Mn(yt),Ht);if(yt.$$typeof===Mf)return sn(Fe,Ne,qe,j(Ne,yt),Ht);Dr(Ne,yt)}return null}function _i(Fe,Ne,qe,yt){for(var Ht=null,jr=null,Kt=Ne,Un=Ne=0,Yi=null;Kt!==null&&Un<qe.length;Un++){Kt.index>Un?(Yi=Kt,Kt=null):Yi=Kt.sibling;var zn=Ot(Fe,Kt,qe[Un],yt);if(zn===null){Kt===null&&(Kt=Yi);break}p&&Kt&&zn.alternate===null&&m(Fe,Kt),Ne=U(zn,Ne,Un),jr===null?Ht=zn:jr.sibling=zn,jr=zn,Kt=Yi}if(Un===qe.length)return w(Fe,Kt),Cn&&z(Fe,Un),Ht;if(Kt===null){for(;Un<qe.length;Un++)Kt=vt(Fe,qe[Un],yt),Kt!==null&&(Ne=U(Kt,Ne,Un),jr===null?Ht=Kt:jr.sibling=Kt,jr=Kt);return Cn&&z(Fe,Un),Ht}for(Kt=C(Kt);Un<qe.length;Un++)Yi=sn(Kt,Fe,Un,qe[Un],yt),Yi!==null&&(p&&Yi.alternate!==null&&Kt.delete(Yi.key===null?Un:Yi.key),Ne=U(Yi,Ne,Un),jr===null?Ht=Yi:jr.sibling=Yi,jr=Yi);return p&&Kt.forEach(function(Lf){return m(Fe,Lf)}),Cn&&z(Fe,Un),Ht}function nx(Fe,Ne,qe,yt){if(qe==null)throw Error(i(151));for(var Ht=null,jr=null,Kt=Ne,Un=Ne=0,Yi=null,zn=qe.next();Kt!==null&&!zn.done;Un++,zn=qe.next()){Kt.index>Un?(Yi=Kt,Kt=null):Yi=Kt.sibling;var Lf=Ot(Fe,Kt,zn.value,yt);if(Lf===null){Kt===null&&(Kt=Yi);break}p&&Kt&&Lf.alternate===null&&m(Fe,Kt),Ne=U(Lf,Ne,Un),jr===null?Ht=Lf:jr.sibling=Lf,jr=Lf,Kt=Yi}if(zn.done)return w(Fe,Kt),Cn&&z(Fe,Un),Ht;if(Kt===null){for(;!zn.done;Un++,zn=qe.next())zn=vt(Fe,zn.value,yt),zn!==null&&(Ne=U(zn,Ne,Un),jr===null?Ht=zn:jr.sibling=zn,jr=zn);return Cn&&z(Fe,Un),Ht}for(Kt=C(Kt);!zn.done;Un++,zn=qe.next())zn=sn(Kt,Fe,Un,zn.value,yt),zn!==null&&(p&&zn.alternate!==null&&Kt.delete(zn.key===null?Un:zn.key),Ne=U(zn,Ne,Un),jr===null?Ht=zn:jr.sibling=zn,jr=zn);return p&&Kt.forEach(function(Hge){return m(Fe,Hge)}),Cn&&z(Fe,Un),Ht}function Ih(Fe,Ne,qe,yt){if(typeof qe=="object"&&qe!==null&&qe.type===Wm&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case rS:e:{for(var Ht=qe.key;Ne!==null;){if(Ne.key===Ht){if(Ht=qe.type,Ht===Wm){if(Ne.tag===7){w(Fe,Ne.sibling),yt=R(Ne,qe.props.children),yt.return=Fe,Fe=yt;break e}}else if(Ne.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Tf&&wt(Ht)===Ne.type){w(Fe,Ne.sibling),yt=R(Ne,qe.props),Bn(yt,qe),yt.return=Fe,Fe=yt;break e}w(Fe,Ne);break}else m(Fe,Ne);Ne=Ne.sibling}qe.type===Wm?(yt=bh(qe.props.children,Fe.mode,yt,qe.key),yt.return=Fe,Fe=yt):(yt=nS(qe.type,qe.key,qe.props,null,Fe.mode,yt),Bn(yt,qe),yt.return=Fe,Fe=yt)}return Q(Fe);case Gm:e:{for(Ht=qe.key;Ne!==null;){if(Ne.key===Ht)if(Ne.tag===4&&Ne.stateNode.containerInfo===qe.containerInfo&&Ne.stateNode.implementation===qe.implementation){w(Fe,Ne.sibling),yt=R(Ne,qe.children||[]),yt.return=Fe,Fe=yt;break e}else{w(Fe,Ne);break}else m(Fe,Ne);Ne=Ne.sibling}yt=gO(qe,Fe.mode,yt),yt.return=Fe,Fe=yt}return Q(Fe);case Tf:return qe=wt(qe),Ih(Fe,Ne,qe,yt)}if(iS(qe))return _i(Fe,Ne,qe,yt);if(u(qe)){if(Ht=u(qe),typeof Ht!="function")throw Error(i(150));return qe=Ht.call(qe),nx(Fe,Ne,qe,yt)}if(typeof qe.then=="function")return Ih(Fe,Ne,Mn(qe),yt);if(qe.$$typeof===Mf)return Ih(Fe,Ne,j(Fe,qe),yt);Dr(Fe,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Ne!==null&&Ne.tag===6?(w(Fe,Ne.sibling),yt=R(Ne,qe),yt.return=Fe,Fe=yt):(w(Fe,Ne),yt=mO(qe,Fe.mode,yt),yt.return=Fe,Fe=yt),Q(Fe)):w(Fe,Ne)}return function(Fe,Ne,qe,yt){try{Ky=0;var Ht=Ih(Fe,Ne,qe,yt);return ng=null,Ht}catch(Kt){if(Kt===tg||Kt===mS)throw Kt;var jr=n(29,Kt,null,Fe.mode);return jr.lanes=yt,jr.return=Fe,jr}finally{}}}function mi(){for(var p=rg,m=jO=rg=0;m<p;){var w=wo[m];wo[m++]=null;var C=wo[m];wo[m++]=null;var R=wo[m];wo[m++]=null;var U=wo[m];if(wo[m++]=null,C!==null&&R!==null){var Q=C.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),C.pending=R}U!==0&&sr(w,R,U)}}function Cr(p,m,w,C){wo[rg++]=p,wo[rg++]=m,wo[rg++]=w,wo[rg++]=C,jO|=C,p.lanes|=C,p=p.alternate,p!==null&&(p.lanes|=C)}function Xr(p,m,w,C){return Cr(p,m,w,C),Di(p)}function Dt(p,m){return Cr(p,null,null,m),Di(p)}function sr(p,m,w){p.lanes|=w;var C=p.alternate;C!==null&&(C.lanes|=w);for(var R=!1,U=p.return;U!==null;)U.childLanes|=w,C=U.alternate,C!==null&&(C.childLanes|=w),U.tag===22&&(p=U.stateNode,p===null||p._visibility&1||(R=!0)),p=U,U=U.return;return p.tag===3?(U=p.stateNode,R&&m!==null&&(R=31-Bs(w),p=U.hiddenUpdates,C=p[R],C===null?p[R]=[m]:C.push(m),m.lane=w|536870912),U):null}function Di(p){if(50<tx)throw tx=0,JO=null,Error(i(185));for(var m=p.return;m!==null;)p=m,m=p.return;return p.tag===3?p.stateNode:null}function X(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ne(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function ge(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function Le(p,m,w){var C=p.updateQueue;if(C===null)return null;if(C=C.shared,(yn&2)!==0){var R=C.pending;return R===null?m.next=m:(m.next=R.next,R.next=m),C.pending=m,m=Di(p),sr(p,null,w),m}return Cr(p,C,m,w),Di(p)}function Ve(p,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194048)!==0)){var C=m.lanes;C&=p.pendingLanes,w|=C,m.lanes=w,P(p,w)}}function $e(p,m){var w=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,w===C)){var R=null,U=null;if(w=w.firstBaseUpdate,w!==null){do{var Q={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};U===null?R=U=Q:U=U.next=Q,w=w.next}while(w!==null);U===null?R=U=m:U=U.next=m}else R=U=m;w={baseState:C.baseState,firstBaseUpdate:R,lastBaseUpdate:U,shared:C.shared,callbacks:C.callbacks},p.updateQueue=w;return}p=w.lastBaseUpdate,p===null?w.firstBaseUpdate=m:p.next=m,w.lastBaseUpdate=m}function lt(){if(BO){var p=eg;if(p!==null)throw p}}function it(p,m,w,C){BO=!1;var R=p.updateQueue;Of=!1;var U=R.firstBaseUpdate,Q=R.lastBaseUpdate,ve=R.shared.pending;if(ve!==null){R.shared.pending=null;var Xe=ve,ot=Xe.next;Xe.next=null,Q===null?U=ot:Q.next=ot,Q=Xe;var Et=p.alternate;Et!==null&&(Et=Et.updateQueue,ve=Et.lastBaseUpdate,ve!==Q&&(ve===null?Et.firstBaseUpdate=ot:ve.next=ot,Et.lastBaseUpdate=Xe))}if(U!==null){var vt=R.baseState;Q=0,Et=ot=Xe=null,ve=U;do{var Ot=ve.lane&-536870913,sn=Ot!==ve.lane;if(sn?(Sn&Ot)===Ot:(C&Ot)===Ot){Ot!==0&&Ot===Qm&&(BO=!0),Et!==null&&(Et=Et.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var _i=p,nx=ve;Ot=m;var Ih=w;switch(nx.tag){case 1:if(_i=nx.payload,typeof _i=="function"){vt=_i.call(Ih,vt,Ot);break e}vt=_i;break e;case 3:_i.flags=_i.flags&-65537|128;case 0:if(_i=nx.payload,Ot=typeof _i=="function"?_i.call(Ih,vt,Ot):_i,Ot==null)break e;vt=yO({},vt,Ot);break e;case 2:Of=!0}}Ot=ve.callback,Ot!==null&&(p.flags|=64,sn&&(p.flags|=8192),sn=R.callbacks,sn===null?R.callbacks=[Ot]:sn.push(Ot))}else sn={lane:Ot,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Et===null?(ot=Et=sn,Xe=vt):Et=Et.next=sn,Q|=Ot;if(ve=ve.next,ve===null){if(ve=R.shared.pending,ve===null)break;sn=ve,ve=sn.next,sn.next=null,R.lastBaseUpdate=sn,R.shared.pending=null}}while(!0);Et===null&&(Xe=vt),R.baseState=Xe,R.firstBaseUpdate=ot,R.lastBaseUpdate=Et,U===null&&(R.shared.lanes=0),Nf|=Q,p.lanes=Q,p.memoizedState=vt}}function ht(p,m){if(typeof p!="function")throw Error(i(191,p));p.call(m)}function ft(p,m){var w=p.callbacks;if(w!==null)for(p.callbacks=null,p=0;p<w.length;p++)ht(w[p],m)}function mt(p,m){p=Zc,g(vS,p),g(ig,m),Zc=p|m.baseLanes}function je(){g(vS,Zc),g(ig,ig.current)}function J(){Zc=vS.current,h(ig),h(vS)}function de(p){var m=p.alternate;g(si,si.current&1),g(Gs,p),hl===null&&(m===null||ig.current!==null||m.memoizedState!==null)&&(hl=p)}function Se(p){g(si,si.current),g(Gs,p),hl===null&&(hl=p)}function Ae(p){p.tag===22?(g(si,si.current),g(Gs,p),hl===null&&(hl=p)):_e()}function _e(){g(si,si.current),g(Gs,Gs.current)}function Qe(p){h(Gs),hl===p&&(hl=null),h(si)}function st(p){for(var m=p;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||TO(w)||CO(w)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function et(){throw Error(i(321))}function gt(p,m){if(m===null)return!1;for(var w=0;w<m.length&&w<p.length;w++)if(!Hs(p[w],m[w]))return!1;return!0}function dt(p,m,w,C,R,U){return Kc=U,ln=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Vt.H=p===null||p.memoizedState===null?H8:VO,Ch=!1,U=w(C,R),Ch=!1,ag&&(U=bt(m,w,C,R)),Rt(p),U}function Rt(p){Vt.H=Zy;var m=nr!==null&&nr.next!==null;if(Kc=0,vi=nr=ln=null,yS=!1,Yy=0,sg=null,m)throw Error(i(300));p===null||yi||(p=p.dependencies,p!==null&&me(p)&&(yi=!0))}function bt(p,m,w,C){ln=p;var R=0;do{if(ag&&(sg=null),Yy=0,ag=!1,25<=R)throw Error(i(301));if(R+=1,vi=nr=null,p.updateQueue!=null){var U=p.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}Vt.H=G8,U=m(w,C)}while(ag);return U}function Ut(){var p=Vt.H,m=p.useState()[0];return m=typeof m.then=="function"?St(m):m,p=p.useState()[0],(nr!==null?nr.memoizedState:null)!==p&&(ln.flags|=1024),m}function Xt(){var p=xS!==0;return xS=0,p}function wn(p,m,w){m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~w}function en(p){if(yS){for(p=p.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}yS=!1}Kc=0,vi=nr=ln=null,ag=!1,Yy=xS=0,sg=null}function Pt(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?ln.memoizedState=vi=p:vi=vi.next=p,vi}function ct(){if(nr===null){var p=ln.alternate;p=p!==null?p.memoizedState:null}else p=nr.next;var m=vi===null?ln.memoizedState:vi.next;if(m!==null)vi=m,nr=p;else{if(p===null)throw ln.alternate===null?Error(i(467)):Error(i(310));nr=p,p={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},vi===null?ln.memoizedState=vi=p:vi=vi.next=p}return vi}function Lt(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function St(p){var m=Yy;return Yy+=1,sg===null&&(sg=[]),p=Tt(sg,p,m),m=ln,(vi===null?m.memoizedState:vi.next)===null&&(m=m.alternate,Vt.H=m===null||m.memoizedState===null?H8:VO),p}function kn(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return St(p);if(p.$$typeof===Mf)return K(p)}throw Error(i(438,String(p)))}function Lr(p){var m=null,w=ln.updateQueue;if(w!==null&&(m=w.memoCache),m==null){var C=ln.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(m={data:C.data.map(function(R){return R.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),w===null&&(w=Lt(),ln.updateQueue=w),w.memoCache=m,w=m.data[m.index],w===void 0)for(w=m.data[m.index]=Array(p),C=0;C<p;C++)w[C]=Qpe;return m.index++,w}function an(p,m){return typeof m=="function"?m(p):m}function Kr(p){var m=ct();return Tn(m,nr,p)}function Tn(p,m,w){var C=p.queue;if(C===null)throw Error(i(311));C.lastRenderedReducer=w;var R=p.baseQueue,U=C.pending;if(U!==null){if(R!==null){var Q=R.next;R.next=U.next,U.next=Q}m.baseQueue=R=U,C.pending=null}if(U=p.baseState,R===null)p.memoizedState=U;else{m=R.next;var ve=Q=null,Xe=null,ot=m,Et=!1;do{var vt=ot.lane&-536870913;if(vt!==ot.lane?(Sn&vt)===vt:(Kc&vt)===vt){var Ot=ot.revertLane;if(Ot===0)Xe!==null&&(Xe=Xe.next={lane:0,revertLane:0,gesture:null,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),vt===Qm&&(Et=!0);else if((Kc&Ot)===Ot){ot=ot.next,Ot===Qm&&(Et=!0);continue}else vt={lane:0,revertLane:ot.revertLane,gesture:null,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Xe===null?(ve=Xe=vt,Q=U):Xe=Xe.next=vt,ln.lanes|=Ot,Nf|=Ot;vt=ot.action,Ch&&w(U,vt),U=ot.hasEagerState?ot.eagerState:w(U,vt)}else Ot={lane:vt,revertLane:ot.revertLane,gesture:ot.gesture,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Xe===null?(ve=Xe=Ot,Q=U):Xe=Xe.next=Ot,ln.lanes|=vt,Nf|=vt;ot=ot.next}while(ot!==null&&ot!==m);if(Xe===null?Q=U:Xe.next=ve,!Hs(U,p.memoizedState)&&(yi=!0,Et&&(w=eg,w!==null)))throw w;p.memoizedState=U,p.baseState=Q,p.baseQueue=Xe,C.lastRenderedState=U}return R===null&&(C.lanes=0),[p.memoizedState,C.dispatch]}function Ur(p){var m=ct(),w=m.queue;if(w===null)throw Error(i(311));w.lastRenderedReducer=p;var C=w.dispatch,R=w.pending,U=m.memoizedState;if(R!==null){w.pending=null;var Q=R=R.next;do U=p(U,Q.action),Q=Q.next;while(Q!==R);Hs(U,m.memoizedState)||(yi=!0),m.memoizedState=U,m.baseQueue===null&&(m.baseState=U),w.lastRenderedState=U}return[U,C]}function Li(p,m,w){var C=ln,R=ct(),U=Cn;if(U){if(w===void 0)throw Error(i(407));w=w()}else w=m();var Q=!Hs((nr||R).memoizedState,w);if(Q&&(R.memoizedState=w,yi=!0),R=R.queue,Bc(Xl.bind(null,C,R,p),[p]),R.getSnapshot!==m||Q||vi!==null&&vi.memoizedState.tag&1){if(C.flags|=2048,jc(9,{destroy:void 0},gi.bind(null,C,R,w,m),null),or===null)throw Error(i(349));U||Kc&127||ai(C,m,w)}return w}function ai(p,m,w){p.flags|=16384,p={getSnapshot:m,value:w},m=ln.updateQueue,m===null?(m=Lt(),ln.updateQueue=m,m.stores=[p]):(w=m.stores,w===null?m.stores=[p]:w.push(p))}function gi(p,m,w,C){m.value=w,m.getSnapshot=C,Ca(m)&&Cy(p)}function Xl(p,m,w){return w(function(){Ca(m)&&Cy(p)})}function Ca(p){var m=p.getSnapshot;p=p.value;try{var w=m();return!Hs(p,w)}catch{return!0}}function Cy(p){var m=Dt(p,2);m!==null&&us(m,p,2)}function gf(p){var m=Pt();if(typeof p=="function"){var w=p;if(p=w(),Ch){B(!0);try{w()}finally{B(!1)}}}return m.memoizedState=m.baseState=p,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:p},m}function Fc(p,m,w,C){return p.baseState=w,Tn(p,nr,typeof C=="function"?C:an)}function vf(p,m,w,C,R){if(Gw(p))throw Error(i(485));if(p=m.action,p!==null){var U={payload:R,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){U.listeners.push(Q)}};Vt.T!==null?w(!0):U.isTransition=!1,C(U),w=m.pending,w===null?(U.next=m.pending=U,yf(m,U)):(U.next=w.next,m.pending=w.next=U)}}function yf(p,m){var w=m.action,C=m.payload,R=p.state;if(m.isTransition){var U=Vt.T,Q={};Vt.T=Q;try{var ve=w(R,C),Xe=Vt.S;Xe!==null&&Xe(Q,ve),Py(p,m,ve)}catch(ot){fh(p,m,ot)}finally{U!==null&&Q.types!==null&&(U.types=Q.types),Vt.T=U}}else try{U=w(R,C),Py(p,m,U)}catch(ot){fh(p,m,ot)}}function Py(p,m,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(C){xf(p,m,C)},function(C){return fh(p,m,C)}):xf(p,m,w)}function xf(p,m,w){m.status="fulfilled",m.value=w,Nm(m),p.state=w,m=p.pending,m!==null&&(w=m.next,w===m?p.pending=null:(w=w.next,m.next=w,yf(p,w)))}function fh(p,m,w){var C=p.pending;if(p.pending=null,C!==null){C=C.next;do m.status="rejected",m.reason=w,Nm(m),m=m.next;while(m!==C)}p.action=null}function Nm(p){p=p.listeners;for(var m=0;m<p.length;m++)(0,p[m])()}function Iy(p,m){return m}function dh(p,m){if(Cn){var w=or.formState;if(w!==null){e:{var C=ln;if(Cn){if(zr){var R=$me(zr,_o);if(R){zr=A8(R),C=qme(R);break e}}le(C)}C=!1}C&&(m=w[0])}}w=Pt(),w.memoizedState=w.baseState=m,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:m},w.queue=C,w=ll.bind(null,ln,C),C.dispatch=w,C=gf(!1);var U=VI.bind(null,ln,!1,C.queue);return C=Pt(),R={state:m,dispatch:null,action:p,pending:null},C.queue=R,w=vf.bind(null,ln,R,U,w),R.dispatch=w,C.memoizedState=p,[m,w,!1]}function Rm(p){var m=ct();return Oy(m,nr,p)}function Oy(p,m,w){if(m=Tn(p,m,Iy)[0],p=Kr(an)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var C=St(m)}catch(Q){throw Q===tg?mS:Q}else C=m;m=ct();var R=m.queue,U=R.dispatch;return w!==m.memoizedState&&(ln.flags|=2048,jc(9,{destroy:void 0},Us.bind(null,R,w),null)),[C,U,p]}function Us(p,m){p.action=m}function Dm(p){var m=ct(),w=nr;if(w!==null)return Oy(m,w,p);ct(),m=m.memoizedState,w=ct();var C=w.queue.dispatch;return w.memoizedState=p,[m,C,!1]}function jc(p,m,w,C){return p={tag:p,create:w,deps:C,inst:m,next:null},m=ln.updateQueue,m===null&&(m=Lt(),ln.updateQueue=m),w=m.lastEffect,w===null?m.lastEffect=p.next=p:(C=w.next,w.next=p,p.next=C,m.lastEffect=p),p}function ky(){return ct().memoizedState}function bf(p,m,w,C){var R=Pt();ln.flags|=p,R.memoizedState=jc(1|m,{destroy:void 0},w,C===void 0?null:C)}function hh(p,m,w,C){var R=ct();C=C===void 0?null:C;var U=R.memoizedState.inst;nr!==null&&C!==null&&gt(C,nr.memoizedState.deps)?R.memoizedState=jc(m,U,w,C):(ln.flags|=p,R.memoizedState=jc(1|m,U,w,C))}function Ny(p,m){bf(8390656,8,p,m)}function Bc(p,m){hh(2048,8,p,m)}function ph(p){ln.flags|=4;var m=ln.updateQueue;if(m===null)m=Lt(),ln.updateQueue=m,m.events=[p];else{var w=m.events;w===null?m.events=[p]:w.push(p)}}function ol(p){var m=ct().memoizedState;return ph({ref:m,nextImpl:p}),function(){if(yn&2)throw Error(i(440));return m.impl.apply(void 0,arguments)}}function Ry(p,m){return hh(4,2,p,m)}function Lm(p,m){return hh(4,4,p,m)}function Um(p,m){if(typeof m=="function"){p=p();var w=m(p);return function(){typeof w=="function"?w():m(null)}}if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function _f(p,m,w){w=w!=null?w.concat([p]):null,hh(4,4,Um.bind(null,m,p),w)}function zm(){}function wf(p,m){var w=ct();m=m===void 0?null:m;var C=w.memoizedState;return m!==null&&gt(m,C[1])?C[0]:(w.memoizedState=[p,m],p)}function Fm(p,m){var w=ct();m=m===void 0?null:m;var C=w.memoizedState;if(m!==null&&gt(m,C[1]))return C[0];if(C=p(),Ch){B(!0);try{p()}finally{B(!1)}}return w.memoizedState=[C,m],C}function ha(p,m,w){return w===void 0||Kc&1073741824&&!(Sn&261930)?p.memoizedState=m:(p.memoizedState=w,p=F6(),ln.lanes|=p,Nf|=p,w)}function Vw(p,m,w,C){return Hs(w,m)?w:ig.current!==null?(p=ha(p,w,C),Hs(p,m)||(yi=!0),p):!(Kc&42)||Kc&1073741824&&!(Sn&261930)?(yi=!0,p.memoizedState=w):(p=F6(),ln.lanes|=p,Nf|=p,m)}function mh(p,m,w,C,R){var U=qc();Xi(U!==0&&8>U?U:8);var Q=Vt.T,ve={};Vt.T=ve,VI(p,!1,m,w);try{var Xe=R(),ot=Vt.S;if(ot!==null&&ot(ve,Xe),Xe!==null&&typeof Xe=="object"&&typeof Xe.then=="function"){var Et=Me(Xe,C);Sf(p,m,Et,Fs(p))}else Sf(p,m,C,Fs(p))}catch(vt){Sf(p,m,{then:function(){},status:"rejected",reason:vt},Fs())}finally{Xi(U),Q!==null&&ve.types!==null&&(Q.types=ve.types),Vt.T=Q}}function gh(p){var m=p.memoizedState;if(m!==null)return m;m={memoizedState:$m,baseState:$m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:$m},next:null};var w={};return m.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:w},next:null},p.memoizedState=m,p=p.alternate,p!==null&&(p.memoizedState=m),m}function jm(){return K(wh)}function Hw(){return ct().memoizedState}function pa(){return ct().memoizedState}function zs(p){for(var m=p.return;m!==null;){switch(m.tag){case 24:case 3:var w=Fs();p=ge(w);var C=Le(m,p,w);C!==null&&(us(C,m,w),Ve(C,m,w)),m={cache:re()},p.payload=m;return}m=m.return}}function Pa(p,m,w){var C=Fs();w={lane:C,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},Gw(p)?YB(m,w):(w=Xr(p,m,w,C),w!==null&&(us(w,p,C),ZB(w,m,C)))}function ll(p,m,w){var C=Fs();Sf(p,m,w,C)}function Sf(p,m,w,C){var R={lane:C,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null};if(Gw(p))YB(m,R);else{var U=p.alternate;if(p.lanes===0&&(U===null||U.lanes===0)&&(U=m.lastRenderedReducer,U!==null))try{var Q=m.lastRenderedState,ve=U(Q,w);if(R.hasEagerState=!0,R.eagerState=ve,Hs(ve,Q))return Cr(p,m,R,0),or===null&&mi(),!1}catch{}finally{}if(w=Xr(p,m,R,C),w!==null)return us(w,p,C),ZB(w,m,C),!0}return!1}function VI(p,m,w,C){if(C={lane:2,revertLane:We(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},Gw(p)){if(m)throw Error(i(479))}else m=Xr(p,w,C,2),m!==null&&us(m,p,2)}function Gw(p){var m=p.alternate;return p===ln||m!==null&&m===ln}function YB(p,m){ag=yS=!0;var w=p.pending;w===null?m.next=m:(m.next=w.next,w.next=m),p.pending=m}function ZB(p,m,w){if(w&4194048){var C=m.lanes;C&=p.pendingLanes,w|=C,m.lanes=w,P(p,w)}}function HI(p,m,w,C){m=p.memoizedState,w=w(C,m),w=w==null?m:yO({},m,w),p.memoizedState=w,p.lanes===0&&(p.updateQueue.baseState=w)}function JB(p,m,w,C,R,U,Q){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,U,Q):m.prototype&&m.prototype.isPureReactComponent?!ze(w,C)||!ze(R,U):!0}function QB(p,m,w,C){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,C),m.state!==p&&HO.enqueueReplaceState(m,m.state,null)}function vh(p,m){var w=m;if("ref"in m){w={};for(var C in m)C!=="ref"&&(w[C]=m[C])}if(p=p.defaultProps){w===m&&(w=yO({},w));for(var R in p)w[R]===void 0&&(w[R]=p[R])}return w}function Ww(p,m){try{var w=p.onUncaughtError;w(m.value,{componentStack:m.stack})}catch(C){setTimeout(function(){throw C})}}function e6(p,m,w){try{var C=p.onCaughtError;C(w.value,{componentStack:w.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function GI(p,m,w){return w=ge(w),w.tag=3,w.payload={element:null},w.callback=function(){Ww(p,m)},w}function t6(p){return p=ge(p),p.tag=3,p}function n6(p,m,w,C){var R=w.type.getDerivedStateFromError;if(typeof R=="function"){var U=C.value;p.payload=function(){return R(U)},p.callback=function(){e6(m,w,C)}}var Q=w.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(p.callback=function(){e6(m,w,C),typeof R!="function"&&(Rf===null?Rf=new Set([this]):Rf.add(this));var ve=C.stack;this.componentDidCatch(C.value,{componentStack:ve!==null?ve:""})})}function Rpe(p,m,w,C,R){if(w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(m=w.alternate,m!==null&&ye(m,w,R,!0),w=Gs.current,w!==null){switch(w.tag){case 31:case 13:return hl===null?eS():w.alternate===null&&Yr===0&&(Yr=3),w.flags&=-257,w.flags|=65536,w.lanes=R,C===gS?w.flags|=16384:(m=w.updateQueue,m===null?w.updateQueue=new Set([C]):m.add(C),hO(p,C,R)),!1;case 22:return w.flags|=65536,C===gS?w.flags|=16384:(m=w.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([C])},w.updateQueue=m):(w=m.retryQueue,w===null?m.retryQueue=new Set([C]):w.add(C)),hO(p,C,R)),!1}throw Error(i(435,w.tag))}return hO(p,C,R),eS(),!1}if(Cn)return m=Gs.current,m!==null?(!(m.flags&65536)&&(m.flags|=256),m.flags|=65536,m.lanes=R,C!==DO&&(p=Error(i(422),{cause:C}),Te(W(p,w)))):(C!==DO&&(m=Error(i(423),{cause:C}),Te(W(m,w))),p=p.current.alternate,p.flags|=65536,R&=-R,p.lanes|=R,C=W(C,w),R=GI(p.stateNode,C,R),$e(p,R),Yr!==4&&(Yr=2)),!1;var U=Error(i(520),{cause:C});if(U=W(U,w),Qy===null?Qy=[U]:Qy.push(U),Yr!==4&&(Yr=2),m===null)return!0;C=W(C,w),w=m;do{switch(w.tag){case 3:return w.flags|=65536,p=R&-R,w.lanes|=p,p=GI(w.stateNode,C,p),$e(w,p),!1;case 1:if(m=w.type,U=w.stateNode,(w.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Rf===null||!Rf.has(U))))return w.flags|=65536,R&=-R,w.lanes|=R,R=t6(R),n6(R,p,w,C),$e(w,R),!1}w=w.return}while(w!==null);return!1}function ma(p,m,w,C){m.child=p===null?V8(m,null,w,C):Th(m,p.child,w,C)}function r6(p,m,w,C,R){w=w.render;var U=m.ref;if("ref"in C){var Q={};for(var ve in C)ve!=="ref"&&(Q[ve]=C[ve])}else Q=C;return Pe(m),C=dt(p,m,w,Q,U,R),ve=Xt(),p!==null&&!yi?(wn(p,m,R),Vc(p,m,R)):(Cn&&ve&&Z(m),m.flags|=1,ma(p,m,C,R),m.child)}function i6(p,m,w,C,R){if(p===null){var U=w.type;return typeof U=="function"&&!pO(U)&&U.defaultProps===void 0&&w.compare===null?(m.tag=15,m.type=U,a6(p,m,U,C,R)):(p=nS(w.type,null,C,m,m.mode,R),p.ref=m.ref,p.return=m,m.child=p)}if(U=p.child,!ZI(p,R)){var Q=U.memoizedProps;if(w=w.compare,w=w!==null?w:ze,w(Q,C)&&p.ref===m.ref)return Vc(p,m,R)}return m.flags|=1,p=Wc(U,C),p.ref=m.ref,p.return=m,m.child=p}function a6(p,m,w,C,R){if(p!==null){var U=p.memoizedProps;if(ze(U,C)&&p.ref===m.ref)if(yi=!1,m.pendingProps=C=U,ZI(p,R))p.flags&131072&&(yi=!0);else return m.lanes=p.lanes,Vc(p,m,R)}return WI(p,m,w,C,R)}function s6(p,m,w,C){var R=C.children,U=p!==null?p.memoizedState:null;if(p===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if(m.flags&128){if(U=U!==null?U.baseLanes|w:w,p!==null){for(C=m.child=p.child,R=0;C!==null;)R=R|C.lanes|C.childLanes,C=C.sibling;C=R&~U}else C=0,m.child=null;return o6(p,m,U,w,C)}if(w&536870912)m.memoizedState={baseLanes:0,cachePool:null},p!==null&&xt(m,U!==null?U.cachePool:null),U!==null?mt(m,U):je(),Ae(m);else return C=m.lanes=536870912,o6(p,m,U!==null?U.baseLanes|w:w,w,C)}else U!==null?(xt(m,U.cachePool),mt(m,U),_e(),m.memoizedState=null):(p!==null&&xt(m,null),je(),_e());return ma(p,m,R,w),m.child}function Dy(p,m){return p!==null&&p.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function o6(p,m,w,C,R){var U=Ze();return U=U===null?null:{parent:$c?Fr._currentValue:Fr._currentValue2,pool:U},m.memoizedState={baseLanes:w,cachePool:U},p!==null&&xt(m,null),je(),Ae(m),p!==null&&ye(p,m,C,!0),m.childLanes=R,null}function $w(p,m){return m=Xw({mode:m.mode,children:m.children},p.mode),m.ref=p.ref,p.child=m,m.return=p,m}function l6(p,m,w){return Th(m,p.child,null,w),p=$w(m,m.pendingProps),p.flags|=2,Qe(m),m.memoizedState=null,p}function Dpe(p,m,w){var C=m.pendingProps,R=(m.flags&128)!==0;if(m.flags&=-129,p===null){if(Cn){if(C.mode==="hidden")return p=$w(m,C),m.lanes=536870912,Dy(null,p);if(Se(m),(p=zr)?(p=nge(p,_o),p!==null&&(m.memoizedState={dehydrated:p,treeContext:Cf!==null?{id:Zl,overflow:Jl}:null,retryLane:536870912,hydrationErrors:null},w=a8(p),w.return=m,m.child=w,va=m,zr=null)):p=null,p===null)throw le(m);return m.lanes=536870912,null}return $w(m,C)}var U=p.memoizedState;if(U!==null){var Q=U.dehydrated;if(Se(m),R)if(m.flags&256)m.flags&=-257,m=l6(p,m,w);else if(m.memoizedState!==null)m.child=p.child,m.flags|=128,m=null;else throw Error(i(558));else if(yi||ye(p,m,w,!1),R=(w&p.childLanes)!==0,yi||R){if(C=or,C!==null&&(Q=k(C,w),Q!==0&&Q!==U.retryLane))throw U.retryLane=Q,Dt(p,Q),us(C,p,Q),GO;eS(),m=l6(p,m,w)}else p=U.treeContext,ka&&(zr=Zme(Q),va=m,Cn=!0,If=null,_o=!1,p!==null&&ie(m,p)),m=$w(m,C),m.flags|=4096;return m}return p=Wc(p.child,{mode:C.mode,children:C.children}),p.ref=m.ref,m.child=p,p.return=m,p}function qw(p,m){var w=m.ref;if(w===null)p!==null&&p.ref!==null&&(m.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(i(284));(p===null||p.ref!==w)&&(m.flags|=4194816)}}function WI(p,m,w,C,R){return Pe(m),w=dt(p,m,w,C,void 0,R),C=Xt(),p!==null&&!yi?(wn(p,m,R),Vc(p,m,R)):(Cn&&C&&Z(m),m.flags|=1,ma(p,m,w,R),m.child)}function c6(p,m,w,C,R,U){return Pe(m),m.updateQueue=null,w=bt(m,C,w,R),Rt(p),C=Xt(),p!==null&&!yi?(wn(p,m,U),Vc(p,m,U)):(Cn&&C&&Z(m),m.flags|=1,ma(p,m,w,U),m.child)}function u6(p,m,w,C,R){if(Pe(m),m.stateNode===null){var U=Km,Q=w.contextType;typeof Q=="object"&&Q!==null&&(U=K(Q)),U=new w(C,U),m.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=HO,m.stateNode=U,U._reactInternals=m,U=m.stateNode,U.props=C,U.state=m.memoizedState,U.refs={},X(m),Q=w.contextType,U.context=typeof Q=="object"&&Q!==null?K(Q):Km,U.state=m.memoizedState,Q=w.getDerivedStateFromProps,typeof Q=="function"&&(HI(m,w,Q,C),U.state=m.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(Q=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),Q!==U.state&&HO.enqueueReplaceState(U,U.state,null),it(m,C,U,R),lt(),U.state=m.memoizedState),typeof U.componentDidMount=="function"&&(m.flags|=4194308),C=!0}else if(p===null){U=m.stateNode;var ve=m.memoizedProps,Xe=vh(w,ve);U.props=Xe;var ot=U.context,Et=w.contextType;Q=Km,typeof Et=="object"&&Et!==null&&(Q=K(Et));var vt=w.getDerivedStateFromProps;Et=typeof vt=="function"||typeof U.getSnapshotBeforeUpdate=="function",ve=m.pendingProps!==ve,Et||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ve||ot!==Q)&&QB(m,U,C,Q),Of=!1;var Ot=m.memoizedState;U.state=Ot,it(m,C,U,R),lt(),ot=m.memoizedState,ve||Ot!==ot||Of?(typeof vt=="function"&&(HI(m,w,vt,C),ot=m.memoizedState),(Xe=Of||JB(m,w,Xe,C,Ot,ot,Q))?(Et||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(m.flags|=4194308)):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=ot),U.props=C,U.state=ot,U.context=Q,C=Xe):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{U=m.stateNode,ne(p,m),Q=m.memoizedProps,Et=vh(w,Q),U.props=Et,vt=m.pendingProps,Ot=U.context,ot=w.contextType,Xe=Km,typeof ot=="object"&&ot!==null&&(Xe=K(ot)),ve=w.getDerivedStateFromProps,(ot=typeof ve=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==vt||Ot!==Xe)&&QB(m,U,C,Xe),Of=!1,Ot=m.memoizedState,U.state=Ot,it(m,C,U,R),lt();var sn=m.memoizedState;Q!==vt||Ot!==sn||Of||p!==null&&p.dependencies!==null&&me(p.dependencies)?(typeof ve=="function"&&(HI(m,w,ve,C),sn=m.memoizedState),(Et=Of||JB(m,w,Et,C,Ot,sn,Xe)||p!==null&&p.dependencies!==null&&me(p.dependencies))?(ot||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(C,sn,Xe),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(C,sn,Xe)),typeof U.componentDidUpdate=="function"&&(m.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===p.memoizedProps&&Ot===p.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===p.memoizedProps&&Ot===p.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=sn),U.props=C,U.state=sn,U.context=Xe,C=Et):(typeof U.componentDidUpdate!="function"||Q===p.memoizedProps&&Ot===p.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===p.memoizedProps&&Ot===p.memoizedState||(m.flags|=1024),C=!1)}return U=C,qw(p,m),C=(m.flags&128)!==0,U||C?(U=m.stateNode,w=C&&typeof w.getDerivedStateFromError!="function"?null:U.render(),m.flags|=1,p!==null&&C?(m.child=Th(m,p.child,null,R),m.child=Th(m,null,w,R)):ma(p,m,w,R),m.memoizedState=U.state,p=m.child):p=Vc(p,m,R),p}function f6(p,m,w,C){return Ye(),m.flags|=256,ma(p,m,w,C),m.child}function $I(p){return{baseLanes:p,cachePool:Ke()}}function qI(p,m,w){return p=p!==null?p.childLanes&~w:0,m&&(p|=$s),p}function d6(p,m,w){var C=m.pendingProps,R=!1,U=(m.flags&128)!==0,Q;if((Q=U)||(Q=p!==null&&p.memoizedState===null?!1:(si.current&2)!==0),Q&&(R=!0,m.flags&=-129),Q=(m.flags&32)!==0,m.flags&=-33,p===null){if(Cn){if(R?de(m):_e(),(p=zr)?(p=rge(p,_o),p!==null&&(m.memoizedState={dehydrated:p,treeContext:Cf!==null?{id:Zl,overflow:Jl}:null,retryLane:536870912,hydrationErrors:null},w=a8(p),w.return=m,m.child=w,va=m,zr=null)):p=null,p===null)throw le(m);return CO(p)?m.lanes=32:m.lanes=536870912,null}var ve=C.children;return C=C.fallback,R?(_e(),R=m.mode,ve=Xw({mode:"hidden",children:ve},R),C=bh(C,R,w,null),ve.return=m,C.return=m,ve.sibling=C,m.child=ve,C=m.child,C.memoizedState=$I(w),C.childLanes=qI(p,Q,w),m.memoizedState=WO,Dy(null,C)):(de(m),XI(m,ve))}var Xe=p.memoizedState;if(Xe!==null&&(ve=Xe.dehydrated,ve!==null)){if(U)m.flags&256?(de(m),m.flags&=-257,m=KI(p,m,w)):m.memoizedState!==null?(_e(),m.child=p.child,m.flags|=128,m=null):(_e(),ve=C.fallback,R=m.mode,C=Xw({mode:"visible",children:C.children},R),ve=bh(ve,R,w,null),ve.flags|=2,C.return=m,ve.return=m,C.sibling=ve,m.child=C,Th(m,p.child,null,w),C=m.child,C.memoizedState=$I(w),C.childLanes=qI(p,Q,w),m.memoizedState=WO,m=Dy(null,C));else if(de(m),CO(ve))Q=Gme(ve).digest,C=Error(i(419)),C.stack="",C.digest=Q,Te({value:C,source:null,stack:null}),m=KI(p,m,w);else if(yi||ye(p,m,w,!1),Q=(w&p.childLanes)!==0,yi||Q){if(Q=or,Q!==null&&(C=k(Q,w),C!==0&&C!==Xe.retryLane))throw Xe.retryLane=C,Dt(p,C),us(Q,p,C),GO;TO(ve)||eS(),m=KI(p,m,w)}else TO(ve)?(m.flags|=192,m.child=p.child,m=null):(p=Xe.treeContext,ka&&(zr=Jme(ve),va=m,Cn=!0,If=null,_o=!1,p!==null&&ie(m,p)),m=XI(m,C.children),m.flags|=4096);return m}return R?(_e(),ve=C.fallback,R=m.mode,Xe=p.child,U=Xe.sibling,C=Wc(Xe,{mode:"hidden",children:C.children}),C.subtreeFlags=Xe.subtreeFlags&65011712,U!==null?ve=Wc(U,ve):(ve=bh(ve,R,w,null),ve.flags|=2),ve.return=m,C.return=m,C.sibling=ve,m.child=C,Dy(null,C),C=m.child,ve=p.child.memoizedState,ve===null?ve=$I(w):(R=ve.cachePool,R!==null?(Xe=$c?Fr._currentValue:Fr._currentValue2,R=R.parent!==Xe?{parent:Xe,pool:Xe}:R):R=Ke(),ve={baseLanes:ve.baseLanes|w,cachePool:R}),C.memoizedState=ve,C.childLanes=qI(p,Q,w),m.memoizedState=WO,Dy(p.child,C)):(de(m),w=p.child,p=w.sibling,w=Wc(w,{mode:"visible",children:C.children}),w.return=m,w.sibling=null,p!==null&&(Q=m.deletions,Q===null?(m.deletions=[p],m.flags|=16):Q.push(p)),m.child=w,m.memoizedState=null,w)}function XI(p,m){return m=Xw({mode:"visible",children:m},p.mode),m.return=p,p.child=m}function Xw(p,m){return p=n(22,p,null,m),p.lanes=0,p}function KI(p,m,w){return Th(m,p.child,null,w),p=XI(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function h6(p,m,w){p.lanes|=m;var C=p.alternate;C!==null&&(C.lanes|=m),Y(p.return,m,w)}function YI(p,m,w,C,R,U){var Q=p.memoizedState;Q===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:w,tailMode:R,treeForkCount:U}:(Q.isBackwards=m,Q.rendering=null,Q.renderingStartTime=0,Q.last=C,Q.tail=w,Q.tailMode=R,Q.treeForkCount=U)}function p6(p,m,w){var C=m.pendingProps,R=C.revealOrder,U=C.tail;C=C.children;var Q=si.current,ve=(Q&2)!==0;if(ve?(Q=Q&1|2,m.flags|=128):Q&=1,g(si,Q),ma(p,m,C,w),C=Cn?$y:0,!ve&&p!==null&&(p.flags&128)!==0)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&h6(p,w,m);else if(p.tag===19)h6(p,w,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(R){case"forwards":for(w=m.child,R=null;w!==null;)p=w.alternate,p!==null&&st(p)===null&&(R=w),w=w.sibling;w=R,w===null?(R=m.child,m.child=null):(R=w.sibling,w.sibling=null),YI(m,!1,R,w,U,C);break;case"backwards":case"unstable_legacy-backwards":for(w=null,R=m.child,m.child=null;R!==null;){if(p=R.alternate,p!==null&&st(p)===null){m.child=R;break}p=R.sibling,R.sibling=w,w=R,R=p}YI(m,!0,w,null,U,C);break;case"together":YI(m,!1,null,null,void 0,C);break;default:m.memoizedState=null}return m.child}function Vc(p,m,w){if(p!==null&&(m.dependencies=p.dependencies),Nf|=m.lanes,(w&m.childLanes)===0)if(p!==null){if(ye(p,m,w,!1),(w&m.childLanes)===0)return null}else return null;if(p!==null&&m.child!==p.child)throw Error(i(153));if(m.child!==null){for(p=m.child,w=Wc(p,p.pendingProps),m.child=w,w.return=m;p.sibling!==null;)p=p.sibling,w=w.sibling=Wc(p,p.pendingProps),w.return=m;w.sibling=null}return m.child}function ZI(p,m){return p.lanes&m?!0:(p=p.dependencies,!!(p!==null&&me(p)))}function Lpe(p,m,w){switch(m.tag){case 3:ue(m,m.stateNode.containerInfo),Ee(m,Fr,p.memoizedState.cache),Ye();break;case 27:case 5:ae(m);break;case 4:ue(m,m.stateNode.containerInfo);break;case 10:Ee(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,Se(m),null;break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(de(m),m.flags|=128,null):w&m.child.childLanes?d6(p,m,w):(de(m),p=Vc(p,m,w),p!==null?p.sibling:null);de(m);break;case 19:var R=(p.flags&128)!==0;if(C=(w&m.childLanes)!==0,C||(ye(p,m,w,!1),C=(w&m.childLanes)!==0),R){if(C)return p6(p,m,w);m.flags|=128}if(R=m.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),g(si,si.current),C)break;return null;case 22:return m.lanes=0,s6(p,m,w,m.pendingProps);case 24:Ee(m,Fr,p.memoizedState.cache)}return Vc(p,m,w)}function m6(p,m,w){if(p!==null)if(p.memoizedProps!==m.pendingProps)yi=!0;else{if(!ZI(p,w)&&!(m.flags&128))return yi=!1,Lpe(p,m,w);yi=(p.flags&131072)!==0}else yi=!1,Cn&&m.flags&1048576&&$(m,$y,m.index);switch(m.lanes=0,m.tag){case 16:e:{var C=m.pendingProps;if(p=wt(m.elementType),m.type=p,typeof p=="function")pO(p)?(C=vh(p,C),m.tag=1,m=u6(null,m,p,C,w)):(m.tag=0,m=WI(null,m,p,C,w));else{if(p!=null){var R=p.$$typeof;if(R===bO){m.tag=11,m=r6(null,m,p,C,w);break e}else if(R===SO){m.tag=14,m=i6(null,m,p,C,w);break e}}throw m=f(p)||p,Error(i(306,m,""))}}return m;case 0:return WI(p,m,m.type,m.pendingProps,w);case 1:return C=m.type,R=vh(C,m.pendingProps),u6(p,m,C,R,w);case 3:e:{if(ue(m,m.stateNode.containerInfo),p===null)throw Error(i(387));var U=m.pendingProps;R=m.memoizedState,C=R.element,ne(p,m),it(m,U,null,w);var Q=m.memoizedState;if(U=Q.cache,Ee(m,Fr,U),U!==R.cache&&xe(m,[Fr],w,!0),lt(),U=Q.element,ka&&R.isDehydrated)if(R={element:U,isDehydrated:!1,cache:Q.cache},m.updateQueue.baseState=R,m.memoizedState=R,m.flags&256){m=f6(p,m,U,w);break e}else if(U!==C){C=W(Error(i(424)),m),Te(C),m=f6(p,m,U,w);break e}else for(ka&&(zr=Yme(m.stateNode.containerInfo),va=m,Cn=!0,If=null,_o=!0),w=V8(m,null,U,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Ye(),U===C){m=Vc(p,m,w);break e}ma(p,m,U,w)}m=m.child}return m;case 26:if(dl)return qw(p,m),p===null?(w=C8(m.type,null,m.pendingProps,null))?m.memoizedState=w:Cn||(m.stateNode=Sge(m.type,m.pendingProps,Pf.current,m)):m.memoizedState=C8(m.type,p.memoizedProps,m.pendingProps,p.memoizedState),null;case 27:if(Ui)return ae(m),p===null&&Ui&&Cn&&(C=m.stateNode=R8(m.type,m.pendingProps,Pf.current,ga.current,!1),va=m,_o=!0,zr=Qme(m.type,C,zr)),ma(p,m,m.pendingProps.children,w),qw(p,m),p===null&&(m.flags|=4194304),m.child;case 5:return p===null&&Cn&&(bge(m.type,m.pendingProps,ga.current),(R=C=zr)&&(C=ege(C,m.type,m.pendingProps,_o),C!==null?(m.stateNode=C,va=m,zr=Kme(C),_o=!1,R=!0):R=!1),R||le(m)),ae(m),R=m.type,U=m.pendingProps,Q=p!==null?p.memoizedProps:null,C=U.children,aS(R,U)?C=null:Q!==null&&aS(R,Q)&&(m.flags|=32),m.memoizedState!==null&&(R=dt(p,m,Ut,null,null,w),$c?wh._currentValue=R:wh._currentValue2=R),qw(p,m),ma(p,m,C,w),m.child;case 6:return p===null&&Cn&&(_ge(m.pendingProps,ga.current),(p=w=zr)&&(w=tge(w,m.pendingProps,_o),w!==null?(m.stateNode=w,va=m,zr=null,p=!0):p=!1),p||le(m)),null;case 13:return d6(p,m,w);case 4:return ue(m,m.stateNode.containerInfo),C=m.pendingProps,p===null?m.child=Th(m,null,C,w):ma(p,m,C,w),m.child;case 11:return r6(p,m,m.type,m.pendingProps,w);case 7:return ma(p,m,m.pendingProps,w),m.child;case 8:return ma(p,m,m.pendingProps.children,w),m.child;case 12:return ma(p,m,m.pendingProps.children,w),m.child;case 10:return C=m.pendingProps,Ee(m,m.type,C.value),ma(p,m,C.children,w),m.child;case 9:return R=m.type._context,C=m.pendingProps.children,Pe(m),R=K(R),C=C(R),m.flags|=1,ma(p,m,C,w),m.child;case 14:return i6(p,m,m.type,m.pendingProps,w);case 15:return a6(p,m,m.type,m.pendingProps,w);case 19:return p6(p,m,w);case 31:return Dpe(p,m,w);case 22:return s6(p,m,w,m.pendingProps);case 24:return Pe(m),C=K(Fr),p===null?(R=Ze(),R===null&&(R=or,U=re(),R.pooledCache=U,U.refCount++,U!==null&&(R.pooledCacheLanes|=w),R=U),m.memoizedState={parent:C,cache:R},X(m),Ee(m,Fr,R)):(p.lanes&w&&(ne(p,m),it(m,null,null,w),lt()),R=p.memoizedState,U=m.memoizedState,R.parent!==C?(R={parent:C,cache:C},m.memoizedState=R,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=R),Ee(m,Fr,C)):(C=U.cache,Ee(m,Fr,C),C!==R.cache&&xe(m,[Fr],w,!0))),ma(p,m,m.pendingProps.children,w),m.child;case 29:throw m.pendingProps}throw Error(i(156,m.tag))}function cl(p){p.flags|=4}function Kw(p){Yl&&(p.flags|=8)}function g6(p,m){if(p!==null&&p.child===m.child)return!1;if(m.flags&16)return!0;for(p=m.child;p!==null;){if(p.flags&8218||p.subtreeFlags&8218)return!0;p=p.sibling}return!1}function JI(p,m,w,C){if(Oa)for(w=m.child;w!==null;){if(w.tag===5||w.tag===6)AO(p,w.stateNode);else if(!(w.tag===4||Ui&&w.tag===27)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else if(Yl)for(var R=m.child;R!==null;){if(R.tag===5){var U=R.stateNode;w&&C&&(U=S8(U,R.type,R.memoizedProps)),AO(p,U)}else if(R.tag===6)U=R.stateNode,w&&C&&(U=E8(U,R.memoizedProps)),AO(p,U);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)U=R.child,U!==null&&(U.return=R),JI(p,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function v6(p,m,w,C){var R=!1;if(Yl)for(var U=m.child;U!==null;){if(U.tag===5){var Q=U.stateNode;w&&C&&(Q=S8(Q,U.type,U.memoizedProps)),_8(p,Q)}else if(U.tag===6)Q=U.stateNode,w&&C&&(Q=E8(Q,U.memoizedProps)),_8(p,Q);else if(U.tag!==4){if(U.tag===22&&U.memoizedState!==null)R=U.child,R!==null&&(R.return=U),v6(p,U,!0,!0),R=!0;else if(U.child!==null){U.child.return=U,U=U.child;continue}}if(U===m)break;for(;U.sibling===null;){if(U.return===null||U.return===m)return R;U=U.return}U.sibling.return=U.return,U=U.sibling}return R}function y6(p,m){if(Yl&&g6(p,m)){p=m.stateNode;var w=p.containerInfo,C=b8();v6(C,m,!1,!1),p.pendingChildren=C,cl(m),Hme(w,C)}}function QI(p,m,w,C){if(Oa)p.memoizedProps!==C&&cl(m);else if(Yl){var R=p.stateNode,U=p.memoizedProps;if((p=g6(p,m))||U!==C){var Q=ga.current;U=Vme(R,w,U,C,!p,null),U===R?m.stateNode=R:(Kw(m),m8(U,w,C,Q)&&cl(m),m.stateNode=U,p&&JI(U,m,!1,!1))}else m.stateNode=R}}function eO(p,m,w,C,R){if(p.mode&32&&(w===null?mme(m,C):gme(m,w,C))){if(p.flags|=16777216,(R&335544128)===R||MO(m,C))if(v8(p.stateNode,m,C))p.flags|=8192;else if(G6())p.flags|=8192;else throw Mh=gS,FO}else p.flags&=-16777217}function x6(p,m){if(Age(m)){if(p.flags|=16777216,!N8(m))if(G6())p.flags|=8192;else throw Mh=gS,FO}else p.flags&=-16777217}function Yw(p,m){m!==null&&(p.flags|=4),p.flags&16384&&(m=p.tag!==22?A():536870912,p.lanes|=m,cg|=m)}function Ly(p,m){if(!Cn)switch(p.tailMode){case"hidden":m=p.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?p.tail=null:w.sibling=null;break;case"collapsed":w=p.tail;for(var C=null;w!==null;)w.alternate!==null&&(C=w),w=w.sibling;C===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function xr(p){var m=p.alternate!==null&&p.alternate.child===p.child,w=0,C=0;if(m)for(var R=p.child;R!==null;)w|=R.lanes|R.childLanes,C|=R.subtreeFlags&65011712,C|=R.flags&65011712,R.return=p,R=R.sibling;else for(R=p.child;R!==null;)w|=R.lanes|R.childLanes,C|=R.subtreeFlags,C|=R.flags,R.return=p,R=R.sibling;return p.subtreeFlags|=C,p.childLanes=w,m}function Upe(p,m,w){var C=m.pendingProps;switch(G(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(m),null;case 1:return xr(m),null;case 3:return w=m.stateNode,C=null,p!==null&&(C=p.memoizedState.cache),m.memoizedState.cache!==C&&(m.flags|=2048),ke(Fr),te(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(p===null||p.child===null)&&(fe(m)?cl(m):p===null||p.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,we())),y6(p,m),xr(m),null;case 26:if(dl){var R=m.type,U=m.memoizedState;return p===null?(cl(m),U!==null?(xr(m),x6(m,U)):(xr(m),eO(m,R,null,C,w))):U?U!==p.memoizedState?(cl(m),xr(m),x6(m,U)):(xr(m),m.flags&=-16777217):(U=p.memoizedProps,Oa?U!==C&&cl(m):QI(p,m,R,C),xr(m),eO(m,R,U,C,w)),null}case 27:if(Ui){if(he(m),w=Pf.current,R=m.type,p!==null&&m.stateNode!=null)Oa?p.memoizedProps!==C&&cl(m):QI(p,m,R,C);else{if(!C){if(m.stateNode===null)throw Error(i(166));return xr(m),null}p=ga.current,fe(m)?be(m,p):(p=R8(R,C,w,p,!0),m.stateNode=p,cl(m))}return xr(m),null}case 5:if(he(m),R=m.type,p!==null&&m.stateNode!=null)QI(p,m,R,C);else{if(!C){if(m.stateNode===null)throw Error(i(166));return xr(m),null}if(U=ga.current,fe(m))be(m,U),pge(m.stateNode,R,C,U)&&(m.flags|=64);else{var Q=ome(R,C,Pf.current,U,m);Kw(m),JI(Q,m,!1,!1),m.stateNode=Q,m8(Q,R,C,U)&&cl(m)}}return xr(m),eO(m,m.type,p===null?null:p.memoizedProps,m.pendingProps,w),null;case 6:if(p&&m.stateNode!=null)w=p.memoizedProps,Oa?w!==C&&cl(m):Yl&&(w!==C?(p=Pf.current,w=ga.current,Kw(m),m.stateNode=g8(C,p,w,m)):m.stateNode=p.stateNode);else{if(typeof C!="string"&&m.stateNode===null)throw Error(i(166));if(p=Pf.current,w=ga.current,fe(m)){if(!ka)throw Error(i(176));if(p=m.stateNode,w=m.memoizedProps,C=null,R=va,R!==null)switch(R.tag){case 27:case 5:C=R.memoizedProps}age(p,w,m,C)||le(m,!0)}else Kw(m),m.stateNode=g8(C,p,w,m)}return xr(m),null;case 31:if(w=m.memoizedState,p===null||p.memoizedState!==null){if(C=fe(m),w!==null){if(p===null){if(!C)throw Error(i(318));if(!ka)throw Error(i(556));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(557));sge(p,m)}else Ye(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;xr(m),p=!1}else w=we(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=w),p=!0;if(!p)return m.flags&256?(Qe(m),m):(Qe(m),null);if(m.flags&128)throw Error(i(558))}return xr(m),null;case 13:if(C=m.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(R=fe(m),C!==null&&C.dehydrated!==null){if(p===null){if(!R)throw Error(i(318));if(!ka)throw Error(i(344));if(R=m.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));oge(R,m)}else Ye(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;xr(m),R=!1}else R=we(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=R),R=!0;if(!R)return m.flags&256?(Qe(m),m):(Qe(m),null)}return Qe(m),m.flags&128?(m.lanes=w,m):(w=C!==null,p=p!==null&&p.memoizedState!==null,w&&(C=m.child,R=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(R=C.alternate.memoizedState.cachePool.pool),U=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(U=C.memoizedState.cachePool.pool),U!==R&&(C.flags|=2048)),w!==p&&w&&(m.child.flags|=8192),Yw(m,m.updateQueue),xr(m),null);case 4:return te(),y6(p,m),p===null&&fme(m.stateNode.containerInfo),xr(m),null;case 10:return ke(m.type),xr(m),null;case 19:if(h(si),C=m.memoizedState,C===null)return xr(m),null;if(R=(m.flags&128)!==0,U=C.rendering,U===null)if(R)Ly(C,!1);else{if(Yr!==0||p!==null&&p.flags&128)for(p=m.child;p!==null;){if(U=st(p),U!==null){for(m.flags|=128,Ly(C,!1),p=U.updateQueue,m.updateQueue=p,Yw(m,p),m.subtreeFlags=0,p=w,w=m.child;w!==null;)i8(w,p),w=w.sibling;return g(si,si.current&1|2),Cn&&z(m,C.treeForkCount),m.child}p=p.sibling}C.tail!==null&&fs()>ex&&(m.flags|=128,R=!0,Ly(C,!1),m.lanes=4194304)}else{if(!R)if(p=st(U),p!==null){if(m.flags|=128,R=!0,p=p.updateQueue,m.updateQueue=p,Yw(m,p),Ly(C,!0),C.tail===null&&C.tailMode==="hidden"&&!U.alternate&&!Cn)return xr(m),null}else 2*fs()-C.renderingStartTime>ex&&w!==536870912&&(m.flags|=128,R=!0,Ly(C,!1),m.lanes=4194304);C.isBackwards?(U.sibling=m.child,m.child=U):(p=C.last,p!==null?p.sibling=U:m.child=U,C.last=U)}return C.tail!==null?(p=C.tail,C.rendering=p,C.tail=p.sibling,C.renderingStartTime=fs(),p.sibling=null,w=si.current,g(si,R?w&1|2:w&1),Cn&&z(m,C.treeForkCount),p):(xr(m),null);case 22:case 23:return Qe(m),J(),C=m.memoizedState!==null,p!==null?p.memoizedState!==null!==C&&(m.flags|=8192):C&&(m.flags|=8192),C?w&536870912&&!(m.flags&128)&&(xr(m),m.subtreeFlags&6&&(m.flags|=8192)):xr(m),w=m.updateQueue,w!==null&&Yw(m,w.retryQueue),w=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==w&&(m.flags|=2048),p!==null&&h(Ah),null;case 24:return w=null,p!==null&&(w=p.memoizedState.cache),m.memoizedState.cache!==w&&(m.flags|=2048),ke(Fr),xr(m),null;case 25:return null;case 30:return null}throw Error(i(156,m.tag))}function zpe(p,m){switch(G(m),m.tag){case 1:return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return ke(Fr),te(),p=m.flags,p&65536&&!(p&128)?(m.flags=p&-65537|128,m):null;case 26:case 27:case 5:return he(m),null;case 31:if(m.memoizedState!==null){if(Qe(m),m.alternate===null)throw Error(i(340));Ye()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 13:if(Qe(m),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(i(340));Ye()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return h(si),null;case 4:return te(),null;case 10:return ke(m.type),null;case 22:case 23:return Qe(m),J(),p!==null&&h(Ah),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 24:return ke(Fr),null;case 25:return null;default:return null}}function b6(p,m){switch(G(m),m.tag){case 3:ke(Fr),te();break;case 26:case 27:case 5:he(m);break;case 4:te();break;case 31:m.memoizedState!==null&&Qe(m);break;case 13:Qe(m);break;case 19:h(si);break;case 10:ke(m.type);break;case 22:case 23:Qe(m),J(),p!==null&&h(Ah);break;case 24:ke(Fr)}}function Uy(p,m){try{var w=m.updateQueue,C=w!==null?w.lastEffect:null;if(C!==null){var R=C.next;w=R;do{if((w.tag&p)===p){C=void 0;var U=w.create,Q=w.inst;C=U(),Q.destroy=C}w=w.next}while(w!==R)}}catch(ve){Ln(m,m.return,ve)}}function Ef(p,m,w){try{var C=m.updateQueue,R=C!==null?C.lastEffect:null;if(R!==null){var U=R.next;C=U;do{if((C.tag&p)===p){var Q=C.inst,ve=Q.destroy;if(ve!==void 0){Q.destroy=void 0,R=m;var Xe=w,ot=ve;try{ot()}catch(Et){Ln(R,Xe,Et)}}}C=C.next}while(C!==U)}}catch(Et){Ln(m,m.return,Et)}}function _6(p){var m=p.updateQueue;if(m!==null){var w=p.stateNode;try{ft(m,w)}catch(C){Ln(p,p.return,C)}}}function w6(p,m,w){w.props=vh(p.type,p.memoizedProps),w.state=p.memoizedState;try{w.componentWillUnmount()}catch(C){Ln(p,m,C)}}function zy(p,m){try{var w=p.ref;if(w!==null){switch(p.tag){case 26:case 27:case 5:var C=Vy(p.stateNode);break;case 30:C=p.stateNode;break;default:C=p.stateNode}typeof w=="function"?p.refCleanup=w(C):w.current=C}}catch(R){Ln(p,m,R)}}function Kl(p,m){var w=p.ref,C=p.refCleanup;if(w!==null)if(typeof C=="function")try{C()}catch(R){Ln(p,m,R)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(R){Ln(p,m,R)}else w.current=null}function S6(p){var m=p.type,w=p.memoizedProps,C=p.stateNode;try{Ome(C,m,w,p)}catch(R){Ln(p,p.return,R)}}function tO(p,m,w){try{kme(p.stateNode,p.type,w,m,p)}catch(C){Ln(p,p.return,C)}}function E6(p){return p.tag===5||p.tag===3||(dl?p.tag===26:!1)||(Ui?p.tag===27&&qm(p.type):!1)||p.tag===4}function nO(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||E6(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(Ui&&p.tag===27&&qm(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function rO(p,m,w){var C=p.tag;if(C===5||C===6)p=p.stateNode,m?Rme(w,p,m):Pme(w,p);else if(C!==4&&(Ui&&C===27&&qm(p.type)&&(w=p.stateNode,m=null),p=p.child,p!==null))for(rO(p,m,w),p=p.sibling;p!==null;)rO(p,m,w),p=p.sibling}function Zw(p,m,w){var C=p.tag;if(C===5||C===6)p=p.stateNode,m?Nme(w,p,m):Cme(w,p);else if(C!==4&&(Ui&&C===27&&qm(p.type)&&(w=p.stateNode),p=p.child,p!==null))for(Zw(p,m,w),p=p.sibling;p!==null;)Zw(p,m,w),p=p.sibling}function A6(p,m,w){p=p.containerInfo;try{w8(p,w)}catch(C){Ln(m,m.return,C)}}function M6(p){var m=p.stateNode,w=p.memoizedProps;try{Tge(p.type,w,m,p)}catch(C){Ln(p,p.return,C)}}function Fpe(p,m){for(ame(p.containerInfo),Ki=m;Ki!==null;)if(p=Ki,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,Ki=m;else for(;Ki!==null;){p=Ki;var w=p.alternate;switch(m=p.flags,p.tag){case 0:if(m&4&&(m=p.updateQueue,m=m!==null?m.events:null,m!==null))for(var C=0;C<m.length;C++){var R=m[C];R.ref.impl=R.nextImpl}break;case 11:case 15:break;case 1:if(m&1024&&w!==null){m=void 0,C=p,R=w.memoizedProps,w=w.memoizedState;var U=C.stateNode;try{var Q=vh(C.type,R);m=U.getSnapshotBeforeUpdate(Q,w),U.__reactInternalSnapshotBeforeUpdate=m}catch(ve){Ln(C,C.return,ve)}}break;case 3:m&1024&&Oa&&Bme(p.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(m&1024)throw Error(i(163))}if(m=p.sibling,m!==null){m.return=p.return,Ki=m;break}Ki=p.return}}function T6(p,m,w){var C=w.flags;switch(w.tag){case 0:case 11:case 15:Hc(p,w),C&4&&Uy(5,w);break;case 1:if(Hc(p,w),C&4)if(p=w.stateNode,m===null)try{p.componentDidMount()}catch(Q){Ln(w,w.return,Q)}else{var R=vh(w.type,m.memoizedProps);m=m.memoizedState;try{p.componentDidUpdate(R,m,p.__reactInternalSnapshotBeforeUpdate)}catch(Q){Ln(w,w.return,Q)}}C&64&&_6(w),C&512&&zy(w,w.return);break;case 3:if(Hc(p,w),C&64&&(C=w.updateQueue,C!==null)){if(p=null,w.child!==null)switch(w.child.tag){case 27:case 5:p=Vy(w.child.stateNode);break;case 1:p=w.child.stateNode}try{ft(C,p)}catch(Q){Ln(w,w.return,Q)}}break;case 27:Ui&&m===null&&C&4&&M6(w);case 26:case 5:if(Hc(p,w),m===null){if(C&4)S6(w);else if(C&64){p=w.type,m=w.memoizedProps,R=w.stateNode;try{uge(R,p,m,w)}catch(Q){Ln(w,w.return,Q)}}}C&512&&zy(w,w.return);break;case 12:Hc(p,w);break;case 31:Hc(p,w),C&4&&P6(p,w);break;case 13:Hc(p,w),C&4&&I6(p,w),C&64&&(C=w.memoizedState,C!==null&&(C=C.dehydrated,C!==null&&(w=$pe.bind(null,w),Wme(C,w))));break;case 22:if(C=w.memoizedState!==null||Yc,!C){m=m!==null&&m.memoizedState!==null||xi,R=Yc;var U=xi;Yc=C,(xi=m)&&!U?Gc(p,w,(w.subtreeFlags&8772)!==0):Hc(p,w),Yc=R,xi=U}break;case 30:break;default:Hc(p,w)}}function C6(p){var m=p.alternate;m!==null&&(p.alternate=null,C6(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&pme(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function ul(p,m,w){for(w=w.child;w!==null;)iO(p,m,w),w=w.sibling}function iO(p,m,w){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Wy,w)}catch{}switch(w.tag){case 26:if(dl){xi||Kl(w,m),ul(p,m,w),w.memoizedState?I8(w.memoizedState):w.stateNode&&k8(w.stateNode);break}case 27:if(Ui){xi||Kl(w,m);var C=bi,R=ds;qm(w.type)&&(bi=w.stateNode,ds=!1),ul(p,m,w),D8(w.stateNode),bi=C,ds=R;break}case 5:xi||Kl(w,m);case 6:if(Oa){if(C=bi,R=ds,bi=null,ul(p,m,w),bi=C,ds=R,bi!==null)if(ds)try{Lme(bi,w.stateNode)}catch(U){Ln(w,m,U)}else try{Dme(bi,w.stateNode)}catch(U){Ln(w,m,U)}}else ul(p,m,w);break;case 18:Oa&&bi!==null&&(ds?vge(bi,w.stateNode):gge(bi,w.stateNode));break;case 4:Oa?(C=bi,R=ds,bi=w.stateNode.containerInfo,ds=!0,ul(p,m,w),bi=C,ds=R):(Yl&&A6(w.stateNode,w,b8()),ul(p,m,w));break;case 0:case 11:case 14:case 15:Ef(2,w,m),xi||Ef(4,w,m),ul(p,m,w);break;case 1:xi||(Kl(w,m),C=w.stateNode,typeof C.componentWillUnmount=="function"&&w6(w,m,C)),ul(p,m,w);break;case 21:ul(p,m,w);break;case 22:xi=(C=xi)||w.memoizedState!==null,ul(p,m,w),xi=C;break;default:ul(p,m,w)}}function P6(p,m){if(ka&&m.memoizedState===null&&(p=m.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{dge(p)}catch(w){Ln(m,m.return,w)}}}function I6(p,m){if(ka&&m.memoizedState===null&&(p=m.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{hge(p)}catch(w){Ln(m,m.return,w)}}function jpe(p){switch(p.tag){case 31:case 13:case 19:var m=p.stateNode;return m===null&&(m=p.stateNode=new W8),m;case 22:return p=p.stateNode,m=p._retryCache,m===null&&(m=p._retryCache=new W8),m;default:throw Error(i(435,p.tag))}}function Jw(p,m){var w=jpe(p);m.forEach(function(C){if(!w.has(C)){w.add(C);var R=qpe.bind(null,p,C);C.then(R,R)}})}function Ia(p,m){var w=m.deletions;if(w!==null)for(var C=0;C<w.length;C++){var R=w[C],U=p,Q=m;if(Oa){var ve=Q;e:for(;ve!==null;){switch(ve.tag){case 27:if(Ui){if(qm(ve.type)){bi=ve.stateNode,ds=!1;break e}break}case 5:bi=ve.stateNode,ds=!1;break e;case 3:case 4:bi=ve.stateNode.containerInfo,ds=!0;break e}ve=ve.return}if(bi===null)throw Error(i(160));iO(U,Q,R),bi=null,ds=!1}else iO(U,Q,R);U=R.alternate,U!==null&&(U.return=null),R.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)O6(m,p),m=m.sibling}function O6(p,m){var w=p.alternate,C=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:Ia(m,p),Wa(p),C&4&&(Ef(3,p,p.return),Uy(3,p),Ef(5,p,p.return));break;case 1:Ia(m,p),Wa(p),C&512&&(xi||w===null||Kl(w,w.return)),C&64&&Yc&&(p=p.updateQueue,p!==null&&(C=p.callbacks,C!==null&&(w=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=w===null?C:w.concat(C))));break;case 26:if(dl){var R=pl;if(Ia(m,p),Wa(p),C&512&&(xi||w===null||Kl(w,w.return)),C&4){C=w!==null?w.memoizedState:null;var U=p.memoizedState;w===null?U===null?p.stateNode===null?p.stateNode=wge(R,p.type,p.memoizedProps,p):O8(R,p.type,p.stateNode):p.stateNode=P8(R,U,p.memoizedProps):C!==U?(C===null?w.stateNode!==null&&k8(w.stateNode):I8(C),U===null?O8(R,p.type,p.stateNode):P8(R,U,p.memoizedProps)):U===null&&p.stateNode!==null&&tO(p,p.memoizedProps,w.memoizedProps)}break}case 27:if(Ui){Ia(m,p),Wa(p),C&512&&(xi||w===null||Kl(w,w.return)),w!==null&&C&4&&tO(p,p.memoizedProps,w.memoizedProps);break}case 5:if(Ia(m,p),Wa(p),C&512&&(xi||w===null||Kl(w,w.return)),Oa){if(p.flags&32){R=p.stateNode;try{x8(R)}catch(vt){Ln(p,p.return,vt)}}C&4&&p.stateNode!=null&&(R=p.memoizedProps,tO(p,R,w!==null?w.memoizedProps:R)),C&1024&&($O=!0)}else Yl&&p.alternate!==null&&(p.alternate.stateNode=p.stateNode);break;case 6:if(Ia(m,p),Wa(p),C&4&&Oa){if(p.stateNode===null)throw Error(i(162));C=p.memoizedProps,w=w!==null?w.memoizedProps:C,R=p.stateNode;try{Ime(R,w,C)}catch(vt){Ln(p,p.return,vt)}}break;case 3:if(dl?(Ege(),R=pl,pl=PO(m.containerInfo),Ia(m,p),pl=R):Ia(m,p),Wa(p),C&4){if(Oa&&ka&&w!==null&&w.memoizedState.isDehydrated)try{fge(m.containerInfo)}catch(vt){Ln(p,p.return,vt)}if(Yl){C=m.containerInfo,w=m.pendingChildren;try{w8(C,w)}catch(vt){Ln(p,p.return,vt)}}}$O&&($O=!1,k6(p));break;case 4:dl?(w=pl,pl=PO(p.stateNode.containerInfo),Ia(m,p),Wa(p),pl=w):(Ia(m,p),Wa(p)),C&4&&Yl&&A6(p.stateNode,p,p.stateNode.pendingChildren);break;case 12:Ia(m,p),Wa(p);break;case 31:Ia(m,p),Wa(p),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,Jw(p,C)));break;case 13:Ia(m,p),Wa(p),p.child.flags&8192&&p.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(AS=fs()),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,Jw(p,C)));break;case 22:R=p.memoizedState!==null;var Q=w!==null&&w.memoizedState!==null,ve=Yc,Xe=xi;if(Yc=ve||R,xi=Xe||Q,Ia(m,p),xi=Xe,Yc=ve,Wa(p),C&8192&&(m=p.stateNode,m._visibility=R?m._visibility&-2:m._visibility|1,R&&(w===null||Q||Yc||xi||yh(p)),Oa)){e:if(w=null,Oa)for(m=p;;){if(m.tag===5||dl&&m.tag===26){if(w===null){Q=w=m;try{U=Q.stateNode,R?Ume(U):Fme(Q.stateNode,Q.memoizedProps)}catch(vt){Ln(Q,Q.return,vt)}}}else if(m.tag===6){if(w===null){Q=m;try{var ot=Q.stateNode;R?zme(ot):jme(ot,Q.memoizedProps)}catch(vt){Ln(Q,Q.return,vt)}}}else if(m.tag===18){if(w===null){Q=m;try{var Et=Q.stateNode;R?yge(Et):xge(Q.stateNode)}catch(vt){Ln(Q,Q.return,vt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===p)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break e;for(;m.sibling===null;){if(m.return===null||m.return===p)break e;w===m&&(w=null),m=m.return}w===m&&(w=null),m.sibling.return=m.return,m=m.sibling}}C&4&&(C=p.updateQueue,C!==null&&(w=C.retryQueue,w!==null&&(C.retryQueue=null,Jw(p,w))));break;case 19:Ia(m,p),Wa(p),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,Jw(p,C)));break;case 30:break;case 21:break;default:Ia(m,p),Wa(p)}}function Wa(p){var m=p.flags;if(m&2){try{for(var w,C=p.return;C!==null;){if(E6(C)){w=C;break}C=C.return}if(Oa){if(w==null)throw Error(i(160));switch(w.tag){case 27:if(Ui){var R=w.stateNode,U=nO(p);Zw(p,U,R);break}case 5:var Q=w.stateNode;w.flags&32&&(x8(Q),w.flags&=-33);var ve=nO(p);Zw(p,ve,Q);break;case 3:case 4:var Xe=w.stateNode.containerInfo,ot=nO(p);rO(p,ot,Xe);break;default:throw Error(i(161))}}}catch(Et){Ln(p,p.return,Et)}p.flags&=-3}m&4096&&(p.flags&=-4097)}function k6(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var m=p;k6(m),m.tag===5&&m.flags&1024&&xme(m.stateNode),p=p.sibling}}function Hc(p,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)T6(p,m.alternate,m),m=m.sibling}function yh(p){for(p=p.child;p!==null;){var m=p;switch(m.tag){case 0:case 11:case 14:case 15:Ef(4,m,m.return),yh(m);break;case 1:Kl(m,m.return);var w=m.stateNode;typeof w.componentWillUnmount=="function"&&w6(m,m.return,w),yh(m);break;case 27:Ui&&D8(m.stateNode);case 26:case 5:Kl(m,m.return),yh(m);break;case 22:m.memoizedState===null&&yh(m);break;case 30:yh(m);break;default:yh(m)}p=p.sibling}}function Gc(p,m,w){for(w=w&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var C=m.alternate,R=p,U=m,Q=U.flags;switch(U.tag){case 0:case 11:case 15:Gc(R,U,w),Uy(4,U);break;case 1:if(Gc(R,U,w),C=U,R=C.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(ot){Ln(C,C.return,ot)}if(C=U,R=C.updateQueue,R!==null){var ve=C.stateNode;try{var Xe=R.shared.hiddenCallbacks;if(Xe!==null)for(R.shared.hiddenCallbacks=null,R=0;R<Xe.length;R++)ht(Xe[R],ve)}catch(ot){Ln(C,C.return,ot)}}w&&Q&64&&_6(U),zy(U,U.return);break;case 27:Ui&&M6(U);case 26:case 5:Gc(R,U,w),w&&C===null&&Q&4&&S6(U),zy(U,U.return);break;case 12:Gc(R,U,w);break;case 31:Gc(R,U,w),w&&Q&4&&P6(R,U);break;case 13:Gc(R,U,w),w&&Q&4&&I6(R,U);break;case 22:U.memoizedState===null&&Gc(R,U,w),zy(U,U.return);break;case 30:break;default:Gc(R,U,w)}m=m.sibling}}function aO(p,m){var w=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),p=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(p=m.memoizedState.cachePool.pool),p!==w&&(p!=null&&p.refCount++,w!=null&&se(w))}function sO(p,m){p=null,m.alternate!==null&&(p=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==p&&(m.refCount++,p!=null&&se(p))}function fl(p,m,w,C){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)N6(p,m,w,C),m=m.sibling}function N6(p,m,w,C){var R=m.flags;switch(m.tag){case 0:case 11:case 15:fl(p,m,w,C),R&2048&&Uy(9,m);break;case 1:fl(p,m,w,C);break;case 3:fl(p,m,w,C),R&2048&&(p=null,m.alternate!==null&&(p=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==p&&(m.refCount++,p!=null&&se(p)));break;case 12:if(R&2048){fl(p,m,w,C),p=m.stateNode;try{var U=m.memoizedProps,Q=U.id,ve=U.onPostCommit;typeof ve=="function"&&ve(Q,m.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(Xe){Ln(m,m.return,Xe)}}else fl(p,m,w,C);break;case 31:fl(p,m,w,C);break;case 13:fl(p,m,w,C);break;case 23:break;case 22:U=m.stateNode,Q=m.alternate,m.memoizedState!==null?U._visibility&2?fl(p,m,w,C):Fy(p,m):U._visibility&2?fl(p,m,w,C):(U._visibility|=2,Bm(p,m,w,C,(m.subtreeFlags&10256)!==0||!1)),R&2048&&aO(Q,m);break;case 24:fl(p,m,w,C),R&2048&&sO(m.alternate,m);break;default:fl(p,m,w,C)}}function Bm(p,m,w,C,R){for(R=R&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var U=p,Q=m,ve=w,Xe=C,ot=Q.flags;switch(Q.tag){case 0:case 11:case 15:Bm(U,Q,ve,Xe,R),Uy(8,Q);break;case 23:break;case 22:var Et=Q.stateNode;Q.memoizedState!==null?Et._visibility&2?Bm(U,Q,ve,Xe,R):Fy(U,Q):(Et._visibility|=2,Bm(U,Q,ve,Xe,R)),R&&ot&2048&&aO(Q.alternate,Q);break;case 24:Bm(U,Q,ve,Xe,R),R&&ot&2048&&sO(Q.alternate,Q);break;default:Bm(U,Q,ve,Xe,R)}m=m.sibling}}function Fy(p,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var w=p,C=m,R=C.flags;switch(C.tag){case 22:Fy(w,C),R&2048&&aO(C.alternate,C);break;case 24:Fy(w,C),R&2048&&sO(C.alternate,C);break;default:Fy(w,C)}m=m.sibling}}function xh(p,m,w){if(p.subtreeFlags&og)for(p=p.child;p!==null;)R6(p,m,w),p=p.sibling}function R6(p,m,w){switch(p.tag){case 26:if(xh(p,m,w),p.flags&og)if(p.memoizedState!==null)Mge(w,pl,p.memoizedState,p.memoizedProps);else{var C=p.stateNode,R=p.type;p=p.memoizedProps,((m&335544128)===m||MO(R,p))&&y8(w,C,R,p)}break;case 5:xh(p,m,w),p.flags&og&&(C=p.stateNode,R=p.type,p=p.memoizedProps,((m&335544128)===m||MO(R,p))&&y8(w,C,R,p));break;case 3:case 4:dl?(C=pl,pl=PO(p.stateNode.containerInfo),xh(p,m,w),pl=C):xh(p,m,w);break;case 22:p.memoizedState===null&&(C=p.alternate,C!==null&&C.memoizedState!==null?(C=og,og=16777216,xh(p,m,w),og=C):xh(p,m,w));break;default:xh(p,m,w)}}function D6(p){var m=p.alternate;if(m!==null&&(p=m.child,p!==null)){m.child=null;do m=p.sibling,p.sibling=null,p=m;while(p!==null)}}function jy(p){var m=p.deletions;if(p.flags&16){if(m!==null)for(var w=0;w<m.length;w++){var C=m[w];Ki=C,U6(C,p)}D6(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)L6(p),p=p.sibling}function L6(p){switch(p.tag){case 0:case 11:case 15:jy(p),p.flags&2048&&Ef(9,p,p.return);break;case 3:jy(p);break;case 12:jy(p);break;case 22:var m=p.stateNode;p.memoizedState!==null&&m._visibility&2&&(p.return===null||p.return.tag!==13)?(m._visibility&=-3,Qw(p)):jy(p);break;default:jy(p)}}function Qw(p){var m=p.deletions;if(p.flags&16){if(m!==null)for(var w=0;w<m.length;w++){var C=m[w];Ki=C,U6(C,p)}D6(p)}for(p=p.child;p!==null;){switch(m=p,m.tag){case 0:case 11:case 15:Ef(8,m,m.return),Qw(m);break;case 22:w=m.stateNode,w._visibility&2&&(w._visibility&=-3,Qw(m));break;default:Qw(m)}p=p.sibling}}function U6(p,m){for(;Ki!==null;){var w=Ki;switch(w.tag){case 0:case 11:case 15:Ef(8,w,m);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var C=w.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:se(w.memoizedState.cache)}if(C=w.child,C!==null)C.return=w,Ki=C;else e:for(w=p;Ki!==null;){C=Ki;var R=C.sibling,U=C.return;if(C6(C),C===w){Ki=null;break e}if(R!==null){R.return=U,Ki=R;break e}Ki=U}}}function oO(p){var m=ume(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(i(364));return m}if(p=wme(p),p===null)throw Error(i(362));return p.stateNode.current}function lO(p,m){var w=p.tag;switch(m.$$typeof){case bS:if(p.type===m.value)return!0;break;case _S:e:{for(m=m.value,p=[p,0],w=0;w<p.length;){var C=p[w++],R=C.tag,U=p[w++],Q=m[U];if(R!==5&&R!==26&&R!==27||!Gy(C)){for(;Q!=null&&lO(C,Q);)U++,Q=m[U];if(U===m.length){m=!0;break e}else for(C=C.child;C!==null;)p.push(C,U),C=C.sibling}}m=!1}return m;case wS:if((w===5||w===26||w===27)&&Ame(p.stateNode,m.value))return!0;break;case ES:if((w===5||w===6||w===26||w===27)&&(p=Eme(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case SS:if((w===5||w===26||w===27)&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function cO(p){switch(p.$$typeof){case bS:return"<"+(f(p.value)||"Unknown")+">";case _S:return":has("+(cO(p)||"")+")";case wS:return'[role="'+p.value+'"]';case ES:return'"'+p.value+'"';case SS:return'[data-testname="'+p.value+'"]';default:throw Error(i(365))}}function z6(p,m){var w=[];p=[p,0];for(var C=0;C<p.length;){var R=p[C++],U=R.tag,Q=p[C++],ve=m[Q];if(U!==5&&U!==26&&U!==27||!Gy(R)){for(;ve!=null&&lO(R,ve);)Q++,ve=m[Q];if(Q===m.length)w.push(R);else for(R=R.child;R!==null;)p.push(R,Q),R=R.sibling}}return w}function uO(p,m){if(!Hy)throw Error(i(363));p=oO(p),p=z6(p,m),m=[],p=Array.from(p);for(var w=0;w<p.length;){var C=p[w++],R=C.tag;if(R===5||R===26||R===27)Gy(C)||m.push(C.stateNode);else for(C=C.child;C!==null;)p.push(C),C=C.sibling}return m}function Fs(){return yn&2&&Sn!==0?Sn&-Sn:Vt.T!==null?We():dme()}function F6(){if($s===0)if(!(Sn&536870912)||Cn){var p=oS;oS<<=1,!(oS&3932160)&&(oS=262144),$s=p}else $s=536870912;return p=Gs.current,p!==null&&(p.flags|=32),$s}function us(p,m,w){(p===or&&(Kn===2||Kn===9)||p.cancelPendingCommit!==null)&&(Vm(p,0),Af(p,Sn,$s,!1)),M(p,w),(!(yn&2)||p!==or)&&(p===or&&(!(yn&2)&&(Ph|=w),Yr===4&&Af(p,Sn,$s,!1)),Oe(p))}function j6(p,m,w){if(yn&6)throw Error(i(327));var C=!w&&(m&127)===0&&(m&p.expiredLanes)===0||b(p,m),R=C?Hpe(p,m):dO(p,m,!0),U=C;do{if(R===0){lg&&!C&&Af(p,m,0,!1);break}else{if(w=p.current.alternate,U&&!Bpe(w)){R=dO(p,m,!1),U=!1;continue}if(R===2){if(U=m,p.errorRecoveryDisabledLanes&U)var Q=0;else Q=p.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){m=Q;e:{var ve=p;R=Qy;var Xe=ka&&ve.current.memoizedState.isDehydrated;if(Xe&&(Vm(ve,Q).flags|=256),Q=dO(ve,Q,!1),Q!==2){if(qO&&!Xe){ve.errorRecoveryDisabledLanes|=U,Ph|=U,R=4;break e}U=hs,hs=R,U!==null&&(hs===null?hs=U:hs.push.apply(hs,U))}R=Q}if(U=!1,R!==2)continue}}if(R===1){Vm(p,0),Af(p,m,0,!0);break}e:{switch(C=p,U=R,U){case 0:case 1:throw Error(i(345));case 4:if((m&4194048)!==m)break;case 6:Af(C,m,$s,!kf);break e;case 2:hs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((m&62914560)===m&&(R=AS+300-fs(),10<R)){if(Af(C,m,$s,!kf),v(C,0,!0)!==0)break e;Jc=m,C.timeoutHandle=lme(B6.bind(null,C,w,hs,MS,KO,m,$s,Ph,cg,kf,U,"Throttled",-0,0),R);break e}B6(C,w,hs,MS,KO,m,$s,Ph,cg,kf,U,null,-0,0)}}break}while(!0);Oe(p)}function B6(p,m,w,C,R,U,Q,ve,Xe,ot,Et,vt,Ot,sn){if(p.timeoutHandle=_h,vt=m.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt=vme(),R6(m,U,vt);var _i=(U&62914560)===U?AS-fs():(U&4194048)===U?$8-fs():0;if(_i=yme(vt,_i),_i!==null){Jc=U,p.cancelPendingCommit=_i(Y6.bind(null,p,m,U,w,C,R,Q,ve,Xe,Et,vt,null,Ot,sn)),Af(p,U,Q,!ot);return}}Y6(p,m,U,w,C,R,Q,ve,Xe)}function Bpe(p){for(var m=p;;){var w=m.tag;if((w===0||w===11||w===15)&&m.flags&16384&&(w=m.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var C=0;C<w.length;C++){var R=w[C],U=R.getSnapshot;R=R.value;try{if(!Hs(U(),R))return!1}catch{return!1}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Af(p,m,w,C){m&=~XO,m&=~Ph,p.suspendedLanes|=m,p.pingedLanes&=~m,C&&(p.warmLanes|=m),C=p.expirationTimes;for(var R=m;0<R;){var U=31-Bs(R),Q=1<<U;C[U]=-1,R&=~Q}w!==0&&O(p,w,m)}function V6(){return yn&6?!0:(De(0),!1)}function fO(){if(xn!==null){if(Kn===0)var p=xn.return;else p=xn,Xc=Sh=null,en(p),ng=null,Ky=0,p=xn;for(;p!==null;)b6(p.alternate,p),p=p.return;xn=null}}function Vm(p,m){var w=p.timeoutHandle;w!==_h&&(p.timeoutHandle=_h,cme(w)),w=p.cancelPendingCommit,w!==null&&(p.cancelPendingCommit=null,w()),Jc=0,fO(),or=p,xn=w=Wc(p.current,null),Sn=m,Kn=0,Ws=null,kf=!1,lg=b(p,m),qO=!1,cg=$s=XO=Ph=Nf=Yr=0,hs=Qy=null,KO=!1,m&8&&(m|=m&32);var C=p.entangledLanes;if(C!==0)for(p=p.entanglements,C&=m;0<C;){var R=31-Bs(C),U=1<<R;m|=p[R],C&=~U}return Zc=m,mi(),w}function H6(p,m){ln=null,Vt.H=Zy,m===tg||m===mS?(m=zt(),Kn=3):m===FO?(m=zt(),Kn=4):Kn=m===GO?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Ws=m,xn===null&&(Yr=1,Ww(p,W(m,p.current)))}function G6(){var p=Gs.current;return p===null?!0:(Sn&4194048)===Sn?hl===null:(Sn&62914560)===Sn||Sn&536870912?p===hl:!1}function W6(){var p=Vt.H;return Vt.H=Zy,p===null?Zy:p}function $6(){var p=Vt.A;return Vt.A=Bge,p}function eS(){Yr=4,kf||(Sn&4194048)!==Sn&&Gs.current!==null||(lg=!0),!(Nf&134217727)&&!(Ph&134217727)||or===null||Af(or,Sn,$s,!1)}function dO(p,m,w){var C=yn;yn|=2;var R=W6(),U=$6();(or!==p||Sn!==m)&&(MS=null,Vm(p,m)),m=!1;var Q=Yr;e:do try{if(Kn!==0&&xn!==null){var ve=xn,Xe=Ws;switch(Kn){case 8:fO(),Q=6;break e;case 3:case 2:case 9:case 6:Gs.current===null&&(m=!0);var ot=Kn;if(Kn=0,Ws=null,Hm(p,ve,Xe,ot),w&&lg){Q=0;break e}break;default:ot=Kn,Kn=0,Ws=null,Hm(p,ve,Xe,ot)}}Vpe(),Q=Yr;break}catch(Et){H6(p,Et)}while(!0);return m&&p.shellSuspendCounter++,Xc=Sh=null,yn=C,Vt.H=R,Vt.A=U,xn===null&&(or=null,Sn=0,mi()),Q}function Vpe(){for(;xn!==null;)q6(xn)}function Hpe(p,m){var w=yn;yn|=2;var C=W6(),R=$6();or!==p||Sn!==m?(MS=null,ex=fs()+500,Vm(p,m)):lg=b(p,m);e:do try{if(Kn!==0&&xn!==null){m=xn;var U=Ws;t:switch(Kn){case 1:Kn=0,Ws=null,Hm(p,m,U,1);break;case 2:case 9:if(at(U)){Kn=0,Ws=null,X6(m);break}m=function(){Kn!==2&&Kn!==9||or!==p||(Kn=7),Oe(p)},U.then(m,m);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:at(U)?(Kn=0,Ws=null,X6(m)):(Kn=0,Ws=null,Hm(p,m,U,7));break;case 5:var Q=null;switch(xn.tag){case 26:Q=xn.memoizedState;case 5:case 27:var ve=xn,Xe=ve.type,ot=ve.pendingProps;if(Q?N8(Q):v8(ve.stateNode,Xe,ot)){Kn=0,Ws=null;var Et=ve.sibling;if(Et!==null)xn=Et;else{var vt=ve.return;vt!==null?(xn=vt,tS(vt)):xn=null}break t}}Kn=0,Ws=null,Hm(p,m,U,5);break;case 6:Kn=0,Ws=null,Hm(p,m,U,6);break;case 8:fO(),Yr=6;break e;default:throw Error(i(462))}}Gpe();break}catch(Ot){H6(p,Ot)}while(!0);return Xc=Sh=null,Vt.H=C,Vt.A=R,yn=w,xn!==null?0:(or=null,Sn=0,mi(),Yr)}function Gpe(){for(;xn!==null&&!Ige();)q6(xn)}function q6(p){var m=m6(p.alternate,p,Zc);p.memoizedProps=p.pendingProps,m===null?tS(p):xn=m}function X6(p){var m=p,w=m.alternate;switch(m.tag){case 15:case 0:m=c6(w,m,m.pendingProps,m.type,void 0,Sn);break;case 11:m=c6(w,m,m.pendingProps,m.type.render,m.ref,Sn);break;case 5:en(m);default:b6(w,m),m=xn=i8(m,Zc),m=m6(w,m,Zc)}p.memoizedProps=p.pendingProps,m===null?tS(p):xn=m}function Hm(p,m,w,C){Xc=Sh=null,en(m),ng=null,Ky=0;var R=m.return;try{if(Rpe(p,R,m,w,Sn)){Yr=1,Ww(p,W(w,p.current)),xn=null;return}}catch(U){if(R!==null)throw xn=R,U;Yr=1,Ww(p,W(w,p.current)),xn=null;return}m.flags&32768?(Cn||C===1?p=!0:lg||Sn&536870912?p=!1:(kf=p=!0,(C===2||C===9||C===3||C===6)&&(C=Gs.current,C!==null&&C.tag===13&&(C.flags|=16384))),K6(m,p)):tS(m)}function tS(p){var m=p;do{if(m.flags&32768){K6(m,kf);return}p=m.return;var w=Upe(m.alternate,m,Zc);if(w!==null){xn=w;return}if(m=m.sibling,m!==null){xn=m;return}xn=m=p}while(m!==null);Yr===0&&(Yr=5)}function K6(p,m){do{var w=zpe(p.alternate,p);if(w!==null){w.flags&=32767,xn=w;return}if(w=p.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!m&&(p=p.sibling,p!==null)){xn=p;return}xn=p=w}while(p!==null);Yr=6,xn=null}function Y6(p,m,w,C,R,U,Q,ve,Xe){p.cancelPendingCommit=null;do By();while(zi!==0);if(yn&6)throw Error(i(327));if(m!==null){if(m===p.current)throw Error(i(177));if(U=m.lanes|m.childLanes,U|=jO,I(p,w,U,Q,ve,Xe),p===or&&(xn=or=null,Sn=0),ug=m,Df=p,Jc=w,YO=U,ZO=R,q8=C,m.subtreeFlags&10256||m.flags&10256?(p.callbackNode=null,p.callbackPriority=0,Xpe(kO,function(){return t8(),null})):(p.callbackNode=null,p.callbackPriority=0),C=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||C){C=Vt.T,Vt.T=null,R=qc(),Xi(2),Q=yn,yn|=4;try{Fpe(p,m,w)}finally{yn=Q,Xi(R),Vt.T=C}}zi=1,Z6(),J6(),Q6()}}function Z6(){if(zi===1){zi=0;var p=Df,m=ug,w=(m.flags&13878)!==0;if(m.subtreeFlags&13878||w){w=Vt.T,Vt.T=null;var C=qc();Xi(2);var R=yn;yn|=4;try{O6(m,p),sme(p.containerInfo)}finally{yn=R,Xi(C),Vt.T=w}}p.current=m,zi=2}}function J6(){if(zi===2){zi=0;var p=Df,m=ug,w=(m.flags&8772)!==0;if(m.subtreeFlags&8772||w){w=Vt.T,Vt.T=null;var C=qc();Xi(2);var R=yn;yn|=4;try{T6(p,m.alternate,m)}finally{yn=R,Xi(C),Vt.T=w}}zi=3}}function Q6(){if(zi===4||zi===3){zi=0,Oge();var p=Df,m=ug,w=Jc,C=q8;m.subtreeFlags&10256||m.flags&10256?zi=5:(zi=0,ug=Df=null,e8(p,p.pendingLanes));var R=p.pendingLanes;if(R===0&&(Rf=null),L(w),m=m.stateNode,Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Wy,m,void 0,(m.current.flags&128)===128)}catch{}if(C!==null){m=Vt.T,R=qc(),Xi(2),Vt.T=null;try{for(var U=p.onRecoverableError,Q=0;Q<C.length;Q++){var ve=C[Q];U(ve.value,{componentStack:ve.stack})}}finally{Vt.T=m,Xi(R)}}Jc&3&&By(),Oe(p),R=p.pendingLanes,w&261930&&R&42?p===JO?tx++:(tx=0,JO=p):tx=0,ka&&mge(),De(0)}}function e8(p,m){(p.pooledCacheLanes&=m)===0&&(m=p.pooledCache,m!=null&&(p.pooledCache=null,se(m)))}function By(){return Z6(),J6(),Q6(),t8()}function t8(){if(zi!==5)return!1;var p=Df,m=YO;YO=0;var w=L(Jc),C=32>w?32:w;w=Vt.T;var R=qc();try{Xi(C),Vt.T=null,C=ZO,ZO=null;var U=Df,Q=Jc;if(zi=0,ug=Df=null,Jc=0,(yn&6)!==0)throw Error(i(331));var ve=yn;if(yn|=4,L6(U.current),N6(U,U.current,Q,C),yn=ve,De(0,!1),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Wy,U)}catch{}return!0}finally{Xi(R),Vt.T=w,e8(p,m)}}function n8(p,m,w){m=W(w,m),m=GI(p.stateNode,m,2),p=Le(p,m,2),p!==null&&(M(p,2),Oe(p))}function Ln(p,m,w){if(p.tag===3)n8(p,p,w);else for(;m!==null;){if(m.tag===3){n8(m,p,w);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Rf===null||!Rf.has(C))){p=W(w,p),w=t6(2),C=Le(m,w,2),C!==null&&(n6(w,C,m,p),M(C,2),Oe(C));break}}m=m.return}}function hO(p,m,w){var C=p.pingCache;if(C===null){C=p.pingCache=new Vge;var R=new Set;C.set(m,R)}else R=C.get(m),R===void 0&&(R=new Set,C.set(m,R));R.has(w)||(qO=!0,R.add(w),p=Wpe.bind(null,p,m,w),m.then(p,p))}function Wpe(p,m,w){var C=p.pingCache;C!==null&&C.delete(m),p.pingedLanes|=p.suspendedLanes&w,p.warmLanes&=~w,or===p&&(Sn&w)===w&&(Yr===4||Yr===3&&(Sn&62914560)===Sn&&300>fs()-AS?!(yn&2)&&Vm(p,0):XO|=w,cg===Sn&&(cg=0)),Oe(p)}function r8(p,m){m===0&&(m=A()),p=Dt(p,m),p!==null&&(M(p,m),Oe(p))}function $pe(p){var m=p.memoizedState,w=0;m!==null&&(w=m.retryLane),r8(p,w)}function qpe(p,m){var w=0;switch(p.tag){case 31:case 13:var C=p.stateNode,R=p.memoizedState;R!==null&&(w=R.retryLane);break;case 19:C=p.stateNode;break;case 22:C=p.stateNode._retryCache;break;default:throw Error(i(314))}C!==null&&C.delete(m),r8(p,w)}function Xpe(p,m){return cS(p,m)}function Kpe(p,m,w,C){this.tag=p,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pO(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Wc(p,m){var w=p.alternate;return w===null?(w=n(p.tag,m,p.key,p.mode),w.elementType=p.elementType,w.type=p.type,w.stateNode=p.stateNode,w.alternate=p,p.alternate=w):(w.pendingProps=m,w.type=p.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=p.flags&65011712,w.childLanes=p.childLanes,w.lanes=p.lanes,w.child=p.child,w.memoizedProps=p.memoizedProps,w.memoizedState=p.memoizedState,w.updateQueue=p.updateQueue,m=p.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=p.sibling,w.index=p.index,w.ref=p.ref,w.refCleanup=p.refCleanup,w}function i8(p,m){p.flags&=65011714;var w=p.alternate;return w===null?(p.childLanes=0,p.lanes=m,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,m=w.dependencies,p.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),p}function nS(p,m,w,C,R,U){var Q=0;if(C=p,typeof p=="function")pO(p)&&(Q=1);else if(typeof p=="string")Q=dl&&Ui?T8(p,w,ga.current)?26:L8(p)?27:5:dl?T8(p,w,ga.current)?26:5:Ui&&L8(p)?27:5;else e:switch(p){case EO:return p=n(31,w,m,R),p.elementType=EO,p.lanes=U,p;case Wm:return bh(w.children,R,U,m);case f8:Q=8,R|=24;break;case xO:return p=n(12,w,m,R|2),p.elementType=xO,p.lanes=U,p;case _O:return p=n(13,w,m,R),p.elementType=_O,p.lanes=U,p;case wO:return p=n(19,w,m,R),p.elementType=wO,p.lanes=U,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case Mf:Q=10;break e;case d8:Q=9;break e;case bO:Q=11;break e;case SO:Q=14;break e;case Tf:Q=16,C=null;break e}Q=29,w=Error(i(130,p===null?"null":typeof p,"")),C=null}return m=n(Q,w,m,R),m.elementType=p,m.type=C,m.lanes=U,m}function bh(p,m,w,C){return p=n(7,p,C,m),p.lanes=w,p}function mO(p,m,w){return p=n(6,p,null,m),p.lanes=w,p}function a8(p){var m=n(18,null,null,0);return m.stateNode=p,m}function gO(p,m,w){return m=n(4,p.children!==null?p.children:[],p.key,m),m.lanes=w,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function Ype(p,m,w,C,R,U,Q,ve,Xe){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_h,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=T(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T(0),this.hiddenUpdates=T(null),this.identifierPrefix=C,this.onUncaughtError=R,this.onCaughtError=U,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Xe,this.incompleteTransitions=new Map}function s8(p,m,w,C,R,U,Q,ve,Xe,ot,Et,vt){return p=new Ype(p,m,w,Q,Xe,ot,Et,vt,ve),m=1,U===!0&&(m|=24),U=n(3,null,null,m),p.current=U,U.stateNode=p,m=re(),m.refCount++,p.pooledCache=m,m.refCount++,U.memoizedState={element:C,isDehydrated:w,cache:m},X(U),p}function o8(p){return p?(p=Km,p):Km}function l8(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(i(188)):(p=Object.keys(p).join(","),Error(i(268,p)));return p=o(m),p=p!==null?l(p):null,p===null?null:Vy(p.stateNode)}function c8(p,m,w,C,R,U){R=o8(R),C.context===null?C.context=R:C.pendingContext=R,C=ge(m),C.payload={element:w},U=U===void 0?null:U,U!==null&&(C.callback=U),w=Le(p,C,m),w!==null&&(us(w,p,m),Ve(w,p,m))}function u8(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var w=p.retryLane;p.retryLane=w!==0&&w<m?w:m}}function vO(p,m){u8(p,m),(p=p.alternate)&&u8(p,m)}var vn={},Zpe=He,js=dve,yO=Object.assign,Jpe=Symbol.for("react.element"),rS=Symbol.for("react.transitional.element"),Gm=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),f8=Symbol.for("react.strict_mode"),xO=Symbol.for("react.profiler"),d8=Symbol.for("react.consumer"),Mf=Symbol.for("react.context"),bO=Symbol.for("react.forward_ref"),_O=Symbol.for("react.suspense"),wO=Symbol.for("react.suspense_list"),SO=Symbol.for("react.memo"),Tf=Symbol.for("react.lazy"),EO=Symbol.for("react.activity"),Qpe=Symbol.for("react.memo_cache_sentinel"),h8=Symbol.iterator,eme=Symbol.for("react.client.reference"),iS=Array.isArray,Vt=Zpe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tme=e.rendererVersion,nme=e.rendererPackageName,p8=e.extraDevToolsConfig,Vy=e.getPublicInstance,rme=e.getRootHostContext,ime=e.getChildHostContext,ame=e.prepareForCommit,sme=e.resetAfterCommit,ome=e.createInstance;e.cloneMutableInstance;var AO=e.appendInitialChild,m8=e.finalizeInitialChildren,aS=e.shouldSetTextContent,g8=e.createTextInstance;e.cloneMutableTextInstance;var lme=e.scheduleTimeout,cme=e.cancelTimeout,_h=e.noTimeout,$c=e.isPrimaryRenderer;e.warnsIfNotActing;var Oa=e.supportsMutation,Yl=e.supportsPersistence,ka=e.supportsHydration,ume=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var fme=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Xi=e.setCurrentUpdatePriority,qc=e.getCurrentUpdatePriority,dme=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var hme=e.shouldAttemptEagerTransition,pme=e.detachDeletedInstance;e.requestPostPaintCallback;var mme=e.maySuspendCommit,gme=e.maySuspendCommitOnUpdate,MO=e.maySuspendCommitInSyncRender,v8=e.preloadInstance,vme=e.startSuspendingCommit,y8=e.suspendInstance;e.suspendOnActiveViewTransition;var yme=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var $m=e.NotPendingTransition,wh=e.HostTransitionContext,xme=e.resetFormInstance;e.bindToConsole;var bme=e.supportsMicrotasks,_me=e.scheduleMicrotask,Hy=e.supportsTestSelectors,wme=e.findFiberRoot,Sme=e.getBoundingRect,Eme=e.getTextContent,Gy=e.isHiddenSubtree,Ame=e.matchAccessibilityRole,Mme=e.setFocusIfFocusable,Tme=e.setupIntersectionObserver,Cme=e.appendChild,Pme=e.appendChildToContainer,Ime=e.commitTextUpdate,Ome=e.commitMount,kme=e.commitUpdate,Nme=e.insertBefore,Rme=e.insertInContainerBefore,Dme=e.removeChild,Lme=e.removeChildFromContainer,x8=e.resetTextContent,Ume=e.hideInstance,zme=e.hideTextInstance,Fme=e.unhideInstance,jme=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Bme=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var Vme=e.cloneInstance,b8=e.createContainerChildSet,_8=e.appendChildToContainerChildSet,Hme=e.finalizeContainerChildren,w8=e.replaceContainerChildren,S8=e.cloneHiddenInstance,E8=e.cloneHiddenTextInstance,TO=e.isSuspenseInstancePending,CO=e.isSuspenseInstanceFallback,Gme=e.getSuspenseInstanceFallbackErrorDetails,Wme=e.registerSuspenseInstanceRetry,$me=e.canHydrateFormStateMarker,qme=e.isFormStateMarkerMatching,A8=e.getNextHydratableSibling,Xme=e.getNextHydratableSiblingAfterSingleton,Kme=e.getFirstHydratableChild,Yme=e.getFirstHydratableChildWithinContainer,Zme=e.getFirstHydratableChildWithinActivityInstance,Jme=e.getFirstHydratableChildWithinSuspenseInstance,Qme=e.getFirstHydratableChildWithinSingleton,ege=e.canHydrateInstance,tge=e.canHydrateTextInstance,nge=e.canHydrateActivityInstance,rge=e.canHydrateSuspenseInstance,ige=e.hydrateInstance,age=e.hydrateTextInstance,sge=e.hydrateActivityInstance,oge=e.hydrateSuspenseInstance,lge=e.getNextHydratableInstanceAfterActivityInstance,cge=e.getNextHydratableInstanceAfterSuspenseInstance,uge=e.commitHydratedInstance,fge=e.commitHydratedContainer,dge=e.commitHydratedActivityInstance,hge=e.commitHydratedSuspenseInstance,pge=e.finalizeHydratedChildren,mge=e.flushHydrationEvents;e.clearActivityBoundary;var gge=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var vge=e.clearSuspenseBoundaryFromContainer,yge=e.hideDehydratedBoundary,xge=e.unhideDehydratedBoundary,M8=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var bge=e.validateHydratableInstance,_ge=e.validateHydratableTextInstance,dl=e.supportsResources,T8=e.isHostHoistableType,PO=e.getHoistableRoot,C8=e.getResource,P8=e.acquireResource,I8=e.releaseResource,wge=e.hydrateHoistable,O8=e.mountHoistable,k8=e.unmountHoistable,Sge=e.createHoistableInstance,Ege=e.prepareToCommitHoistables,Age=e.mayResourceSuspendCommit,N8=e.preloadResource,Mge=e.suspendResource,Ui=e.supportsSingletons,R8=e.resolveSingletonInstance,Tge=e.acquireSingletonInstance,D8=e.releaseSingletonInstance,L8=e.isHostSingletonType,qm=e.isSingletonScope,IO=[],Xm=-1,Km={},Bs=Math.clz32?Math.clz32:y,Cge=Math.log,Pge=Math.LN2,sS=256,oS=262144,lS=4194304,cS=js.unstable_scheduleCallback,OO=js.unstable_cancelCallback,Ige=js.unstable_shouldYield,Oge=js.unstable_requestPaint,fs=js.unstable_now,U8=js.unstable_ImmediatePriority,kge=js.unstable_UserBlockingPriority,kO=js.unstable_NormalPriority,Nge=js.unstable_IdlePriority,Rge=js.log,Dge=js.unstable_setDisableYieldValue,Wy=null,Vs=null,Hs=typeof Object.is=="function"?Object.is:D,z8=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},Lge=Object.prototype.hasOwnProperty,NO,F8,RO=!1,j8=new WeakMap,Ym=[],Zm=0,uS=null,$y=0,xo=[],bo=0,Cf=null,Zl=1,Jl="",ga=d(null),qy=d(null),Pf=d(null),fS=d(null),va=null,zr=null,Cn=!1,If=null,_o=!1,DO=Error(i(519)),dS=d(null),Sh=null,Xc=null,Uge=typeof AbortController<"u"?AbortController:function(){var p=[],m=this.signal={aborted:!1,addEventListener:function(w,C){p.push(C)}};this.abort=function(){m.aborted=!0,p.forEach(function(w){return w()})}},zge=js.unstable_scheduleCallback,Fge=js.unstable_NormalPriority,Fr={$$typeof:Mf,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},hS=null,Jm=null,LO=!1,pS=!1,UO=!1,Eh=0,Xy=null,zO=0,Qm=0,eg=null,B8=Vt.S;Vt.S=function(p,m){$8=fs(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&ut(p,m),B8!==null&&B8(p,m)};var Ah=d(null),tg=Error(i(460)),FO=Error(i(474)),mS=Error(i(542)),gS={then:function(){}},Mh=null,ng=null,Ky=0,Th=qr(!0),V8=qr(!1),wo=[],rg=0,jO=0,Of=!1,BO=!1,ig=d(null),vS=d(0),Gs=d(null),hl=null,si=d(0),Kc=0,ln=null,nr=null,vi=null,yS=!1,ag=!1,Ch=!1,xS=0,Yy=0,sg=null,jge=0,Zy={readContext:K,use:kn,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Zy.useEffectEvent=et;var H8={readContext:K,use:kn,useCallback:function(p,m){return Pt().memoizedState=[p,m===void 0?null:m],p},useContext:K,useEffect:Ny,useImperativeHandle:function(p,m,w){w=w!=null?w.concat([p]):null,bf(4194308,4,Um.bind(null,m,p),w)},useLayoutEffect:function(p,m){return bf(4194308,4,p,m)},useInsertionEffect:function(p,m){bf(4,2,p,m)},useMemo:function(p,m){var w=Pt();m=m===void 0?null:m;var C=p();if(Ch){B(!0);try{p()}finally{B(!1)}}return w.memoizedState=[C,m],C},useReducer:function(p,m,w){var C=Pt();if(w!==void 0){var R=w(m);if(Ch){B(!0);try{w(m)}finally{B(!1)}}}else R=m;return C.memoizedState=C.baseState=R,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:R},C.queue=p,p=p.dispatch=Pa.bind(null,ln,p),[C.memoizedState,p]},useRef:function(p){var m=Pt();return p={current:p},m.memoizedState=p},useState:function(p){p=gf(p);var m=p.queue,w=ll.bind(null,ln,m);return m.dispatch=w,[p.memoizedState,w]},useDebugValue:zm,useDeferredValue:function(p,m){var w=Pt();return ha(w,p,m)},useTransition:function(){var p=gf(!1);return p=mh.bind(null,ln,p.queue,!0,!1),Pt().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,m,w){var C=ln,R=Pt();if(Cn){if(w===void 0)throw Error(i(407));w=w()}else{if(w=m(),or===null)throw Error(i(349));Sn&127||ai(C,m,w)}R.memoizedState=w;var U={value:w,getSnapshot:m};return R.queue=U,Ny(Xl.bind(null,C,U,p),[p]),C.flags|=2048,jc(9,{destroy:void 0},gi.bind(null,C,U,w,m),null),w},useId:function(){var p=Pt(),m=or.identifierPrefix;if(Cn){var w=Jl,C=Zl;w=(C&~(1<<32-Bs(C)-1)).toString(32)+w,m="_"+m+"R_"+w,w=xS++,0<w&&(m+="H"+w.toString(32)),m+="_"}else w=jge++,m="_"+m+"r_"+w.toString(32)+"_";return p.memoizedState=m},useHostTransitionStatus:jm,useFormState:dh,useActionState:dh,useOptimistic:function(p){var m=Pt();m.memoizedState=m.baseState=p;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=w,m=VI.bind(null,ln,!0,w),w.dispatch=m,[p,m]},useMemoCache:Lr,useCacheRefresh:function(){return Pt().memoizedState=zs.bind(null,ln)},useEffectEvent:function(p){var m=Pt(),w={impl:p};return m.memoizedState=w,function(){if(yn&2)throw Error(i(440));return w.impl.apply(void 0,arguments)}}},VO={readContext:K,use:kn,useCallback:wf,useContext:K,useEffect:Bc,useImperativeHandle:_f,useInsertionEffect:Ry,useLayoutEffect:Lm,useMemo:Fm,useReducer:Kr,useRef:ky,useState:function(){return Kr(an)},useDebugValue:zm,useDeferredValue:function(p,m){var w=ct();return Vw(w,nr.memoizedState,p,m)},useTransition:function(){var p=Kr(an)[0],m=ct().memoizedState;return[typeof p=="boolean"?p:St(p),m]},useSyncExternalStore:Li,useId:Hw,useHostTransitionStatus:jm,useFormState:Rm,useActionState:Rm,useOptimistic:function(p,m){var w=ct();return Fc(w,nr,p,m)},useMemoCache:Lr,useCacheRefresh:pa};VO.useEffectEvent=ol;var G8={readContext:K,use:kn,useCallback:wf,useContext:K,useEffect:Bc,useImperativeHandle:_f,useInsertionEffect:Ry,useLayoutEffect:Lm,useMemo:Fm,useReducer:Ur,useRef:ky,useState:function(){return Ur(an)},useDebugValue:zm,useDeferredValue:function(p,m){var w=ct();return nr===null?ha(w,p,m):Vw(w,nr.memoizedState,p,m)},useTransition:function(){var p=Ur(an)[0],m=ct().memoizedState;return[typeof p=="boolean"?p:St(p),m]},useSyncExternalStore:Li,useId:Hw,useHostTransitionStatus:jm,useFormState:Dm,useActionState:Dm,useOptimistic:function(p,m){var w=ct();return nr!==null?Fc(w,nr,p,m):(w.baseState=p,[p,w.queue.dispatch])},useMemoCache:Lr,useCacheRefresh:pa};G8.useEffectEvent=ol;var HO={enqueueSetState:function(p,m,w){p=p._reactInternals;var C=Fs(),R=ge(C);R.payload=m,w!=null&&(R.callback=w),m=Le(p,R,C),m!==null&&(us(m,p,C),Ve(m,p,C))},enqueueReplaceState:function(p,m,w){p=p._reactInternals;var C=Fs(),R=ge(C);R.tag=1,R.payload=m,w!=null&&(R.callback=w),m=Le(p,R,C),m!==null&&(us(m,p,C),Ve(m,p,C))},enqueueForceUpdate:function(p,m){p=p._reactInternals;var w=Fs(),C=ge(w);C.tag=2,m!=null&&(C.callback=m),m=Le(p,C,w),m!==null&&(us(m,p,w),Ve(m,p,w))}},GO=Error(i(461)),yi=!1,WO={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Yc=!1,xi=!1,$O=!1,W8=typeof WeakSet=="function"?WeakSet:Set,Ki=null,bi=null,ds=!1,pl=null,og=8192,Bge={getCacheForType:function(p){var m=K(Fr),w=m.data.get(p);return w===void 0&&(w=p(),m.data.set(p,w)),w},cacheSignal:function(){return K(Fr).controller.signal}},bS=0,_S=1,wS=2,SS=3,ES=4;if(typeof Symbol=="function"&&Symbol.for){var Jy=Symbol.for;bS=Jy("selector.component"),_S=Jy("selector.has_pseudo_class"),wS=Jy("selector.role"),SS=Jy("selector.test_id"),ES=Jy("selector.text")}var Vge=typeof WeakMap=="function"?WeakMap:Map,yn=0,or=null,xn=null,Sn=0,Kn=0,Ws=null,kf=!1,lg=!1,qO=!1,Zc=0,Yr=0,Nf=0,Ph=0,XO=0,$s=0,cg=0,Qy=null,hs=null,KO=!1,AS=0,$8=0,ex=1/0,MS=null,Rf=null,zi=0,Df=null,ug=null,Jc=0,YO=0,ZO=null,q8=null,tx=0,JO=null;return vn.attemptContinuousHydration=function(p){if(p.tag===13||p.tag===31){var m=Dt(p,67108864);m!==null&&us(m,p,67108864),vO(p,67108864)}},vn.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13||p.tag===31){var m=Fs();m=N(m);var w=Dt(p,m);w!==null&&us(w,p,m),vO(p,m)}},vn.attemptSynchronousHydration=function(p){switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var m=x(p.pendingLanes);if(m!==0){for(p.pendingLanes|=2,p.entangledLanes|=2;m;){var w=1<<31-Bs(m);p.entanglements[1]|=w,m&=~w}Oe(p),!(yn&6)&&(ex=fs()+500,De(0))}}break;case 31:case 13:m=Dt(p,2),m!==null&&us(m,p,2),V6(),vO(p,2)}},vn.batchedUpdates=function(p,m){return p(m)},vn.createComponentSelector=function(p){return{$$typeof:bS,value:p}},vn.createContainer=function(p,m,w,C,R,U,Q,ve,Xe,ot){return s8(p,m,!1,null,w,C,U,null,Q,ve,Xe,ot)},vn.createHasPseudoClassSelector=function(p){return{$$typeof:_S,value:p}},vn.createHydrationContainer=function(p,m,w,C,R,U,Q,ve,Xe,ot,Et,vt,Ot,sn){var _i;return p=s8(w,C,!0,p,R,U,ve,sn,Xe,ot,Et,vt),p.context=o8(null),w=p.current,C=Fs(),C=N(C),R=ge(C),R.callback=(_i=m)!=null?_i:null,Le(w,R,C),m=C,p.current.lanes=m,M(p,m),Oe(p),p},vn.createPortal=function(p,m,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gm,key:C==null?null:""+C,children:p,containerInfo:m,implementation:w}},vn.createRoleSelector=function(p){return{$$typeof:wS,value:p}},vn.createTestNameSelector=function(p){return{$$typeof:SS,value:p}},vn.createTextSelector=function(p){return{$$typeof:ES,value:p}},vn.defaultOnCaughtError=function(p){console.error(p)},vn.defaultOnRecoverableError=function(p){z8(p)},vn.defaultOnUncaughtError=function(p){z8(p)},vn.deferredUpdates=function(p){var m=Vt.T,w=qc();try{return Xi(32),Vt.T=null,p()}finally{Xi(w),Vt.T=m}},vn.discreteUpdates=function(p,m,w,C,R){var U=Vt.T,Q=qc();try{return Xi(2),Vt.T=null,p(m,w,C,R)}finally{Xi(Q),Vt.T=U,yn===0&&(ex=fs()+500)}},vn.findAllNodes=uO,vn.findBoundingRects=function(p,m){if(!Hy)throw Error(i(363));m=uO(p,m),p=[];for(var w=0;w<m.length;w++)p.push(Sme(m[w]));for(m=p.length-1;0<m;m--){w=p[m];for(var C=w.x,R=C+w.width,U=w.y,Q=U+w.height,ve=m-1;0<=ve;ve--)if(m!==ve){var Xe=p[ve],ot=Xe.x,Et=ot+Xe.width,vt=Xe.y,Ot=vt+Xe.height;if(C>=ot&&U>=vt&&R<=Et&&Q<=Ot){p.splice(m,1);break}else if(C!==ot||w.width!==Xe.width||Ot<U||vt>Q){if(!(U!==vt||w.height!==Xe.height||Et<C||ot>R)){ot>C&&(Xe.width+=ot-C,Xe.x=C),Et<R&&(Xe.width=R-ot),p.splice(m,1);break}}else{vt>U&&(Xe.height+=vt-U,Xe.y=U),Ot<Q&&(Xe.height=Q-vt),p.splice(m,1);break}}}return p},vn.findHostInstance=l8,vn.findHostInstanceWithNoPortals=function(p){return p=o(p),p=p!==null?c(p):null,p===null?null:Vy(p.stateNode)},vn.findHostInstanceWithWarning=function(p){return l8(p)},vn.flushPassiveEffects=By,vn.flushSyncFromReconciler=function(p){var m=yn;yn|=1;var w=Vt.T,C=qc();try{if(Xi(2),Vt.T=null,p)return p()}finally{Xi(C),Vt.T=w,yn=m,!(yn&6)&&De(0)}},vn.flushSyncWork=V6,vn.focusWithin=function(p,m){if(!Hy)throw Error(i(363));for(p=oO(p),m=z6(p,m),m=Array.from(m),p=0;p<m.length;){var w=m[p++],C=w.tag;if(!Gy(w)){if((C===5||C===26||C===27)&&Mme(w.stateNode))return!0;for(w=w.child;w!==null;)m.push(w),w=w.sibling}}return!1},vn.getFindAllNodesFailureDescription=function(p,m){if(!Hy)throw Error(i(363));var w=0,C=[];p=[oO(p),0];for(var R=0;R<p.length;){var U=p[R++],Q=U.tag,ve=p[R++],Xe=m[ve];if((Q!==5&&Q!==26&&Q!==27||!Gy(U))&&(lO(U,Xe)&&(C.push(cO(Xe)),ve++,ve>w&&(w=ve)),ve<m.length))for(U=U.child;U!==null;)p.push(U,ve),U=U.sibling}if(w<m.length){for(p=[];w<m.length;w++)p.push(cO(m[w]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},vn.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 27:case 5:return Vy(p.child.stateNode);default:return p.child.stateNode}},vn.injectIntoDevTools=function(){var p={bundleType:0,version:tme,rendererPackageName:nme,currentDispatcherRef:Vt,reconcilerVersion:"19.2.0"};if(p8!==null&&(p.rendererConfig=p8),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{Wy=m.inject(p),Vs=m}catch{}p=!!m.checkDCE}}return p},vn.isAlreadyRendering=function(){return(yn&6)!==0},vn.observeVisibleRects=function(p,m,w,C){if(!Hy)throw Error(i(363));p=uO(p,m);var R=Tme(p,w,C).disconnect;return{disconnect:function(){R()}}},vn.shouldError=function(){return null},vn.shouldSuspend=function(){return!1},vn.startHostTransition=function(p,m,w,C){if(p.tag!==5)throw Error(i(476));var R=gh(p).queue;mh(p,R,m,$m,w===null?r:function(){var U=gh(p);return U.next===null&&(U=p.alternate.memoizedState),Sf(p,U.next.queue,{},Fs()),w(C)})},vn.updateContainer=function(p,m,w,C){var R=m.current,U=Fs();return c8(R,U,p,m,w,C),U},vn.updateContainerSync=function(p,m,w,C){return c8(m.current,2,p,m,w,C),2},vn},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})}(xY)),xY.exports}var _Y;function lut(){return _Y||(_Y=1,yY.exports=out()),yY.exports}var cut=lut();const uut=sut(cut);function fut(t){const e=uut(t);return e.injectIntoDevTools(),e}const Zhe=0,U0={},dut=/^three(?=[A-Z])/,FI=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let hut=0;const put=t=>typeof t=="function";function zB(t){if(put(t)){const e=`${hut++}`;return U0[e]=t,e}else Object.assign(U0,t)}function Jhe(t,e){const n=FI(t),r=U0[n];if(t!=="primitive"&&!r)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function mut(t,e,n){var r;return t=FI(t)in U0?t:t.replace(dut,""),Jhe(t,e),t==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,nP(e.object,n,t,e)}function gut(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?iP(t.parent,t):Ya(t.object)&&(t.object.visible=!1),t.isHidden=!0,My(t)}}function Qhe(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?rP(t.parent,t):Ya(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,My(t)}}function FB(t,e,n){const r=e.root.getState();if(!(!t.parent&&t.object!==r.scene)){if(!e.object){var i,a;const s=U0[FI(e.type)];e.object=(i=e.props.object)!=null?i:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(uc(e.object,e.props),e.props.attach)rP(t,e);else if(Ya(e.object)&&Ya(t.object)){const s=t.object.children.indexOf(n==null?void 0:n.object);if(n&&s!==-1){const o=t.object.children.indexOf(e.object);if(o!==-1){t.object.children.splice(o,1);const l=o<s?s-1:s;t.object.children.splice(l,0,e.object)}else e.object.parent=t.object,t.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const s of e.children)FB(e,s);My(e)}}function VR(t,e){e&&(e.parent=t,t.children.push(e),FB(t,e))}function wY(t,e,n){if(!e||!n)return;e.parent=t;const r=t.children.indexOf(n);r!==-1?t.children.splice(r,0,e):t.children.push(e),FB(t,e,n)}function epe(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():oM.unstable_scheduleCallback(oM.unstable_IdlePriority,e)}}function k4(t,e,n){if(!e)return;e.parent=null;const r=t.children.indexOf(e);r!==-1&&t.children.splice(r,1),e.props.attach?iP(t,e):Ya(e.object)&&Ya(t.object)&&(t.object.remove(e.object),Zct(Ghe(e),e.object));const i=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];k4(e,s,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&epe(e.object),n===void 0&&My(e)}function vut(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const r=n.ref(e);typeof r=="function"&&(n.refCleanup=r)}else n.ref&&(n.ref.current=e)}const rM=[];function yut(){for(const[n]of rM){const r=n.parent;if(r){n.props.attach?iP(r,n):Ya(n.object)&&Ya(r.object)&&r.object.remove(n.object);for(const i of n.children)i.props.attach?iP(n,i):Ya(i.object)&&Ya(n.object)&&n.object.remove(i.object)}n.isHidden&&Qhe(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&epe(n.object)}for(const[n,r,i]of rM){n.props=r;const a=n.parent;if(a){var t,e;const s=U0[FI(n.type)];n.object=(t=n.props.object)!=null?t:new s(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,vut(i,n.object),uc(n.object,n.props),n.props.attach?rP(a,n):Ya(n.object)&&Ya(a.object)&&a.object.add(n.object);for(const o of n.children)o.props.attach?rP(n,o):Ya(o.object)&&Ya(n.object)&&n.object.add(o.object);My(n)}}rM.length=0}const HR=()=>{},SY={};let pA=Zhe;const xut=0,but=4,aP=fut({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:mut,removeChild:k4,appendChild:VR,appendInitialChild:VR,insertBefore:wY,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||VR(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||k4(n,e)},insertInContainerBefore(t,e,n){const r=t.getState().scene.__r3f;!e||!n||!r||wY(r,e,n)},getRootHostContext:()=>SY,getChildHostContext:()=>SY,commitUpdate(t,e,n,r,i){var a,s,o;Jhe(e,r);let l=!1;if((t.type==="primitive"&&n.object!==r.object||((a=r.args)==null?void 0:a.length)!==((s=n.args)==null?void 0:s.length)||(o=r.args)!=null&&o.some((u,f)=>{var d;return u!==((d=n.args)==null?void 0:d[f])}))&&(l=!0),l)rM.push([t,{...r},i]);else{const u=Xct(t,r);Object.keys(u).length&&(Object.assign(t.props,u),uc(t.object,u))}(i.sibling===null||(i.flags&but)===xut)&&yut()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t==null?void 0:t.object,prepareForCommit:()=>null,preparePortalMount:t=>nP(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:gut,unhideInstance:Qhe,createTextInstance:HR,hideTextInstance:HR,unhideTextInstance:HR,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:E.createContext(null),setCurrentUpdatePriority(t){pA=t},getCurrentUpdatePriority(){return pA},resolveUpdatePriority(){var t;if(pA!==Zhe)return pA;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return iut;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return nut;default:return rut}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:aut.version,applyViewTransitionName(t,e,n){},restoreViewTransitionName(t,e){},cancelViewTransitionName(t,e,n){},cancelRootViewTransitionName(t){},restoreRootViewTransitionName(t){},InstanceMeasurement:null,measureInstance:t=>null,wasInstanceInViewport:t=>!0,hasInstanceChanged:(t,e)=>!1,hasInstanceAffectedParent:(t,e)=>!1,suspendOnActiveViewTransition(t,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(t){},createViewTransitionInstance:t=>null,getCurrentGestureOffset(t){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(t,e){return t},cloneMutableTextInstance(t){return t},cloneRootViewTransitionContainer(t){throw new Error("Not implemented.")},removeRootViewTransitionClone(t,e){throw new Error("Not implemented.")},createFragmentInstance:t=>null,updateFragmentInstanceFiber(t,e){},commitNewChildToFragmentInstance(t,e){},deleteChildFromFragmentInstance(t,e){},measureClonedInstance:t=>null,maySuspendCommitOnUpdate:(t,e,n)=>!1,maySuspendCommitInSyncRender:(t,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(t,e)=>null}),fm=new Map,Hg={objects:"shallow",strict:!1};function _ut(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function wut(t){const e=fm.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||Qct(D4,AY),s=n||aP.createContainer(a,tut,null,!1,null,"",i,i,i,null);e||fm.set(t,{fiber:s,store:a});let o,l,c=!1,u=null;return{async configure(f={}){let d;u=new Promise($=>d=$);let{gl:h,size:g,scene:y,events:x,onCreated:v,shadows:b=!1,linear:_=!1,flat:A=!1,legacy:T=!1,orthographic:M=!1,frameloop:I="always",dpr:O=[1,2],performance:P,raycaster:k,camera:N,onPointerMissed:L}=f,B=a.getState(),D=B.gl;if(!B.gl){const $={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},Z=typeof h=="function"?await h($):h;gY(Z)?D=Z:D=new NB({...$,...h}),B.set({gl:D})}let V=B.raycaster;V||B.set({raycaster:V=new OB});const{params:F,...H}=k||{};if(Or.equ(H,V,Hg)||uc(V,{...H}),Or.equ(F,V.params,Hg)||uc(V,{params:{...V.params,...F}}),!B.camera||B.camera===l&&!Or.equ(l,N,Hg)){l=N;const $=N==null?void 0:N.isCamera,Z=$?N:M?new km(0,0,0,0,.1,1e3):new ra(75,0,.1,1e3);$||(Z.position.z=5,N&&(uc(Z,N),Z.manual||("aspect"in N||"left"in N||"right"in N||"bottom"in N||"top"in N)&&(Z.manual=!0,Z.updateProjectionMatrix())),!B.camera&&!(N!=null&&N.rotation)&&Z.lookAt(0,0,0)),B.set({camera:Z}),V.camera=Z}if(!B.scene){let $;y!=null&&y.isScene?($=y,nP($,a,"",{})):($=new kw,nP($,a,"",{}),y&&uc($,y)),B.set({scene:$})}x&&!B.events.handlers&&B.set({events:x(a)});const q=_ut(t,g);if(Or.equ(q,B.size,Hg)||B.setSize(q.width,q.height,q.top,q.left),O&&B.viewport.dpr!==$he(O)&&B.setDpr(O),B.frameloop!==I&&B.setFrameloop(I),B.onPointerMissed||B.set({onPointerMissed:L}),P&&!Or.equ(P,B.performance,Hg)&&B.set($=>({performance:{...$.performance,...P}})),!B.xr){var W;const $=(ie,ue)=>{const te=a.getState();te.frameloop!=="never"&&AY(ie,!0,te,ue)},Z=()=>{const ie=a.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?$:null),ie.gl.xr.isPresenting||D4(ie)},G={connect(){const ie=a.getState().gl;ie.xr.addEventListener("sessionstart",Z),ie.xr.addEventListener("sessionend",Z)},disconnect(){const ie=a.getState().gl;ie.xr.removeEventListener("sessionstart",Z),ie.xr.removeEventListener("sessionend",Z)}};typeof((W=D.xr)==null?void 0:W.addEventListener)=="function"&&G.connect(),B.set({xr:G})}if(D.shadowMap){const $=D.shadowMap.enabled,Z=D.shadowMap.type;if(D.shadowMap.enabled=!!b,Or.boo(b))D.shadowMap.type=$b;else if(Or.str(b)){var z;const G={basic:Yfe,percentage:$v,soft:$b,variance:mp};D.shadowMap.type=(z=G[b])!=null?z:$b}else Or.obj(b)&&Object.assign(D.shadowMap,b);($!==D.shadowMap.enabled||Z!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}return En.enabled=!T,c||(D.outputColorSpace=_?Bl:wa,D.toneMapping=A?Ko:tI),B.legacy!==T&&B.set(()=>({legacy:T})),B.linear!==_&&B.set(()=>({linear:_})),B.flat!==A&&B.set(()=>({flat:A})),h&&!Or.fun(h)&&!gY(h)&&!Or.equ(h,D,Hg)&&uc(D,h),o=v,c=!0,d(),this},render(f){return!c&&!u&&this.configure(),u.then(()=>{aP.updateContainer(S.jsx(Sut,{store:a,children:f,onCreated:o,rootElement:t}),s,null,()=>{})}),a},unmount(){tpe(t)}}}function Sut({store:t,children:e,onCreated:n,rootElement:r}){return jw(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),S.jsx(v_.Provider,{value:t,children:e})}function tpe(t,e){const n=fm.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),aP.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,s,o,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Wct(i.scene),fm.delete(t)}catch{}},500)})}}function Eut(t,e,n){return S.jsx(Aut,{children:t,container:e,state:n})}function Aut({state:t={},children:e,container:n}){const{events:r,size:i,...a}=t,s=UB(),[o]=E.useState(()=>new OB),[l]=E.useState(()=>new tt),c=LB((f,d)=>{let h;if(d.camera&&i){const g=d.camera;h=f.viewport.getCurrentViewport(g,new oe,i),g!==f.camera&&Xhe(g,i)}return{...f,...d,scene:n,raycaster:o,pointer:l,mouse:l,previousRoot:s,events:{...f.events,...d.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...h},setEvents:g=>d.set(y=>({...y,events:{...y.events,...g}}))}}),u=E.useMemo(()=>{const f=Uhe((h,g)=>({...a,set:h,get:g})),d=h=>f.setState(g=>c.current(h,g));return d(s.getState()),s.subscribe(d),f},[s,n]);return S.jsx(S.Fragment,{children:aP.createPortal(S.jsx(v_.Provider,{value:u,children:e}),u,null)})}const Mut=new Set,Tut=new Set,Cut=new Set;function GR(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function t1(t,e){switch(t){case"before":return GR(Mut,e);case"after":return GR(Tut,e);case"tail":return GR(Cut,e)}}let WR,$R;function N4(t,e,n){let r=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),WR=e.internal.subscribers;for(let i=0;i<WR.length;i++)$R=WR[i],$R.ref.current($R.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let sP=!1,R4=!1,qR,EY,Gg;function npe(t){EY=requestAnimationFrame(npe),sP=!0,qR=0,t1("before",t),R4=!0;for(const n of fm.values()){var e;Gg=n.store.getState(),Gg.internal.active&&(Gg.frameloop==="always"||Gg.internal.frames>0)&&!((e=Gg.gl.xr)!=null&&e.isPresenting)&&(qR+=N4(t,Gg))}if(R4=!1,t1("after",t),qR===0)return t1("tail",t),sP=!1,cancelAnimationFrame(EY)}function D4(t,e=1){var n;if(!t)return fm.forEach(r=>D4(r.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):R4?t.internal.frames=2:t.internal.frames=1,sP||(sP=!0,requestAnimationFrame(npe)))}function AY(t,e=!0,n,r){if(e&&t1("before",t),n)N4(t,n,r);else for(const i of fm.values())N4(t,i.store.getState());e&&t1("after",t)}const XR={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Put(t){const{handlePointer:e}=Jct(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(XR).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{const{set:r,events:i}=t.getState();if(i.disconnect==null||i.disconnect(),r(a=>({events:{...a.events,connected:n}})),i.handlers)for(const a in i.handlers){const s=i.handlers[a],[o,l]=XR[a];n.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){if(r.handlers)for(const i in r.handlers){const a=r.handlers[i],[s]=XR[i];r.connected.removeEventListener(s,a)}n(i=>({events:{...i.events,connected:void 0}}))}}}}function MY(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Iut({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=E.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=E.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=E.useRef(!1);E.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,d,h]=E.useMemo(()=>{const v=()=>{if(!o.current.element)return;const{left:b,top:_,width:A,height:T,bottom:M,right:I,x:O,y:P}=o.current.element.getBoundingClientRect(),k={left:b,top:_,width:A,height:T,bottom:M,right:I,x:O,y:P};o.current.element instanceof HTMLElement&&r&&(k.height=o.current.element.offsetHeight,k.width=o.current.element.offsetWidth),Object.freeze(k),u.current&&!Rut(o.current.lastBounds,k)&&s(o.current.lastBounds=k)};return[v,c?MY(v,c):v,l?MY(v,l):v]},[s,r,l,c]);function g(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",h,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function y(){o.current.element&&(o.current.resizeObserver=new i(h),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(v=>v.addEventListener("scroll",h,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const x=v=>{!v||v===o.current.element||(g(),o.current.element=v,o.current.scrollContainers=rpe(v),y())};return kut(h,!!e),Out(d),E.useEffect(()=>{g(),y()},[e,h,d]),E.useEffect(()=>g,[]),[x,a,f]}function Out(t){E.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function kut(t,e){E.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function rpe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...rpe(t.parentElement)]}const Nut=["x","y","top","bottom","left","right","width","height"],Rut=(t,e)=>Nut.every(n=>t[n]===e[n]);function Dut({ref:t,children:e,fallback:n,resize:r,style:i,gl:a,events:s=Put,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:g,dpr:y,performance:x,raycaster:v,camera:b,scene:_,onPointerMissed:A,onCreated:T,...M}){E.useMemo(()=>zB(Tct),[]);const I=Bct(),[O,P]=Iut({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=E.useRef(null),N=E.useRef(null);E.useImperativeHandle(t,()=>k.current);const L=LB(A),[B,D]=E.useState(!1),[V,F]=E.useState(!1);if(B)throw B;if(V)throw V;const H=E.useRef(null);jw(()=>{const W=k.current;if(P.width>0&&P.height>0&&W){H.current||(H.current=wut(W));async function z(){await H.current.configure({gl:a,scene:_,events:s,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:g,dpr:y,performance:x,raycaster:v,camera:b,size:P,onPointerMissed:(...$)=>L.current==null?void 0:L.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(o?Fct(o)?o.current:o:N.current),l&&$.setEvents({compute:(Z,G)=>{const ie=Z[l+"X"],ue=Z[l+"Y"];G.pointer.set(ie/G.size.width*2-1,-(ue/G.size.height)*2+1),G.raycaster.setFromCamera(G.pointer,G.camera)}}),T==null||T($)}}),H.current.render(S.jsx(I,{children:S.jsx(Hct,{set:F,children:S.jsx(E.Suspense,{fallback:S.jsx(Vct,{set:D}),children:e??null})})}))}z()}}),E.useEffect(()=>{const W=k.current;if(W)return()=>tpe(W)},[]);const q=o?"none":"auto";return S.jsx("div",{ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...i},...M,children:S.jsx("div",{ref:O,style:{width:"100%",height:"100%"},children:S.jsx("canvas",{ref:k,style:{display:"block"},children:n})})})}function Lut(t){return S.jsx(Vhe,{children:S.jsx(Dut,{...t})})}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(null,arguments)}const TY=t=>{let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const d=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,o);return o},Uut=t=>t?TY(t):TY,zut=t=>t;function Fut(t,e=zut){const n=He.useSyncExternalStore(t.subscribe,He.useCallback(()=>e(t.getState()),[t,e]),He.useCallback(()=>e(t.getInitialState()),[t,e]));return He.useDebugValue(n),n}const CY=t=>{const e=Uut(t),n=r=>Fut(e,r);return Object.assign(n,e),n},jut=t=>t?CY(t):CY;let jx=0;const But=jut(t=>(Av.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-jx)/(r-jx)*100})},Av.onLoad=()=>{t({active:!1})},Av.onError=e=>t(n=>({errors:[...n.errors,e]})),Av.onProgress=(e,n,r)=>{n===r&&(jx=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-jx)/(r-jx)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),Vut=t=>`Loading ${t.toFixed(2)}%`;function Hut({containerStyles:t,innerStyles:e,barStyles:n,dataStyles:r,dataInterpolation:i=Vut,initialState:a=s=>s}){const{active:s,progress:o}=But(),l=E.useRef(0),c=E.useRef(0),u=E.useRef(null),[f,d]=E.useState(a(s));E.useEffect(()=>{let g;return s!==f&&(g=setTimeout(()=>d(s),300)),()=>clearTimeout(g)},[f,s]);const h=E.useCallback(()=>{u.current&&(l.current+=(o-l.current)/2,(l.current>.95*o||o===100)&&(l.current=o),u.current.innerText=i(l.current),l.current<o&&(c.current=requestAnimationFrame(h)))},[i,o]);return E.useEffect(()=>(h(),()=>cancelAnimationFrame(c.current)),[h]),f?E.createElement("div",{style:{...mA.container,opacity:s?1:0,...t}},E.createElement("div",null,E.createElement("div",{style:{...mA.inner,...e}},E.createElement("div",{style:{...mA.bar,transform:`scaleX(${o/100})`,...n}}),E.createElement("span",{ref:u,style:{...mA.data,...r}})))):null}const mA={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};function n1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gut(t,e){if(t){if(typeof t=="string")return L4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L4(t,e)}}function Wut(t){if(Array.isArray(t))return L4(t)}function $ut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xut(t){return Wut(t)||$ut(t)||Gut(t)||qut()}new tt;new tt;function Kut(t,e,n){return Math.max(e,Math.min(n,t))}function Yut(t,e){return Kut(t-Math.floor(t/e)*e,0,e)}function Zut(t,e){var n=Yut(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var To=function t(e,n,r){var i=this;ipe(this,t),n1(this,"dot2",function(a,s){return i.x*a+i.y*s}),n1(this,"dot3",function(a,s,o){return i.x*a+i.y*s+i.z*o}),this.x=e,this.y=n,this.z=r},Jut=[new To(1,1,0),new To(-1,1,0),new To(1,-1,0),new To(-1,-1,0),new To(1,0,1),new To(-1,0,1),new To(1,0,-1),new To(-1,0,-1),new To(0,1,1),new To(0,-1,1),new To(0,1,-1),new To(0,-1,-1)],PY=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],IY=new Array(512),OY=new Array(512),Qut=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=PY[n]^e&255:r=PY[n]^e>>8&255,IY[n]=IY[n+256]=r,OY[n]=OY[n+256]=Jut[r%12]}};Qut(0);function eft(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function kY(t){var e=eft(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var tft=function t(e){var n=this;ipe(this,t),n1(this,"seed",0),n1(this,"init",function(r){n.seed=r,n.value=kY(r)}),n1(this,"value",kY(this.seed)),this.init(e)};new tft(Math.random());var nft=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},ape=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},rft=function(e){return e},ift={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},aft={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},sft={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},oft={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},lft={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},cft={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function Bi(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ape,o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=o)return t[e]=n,!1;r=Math.max(1e-4,r);var c=2/r,u=s(c*i),f=t[e]-n,d=n,h=a*r;f=Math.min(Math.max(f,-h),h),n=t[e]-f;var g=(t.__damp[l]+c*f)*i;t.__damp[l]=(t.__damp[l]-c*g)*u;var y=n+(f+g)*u;return d-t[e]>0==y>d&&(y=d,t.__damp[l]=(y-d)/i),t[e]=y,!0}var uft=function(e){return e&&e.isCamera},fft=function(e){return e&&e.isLight},Bx=new oe,NY=new Vi,RY=new Vi,Vx=new Wt,KR=new oe;function dft(t,e,n,r,i,a,s){typeof e=="number"?Bx.setScalar(e):Array.isArray(e)?Bx.set(e[0],e[1],e[2]):Bx.copy(e);var o=t.parent;t.updateWorldMatrix(!0,!1),KR.setFromMatrixPosition(t.matrixWorld),uft(t)||fft(t)?Vx.lookAt(KR,Bx,t.up):Vx.lookAt(Bx,KR,t.up),oP(t.quaternion,RY.setFromRotationMatrix(Vx),n,r,i,a,s),o&&(Vx.extractRotation(o.matrixWorld),NY.setFromRotationMatrix(Vx),oP(t.quaternion,RY.copy(t.quaternion).premultiply(NY.invert()),n,r,i,a,s))}function Xv(t,e,n,r,i,a,s,o){return Bi(t,e,t[e]+Zut(t[e],n),r,i,a,s,o)}var Hx=new tt,DY,LY;function hft(t,e,n,r,i,a,s){return typeof e=="number"?Hx.setScalar(e):Array.isArray(e)?Hx.set(e[0],e[1]):Hx.copy(e),DY=Bi(t,"x",Hx.x,n,r,i,a,s),LY=Bi(t,"y",Hx.y,n,r,i,a,s),DY||LY}var Wg=new oe,UY,zY,FY;function U4(t,e,n,r,i,a,s){return typeof e=="number"?Wg.setScalar(e):Array.isArray(e)?Wg.set(e[0],e[1],e[2]):Wg.copy(e),UY=Bi(t,"x",Wg.x,n,r,i,a,s),zY=Bi(t,"y",Wg.y,n,r,i,a,s),FY=Bi(t,"z",Wg.z,n,r,i,a,s),UY||zY||FY}var qh=new In,jY,BY,VY,HY;function pft(t,e,n,r,i,a,s){return typeof e=="number"?qh.setScalar(e):Array.isArray(e)?qh.set(e[0],e[1],e[2],e[3]):qh.copy(e),jY=Bi(t,"x",qh.x,n,r,i,a,s),BY=Bi(t,"y",qh.y,n,r,i,a,s),VY=Bi(t,"z",qh.z,n,r,i,a,s),HY=Bi(t,"w",qh.w,n,r,i,a,s),jY||BY||VY||HY}var Gx=new Ns,GY,WY,$Y;function mft(t,e,n,r,i,a,s){return Array.isArray(e)?Gx.set(e[0],e[1],e[2],e[3]):Gx.copy(e),GY=Xv(t,"x",Gx.x,n,r,i,a,s),WY=Xv(t,"y",Gx.y,n,r,i,a,s),$Y=Xv(t,"z",Gx.z,n,r,i,a,s),GY||WY||$Y}var $g=new Mt,qY,XY,KY;function gft(t,e,n,r,i,a,s){return e instanceof Mt?$g.copy(e):Array.isArray(e)?$g.setRGB(e[0],e[1],e[2]):$g.set(e),qY=Bi(t,"r",$g.r,n,r,i,a,s),XY=Bi(t,"g",$g.g,n,r,i,a,s),KY=Bi(t,"b",$g.b,n,r,i,a,s),qY||XY||KY}var xl=new Vi,uu=new In,YY=new In,Wx=new In,ZY,JY,QY,eZ;function oP(t,e,n,r,i,a,s){var o=t;Array.isArray(e)?xl.set(e[0],e[1],e[2],e[3]):xl.copy(e);var l=t.dot(xl)>0?1:-1;return xl.x*=l,xl.y*=l,xl.z*=l,xl.w*=l,ZY=Bi(t,"x",xl.x,n,r,i,a,s),JY=Bi(t,"y",xl.y,n,r,i,a,s),QY=Bi(t,"z",xl.z,n,r,i,a,s),eZ=Bi(t,"w",xl.w,n,r,i,a,s),uu.set(t.x,t.y,t.z,t.w).normalize(),YY.set(o.__damp.velocity_x,o.__damp.velocity_y,o.__damp.velocity_z,o.__damp.velocity_w),Wx.copy(uu).multiplyScalar(YY.dot(uu)/uu.dot(uu)),o.__damp.velocity_x-=Wx.x,o.__damp.velocity_y-=Wx.y,o.__damp.velocity_z-=Wx.z,o.__damp.velocity_w-=Wx.w,t.set(uu.x,uu.y,uu.z,uu.w),ZY||JY||QY||eZ}var $x=new Phe,tZ,nZ,rZ;function vft(t,e,n,r,i,a,s){return Array.isArray(e)?$x.set(e[0],e[1],e[2]):$x.copy(e),tZ=Bi(t,"radius",$x.radius,n,r,i,a,s),nZ=Xv(t,"phi",$x.phi,n,r,i,a,s),rZ=Xv(t,"theta",$x.theta,n,r,i,a,s),tZ||nZ||rZ}var gA=new Wt,iZ=new oe,aZ=new Vi,sZ=new oe,oZ,lZ,cZ;function yft(t,e,n,r,i,a,s){var o=t;return o.__damp===void 0&&(o.__damp={position:new oe,rotation:new Vi,scale:new oe},t.decompose(o.__damp.position,o.__damp.rotation,o.__damp.scale)),Array.isArray(e)?gA.set.apply(gA,Xut(e)):gA.copy(e),gA.decompose(iZ,aZ,sZ),oZ=U4(o.__damp.position,iZ,n,r,i,a,s),lZ=oP(o.__damp.rotation,aZ,n,r,i,a,s),cZ=U4(o.__damp.scale,sZ,n,r,i,a,s),t.compose(o.__damp.position,o.__damp.rotation,o.__damp.scale),oZ||lZ||cZ}var uZ=Object.freeze({__proto__:null,rsqw:nft,exp:ape,linear:rft,sine:ift,cubic:aft,quint:sft,circ:oft,quart:lft,expo:cft,damp:Bi,dampLookAt:dft,dampAngle:Xv,damp2:hft,damp3:U4,damp4:pft,dampE:mft,dampC:gft,dampQ:oP,dampS:vft,dampM:yft});const jB=E.createContext(null);function BB(){return E.useContext(jB)}function xft({eps:t=1e-5,enabled:e=!0,infinite:n,horizontal:r,pages:i=1,distance:a=1,damping:s=.25,maxSpeed:o=1/0,prepend:l=!1,style:c={},children:u}){const{get:f,setEvents:d,gl:h,size:g,invalidate:y,events:x}=rs(),[v]=E.useState(()=>document.createElement("div")),[b]=E.useState(()=>document.createElement("div")),[_]=E.useState(()=>document.createElement("div")),A=h.domElement.parentNode,T=E.useRef(0),M=E.useMemo(()=>({el:v,eps:t,fill:b,fixed:_,horizontal:r,damping:s,offset:0,delta:0,scroll:T,pages:i,range(P,k,N=0){const L=P-N,B=L+k+N*2;return this.offset<L?0:this.offset>B?1:(this.offset-L)/(B-L)},curve(P,k,N=0){return Math.sin(this.range(P,k,N)*Math.PI)},visible(P,k,N=0){const L=P-N,B=L+k+N*2;return this.offset>=L&&this.offset<=B}}),[t,s,r,i]);E.useEffect(()=>{v.style.position="absolute",v.style.width="100%",v.style.height="100%",v.style[r?"overflowX":"overflowY"]="auto",v.style[r?"overflowY":"overflowX"]="hidden",v.style.top="0px",v.style.left="0px";for(const k in c)v.style[k]=c[k];_.style.position="sticky",_.style.top="0px",_.style.left="0px",_.style.width="100%",_.style.height="100%",_.style.overflow="hidden",v.appendChild(_),b.style.height=r?"100%":`${i*a*100}%`,b.style.width=r?`${i*a*100}%`:"100%",b.style.pointerEvents="none",v.appendChild(b),l?A.prepend(v):A.appendChild(v),v[r?"scrollLeft":"scrollTop"]=1;const O=x.connected||h.domElement;requestAnimationFrame(()=>x.connect==null?void 0:x.connect(v));const P=f().events.compute;return d({compute(k,N){const{left:L,top:B}=A.getBoundingClientRect(),D=k.clientX-L,V=k.clientY-B;N.pointer.set(D/N.size.width*2-1,-(V/N.size.height)*2+1),N.raycaster.setFromCamera(N.pointer,N.camera)}}),()=>{A.removeChild(v),d({compute:P}),x.connect==null||x.connect(O)}},[i,a,r,v,b,_,A]),E.useEffect(()=>{if(x.connected===v){const O=g[r?"width":"height"],P=v[r?"scrollWidth":"scrollHeight"],k=P-O;let N=0,L=!0,B=!0;const D=()=>{if(!(!e||B)&&(y(),N=v[r?"scrollLeft":"scrollTop"],T.current=N/k,n)){if(!L){if(N>=k){const F=1-M.offset;v[r?"scrollLeft":"scrollTop"]=1,T.current=M.offset=-F,L=!0}else if(N<=0){const F=1+M.offset;v[r?"scrollLeft":"scrollTop"]=P,T.current=M.offset=F,L=!0}}L&&setTimeout(()=>L=!1,40)}};v.addEventListener("scroll",D,{passive:!0}),requestAnimationFrame(()=>B=!1);const V=F=>v.scrollLeft+=F.deltaY/2;return r&&v.addEventListener("wheel",V,{passive:!0}),()=>{v.removeEventListener("scroll",D),r&&v.removeEventListener("wheel",V)}}},[v,x,g,n,M,y,r,e]);let I=0;return uh((O,P)=>{I=M.offset,uZ.damp(M,"offset",T.current,s,P,o,void 0,t),uZ.damp(M,"delta",Math.abs(I-M.offset),s,P,o,void 0,t),M.delta>t&&y()}),E.createElement(jB.Provider,{value:M},u)}const bft=E.forwardRef(({children:t},e)=>{const n=E.useRef(null);E.useImperativeHandle(e,()=>n.current,[]);const r=BB(),{width:i,height:a}=rs(s=>s.viewport);return uh(()=>{n.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,n.current.position.y=r.horizontal?0:a*(r.pages-1)*r.offset}),E.createElement("group",{ref:n},t)}),_ft=E.forwardRef(({children:t,style:e,...n},r)=>{const i=BB(),a=E.useRef(null);E.useImperativeHandle(r,()=>a.current,[]);const{width:s,height:o}=rs(u=>u.size),l=E.useContext(v_),c=E.useMemo(()=>Iee.createRoot(i.fixed),[i.fixed]);return uh(()=>{i.delta>i.eps&&(a.current.style.transform=`translate3d(${i.horizontal?-s*(i.pages-1)*i.offset:0}px,${i.horizontal?0:o*(i.pages-1)*-i.offset}px,0)`)}),c.render(E.createElement("div",Kd({ref:a,style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},n),E.createElement(jB.Provider,{value:i},E.createElement(v_.Provider,{value:l},t)))),null}),wft=E.forwardRef(({html:t,...e},n)=>{const r=t?_ft:bft;return E.createElement(r,Kd({ref:n},e))}),spe=parseInt(_y.replace(/\D+/g,""));var Bo=Uint8Array,wd=Uint16Array,z4=Uint32Array,ope=new Bo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lpe=new Bo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Sft=new Bo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cpe=function(t,e){for(var n=new wd(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new z4(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},upe=cpe(ope,2),fpe=upe[0],Eft=upe[1];fpe[28]=258,Eft[258]=28;var Aft=cpe(lpe,0),Mft=Aft[0],F4=new wd(32768);for(var Sr=0;Sr<32768;++Sr){var Kf=(Sr&43690)>>>1|(Sr&21845)<<1;Kf=(Kf&52428)>>>2|(Kf&13107)<<2,Kf=(Kf&61680)>>>4|(Kf&3855)<<4,F4[Sr]=((Kf&65280)>>>8|(Kf&255)<<8)>>>1}var r1=function(t,e,n){for(var r=t.length,i=0,a=new wd(e);i<r;++i)++a[t[i]-1];var s=new wd(e);for(i=0;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new wd(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)o[F4[f]>>>l]=c}else for(o=new wd(r),i=0;i<r;++i)t[i]&&(o[i]=F4[s[t[i]-1]++]>>>15-t[i]);return o},Bw=new Bo(288);for(var Sr=0;Sr<144;++Sr)Bw[Sr]=8;for(var Sr=144;Sr<256;++Sr)Bw[Sr]=9;for(var Sr=256;Sr<280;++Sr)Bw[Sr]=7;for(var Sr=280;Sr<288;++Sr)Bw[Sr]=8;var dpe=new Bo(32);for(var Sr=0;Sr<32;++Sr)dpe[Sr]=5;var Tft=r1(Bw,9,1),Cft=r1(dpe,5,1),YR=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},bl=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},ZR=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Pft=function(t){return(t/8|0)+(t&7&&1)},Ift=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof wd?wd:t instanceof z4?z4:Bo)(n-e);return r.set(t.subarray(e,n)),r},Oft=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Bo(0);var i=!e||n,a=!n||n.i;n||(n={}),e||(e=new Bo(r*3));var s=function(te){var ae=e.length;if(te>ae){var he=new Bo(Math.max(ae*2,te));he.set(e),e=he}},o=n.f||0,l=n.p||0,c=n.b||0,u=n.l,f=n.d,d=n.m,h=n.n,g=r*8;do{if(!u){n.f=o=bl(t,l,1);var y=bl(t,l+1,3);if(l+=3,y)if(y==1)u=Tft,f=Cft,d=9,h=5;else if(y==2){var _=bl(t,l,31)+257,A=bl(t,l+10,15)+4,T=_+bl(t,l+5,31)+1;l+=14;for(var M=new Bo(T),I=new Bo(19),O=0;O<A;++O)I[Sft[O]]=bl(t,l+O*3,7);l+=A*3;for(var P=YR(I),k=(1<<P)-1,N=r1(I,P,1),O=0;O<T;){var L=N[bl(t,l,k)];l+=L&15;var x=L>>>4;if(x<16)M[O++]=x;else{var B=0,D=0;for(x==16?(D=3+bl(t,l,3),l+=2,B=M[O-1]):x==17?(D=3+bl(t,l,7),l+=3):x==18&&(D=11+bl(t,l,127),l+=7);D--;)M[O++]=B}}var V=M.subarray(0,_),F=M.subarray(_);d=YR(V),h=YR(F),u=r1(V,d,1),f=r1(F,h,1)}else throw"invalid block type";else{var x=Pft(l)+4,v=t[x-4]|t[x-3]<<8,b=x+v;if(b>r){if(a)throw"unexpected EOF";break}i&&s(c+v),e.set(t.subarray(x,b),c),n.b=c+=v,n.p=l=b*8;continue}if(l>g){if(a)throw"unexpected EOF";break}}i&&s(c+131072);for(var H=(1<<d)-1,q=(1<<h)-1,W=l;;W=l){var B=u[ZR(t,l)&H],z=B>>>4;if(l+=B&15,l>g){if(a)throw"unexpected EOF";break}if(!B)throw"invalid length/literal";if(z<256)e[c++]=z;else if(z==256){W=l,u=null;break}else{var $=z-254;if(z>264){var O=z-257,Z=ope[O];$=bl(t,l,(1<<Z)-1)+fpe[O],l+=Z}var G=f[ZR(t,l)&q],ie=G>>>4;if(!G)throw"invalid distance";l+=G&15;var F=Mft[ie];if(ie>3){var Z=lpe[ie];F+=ZR(t,l)&(1<<Z)-1,l+=Z}if(l>g){if(a)throw"unexpected EOF";break}i&&s(c+131072);for(var ue=c+$;c<ue;c+=4)e[c]=e[c-F],e[c+1]=e[c+1-F],e[c+2]=e[c+2-F],e[c+3]=e[c+3-F];c=ue}}n.l=u,n.p=W,n.b=c,u&&(o=1,n.m=d,n.d=f,n.n=h)}while(!o);return c==e.length?e:Ift(e,0,c)},kft=new Bo(0),Nft=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function vA(t,e){return Oft((Nft(t),t.subarray(2,-4)),e)}var Rft=typeof TextDecoder<"u"&&new TextDecoder,Dft=0;try{Rft.decode(kft,{stream:!0}),Dft=1}catch{}const Lft=t=>t&&t.isCubeTexture;class Uft extends yr{constructor(e,n){var r,i;const a=Lft(e),o=((i=a?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(o)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,d=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],h=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,g=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${spe>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},x=new Dw(1,16),v=new Va({uniforms:y,fragmentShader:g,vertexShader:h,side:jo});super(x,v)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class zft extends wB{constructor(e){super(e),this.type=Gr}parse(e){const s=function(O,P){switch(O){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(P||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(P||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(P||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(P||""))}},u=`
`,f=function(O,P,k){P=P||1024;let L=O.pos,B=-1,D=0,V="",F=String.fromCharCode.apply(null,new Uint16Array(O.subarray(L,L+128)));for(;0>(B=F.indexOf(u))&&D<P&&L<O.byteLength;)V+=F,D+=F.length,L+=128,F+=String.fromCharCode.apply(null,new Uint16Array(O.subarray(L,L+128)));return-1<B?(O.pos+=D+B+1,V+F.slice(0,B)):!1},d=function(O){const P=/^#\?(\S+)/,k=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,N=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,L=/^\s*FORMAT=(\S+)\s*$/,B=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,D={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let V,F;for((O.pos>=O.byteLength||!(V=f(O)))&&s(1,"no header found"),(F=V.match(P))||s(3,"bad initial token"),D.valid|=1,D.programtype=F[1],D.string+=V+`
`;V=f(O),V!==!1;){if(D.string+=V+`
`,V.charAt(0)==="#"){D.comments+=V+`
`;continue}if((F=V.match(k))&&(D.gamma=parseFloat(F[1])),(F=V.match(N))&&(D.exposure=parseFloat(F[1])),(F=V.match(L))&&(D.valid|=2,D.format=F[1]),(F=V.match(B))&&(D.valid|=4,D.height=parseInt(F[1],10),D.width=parseInt(F[2],10)),D.valid&2&&D.valid&4)break}return D.valid&2||s(3,"missing format specifier"),D.valid&4||s(3,"missing image size specifier"),D},h=function(O,P,k){const N=P;if(N<8||N>32767||O[0]!==2||O[1]!==2||O[2]&128)return new Uint8Array(O);N!==(O[2]<<8|O[3])&&s(3,"wrong scanline width");const L=new Uint8Array(4*P*k);L.length||s(4,"unable to allocate buffer space");let B=0,D=0;const V=4*N,F=new Uint8Array(4),H=new Uint8Array(V);let q=k;for(;q>0&&D<O.byteLength;){D+4>O.byteLength&&s(1),F[0]=O[D++],F[1]=O[D++],F[2]=O[D++],F[3]=O[D++],(F[0]!=2||F[1]!=2||(F[2]<<8|F[3])!=N)&&s(3,"bad rgbe scanline format");let W=0,z;for(;W<V&&D<O.byteLength;){z=O[D++];const Z=z>128;if(Z&&(z-=128),(z===0||W+z>V)&&s(3,"bad scanline data"),Z){const G=O[D++];for(let ie=0;ie<z;ie++)H[W++]=G}else H.set(O.subarray(D,D+z),W),W+=z,D+=z}const $=N;for(let Z=0;Z<$;Z++){let G=0;L[B]=H[Z+G],G+=N,L[B+1]=H[Z+G],G+=N,L[B+2]=H[Z+G],G+=N,L[B+3]=H[Z+G],B+=4}q--}return L},g=function(O,P,k,N){const L=O[P+3],B=Math.pow(2,L-128)/255;k[N+0]=O[P+0]*B,k[N+1]=O[P+1]*B,k[N+2]=O[P+2]*B,k[N+3]=1},y=function(O,P,k,N){const L=O[P+3],B=Math.pow(2,L-128)/255;k[N+0]=yp.toHalfFloat(Math.min(O[P+0]*B,65504)),k[N+1]=yp.toHalfFloat(Math.min(O[P+1]*B,65504)),k[N+2]=yp.toHalfFloat(Math.min(O[P+2]*B,65504)),k[N+3]=yp.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const v=d(x),b=v.width,_=v.height,A=h(x.subarray(x.pos),b,_);let T,M,I;switch(this.type){case Ar:I=A.length/4;const O=new Float32Array(I*4);for(let k=0;k<I;k++)g(A,k*4,O,k*4);T=O,M=Ar;break;case Gr:I=A.length/4;const P=new Uint16Array(I*4);for(let k=0;k<I;k++)y(A,k*4,P,k*4);T=P,M=Gr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:b,height:_,data:T,header:v.string,gamma:v.gamma,exposure:v.exposure,type:M}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(s,o){switch(s.type){case Ar:case Gr:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=mn,s.magFilter=mn,s.generateMipmaps=!1,s.flipY=!0;break}n&&n(s,o)}return super.load(e,a,r,i)}}const qx=spe>=152;class Fft extends wB{constructor(e){super(e),this.type=Gr}parse(e){const P=Math.pow(2.7182818,2.2);function k(X,ne){for(var ge=0,Le=0;Le<65536;++Le)(Le==0||X[Le>>3]&1<<(Le&7))&&(ne[ge++]=Le);for(var Ve=ge-1;ge<65536;)ne[ge++]=0;return Ve}function N(X){for(var ne=0;ne<16384;ne++)X[ne]={},X[ne].len=0,X[ne].lit=0,X[ne].p=null}const L={l:0,c:0,lc:0};function B(X,ne,ge,Le,Ve){for(;ge<X;)ne=ne<<8|Be(Le,Ve),ge+=8;ge-=X,L.l=ne>>ge&(1<<X)-1,L.c=ne,L.lc=ge}const D=new Array(59);function V(X){for(var ne=0;ne<=58;++ne)D[ne]=0;for(var ne=0;ne<65537;++ne)D[X[ne]]+=1;for(var ge=0,ne=58;ne>0;--ne){var Le=ge+D[ne]>>1;D[ne]=ge,ge=Le}for(var ne=0;ne<65537;++ne){var Ve=X[ne];Ve>0&&(X[ne]=Ve|D[Ve]++<<6)}}function F(X,ne,ge,Le,Ve,$e,lt){for(var it=ge,ht=0,ft=0;Ve<=$e;Ve++){if(it.value-ge.value>Le)return!1;B(6,ht,ft,X,it);var mt=L.l;if(ht=L.c,ft=L.lc,lt[Ve]=mt,mt==63){if(it.value-ge.value>Le)throw"Something wrong with hufUnpackEncTable";B(8,ht,ft,X,it);var je=L.l+6;if(ht=L.c,ft=L.lc,Ve+je>$e+1)throw"Something wrong with hufUnpackEncTable";for(;je--;)lt[Ve++]=0;Ve--}else if(mt>=59){var je=mt-59+2;if(Ve+je>$e+1)throw"Something wrong with hufUnpackEncTable";for(;je--;)lt[Ve++]=0;Ve--}}V(lt)}function H(X){return X&63}function q(X){return X>>6}function W(X,ne,ge,Le){for(;ne<=ge;ne++){var Ve=q(X[ne]),$e=H(X[ne]);if(Ve>>$e)throw"Invalid table entry";if($e>14){var lt=Le[Ve>>$e-14];if(lt.len)throw"Invalid table entry";if(lt.lit++,lt.p){var it=lt.p;lt.p=new Array(lt.lit);for(var ht=0;ht<lt.lit-1;++ht)lt.p[ht]=it[ht]}else lt.p=new Array(1);lt.p[lt.lit-1]=ne}else if($e)for(var ft=0,ht=1<<14-$e;ht>0;ht--){var lt=Le[(Ve<<14-$e)+ft];if(lt.len||lt.p)throw"Invalid table entry";lt.len=$e,lt.lit=ne,ft++}}return!0}const z={c:0,lc:0};function $(X,ne,ge,Le){X=X<<8|Be(ge,Le),ne+=8,z.c=X,z.lc=ne}const Z={c:0,lc:0};function G(X,ne,ge,Le,Ve,$e,lt,it,ht,ft){if(X==ne){Le<8&&($(ge,Le,Ve,lt),ge=z.c,Le=z.lc),Le-=8;var mt=ge>>Le,mt=new Uint8Array([mt])[0];if(ht.value+mt>ft)return!1;for(var je=it[ht.value-1];mt-- >0;)it[ht.value++]=je}else if(ht.value<ft)it[ht.value++]=X;else return!1;Z.c=ge,Z.lc=Le}function ie(X){return X&65535}function ue(X){var ne=ie(X);return ne>32767?ne-65536:ne}const te={a:0,b:0};function ae(X,ne){var ge=ue(X),Le=ue(ne),Ve=Le,$e=ge+(Ve&1)+(Ve>>1),lt=$e,it=$e-Ve;te.a=lt,te.b=it}function he(X,ne){var ge=ie(X),Le=ie(ne),Ve=ge-(Le>>1)&65535,$e=Le+Ve-32768&65535;te.a=$e,te.b=Ve}function le(X,ne,ge,Le,Ve,$e,lt){for(var it=lt<16384,ht=ge>Ve?Ve:ge,ft=1,mt;ft<=ht;)ft<<=1;for(ft>>=1,mt=ft,ft>>=1;ft>=1;){for(var je=0,J=je+$e*(Ve-mt),de=$e*ft,Se=$e*mt,Ae=Le*ft,_e=Le*mt,Qe,st,et,gt;je<=J;je+=Se){for(var dt=je,Rt=je+Le*(ge-mt);dt<=Rt;dt+=_e){var bt=dt+Ae,Ut=dt+de,Xt=Ut+Ae;it?(ae(X[dt+ne],X[Ut+ne]),Qe=te.a,et=te.b,ae(X[bt+ne],X[Xt+ne]),st=te.a,gt=te.b,ae(Qe,st),X[dt+ne]=te.a,X[bt+ne]=te.b,ae(et,gt),X[Ut+ne]=te.a,X[Xt+ne]=te.b):(he(X[dt+ne],X[Ut+ne]),Qe=te.a,et=te.b,he(X[bt+ne],X[Xt+ne]),st=te.a,gt=te.b,he(Qe,st),X[dt+ne]=te.a,X[bt+ne]=te.b,he(et,gt),X[Ut+ne]=te.a,X[Xt+ne]=te.b)}if(ge&ft){var Ut=dt+de;it?ae(X[dt+ne],X[Ut+ne]):he(X[dt+ne],X[Ut+ne]),Qe=te.a,X[Ut+ne]=te.b,X[dt+ne]=Qe}}if(Ve&ft)for(var dt=je,Rt=je+Le*(ge-mt);dt<=Rt;dt+=_e){var bt=dt+Ae;it?ae(X[dt+ne],X[bt+ne]):he(X[dt+ne],X[bt+ne]),Qe=te.a,X[bt+ne]=te.b,X[dt+ne]=Qe}mt=ft,ft>>=1}return je}function be(X,ne,ge,Le,Ve,$e,lt,it,ht,ft){for(var mt=0,je=0,J=it,de=Math.trunc(Ve.value+($e+7)/8);Ve.value<de;)for($(mt,je,ge,Ve),mt=z.c,je=z.lc;je>=14;){var Se=mt>>je-14&16383,Ae=ne[Se];if(Ae.len)je-=Ae.len,G(Ae.lit,lt,mt,je,ge,Le,Ve,ht,ft,J),mt=Z.c,je=Z.lc;else{if(!Ae.p)throw"hufDecode issues";var _e;for(_e=0;_e<Ae.lit;_e++){for(var Qe=H(X[Ae.p[_e]]);je<Qe&&Ve.value<de;)$(mt,je,ge,Ve),mt=z.c,je=z.lc;if(je>=Qe&&q(X[Ae.p[_e]])==(mt>>je-Qe&(1<<Qe)-1)){je-=Qe,G(Ae.p[_e],lt,mt,je,ge,Le,Ve,ht,ft,J),mt=Z.c,je=Z.lc;break}}if(_e==Ae.lit)throw"hufDecode issues"}}var st=8-$e&7;for(mt>>=st,je-=st;je>0;){var Ae=ne[mt<<14-je&16383];if(Ae.len)je-=Ae.len,G(Ae.lit,lt,mt,je,ge,Le,Ve,ht,ft,J),mt=Z.c,je=Z.lc;else throw"hufDecode issues"}return!0}function Ie(X,ne,ge,Le,Ve,$e){var lt={value:0},it=ge.value,ht=Ue(ne,ge),ft=Ue(ne,ge);ge.value+=4;var mt=Ue(ne,ge);if(ge.value+=4,ht<0||ht>=65537||ft<0||ft>=65537)throw"Something wrong with HUF_ENCSIZE";var je=new Array(65537),J=new Array(16384);N(J);var de=Le-(ge.value-it);if(F(X,ne,ge,de,ht,ft,je),mt>8*(Le-(ge.value-it)))throw"Something wrong with hufUncompress";W(je,ht,ft,J),be(je,J,X,ne,ge,mt,ft,$e,Ve,lt)}function fe(X,ne,ge){for(var Le=0;Le<ge;++Le)ne[Le]=X[ne[Le]]}function Ye(X){for(var ne=1;ne<X.length;ne++){var ge=X[ne-1]+X[ne]-128;X[ne]=ge}}function we(X,ne){for(var ge=0,Le=Math.floor((X.length+1)/2),Ve=0,$e=X.length-1;!(Ve>$e||(ne[Ve++]=X[ge++],Ve>$e));)ne[Ve++]=X[Le++]}function Te(X){for(var ne=X.byteLength,ge=new Array,Le=0,Ve=new DataView(X);ne>0;){var $e=Ve.getInt8(Le++);if($e<0){var lt=-$e;ne-=lt+1;for(var it=0;it<lt;it++)ge.push(Ve.getUint8(Le++))}else{var lt=$e;ne-=2;for(var ht=Ve.getUint8(Le++),it=0;it<lt+1;it++)ge.push(ht)}}return ge}function Ee(X,ne,ge,Le,Ve,$e){var bt=new DataView($e.buffer),lt=ge[X.idx[0]].width,it=ge[X.idx[0]].height,ht=3,ft=Math.floor(lt/8),mt=Math.ceil(lt/8),je=Math.ceil(it/8),J=lt-(mt-1)*8,de=it-(je-1)*8,Se={value:0},Ae=new Array(ht),_e=new Array(ht),Qe=new Array(ht),st=new Array(ht),et=new Array(ht);for(let Pt=0;Pt<ht;++Pt)et[Pt]=ne[X.idx[Pt]],Ae[Pt]=Pt<1?0:Ae[Pt-1]+mt*je,_e[Pt]=new Float32Array(64),Qe[Pt]=new Uint16Array(64),st[Pt]=new Uint16Array(mt*64);for(let Pt=0;Pt<je;++Pt){var gt=8;Pt==je-1&&(gt=de);var dt=8;for(let Lt=0;Lt<mt;++Lt){Lt==mt-1&&(dt=J);for(let St=0;St<ht;++St)Qe[St].fill(0),Qe[St][0]=Ve[Ae[St]++],ke(Se,Le,Qe[St]),Y(Qe[St],_e[St]),xe(_e[St]);ye(_e);for(let St=0;St<ht;++St)me(_e[St],st[St],Lt*64)}let ct=0;for(let Lt=0;Lt<ht;++Lt){const St=ge[X.idx[Lt]].type;for(let kn=8*Pt;kn<8*Pt+gt;++kn){ct=et[Lt][kn];for(let Lr=0;Lr<ft;++Lr){const an=Lr*64+(kn&7)*8;bt.setUint16(ct+0*2*St,st[Lt][an+0],!0),bt.setUint16(ct+1*2*St,st[Lt][an+1],!0),bt.setUint16(ct+2*2*St,st[Lt][an+2],!0),bt.setUint16(ct+3*2*St,st[Lt][an+3],!0),bt.setUint16(ct+4*2*St,st[Lt][an+4],!0),bt.setUint16(ct+5*2*St,st[Lt][an+5],!0),bt.setUint16(ct+6*2*St,st[Lt][an+6],!0),bt.setUint16(ct+7*2*St,st[Lt][an+7],!0),ct+=8*2*St}}if(ft!=mt)for(let kn=8*Pt;kn<8*Pt+gt;++kn){const Lr=et[Lt][kn]+8*ft*2*St,an=ft*64+(kn&7)*8;for(let Kr=0;Kr<dt;++Kr)bt.setUint16(Lr+Kr*2*St,st[Lt][an+Kr],!0)}}}for(var Rt=new Uint16Array(lt),bt=new DataView($e.buffer),Ut=0;Ut<ht;++Ut){ge[X.idx[Ut]].decoded=!0;var Xt=ge[X.idx[Ut]].type;if(ge[Ut].type==2)for(var wn=0;wn<it;++wn){const Pt=et[Ut][wn];for(var en=0;en<lt;++en)Rt[en]=bt.getUint16(Pt+en*2*Xt,!0);for(var en=0;en<lt;++en)bt.setFloat32(Pt+en*2*Xt,Me(Rt[en]),!0)}}}function ke(X,ne,ge){for(var Le,Ve=1;Ve<64;)Le=ne[X.value],Le==65280?Ve=64:Le>>8==255?Ve+=Le&255:(ge[Ve]=Le,Ve++),X.value++}function Y(X,ne){ne[0]=Me(X[0]),ne[1]=Me(X[1]),ne[2]=Me(X[5]),ne[3]=Me(X[6]),ne[4]=Me(X[14]),ne[5]=Me(X[15]),ne[6]=Me(X[27]),ne[7]=Me(X[28]),ne[8]=Me(X[2]),ne[9]=Me(X[4]),ne[10]=Me(X[7]),ne[11]=Me(X[13]),ne[12]=Me(X[16]),ne[13]=Me(X[26]),ne[14]=Me(X[29]),ne[15]=Me(X[42]),ne[16]=Me(X[3]),ne[17]=Me(X[8]),ne[18]=Me(X[12]),ne[19]=Me(X[17]),ne[20]=Me(X[25]),ne[21]=Me(X[30]),ne[22]=Me(X[41]),ne[23]=Me(X[43]),ne[24]=Me(X[9]),ne[25]=Me(X[11]),ne[26]=Me(X[18]),ne[27]=Me(X[24]),ne[28]=Me(X[31]),ne[29]=Me(X[40]),ne[30]=Me(X[44]),ne[31]=Me(X[53]),ne[32]=Me(X[10]),ne[33]=Me(X[19]),ne[34]=Me(X[23]),ne[35]=Me(X[32]),ne[36]=Me(X[39]),ne[37]=Me(X[45]),ne[38]=Me(X[52]),ne[39]=Me(X[54]),ne[40]=Me(X[20]),ne[41]=Me(X[22]),ne[42]=Me(X[33]),ne[43]=Me(X[38]),ne[44]=Me(X[46]),ne[45]=Me(X[51]),ne[46]=Me(X[55]),ne[47]=Me(X[60]),ne[48]=Me(X[21]),ne[49]=Me(X[34]),ne[50]=Me(X[37]),ne[51]=Me(X[47]),ne[52]=Me(X[50]),ne[53]=Me(X[56]),ne[54]=Me(X[59]),ne[55]=Me(X[61]),ne[56]=Me(X[35]),ne[57]=Me(X[36]),ne[58]=Me(X[48]),ne[59]=Me(X[49]),ne[60]=Me(X[57]),ne[61]=Me(X[58]),ne[62]=Me(X[62]),ne[63]=Me(X[63])}function xe(X){const ne=.5*Math.cos(.7853975),ge=.5*Math.cos(3.14159/16),Le=.5*Math.cos(3.14159/8),Ve=.5*Math.cos(3*3.14159/16),$e=.5*Math.cos(5*3.14159/16),lt=.5*Math.cos(3*3.14159/8),it=.5*Math.cos(7*3.14159/16);for(var ht=new Array(4),ft=new Array(4),mt=new Array(4),je=new Array(4),J=0;J<8;++J){var de=J*8;ht[0]=Le*X[de+2],ht[1]=lt*X[de+2],ht[2]=Le*X[de+6],ht[3]=lt*X[de+6],ft[0]=ge*X[de+1]+Ve*X[de+3]+$e*X[de+5]+it*X[de+7],ft[1]=Ve*X[de+1]-it*X[de+3]-ge*X[de+5]-$e*X[de+7],ft[2]=$e*X[de+1]-ge*X[de+3]+it*X[de+5]+Ve*X[de+7],ft[3]=it*X[de+1]-$e*X[de+3]+Ve*X[de+5]-ge*X[de+7],mt[0]=ne*(X[de+0]+X[de+4]),mt[3]=ne*(X[de+0]-X[de+4]),mt[1]=ht[0]+ht[3],mt[2]=ht[1]-ht[2],je[0]=mt[0]+mt[1],je[1]=mt[3]+mt[2],je[2]=mt[3]-mt[2],je[3]=mt[0]-mt[1],X[de+0]=je[0]+ft[0],X[de+1]=je[1]+ft[1],X[de+2]=je[2]+ft[2],X[de+3]=je[3]+ft[3],X[de+4]=je[3]-ft[3],X[de+5]=je[2]-ft[2],X[de+6]=je[1]-ft[1],X[de+7]=je[0]-ft[0]}for(var Se=0;Se<8;++Se)ht[0]=Le*X[16+Se],ht[1]=lt*X[16+Se],ht[2]=Le*X[48+Se],ht[3]=lt*X[48+Se],ft[0]=ge*X[8+Se]+Ve*X[24+Se]+$e*X[40+Se]+it*X[56+Se],ft[1]=Ve*X[8+Se]-it*X[24+Se]-ge*X[40+Se]-$e*X[56+Se],ft[2]=$e*X[8+Se]-ge*X[24+Se]+it*X[40+Se]+Ve*X[56+Se],ft[3]=it*X[8+Se]-$e*X[24+Se]+Ve*X[40+Se]-ge*X[56+Se],mt[0]=ne*(X[Se]+X[32+Se]),mt[3]=ne*(X[Se]-X[32+Se]),mt[1]=ht[0]+ht[3],mt[2]=ht[1]-ht[2],je[0]=mt[0]+mt[1],je[1]=mt[3]+mt[2],je[2]=mt[3]-mt[2],je[3]=mt[0]-mt[1],X[0+Se]=je[0]+ft[0],X[8+Se]=je[1]+ft[1],X[16+Se]=je[2]+ft[2],X[24+Se]=je[3]+ft[3],X[32+Se]=je[3]-ft[3],X[40+Se]=je[2]-ft[2],X[48+Se]=je[1]-ft[1],X[56+Se]=je[0]-ft[0]}function ye(X){for(var ne=0;ne<64;++ne){var ge=X[0][ne],Le=X[1][ne],Ve=X[2][ne];X[0][ne]=ge+1.5747*Ve,X[1][ne]=ge-.1873*Le-.4682*Ve,X[2][ne]=ge+1.8556*Le}}function me(X,ne,ge){for(var Le=0;Le<64;++Le)ne[ge+Le]=yp.toHalfFloat(Pe(X[Le]))}function Pe(X){return X<=1?Math.sign(X)*Math.pow(Math.abs(X),2.2):Math.sign(X)*Math.pow(P,Math.abs(X)-1)}function K(X){return new DataView(X.array.buffer,X.offset.value,X.size)}function j(X){var ne=X.viewer.buffer.slice(X.offset.value,X.offset.value+X.size),ge=new Uint8Array(Te(ne)),Le=new Uint8Array(ge.length);return Ye(ge),we(ge,Le),new DataView(Le.buffer)}function ee(X){var ne=X.array.slice(X.offset.value,X.offset.value+X.size),ge=vA(ne),Le=new Uint8Array(ge.length);return Ye(ge),we(ge,Le),new DataView(Le.buffer)}function re(X){for(var ne=X.viewer,ge={value:X.offset.value},Le=new Uint16Array(X.width*X.scanlineBlockSize*(X.channels*X.type)),Ve=new Uint8Array(8192),$e=0,lt=new Array(X.channels),it=0;it<X.channels;it++)lt[it]={},lt[it].start=$e,lt[it].end=lt[it].start,lt[it].nx=X.width,lt[it].ny=X.lines,lt[it].size=X.type,$e+=lt[it].nx*lt[it].ny*lt[it].size;var ht=Ze(ne,ge),ft=Ze(ne,ge);if(ft>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ht<=ft)for(var it=0;it<ft-ht+1;it++)Ve[it+ht]=Je(ne,ge);var mt=new Uint16Array(65536),je=k(Ve,mt),J=Ue(ne,ge);Ie(X.array,ne,ge,J,Le,$e);for(var it=0;it<X.channels;++it)for(var de=lt[it],Se=0;Se<lt[it].size;++Se)le(Le,de.start+Se,de.nx,de.size,de.ny,de.nx*de.size,je);fe(mt,Le,$e);for(var Ae=0,_e=new Uint8Array(Le.buffer.byteLength),Qe=0;Qe<X.lines;Qe++)for(var st=0;st<X.channels;st++){var de=lt[st],et=de.nx*de.size,gt=new Uint8Array(Le.buffer,de.end*2,et*2);_e.set(gt,Ae),Ae+=et*2,de.end+=et}return new DataView(_e.buffer)}function se(X){var ne=X.array.slice(X.offset.value,X.offset.value+X.size),ge=vA(ne);const Le=X.lines*X.channels*X.width,Ve=X.type==1?new Uint16Array(Le):new Uint32Array(Le);let $e=0,lt=0;const it=new Array(4);for(let ht=0;ht<X.lines;ht++)for(let ft=0;ft<X.channels;ft++){let mt=0;switch(X.type){case 1:it[0]=$e,it[1]=it[0]+X.width,$e=it[1]+X.width;for(let je=0;je<X.width;++je){const J=ge[it[0]++]<<8|ge[it[1]++];mt+=J,Ve[lt]=mt,lt++}break;case 2:it[0]=$e,it[1]=it[0]+X.width,it[2]=it[1]+X.width,$e=it[2]+X.width;for(let je=0;je<X.width;++je){const J=ge[it[0]++]<<24|ge[it[1]++]<<16|ge[it[2]++]<<8;mt+=J,Ve[lt]=mt,lt++}break}}return new DataView(Ve.buffer)}function ce(X){var ne=X.viewer,ge={value:X.offset.value},Le=new Uint8Array(X.width*X.lines*(X.channels*X.type*2)),Ve={version:We(ne,ge),unknownUncompressedSize:We(ne,ge),unknownCompressedSize:We(ne,ge),acCompressedSize:We(ne,ge),dcCompressedSize:We(ne,ge),rleCompressedSize:We(ne,ge),rleUncompressedSize:We(ne,ge),rleRawSize:We(ne,ge),totalAcUncompressedCount:We(ne,ge),totalDcUncompressedCount:We(ne,ge),acCompression:We(ne,ge)};if(Ve.version<2)throw"EXRLoader.parse: "+Xr.compression+" version "+Ve.version+" is unsupported";for(var $e=new Array,lt=Ze(ne,ge)-2;lt>0;){var it=Oe(ne.buffer,ge),ht=Je(ne,ge),ft=ht>>2&3,mt=(ht>>4)-1,je=new Int8Array([mt])[0],J=Je(ne,ge);$e.push({name:it,index:je,type:J,compression:ft}),lt-=it.length+3}for(var de=Xr.channels,Se=new Array(X.channels),Ae=0;Ae<X.channels;++Ae){var _e=Se[Ae]={},Qe=de[Ae];_e.name=Qe.name,_e.compression=0,_e.decoded=!1,_e.type=Qe.pixelType,_e.pLinear=Qe.pLinear,_e.width=X.width,_e.height=X.lines}for(var st={idx:new Array(3)},et=0;et<X.channels;++et)for(var _e=Se[et],Ae=0;Ae<$e.length;++Ae){var gt=$e[Ae];_e.name==gt.name&&(_e.compression=gt.compression,gt.index>=0&&(st.idx[gt.index]=et),_e.offset=et)}if(Ve.acCompressedSize>0)switch(Ve.acCompression){case 0:var bt=new Uint16Array(Ve.totalAcUncompressedCount);Ie(X.array,ne,ge,Ve.acCompressedSize,bt,Ve.totalAcUncompressedCount);break;case 1:var dt=X.array.slice(ge.value,ge.value+Ve.totalAcUncompressedCount),Rt=vA(dt),bt=new Uint16Array(Rt.buffer);ge.value+=Ve.totalAcUncompressedCount;break}if(Ve.dcCompressedSize>0){var Ut={array:X.array,offset:ge,size:Ve.dcCompressedSize},Xt=new Uint16Array(ee(Ut).buffer);ge.value+=Ve.dcCompressedSize}if(Ve.rleRawSize>0){var dt=X.array.slice(ge.value,ge.value+Ve.rleCompressedSize),Rt=vA(dt),wn=Te(Rt.buffer);ge.value+=Ve.rleCompressedSize}for(var en=0,Pt=new Array(Se.length),Ae=0;Ae<Pt.length;++Ae)Pt[Ae]=new Array;for(var ct=0;ct<X.lines;++ct)for(var Lt=0;Lt<Se.length;++Lt)Pt[Lt].push(en),en+=Se[Lt].width*X.type*2;Ee(st,Pt,Se,bt,Xt,Le);for(var Ae=0;Ae<Se.length;++Ae){var _e=Se[Ae];if(!_e.decoded)switch(_e.compression){case 2:for(var St=0,kn=0,ct=0;ct<X.lines;++ct){for(var Lr=Pt[Ae][St],an=0;an<_e.width;++an){for(var Kr=0;Kr<2*_e.type;++Kr)Le[Lr++]=wn[kn+Kr*_e.width*_e.height];kn++}St++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Le.buffer)}function Oe(X,ne){for(var ge=new Uint8Array(X),Le=0;ge[ne.value+Le]!=0;)Le+=1;var Ve=new TextDecoder().decode(ge.slice(ne.value,ne.value+Le));return ne.value=ne.value+Le+1,Ve}function De(X,ne,ge){var Le=new TextDecoder().decode(new Uint8Array(X).slice(ne.value,ne.value+ge));return ne.value=ne.value+ge,Le}function Ge(X,ne){var ge=Re(X,ne),Le=Ue(X,ne);return[ge,Le]}function rt(X,ne){var ge=Ue(X,ne),Le=Ue(X,ne);return[ge,Le]}function Re(X,ne){var ge=X.getInt32(ne.value,!0);return ne.value=ne.value+4,ge}function Ue(X,ne){var ge=X.getUint32(ne.value,!0);return ne.value=ne.value+4,ge}function Be(X,ne){var ge=X[ne.value];return ne.value=ne.value+1,ge}function Je(X,ne){var ge=X.getUint8(ne.value);return ne.value=ne.value+1,ge}const We=function(X,ne){let ge;return"getBigInt64"in DataView.prototype?ge=Number(X.getBigInt64(ne.value,!0)):ge=X.getUint32(ne.value+4,!0)+Number(X.getUint32(ne.value,!0)<<32),ne.value+=8,ge};function ut(X,ne){var ge=X.getFloat32(ne.value,!0);return ne.value+=4,ge}function pe(X,ne){return yp.toHalfFloat(ut(X,ne))}function Me(X){var ne=(X&31744)>>10,ge=X&1023;return(X>>15?-1:1)*(ne?ne===31?ge?NaN:1/0:Math.pow(2,ne-15)*(1+ge/1024):6103515625e-14*(ge/1024))}function Ze(X,ne){var ge=X.getUint16(ne.value,!0);return ne.value+=2,ge}function xt(X,ne){return Me(Ze(X,ne))}function Ke(X,ne,ge,Le){for(var Ve=ge.value,$e=[];ge.value<Ve+Le-1;){var lt=Oe(ne,ge),it=Re(X,ge),ht=Je(X,ge);ge.value+=3;var ft=Re(X,ge),mt=Re(X,ge);$e.push({name:lt,pixelType:it,pLinear:ht,xSampling:ft,ySampling:mt})}return ge.value+=1,$e}function ze(X,ne){var ge=ut(X,ne),Le=ut(X,ne),Ve=ut(X,ne),$e=ut(X,ne),lt=ut(X,ne),it=ut(X,ne),ht=ut(X,ne),ft=ut(X,ne);return{redX:ge,redY:Le,greenX:Ve,greenY:$e,blueX:lt,blueY:it,whiteX:ht,whiteY:ft}}function at(X,ne){var ge=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Le=Je(X,ne);return ge[Le]}function Tt(X,ne){var ge=Ue(X,ne),Le=Ue(X,ne),Ve=Ue(X,ne),$e=Ue(X,ne);return{xMin:ge,yMin:Le,xMax:Ve,yMax:$e}}function wt(X,ne){var ge=["INCREASING_Y"],Le=Je(X,ne);return ge[Le]}function zt(X,ne){var ge=ut(X,ne),Le=ut(X,ne);return[ge,Le]}function On(X,ne){var ge=ut(X,ne),Le=ut(X,ne),Ve=ut(X,ne);return[ge,Le,Ve]}function Mn(X,ne,ge,Le,Ve){if(Le==="string"||Le==="stringvector"||Le==="iccProfile")return De(ne,ge,Ve);if(Le==="chlist")return Ke(X,ne,ge,Ve);if(Le==="chromaticities")return ze(X,ge);if(Le==="compression")return at(X,ge);if(Le==="box2i")return Tt(X,ge);if(Le==="lineOrder")return wt(X,ge);if(Le==="float")return ut(X,ge);if(Le==="v2f")return zt(X,ge);if(Le==="v3f")return On(X,ge);if(Le==="int")return Re(X,ge);if(Le==="rational")return Ge(X,ge);if(Le==="timecode")return rt(X,ge);if(Le==="preview")return ge.value+=Ve,"skipped";ge.value+=Ve}function Bn(X,ne,ge){const Le={};if(X.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Le.version=X.getUint8(4);const Ve=X.getUint8(5);Le.spec={singleTile:!!(Ve&2),longName:!!(Ve&4),deepFormat:!!(Ve&8),multiPart:!!(Ve&16)},ge.value=8;for(var $e=!0;$e;){var lt=Oe(ne,ge);if(lt==0)$e=!1;else{var it=Oe(ne,ge),ht=Ue(X,ge),ft=Mn(X,ne,ge,it,ht);ft===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${it}'.`):Le[lt]=ft}}if(Ve&-5)throw console.error("EXRHeader:",Le),"THREE.EXRLoader: provided file is currently unsupported.";return Le}function Dr(X,ne,ge,Le,Ve){const $e={size:0,viewer:ne,array:ge,offset:Le,width:X.dataWindow.xMax-X.dataWindow.xMin+1,height:X.dataWindow.yMax-X.dataWindow.yMin+1,channels:X.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:X.channels[0].pixelType,uncompress:null,getter:null,format:null,[qx?"colorSpace":"encoding"]:null};switch(X.compression){case"NO_COMPRESSION":$e.lines=1,$e.uncompress=K;break;case"RLE_COMPRESSION":$e.lines=1,$e.uncompress=j;break;case"ZIPS_COMPRESSION":$e.lines=1,$e.uncompress=ee;break;case"ZIP_COMPRESSION":$e.lines=16,$e.uncompress=ee;break;case"PIZ_COMPRESSION":$e.lines=32,$e.uncompress=re;break;case"PXR24_COMPRESSION":$e.lines=16,$e.uncompress=se;break;case"DWAA_COMPRESSION":$e.lines=32,$e.uncompress=ce;break;case"DWAB_COMPRESSION":$e.lines=256,$e.uncompress=ce;break;default:throw"EXRLoader.parse: "+X.compression+" is unsupported"}if($e.scanlineBlockSize=$e.lines,$e.type==1)switch(Ve){case Ar:$e.getter=xt,$e.inputSize=2;break;case Gr:$e.getter=Ze,$e.inputSize=2;break}else if($e.type==2)switch(Ve){case Ar:$e.getter=ut,$e.inputSize=4;break;case Gr:$e.getter=pe,$e.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+$e.type+" for "+X.compression+".";$e.blockCount=(X.dataWindow.yMax+1)/$e.scanlineBlockSize;for(var lt=0;lt<$e.blockCount;lt++)We(ne,Le);$e.outputChannels=$e.channels==3?4:$e.channels;const it=$e.width*$e.height*$e.outputChannels;switch(Ve){case Ar:$e.byteArray=new Float32Array(it),$e.channels<$e.outputChannels&&$e.byteArray.fill(1,0,it);break;case Gr:$e.byteArray=new Uint16Array(it),$e.channels<$e.outputChannels&&$e.byteArray.fill(15360,0,it);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ve);break}return $e.bytesPerLine=$e.width*$e.inputSize*$e.channels,$e.outputChannels==4?$e.format=hi:$e.format=Pw,qx?$e.colorSpace="srgb-linear":$e.encoding=3e3,$e}const qr=new DataView(e),mi=new Uint8Array(e),Cr={value:0},Xr=Bn(qr,e,Cr),Dt=Dr(Xr,qr,mi,Cr,this.type),sr={value:0},Di={R:0,G:1,B:2,A:3,Y:0};for(let X=0;X<Dt.height/Dt.scanlineBlockSize;X++){const ne=Ue(qr,Cr);Dt.size=Ue(qr,Cr),Dt.lines=ne+Dt.scanlineBlockSize>Dt.height?Dt.height-ne:Dt.scanlineBlockSize;const Le=Dt.size<Dt.lines*Dt.bytesPerLine?Dt.uncompress(Dt):K(Dt);Cr.value+=Dt.size;for(let Ve=0;Ve<Dt.scanlineBlockSize;Ve++){const $e=Ve+X*Dt.scanlineBlockSize;if($e>=Dt.height)break;for(let lt=0;lt<Dt.channels;lt++){const it=Di[Xr.channels[lt].name];for(let ht=0;ht<Dt.width;ht++){sr.value=(Ve*(Dt.channels*Dt.width)+lt*Dt.width+ht)*Dt.inputSize;const ft=(Dt.height-1-$e)*(Dt.width*Dt.outputChannels)+ht*Dt.outputChannels+it;Dt.byteArray[ft]=Dt.getter(Le,sr)}}}}return{header:Xr,width:Dt.width,height:Dt.height,data:Dt.byteArray,format:Dt.format,[qx?"colorSpace":"encoding"]:Dt[qx?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(s,o){qx?s.colorSpace=o.colorSpace:s.encoding=o.encoding,s.minFilter=mn,s.magFilter=mn,s.generateMipmaps=!1,s.flipY=!1,n&&n(s,o)}return super.load(e,a,r,i)}}function jft(){var t=Object.create(null);function e(i,a){var s=i.id,o=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!t[s])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(h){if(h instanceof Error)throw h}),d=t[d.id].value),d}),c=r("<"+o+">.init",c),u&&(u=r("<"+o+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[s]={id:s,value:f,getTransferables:u},a(f)}catch(d){d&&d.noLog||console.error(d),a(d)}}function n(i,a){var s,o=i.id,l=i.args;(!t[o]||typeof t[o].value!="function")&&a(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var c=(s=t[o]).value.apply(s,l);c&&typeof c.then=="function"?c.then(u,function(f){return a(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){a(f)}function u(f){try{var d=t[o].getTransferables&&t[o].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),a(f,d)}catch(h){console.error(h),a(h)}}}function r(i,a){var s=void 0;self.troikaDefine=function(l){return s=l};var o=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(l){console.error(l)}return URL.revokeObjectURL(o),delete self.troikaDefine,s}self.addEventListener("message",function(i){var a=i.data,s=a.messageId,o=a.action,l=a.data;try{o==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:s,success:!1,error:c.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof c=="function"}})}),o==="callModule"&&n(l,function(c,u){c instanceof Error?postMessage({messageId:s,success:!1,error:c.message}):postMessage({messageId:s,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:s,success:!1,error:c.stack})}})}function Bft(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(n).then(function(a){return r.apply(null,a)});return e._getInitResult=function(){return i},i},e}var hpe=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return hpe=function(){return t},t},Vft=0,Hft=0,JR=!1,i1=Object.create(null),a1=Object.create(null),j4=Object.create(null);function Ty(t){if((!t||typeof t.init!="function")&&!JR)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,a=Bft(t);i==null&&(i="#default");var s="workerModule"+ ++Vft,o=t.name||s,l=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(JR=!0,u=Ty({workerId:i,name:"<"+o+"> function dependency: "+u.name,init:`function(){return (
`+iM(u)+`
)}`}),JR=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function c(){for(var u=[],f=arguments.length;f--;)u[f]=arguments[f];if(!hpe())return a.apply(void 0,u);if(!l){l=fZ(i,"registerModule",c.workerModuleData);var d=function(){l=null,a1[i].delete(d)};(a1[i]||(a1[i]=new Set)).add(d)}return l.then(function(h){var g=h.isCallable;if(g)return fZ(i,"callModule",{id:s,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:iM(n),getTransferables:r&&iM(r)},c.onMainThread=a,c}function Gft(t){a1[t]&&a1[t].forEach(function(e){e()}),i1[t]&&(i1[t].terminate(),delete i1[t])}function iM(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Wft(t){var e=i1[t];if(!e){var n=iM(jft);e=i1[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,a=i.messageId,s=j4[a];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete j4[a],s(i)}}return e}function fZ(t,e,n){return new Promise(function(r,i){var a=++Hft;j4[a]=function(s){s.success?r(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},Wft(t).postMessage({messageId:a,action:e,data:n})})}function ppe(){var t=function(e){function n(W,z,$,Z,G,ie,ue,te){var ae=1-ue;te.x=ae*ae*W+2*ae*ue*$+ue*ue*G,te.y=ae*ae*z+2*ae*ue*Z+ue*ue*ie}function r(W,z,$,Z,G,ie,ue,te,ae,he){var le=1-ae;he.x=le*le*le*W+3*le*le*ae*$+3*le*ae*ae*G+ae*ae*ae*ue,he.y=le*le*le*z+3*le*le*ae*Z+3*le*ae*ae*ie+ae*ae*ae*te}function i(W,z){for(var $=/([MLQCZ])([^MLQCZ]*)/g,Z,G,ie,ue,te;Z=$.exec(W);){var ae=Z[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(Z[1]){case"M":ue=G=ae[0],te=ie=ae[1];break;case"L":(ae[0]!==ue||ae[1]!==te)&&z("L",ue,te,ue=ae[0],te=ae[1]);break;case"Q":{z("Q",ue,te,ue=ae[2],te=ae[3],ae[0],ae[1]);break}case"C":{z("C",ue,te,ue=ae[4],te=ae[5],ae[0],ae[1],ae[2],ae[3]);break}case"Z":(ue!==G||te!==ie)&&z("L",ue,te,G,ie);break}}}function a(W,z,$){$===void 0&&($=16);var Z={x:0,y:0};i(W,function(G,ie,ue,te,ae,he,le,be,Ie){switch(G){case"L":z(ie,ue,te,ae);break;case"Q":{for(var fe=ie,Ye=ue,we=1;we<$;we++)n(ie,ue,he,le,te,ae,we/($-1),Z),z(fe,Ye,Z.x,Z.y),fe=Z.x,Ye=Z.y;break}case"C":{for(var Te=ie,Ee=ue,ke=1;ke<$;ke++)r(ie,ue,he,le,be,Ie,te,ae,ke/($-1),Z),z(Te,Ee,Z.x,Z.y),Te=Z.x,Ee=Z.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(W,z){var $=W.getContext?W.getContext("webgl",c):W,Z=l.get($);if(!Z){let Te=function(me){var Pe=ie[me];if(!Pe&&(Pe=ie[me]=$.getExtension(me),!Pe))throw new Error(me+" not supported");return Pe},Ee=function(me,Pe){var K=$.createShader(Pe);return $.shaderSource(K,me),$.compileShader(K),K},ke=function(me,Pe,K,j){if(!ue[me]){var ee={},re={},se=$.createProgram();$.attachShader(se,Ee(Pe,$.VERTEX_SHADER)),$.attachShader(se,Ee(K,$.FRAGMENT_SHADER)),$.linkProgram(se),ue[me]={program:se,transaction:function(Oe){$.useProgram(se),Oe({setUniform:function(Ge,rt){for(var Re=[],Ue=arguments.length-2;Ue-- >0;)Re[Ue]=arguments[Ue+2];var Be=re[rt]||(re[rt]=$.getUniformLocation(se,rt));$["uniform"+Ge].apply($,[Be].concat(Re))},setAttribute:function(Ge,rt,Re,Ue,Be){var Je=ee[Ge];Je||(Je=ee[Ge]={buf:$.createBuffer(),loc:$.getAttribLocation(se,Ge),data:null}),$.bindBuffer($.ARRAY_BUFFER,Je.buf),$.vertexAttribPointer(Je.loc,rt,$.FLOAT,!1,0,0),$.enableVertexAttribArray(Je.loc),G?$.vertexAttribDivisor(Je.loc,Ue):Te("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Je.loc,Ue),Be!==Je.data&&($.bufferData($.ARRAY_BUFFER,Be,Re),Je.data=Be)}})}}}ue[me].transaction(j)},Y=function(me,Pe){ae++;try{$.activeTexture($.TEXTURE0+ae);var K=te[me];K||(K=te[me]=$.createTexture(),$.bindTexture($.TEXTURE_2D,K),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.NEAREST),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.NEAREST)),$.bindTexture($.TEXTURE_2D,K),Pe(K,ae)}finally{ae--}},xe=function(me,Pe,K){var j=$.createFramebuffer();he.push(j),$.bindFramebuffer($.FRAMEBUFFER,j),$.activeTexture($.TEXTURE0+Pe),$.bindTexture($.TEXTURE_2D,me),$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,me,0);try{K(j)}finally{$.deleteFramebuffer(j),$.bindFramebuffer($.FRAMEBUFFER,he[--he.length-1]||null)}},ye=function(){ie={},ue={},te={},ae=-1,he.length=0};var le=Te,be=Ee,Ie=ke,fe=Y,Ye=xe,we=ye,G=typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext,ie={},ue={},te={},ae=-1,he=[];$.canvas.addEventListener("webglcontextlost",function(me){ye(),me.preventDefault()},!1),l.set($,Z={gl:$,isWebGL2:G,getExtension:Te,withProgram:ke,withTexture:Y,withTextureFramebuffer:xe,handleContextLoss:ye})}z(Z)}function f(W,z,$,Z,G,ie,ue,te){ue===void 0&&(ue=15),te===void 0&&(te=null),u(W,function(ae){var he=ae.gl,le=ae.withProgram,be=ae.withTexture;be("copy",function(Ie,fe){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,G,ie,0,he.RGBA,he.UNSIGNED_BYTE,z),le("copy",s,o,function(Ye){var we=Ye.setUniform,Te=Ye.setAttribute;Te("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),we("1i","image",fe),he.bindFramebuffer(he.FRAMEBUFFER,te||null),he.disable(he.BLEND),he.colorMask(ue&8,ue&4,ue&2,ue&1),he.viewport($,Z,G,ie),he.scissor($,Z,G,ie),he.drawArrays(he.TRIANGLES,0,3)})})})}function d(W,z,$){var Z=W.width,G=W.height;u(W,function(ie){var ue=ie.gl,te=new Uint8Array(Z*G*4);ue.readPixels(0,0,Z,G,ue.RGBA,ue.UNSIGNED_BYTE,te),W.width=z,W.height=$,f(ue,te,0,0,Z,G)})}var h=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(W,z,$,Z,G,ie){ie===void 0&&(ie=1);var ue=new Uint8Array(W*z),te=Z[2]-Z[0],ae=Z[3]-Z[1],he=[];a($,function(Te,Ee,ke,Y){he.push({x1:Te,y1:Ee,x2:ke,y2:Y,minX:Math.min(Te,ke),minY:Math.min(Ee,Y),maxX:Math.max(Te,ke),maxY:Math.max(Ee,Y)})}),he.sort(function(Te,Ee){return Te.maxX-Ee.maxX});for(var le=0;le<W;le++)for(var be=0;be<z;be++){var Ie=Ye(Z[0]+te*(le+.5)/W,Z[1]+ae*(be+.5)/z),fe=Math.pow(1-Math.abs(Ie)/G,ie)/2;Ie<0&&(fe=1-fe),fe=Math.max(0,Math.min(255,Math.round(fe*255))),ue[be*W+le]=fe}return ue;function Ye(Te,Ee){for(var ke=1/0,Y=1/0,xe=he.length;xe--;){var ye=he[xe];if(ye.maxX+Y<=Te)break;if(Te+Y>ye.minX&&Ee-Y<ye.maxY&&Ee+Y>ye.minY){var me=v(Te,Ee,ye.x1,ye.y1,ye.x2,ye.y2);me<ke&&(ke=me,Y=Math.sqrt(ke))}}return we(Te,Ee)&&(Y=-Y),Y}function we(Te,Ee){for(var ke=0,Y=he.length;Y--;){var xe=he[Y];if(xe.maxX<=Te)break;var ye=xe.y1>Ee!=xe.y2>Ee&&Te<(xe.x2-xe.x1)*(Ee-xe.y1)/(xe.y2-xe.y1)+xe.x1;ye&&(ke+=xe.y1<xe.y2?1:-1)}return ke!==0}}function y(W,z,$,Z,G,ie,ue,te,ae,he){ie===void 0&&(ie=1),te===void 0&&(te=0),ae===void 0&&(ae=0),he===void 0&&(he=0),x(W,z,$,Z,G,ie,ue,null,te,ae,he)}function x(W,z,$,Z,G,ie,ue,te,ae,he,le){ie===void 0&&(ie=1),ae===void 0&&(ae=0),he===void 0&&(he=0),le===void 0&&(le=0);for(var be=g(W,z,$,Z,G,ie),Ie=new Uint8Array(be.length*4),fe=0;fe<be.length;fe++)Ie[fe*4+le]=be[fe];f(ue,Ie,ae,he,W,z,1<<3-le,te)}function v(W,z,$,Z,G,ie){var ue=G-$,te=ie-Z,ae=ue*ue+te*te,he=ae?Math.max(0,Math.min(1,((W-$)*ue+(z-Z)*te)/ae)):0,le=W-($+he*ue),be=z-(Z+he*te);return le*le+be*be}var b=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:y,generateIntoFramebuffer:x}),_="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",A="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",T="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),I=null,O=!1,P={},k=new WeakMap;function N(W){if(!O&&!V(W))throw new Error("WebGL generation not supported")}function L(W,z,$,Z,G,ie,ue){if(ie===void 0&&(ie=1),ue===void 0&&(ue=null),!ue&&(ue=I,!ue)){var te=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!te)throw new Error("OffscreenCanvas or DOM canvas not supported");ue=I=te.getContext("webgl",{depth:!1})}N(ue);var ae=new Uint8Array(W*z*4);u(ue,function(Ie){var fe=Ie.gl,Ye=Ie.withTexture,we=Ie.withTextureFramebuffer;Ye("readable",function(Te,Ee){fe.texImage2D(fe.TEXTURE_2D,0,fe.RGBA,W,z,0,fe.RGBA,fe.UNSIGNED_BYTE,null),we(Te,Ee,function(ke){D(W,z,$,Z,G,ie,fe,ke,0,0,0),fe.readPixels(0,0,W,z,fe.RGBA,fe.UNSIGNED_BYTE,ae)})})});for(var he=new Uint8Array(W*z),le=0,be=0;le<ae.length;le+=4)he[be++]=ae[le];return he}function B(W,z,$,Z,G,ie,ue,te,ae,he){ie===void 0&&(ie=1),te===void 0&&(te=0),ae===void 0&&(ae=0),he===void 0&&(he=0),D(W,z,$,Z,G,ie,ue,null,te,ae,he)}function D(W,z,$,Z,G,ie,ue,te,ae,he,le){ie===void 0&&(ie=1),ae===void 0&&(ae=0),he===void 0&&(he=0),le===void 0&&(le=0),N(ue);var be=[];a($,function(Ie,fe,Ye,we){be.push(Ie,fe,Ye,we)}),be=new Float32Array(be),u(ue,function(Ie){var fe=Ie.gl,Ye=Ie.isWebGL2,we=Ie.getExtension,Te=Ie.withProgram,Ee=Ie.withTexture,ke=Ie.withTextureFramebuffer,Y=Ie.handleContextLoss;if(Ee("rawDistances",function(xe,ye){(W!==xe._lastWidth||z!==xe._lastHeight)&&fe.texImage2D(fe.TEXTURE_2D,0,fe.RGBA,xe._lastWidth=W,xe._lastHeight=z,0,fe.RGBA,fe.UNSIGNED_BYTE,null),Te("main",_,A,function(me){var Pe=me.setAttribute,K=me.setUniform,j=!Ye&&we("ANGLE_instanced_arrays"),ee=!Ye&&we("EXT_blend_minmax");Pe("aUV",2,fe.STATIC_DRAW,0,M),Pe("aLineSegment",4,fe.DYNAMIC_DRAW,1,be),K.apply(void 0,["4f","uGlyphBounds"].concat(Z)),K("1f","uMaxDistance",G),K("1f","uExponent",ie),ke(xe,ye,function(re){fe.enable(fe.BLEND),fe.colorMask(!0,!0,!0,!0),fe.viewport(0,0,W,z),fe.scissor(0,0,W,z),fe.blendFunc(fe.ONE,fe.ONE),fe.blendEquationSeparate(fe.FUNC_ADD,Ye?fe.MAX:ee.MAX_EXT),fe.clear(fe.COLOR_BUFFER_BIT),Ye?fe.drawArraysInstanced(fe.TRIANGLES,0,3,be.length/4):j.drawArraysInstancedANGLE(fe.TRIANGLES,0,3,be.length/4)})}),Te("post",s,T,function(me){me.setAttribute("aUV",2,fe.STATIC_DRAW,0,M),me.setUniform("1i","tex",ye),fe.bindFramebuffer(fe.FRAMEBUFFER,te),fe.disable(fe.BLEND),fe.colorMask(le===0,le===1,le===2,le===3),fe.viewport(ae,he,W,z),fe.scissor(ae,he,W,z),fe.drawArrays(fe.TRIANGLES,0,3)})}),fe.isContextLost())throw Y(),new Error("webgl context lost")})}function V(W){var z=!W||W===I?P:W.canvas||W,$=k.get(z);if($===void 0){O=!0;var Z=null;try{var G=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ie=L(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,W);$=ie&&G.length===ie.length&&ie.every(function(ue,te){return ue===G[te]}),$||(Z="bad trial run results",console.info(G,ie))}catch(ue){$=!1,Z=ue.message}Z&&console.warn("WebGL SDF generation not supported:",Z),O=!1,k.set(z,$)}return $}var F=Object.freeze({__proto__:null,generate:L,generateIntoCanvas:B,generateIntoFramebuffer:D,isSupported:V});function H(W,z,$,Z,G,ie){G===void 0&&(G=Math.max(Z[2]-Z[0],Z[3]-Z[1])/2),ie===void 0&&(ie=1);try{return L.apply(F,arguments)}catch(ue){return console.info("WebGL SDF generation failed, falling back to JS",ue),g.apply(b,arguments)}}function q(W,z,$,Z,G,ie,ue,te,ae,he){G===void 0&&(G=Math.max(Z[2]-Z[0],Z[3]-Z[1])/2),ie===void 0&&(ie=1),te===void 0&&(te=0),ae===void 0&&(ae=0),he===void 0&&(he=0);try{return B.apply(F,arguments)}catch(le){return console.info("WebGL SDF generation failed, falling back to JS",le),y.apply(b,arguments)}}return e.forEachPathCommand=i,e.generate=H,e.generateIntoCanvas=q,e.javascript=b,e.pathToLineSegments=a,e.webgl=F,e.webglUtils=h,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function $ft(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Y,xe){r[Y]=1<<xe+1,i[r[Y]]=Y}),Object.freeze(r);var a=r.LRI|r.RLI|r.FSI,s=r.L|r.R|r.AL,o=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|a|r.PDI|l,u=null;function f(){if(!u){u=new Map;var Y=function(ye){if(n.hasOwnProperty(ye)){var me=0;n[ye].split(",").forEach(function(Pe){var K=Pe.split("+"),j=K[0],ee=K[1];j=parseInt(j,36),ee=ee?parseInt(ee,36):0,u.set(me+=j,r[ye]);for(var re=0;re<ee;re++)u.set(++me,r[ye])})}};for(var xe in n)Y(xe)}}function d(Y){return f(),u.get(Y.codePointAt(0))||r.L}function h(Y){return i[d(Y)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(Y,xe){var ye=36,me=0,Pe=new Map,K=xe&&new Map,j;return Y.split(",").forEach(function ee(re){if(re.indexOf("+")!==-1)for(var se=+re;se--;)ee(j);else{j=re;var ce=re.split(">"),Oe=ce[0],De=ce[1];Oe=String.fromCodePoint(me+=parseInt(Oe,ye)),De=String.fromCodePoint(me+=parseInt(De,ye)),Pe.set(Oe,De),xe&&K.set(De,Oe)}}),{map:Pe,reverseMap:K}}var x,v,b;function _(){if(!x){var Y=y(g.pairs,!0),xe=Y.map,ye=Y.reverseMap;x=xe,v=ye,b=y(g.canonical,!1).map}}function A(Y){return _(),x.get(Y)||null}function T(Y){return _(),v.get(Y)||null}function M(Y){return _(),b.get(Y)||null}var I=r.L,O=r.R,P=r.EN,k=r.ES,N=r.ET,L=r.AN,B=r.CS,D=r.B,V=r.S,F=r.ON,H=r.BN,q=r.NSM,W=r.AL,z=r.LRO,$=r.RLO,Z=r.LRE,G=r.RLE,ie=r.PDF,ue=r.LRI,te=r.RLI,ae=r.FSI,he=r.PDI;function le(Y,xe){for(var ye=125,me=new Uint32Array(Y.length),Pe=0;Pe<Y.length;Pe++)me[Pe]=d(Y[Pe]);var K=new Map;function j(pa,zs){var Pa=me[pa];me[pa]=zs,K.set(Pa,K.get(Pa)-1),Pa&o&&K.set(o,K.get(o)-1),K.set(zs,(K.get(zs)||0)+1),zs&o&&K.set(o,(K.get(o)||0)+1)}for(var ee=new Uint8Array(Y.length),re=new Map,se=[],ce=null,Oe=0;Oe<Y.length;Oe++)ce||se.push(ce={start:Oe,end:Y.length-1,level:xe==="rtl"?1:xe==="ltr"?0:jm(Oe,!1)}),me[Oe]&D&&(ce.end=Oe,ce=null);for(var De=G|Z|$|z|a|he|ie|D,Ge=function(pa){return pa+(pa&1?1:2)},rt=function(pa){return pa+(pa&1?2:1)},Re=0;Re<se.length;Re++){ce=se[Re];var Ue=[{_level:ce.level,_override:0,_isolate:0}],Be=void 0,Je=0,We=0,ut=0;K.clear();for(var pe=ce.start;pe<=ce.end;pe++){var Me=me[pe];if(Be=Ue[Ue.length-1],K.set(Me,(K.get(Me)||0)+1),Me&o&&K.set(o,(K.get(o)||0)+1),Me&De)if(Me&(G|Z)){ee[pe]=Be._level;var Ze=(Me===G?rt:Ge)(Be._level);Ze<=ye&&!Je&&!We?Ue.push({_level:Ze,_override:0,_isolate:0}):Je||We++}else if(Me&($|z)){ee[pe]=Be._level;var xt=(Me===$?rt:Ge)(Be._level);xt<=ye&&!Je&&!We?Ue.push({_level:xt,_override:Me&$?O:I,_isolate:0}):Je||We++}else if(Me&a){Me&ae&&(Me=jm(pe+1,!0)===1?te:ue),ee[pe]=Be._level,Be._override&&j(pe,Be._override);var Ke=(Me===te?rt:Ge)(Be._level);Ke<=ye&&Je===0&&We===0?(ut++,Ue.push({_level:Ke,_override:0,_isolate:1,_isolInitIndex:pe})):Je++}else if(Me&he){if(Je>0)Je--;else if(ut>0){for(We=0;!Ue[Ue.length-1]._isolate;)Ue.pop();var ze=Ue[Ue.length-1]._isolInitIndex;ze!=null&&(re.set(ze,pe),re.set(pe,ze)),Ue.pop(),ut--}Be=Ue[Ue.length-1],ee[pe]=Be._level,Be._override&&j(pe,Be._override)}else Me&ie?(Je===0&&(We>0?We--:!Be._isolate&&Ue.length>1&&(Ue.pop(),Be=Ue[Ue.length-1])),ee[pe]=Be._level):Me&D&&(ee[pe]=ce.level);else ee[pe]=Be._level,Be._override&&Me!==H&&j(pe,Be._override)}for(var at=[],Tt=null,wt=ce.start;wt<=ce.end;wt++){var zt=me[wt];if(!(zt&l)){var On=ee[wt],Mn=zt&a,Bn=zt===he;Tt&&On===Tt._level?(Tt._end=wt,Tt._endsWithIsolInit=Mn):at.push(Tt={_start:wt,_end:wt,_level:On,_startsWithPDI:Bn,_endsWithIsolInit:Mn})}}for(var Dr=[],qr=0;qr<at.length;qr++){var mi=at[qr];if(!mi._startsWithPDI||mi._startsWithPDI&&!re.has(mi._start)){for(var Cr=[Tt=mi],Xr=void 0;Tt&&Tt._endsWithIsolInit&&(Xr=re.get(Tt._end))!=null;)for(var Dt=qr+1;Dt<at.length;Dt++)if(at[Dt]._start===Xr){Cr.push(Tt=at[Dt]);break}for(var sr=[],Di=0;Di<Cr.length;Di++)for(var X=Cr[Di],ne=X._start;ne<=X._end;ne++)sr.push(ne);for(var ge=ee[sr[0]],Le=ce.level,Ve=sr[0]-1;Ve>=0;Ve--)if(!(me[Ve]&l)){Le=ee[Ve];break}var $e=sr[sr.length-1],lt=ee[$e],it=ce.level;if(!(me[$e]&a)){for(var ht=$e+1;ht<=ce.end;ht++)if(!(me[ht]&l)){it=ee[ht];break}}Dr.push({_seqIndices:sr,_sosType:Math.max(Le,ge)%2?O:I,_eosType:Math.max(it,lt)%2?O:I})}}for(var ft=0;ft<Dr.length;ft++){var mt=Dr[ft],je=mt._seqIndices,J=mt._sosType,de=mt._eosType,Se=ee[je[0]]&1?O:I;if(K.get(q))for(var Ae=0;Ae<je.length;Ae++){var _e=je[Ae];if(me[_e]&q){for(var Qe=J,st=Ae-1;st>=0;st--)if(!(me[je[st]]&l)){Qe=me[je[st]];break}j(_e,Qe&(a|he)?F:Qe)}}if(K.get(P))for(var et=0;et<je.length;et++){var gt=je[et];if(me[gt]&P)for(var dt=et-1;dt>=-1;dt--){var Rt=dt===-1?J:me[je[dt]];if(Rt&s){Rt===W&&j(gt,L);break}}}if(K.get(W))for(var bt=0;bt<je.length;bt++){var Ut=je[bt];me[Ut]&W&&j(Ut,O)}if(K.get(k)||K.get(B))for(var Xt=1;Xt<je.length-1;Xt++){var wn=je[Xt];if(me[wn]&(k|B)){for(var en=0,Pt=0,ct=Xt-1;ct>=0&&(en=me[je[ct]],!!(en&l));ct--);for(var Lt=Xt+1;Lt<je.length&&(Pt=me[je[Lt]],!!(Pt&l));Lt++);en===Pt&&(me[wn]===k?en===P:en&(P|L))&&j(wn,en)}}if(K.get(P))for(var St=0;St<je.length;St++){var kn=je[St];if(me[kn]&P){for(var Lr=St-1;Lr>=0&&me[je[Lr]]&(N|l);Lr--)j(je[Lr],P);for(St++;St<je.length&&me[je[St]]&(N|l|P);St++)me[je[St]]!==P&&j(je[St],P)}}if(K.get(N)||K.get(k)||K.get(B))for(var an=0;an<je.length;an++){var Kr=je[an];if(me[Kr]&(N|k|B)){j(Kr,F);for(var Tn=an-1;Tn>=0&&me[je[Tn]]&l;Tn--)j(je[Tn],F);for(var Ur=an+1;Ur<je.length&&me[je[Ur]]&l;Ur++)j(je[Ur],F)}}if(K.get(P))for(var Li=0,ai=J;Li<je.length;Li++){var gi=je[Li],Xl=me[gi];Xl&P?ai===I&&j(gi,I):Xl&s&&(ai=Xl)}if(K.get(o)){var Ca=O|P|L,Cy=Ca|I,gf=[];{for(var Fc=[],vf=0;vf<je.length;vf++)if(me[je[vf]]&o){var yf=Y[je[vf]],Py=void 0;if(A(yf)!==null)if(Fc.length<63)Fc.push({char:yf,seqIndex:vf});else break;else if((Py=T(yf))!==null)for(var xf=Fc.length-1;xf>=0;xf--){var fh=Fc[xf].char;if(fh===Py||fh===T(M(yf))||A(M(fh))===yf){gf.push([Fc[xf].seqIndex,vf]),Fc.length=xf;break}}}gf.sort(function(pa,zs){return pa[0]-zs[0]})}for(var Nm=0;Nm<gf.length;Nm++){for(var Iy=gf[Nm],dh=Iy[0],Rm=Iy[1],Oy=!1,Us=0,Dm=dh+1;Dm<Rm;Dm++){var jc=je[Dm];if(me[jc]&Cy){Oy=!0;var ky=me[jc]&Ca?O:I;if(ky===Se){Us=ky;break}}}if(Oy&&!Us){Us=J;for(var bf=dh-1;bf>=0;bf--){var hh=je[bf];if(me[hh]&Cy){var Ny=me[hh]&Ca?O:I;Ny!==Se?Us=Ny:Us=Se;break}}}if(Us){if(me[je[dh]]=me[je[Rm]]=Us,Us!==Se){for(var Bc=dh+1;Bc<je.length;Bc++)if(!(me[je[Bc]]&l)){d(Y[je[Bc]])&q&&(me[je[Bc]]=Us);break}}if(Us!==Se){for(var ph=Rm+1;ph<je.length;ph++)if(!(me[je[ph]]&l)){d(Y[je[ph]])&q&&(me[je[ph]]=Us);break}}}}for(var ol=0;ol<je.length;ol++)if(me[je[ol]]&o){for(var Ry=ol,Lm=ol,Um=J,_f=ol-1;_f>=0;_f--)if(me[je[_f]]&l)Ry=_f;else{Um=me[je[_f]]&Ca?O:I;break}for(var zm=de,wf=ol+1;wf<je.length;wf++)if(me[je[wf]]&(o|l))Lm=wf;else{zm=me[je[wf]]&Ca?O:I;break}for(var Fm=Ry;Fm<=Lm;Fm++)me[je[Fm]]=Um===zm?Um:Se;ol=Lm}}}for(var ha=ce.start;ha<=ce.end;ha++){var Vw=ee[ha],mh=me[ha];if(Vw&1?mh&(I|P|L)&&ee[ha]++:mh&O?ee[ha]++:mh&(L|P)&&(ee[ha]+=2),mh&l&&(ee[ha]=ha===0?ce.level:ee[ha-1]),ha===ce.end||d(Y[ha])&(V|D))for(var gh=ha;gh>=0&&d(Y[gh])&c;gh--)ee[gh]=ce.level}}return{levels:ee,paragraphs:se};function jm(pa,zs){for(var Pa=pa;Pa<Y.length;Pa++){var ll=me[Pa];if(ll&(O|W))return 1;if(ll&(D|I)||zs&&ll===he)return 0;if(ll&a){var Sf=Hw(Pa);Pa=Sf===-1?Y.length:Sf}}return 0}function Hw(pa){for(var zs=1,Pa=pa+1;Pa<Y.length;Pa++){var ll=me[Pa];if(ll&D)break;if(ll&he){if(--zs===0)return Pa}else ll&a&&zs++}return-1}}var be="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ie;function fe(){if(!Ie){var Y=y(be,!0),xe=Y.map,ye=Y.reverseMap;ye.forEach(function(me,Pe){xe.set(Pe,me)}),Ie=xe}}function Ye(Y){return fe(),Ie.get(Y)||null}function we(Y,xe,ye,me){var Pe=Y.length;ye=Math.max(0,ye==null?0:+ye),me=Math.min(Pe-1,me==null?Pe-1:+me);for(var K=new Map,j=ye;j<=me;j++)if(xe[j]&1){var ee=Ye(Y[j]);ee!==null&&K.set(j,ee)}return K}function Te(Y,xe,ye,me){var Pe=Y.length;ye=Math.max(0,ye==null?0:+ye),me=Math.min(Pe-1,me==null?Pe-1:+me);var K=[];return xe.paragraphs.forEach(function(j){var ee=Math.max(ye,j.start),re=Math.min(me,j.end);if(ee<re){for(var se=xe.levels.slice(ee,re+1),ce=re;ce>=ee&&d(Y[ce])&c;ce--)se[ce]=j.level;for(var Oe=j.level,De=1/0,Ge=0;Ge<se.length;Ge++){var rt=se[Ge];rt>Oe&&(Oe=rt),rt<De&&(De=rt|1)}for(var Re=Oe;Re>=De;Re--)for(var Ue=0;Ue<se.length;Ue++)if(se[Ue]>=Re){for(var Be=Ue;Ue+1<se.length&&se[Ue+1]>=Re;)Ue++;Ue>Be&&K.push([Be+ee,Ue+ee])}}}),K}function Ee(Y,xe,ye,me){var Pe=ke(Y,xe,ye,me),K=[].concat(Y);return Pe.forEach(function(j,ee){K[ee]=(xe.levels[j]&1?Ye(Y[j]):null)||Y[j]}),K.join("")}function ke(Y,xe,ye,me){for(var Pe=Te(Y,xe,ye,me),K=[],j=0;j<Y.length;j++)K[j]=j;return Pe.forEach(function(ee){for(var re=ee[0],se=ee[1],ce=K.slice(re,se+1),Oe=ce.length;Oe--;)K[se-Oe]=ce[Oe]}),K}return e.closingToOpeningBracket=T,e.getBidiCharType=d,e.getBidiCharTypeName=h,e.getCanonicalBracket=M,e.getEmbeddingLevels=le,e.getMirroredCharacter=Ye,e.getMirroredCharactersMap=we,e.getReorderSegments=Te,e.getReorderedIndices=ke,e.getReorderedString=Ee,e.openingToClosingBracket=A,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const mpe=/\bvoid\s+main\s*\(\s*\)\s*{/g;function B4(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let a=cn[i];return a?B4(a):r}return t.replace(e,n)}const ya=[];for(let t=0;t<256;t++)ya[t]=(t<16?"0":"")+t.toString(16);function qft(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ya[t&255]+ya[t>>8&255]+ya[t>>16&255]+ya[t>>24&255]+"-"+ya[e&255]+ya[e>>8&255]+"-"+ya[e>>16&15|64]+ya[e>>24&255]+"-"+ya[n&63|128]+ya[n>>8&255]+"-"+ya[n>>16&255]+ya[n>>24&255]+ya[r&255]+ya[r>>8&255]+ya[r>>16&255]+ya[r>>24&255]).toUpperCase()}const Xh=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Xft=Date.now(),dZ=new WeakMap,hZ=new Map;let Kft=1e10;function V4(t,e){const n=Qft(e);let r=dZ.get(t);if(r||dZ.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,a=function(c,u){t.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=hZ[f];if(!d){const h=Yft(this,c,e,n);d=hZ[f]=h}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,Xh(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-Xft}}),this[i]&&this[i](c)},s=function(){return o(e.chained?t:t.clone())},o=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:Kft++}),u.uuid=qft(),u.uniforms=Xh({},c.uniforms,e.uniforms),u.defines=Xh({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=Xh({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:c=>{t.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const u=this.baseMaterial;return c===u||u.isDerivedMaterial&&u.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return a},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Xh(this.extensions,c.extensions),Xh(this.defines,c.defines),Xh(this.uniforms,sB.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return o(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=V4(t.isDerivedMaterial?t.getDepthMaterial():new NI({depthPacking:wde}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=V4(t.isDerivedMaterial?t.getDistanceMaterial():new RI,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return r[n]=s,new s}function Yft(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:a,vertexMainIntro:s,vertexMainOutro:o,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:h,timeUniform:g}=r;if(a=a||"",s=s||"",o=o||"",c=c||"",u=u||"",f=f||"",(l||h)&&(e=B4(e)),(d||h)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=B4(n)),h){let y=h({vertexShader:e,fragmentShader:n});e=y.vertexShader,n=y.fragmentShader}if(d){let y=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(y.push(x),"")),f=`${d}
${y.join(`
`)}
${f}`}if(g){const y=`
uniform float ${g};
`;a=y+a,c=y+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(y,x,v,b)=>/\battribute\s+vec[23]\s+$/.test(b.substr(0,v))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=pZ(e,i,a,s,o),n=pZ(n,i,c,u,f),{vertexShader:e,fragmentShader:n}}function pZ(t,e,n,r,i){return(r||i||n)&&(t=t.replace(mpe,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function Zft(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Jft=0;const mZ=new Map;function Qft(t){const e=JSON.stringify(t,Zft);let n=mZ.get(e);return n==null&&mZ.set(e,n=++Jft),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function edt(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var a=e._bin,s=new Uint8Array(i);if(a.readASCII(s,0,4)=="ttcf"){var o=4;a.readUshort(s,o),o+=2,a.readUshort(s,o),o+=2;var l=a.readUint(s,o);o+=4;for(var c=[],u=0;u<l;u++){var f=a.readUint(s,o);o+=4,c.push(e._readFont(s,f))}return c}return[e._readFont(s,0)]},_readFont:function(i,a){var s=e._bin,o=a;s.readFixed(i,a),a+=4;var l=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:i,_offset:o},f={},d=0;d<l;d++){var h=s.readASCII(i,a,4);a+=4,s.readUint(i,a),a+=4;var g=s.readUint(i,a);a+=4;var y=s.readUint(i,a);a+=4,f[h]={offset:g,length:y}}for(d=0;d<c.length;d++){var x=c[d];f[x]&&(u[x.trim()]=e[x.trim()].parse(i,f[x].offset,f[x].length,u))}return u},_tabOffset:function(i,a,s){for(var o=e._bin,l=o.readUshort(i,s+4),c=s+12,u=0;u<l;u++){var f=o.readASCII(i,c,4);c+=4,o.readUint(i,c),c+=4;var d=o.readUint(i,c);if(c+=4,o.readUint(i,c),c+=4,f==a)return d}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(e._bin.readUshort(i,a+2*l));return o},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,s){for(var o="",l=0;l<s;l++)o+=String.fromCharCode(i[a+l]);return o},readUnicode:function(i,a,s){for(var o="",l=0;l<s;l++){var c=i[a++]<<8|i[a++];o+=String.fromCharCode(c)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,s){var o=e._bin._tdec;return o&&a==0&&s==i.length?o.decode(i):e._bin.readASCII(i,a,s)},readBytes:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(i[a+l]);return o},readASCIIArray:function(i,a,s){for(var o=[],l=0;l<s;l++)o.push(String.fromCharCode(i[a+l]));return o},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,s,o,l){var c=e._bin,u={},f=a;c.readFixed(i,a),a+=4;var d=c.readUshort(i,a);a+=2;var h=c.readUshort(i,a);a+=2;var g=c.readUshort(i,a);return a+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+h),u.lookupList=e._lctf.readLookupList(i,f+g,l),u},e._lctf.readLookupList=function(i,a,s){var o=e._bin,l=a,c=[],u=o.readUshort(i,a);a+=2;for(var f=0;f<u;f++){var d=o.readUshort(i,a);a+=2;var h=e._lctf.readLookupTable(i,l+d,s);c.push(h)}return c},e._lctf.readLookupTable=function(i,a,s){var o=e._bin,l=a,c={tabs:[]};c.ltype=o.readUshort(i,a),a+=2,c.flag=o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2;for(var f=c.ltype,d=0;d<u;d++){var h=o.readUshort(i,a);a+=2;var g=s(i,f,l+h,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(i){for(var a=0,s=0;s<32;s++)i>>>s&1&&a++;return a},e._lctf.readClassDef=function(i,a){var s=e._bin,o=[],l=s.readUshort(i,a);if(a+=2,l==1){var c=s.readUshort(i,a);a+=2;var u=s.readUshort(i,a);a+=2;for(var f=0;f<u;f++)o.push(c+f),o.push(c+f),o.push(s.readUshort(i,a)),a+=2}if(l==2){var d=s.readUshort(i,a);for(a+=2,f=0;f<d;f++)o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2,o.push(s.readUshort(i,a)),a+=2}return o},e._lctf.getInterval=function(i,a){for(var s=0;s<i.length;s+=3){var o=i[s],l=i[s+1];if(i[s+2],o<=a&&a<=l)return s}return-1},e._lctf.readCoverage=function(i,a){var s=e._bin,o={};o.fmt=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);return a+=2,o.fmt==1&&(o.tab=s.readUshorts(i,a,l)),o.fmt==2&&(o.tab=s.readUshorts(i,a,3*l)),o},e._lctf.coverageIndex=function(i,a){var s=i.tab;if(i.fmt==1)return s.indexOf(a);if(i.fmt==2){var o=e._lctf.getInterval(s,a);if(o!=-1)return s[o+2]+(a-s[o])}return-1},e._lctf.readFeatureList=function(i,a){var s=e._bin,o=a,l=[],c=s.readUshort(i,a);a+=2;for(var u=0;u<c;u++){var f=s.readASCII(i,a,4);a+=4;var d=s.readUshort(i,a);a+=2;var h=e._lctf.readFeatureTable(i,o+d);h.tag=f.trim(),l.push(h)}return l},e._lctf.readFeatureTable=function(i,a){var s=e._bin,o=a,l={},c=s.readUshort(i,a);a+=2,c>0&&(l.featureParams=o+c);var u=s.readUshort(i,a);a+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(s.readUshort(i,a+2*f));return l},e._lctf.readScriptList=function(i,a){var s=e._bin,o=a,l={},c=s.readUshort(i,a);a+=2;for(var u=0;u<c;u++){var f=s.readASCII(i,a,4);a+=4;var d=s.readUshort(i,a);a+=2,l[f.trim()]=e._lctf.readScriptTable(i,o+d)}return l},e._lctf.readScriptTable=function(i,a){var s=e._bin,o=a,l={},c=s.readUshort(i,a);a+=2,c>0&&(l.default=e._lctf.readLangSysTable(i,o+c));var u=s.readUshort(i,a);a+=2;for(var f=0;f<u;f++){var d=s.readASCII(i,a,4);a+=4;var h=s.readUshort(i,a);a+=2,l[d.trim()]=e._lctf.readLangSysTable(i,o+h)}return l},e._lctf.readLangSysTable=function(i,a){var s=e._bin,o={};s.readUshort(i,a),a+=2,o.reqFeature=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);return a+=2,o.features=s.readUshorts(i,a,l),o},e.CFF={},e.CFF.parse=function(i,a,s){var o=e._bin;(i=new Uint8Array(i.buffer,a,s))[a=0],i[++a],i[++a],i[++a],a++;var l=[];a=e.CFF.readIndex(i,a,l);for(var c=[],u=0;u<l.length-1;u++)c.push(o.readASCII(i,a+l[u],l[u+1]-l[u]));a+=l[l.length-1];var f=[];a=e.CFF.readIndex(i,a,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,a+f[u],a+f[u+1]));a+=f[f.length-1];var h=d[0],g=[];a=e.CFF.readIndex(i,a,g);var y=[];for(u=0;u<g.length-1;u++)y.push(o.readASCII(i,a+g[u],g[u+1]-g[u]));if(a+=g[g.length-1],e.CFF.readSubrs(i,a,h),h.CharStrings){a=h.CharStrings,g=[],a=e.CFF.readIndex(i,a,g);var x=[];for(u=0;u<g.length-1;u++)x.push(o.readBytes(i,a+g[u],g[u+1]-g[u]));h.CharStrings=x}if(h.ROS){a=h.FDArray;var v=[];for(a=e.CFF.readIndex(i,a,v),h.FDArray=[],u=0;u<v.length-1;u++){var b=e.CFF.readDict(i,a+v[u],a+v[u+1]);e.CFF._readFDict(i,b,y),h.FDArray.push(b)}a+=v[v.length-1],a=h.FDSelect,h.FDSelect=[];var _=i[a];if(a++,_!=3)throw _;var A=o.readUshort(i,a);for(a+=2,u=0;u<A+1;u++)h.FDSelect.push(o.readUshort(i,a),i[a+2]),a+=3}return h.Encoding&&(h.Encoding=e.CFF.readEncoding(i,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=e.CFF.readCharset(i,h.charset,h.CharStrings.length)),e.CFF._readFDict(i,h,y),h},e.CFF._readFDict=function(i,a,s){var o;for(var l in a.Private&&(o=a.Private[1],a.Private=e.CFF.readDict(i,o,o+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,o+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(a[l]=s[a[l]-426+35])},e.CFF.readSubrs=function(i,a,s){var o=e._bin,l=[];a=e.CFF.readIndex(i,a,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,s.Bias=c,s.Subrs=[];for(var f=0;f<l.length-1;f++)s.Subrs.push(o.readBytes(i,a+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==a)return s;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,s){e._bin;var o=[".notdef"],l=i[a];if(a++,l!=0)throw"error: unknown encoding format: "+l;var c=i[a];a++;for(var u=0;u<c;u++)o.push(i[a+u]);return o},e.CFF.readCharset=function(i,a,s){var o=e._bin,l=[".notdef"],c=i[a];if(a++,c==0)for(var u=0;u<s;u++){var f=o.readUshort(i,a);a+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<s;){f=o.readUshort(i,a),a+=2;var d=0;for(c==1?(d=i[a],a++):(d=o.readUshort(i,a),a+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,a,s){var o=e._bin,l=o.readUshort(i,a)+1,c=i[a+=2];if(a++,c==1)for(var u=0;u<l;u++)s.push(i[a+u]);else if(c==2)for(u=0;u<l;u++)s.push(o.readUshort(i,a+2*u));else if(c==3)for(u=0;u<l;u++)s.push(16777215&o.readUint(i,a+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(a+=l*c)-1},e.CFF.getCharString=function(i,a,s){var o=e._bin,l=i[a],c=i[a+1];i[a+2],i[a+3],i[a+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=o.readShort(i,a+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=o.readInt(i,a+1)/65535,u=5),s.val=d??"o"+f,s.size=u},e.CFF.readCharString=function(i,a,s){for(var o=a+s,l=e._bin,c=[];a<o;){var u=i[a],f=i[a+1];i[a+2],i[a+3],i[a+4];var d=1,h=null,g=null;u<=20&&(h=u,d=1),u==12&&(h=100*u+f,d=2),u!=19&&u!=20||(h=u,d=2),21<=u&&u<=27&&(h=u,d=1),u==28&&(g=l.readShort(i,a+1),d=3),29<=u&&u<=31&&(h=u,d=1),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255&&(g=l.readInt(i,a+1)/65535,d=5),c.push(g??"o"+h),a+=d}return c},e.CFF.readDict=function(i,a,s){for(var o=e._bin,l={},c=[];a<s;){var u=i[a],f=i[a+1];i[a+2],i[a+3],i[a+4];var d=1,h=null,g=null;if(u==28&&(g=o.readShort(i,a+1),d=3),u==29&&(g=o.readInt(i,a+1),d=5),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255)throw g=o.readInt(i,a+1)/65535,d=5,"unknown number";if(u==30){var y=[];for(d=1;;){var x=i[a+d];d++;var v=x>>4,b=15&x;if(v!=15&&y.push(v),b!=15&&y.push(b),b==15)break}for(var _="",A=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],T=0;T<y.length;T++)_+=A[y[T]];g=parseFloat(_)}u<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),h!=null?(l[h]=c.length==1?c[0]:c,c=[]):c.push(g),a+=d}return l},e.cmap={},e.cmap.parse=function(i,a,s){i=new Uint8Array(i.buffer,a,s),a=0;var o=e._bin,l={};o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=o.readUshort(i,a);a+=2;var h=o.readUshort(i,a);a+=2;var g=o.readUint(i,a);a+=4;var y="p"+d+"e"+h,x=u.indexOf(g);if(x==-1){var v;x=l.tables.length,u.push(g);var b=o.readUshort(i,g);b==0?v=e.cmap.parse0(i,g):b==4?v=e.cmap.parse4(i,g):b==6?v=e.cmap.parse6(i,g):b==12?v=e.cmap.parse12(i,g):console.debug("unknown format: "+b,d,h,g),l.tables.push(v)}if(l[y]!=null)throw"multiple tables for one platform+encoding";l[y]=x}return l},e.cmap.parse0=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,o.map=[];for(var c=0;c<l-6;c++)o.map.push(i[a+c]);return o},e.cmap.parse4=function(i,a){var s=e._bin,o=a,l={};l.format=s.readUshort(i,a),a+=2;var c=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2;var f=u/2;l.searchRange=s.readUshort(i,a),a+=2,l.entrySelector=s.readUshort(i,a),a+=2,l.rangeShift=s.readUshort(i,a),a+=2,l.endCount=s.readUshorts(i,a,f),a+=2*f,a+=2,l.startCount=s.readUshorts(i,a,f),a+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(s.readShort(i,a)),a+=2;for(l.idRangeOffset=s.readUshorts(i,a,f),a+=2*f,l.glyphIdArray=[];a<o+c;)l.glyphIdArray.push(s.readUshort(i,a)),a+=2;return l},e.cmap.parse6=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,o.firstCode=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2,o.glyphIdArray=[];for(var c=0;c<l;c++)o.glyphIdArray.push(s.readUshort(i,a)),a+=2;return o},e.cmap.parse12=function(i,a){var s=e._bin,o={};o.format=s.readUshort(i,a),a+=2,a+=2,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4;var l=s.readUint(i,a);a+=4,o.groups=[];for(var c=0;c<l;c++){var u=a+12*c,f=s.readUint(i,u+0),d=s.readUint(i,u+4),h=s.readUint(i,u+8);o.groups.push([f,d,h])}return o},e.glyf={},e.glyf.parse=function(i,a,s,o){for(var l=[],c=0;c<o.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,a){var s=e._bin,o=i._data,l=e._tabOffset(o,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var c={};if(c.noc=s.readShort(o,l),l+=2,c.xMin=s.readShort(o,l),l+=2,c.yMin=s.readShort(o,l),l+=2,c.xMax=s.readShort(o,l),l+=2,c.yMax=s.readShort(o,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(s.readUshort(o,l)),l+=2;var f=s.readUshort(o,l);if(l+=2,o.length-l<f)return null;c.instructions=s.readBytes(o,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var h=o[l];if(l++,c.flags.push(h),(8&h)!=0){var g=o[l];l++;for(var y=0;y<g;y++)c.flags.push(h),u++}}for(c.xs=[],u=0;u<d;u++){var x=(2&c.flags[u])!=0,v=(16&c.flags[u])!=0;x?(c.xs.push(v?o[l]:-o[l]),l++):v?c.xs.push(0):(c.xs.push(s.readShort(o,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)x=(4&c.flags[u])!=0,v=(32&c.flags[u])!=0,x?(c.ys.push(v?o[l]:-o[l]),l++):v?c.ys.push(0):(c.ys.push(s.readShort(o,l)),l+=2);var b=0,_=0;for(u=0;u<d;u++)b+=c.xs[u],_+=c.ys[u],c.xs[u]=b,c.ys[u]=_}else{var A;c.parts=[];do{A=s.readUshort(o,l),l+=2;var T={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(T),T.glyphIndex=s.readUshort(o,l),l+=2,1&A){var M=s.readShort(o,l);l+=2;var I=s.readShort(o,l);l+=2}else M=s.readInt8(o,l),l++,I=s.readInt8(o,l),l++;2&A?(T.m.tx=M,T.m.ty=I):(T.p1=M,T.p2=I),8&A?(T.m.a=T.m.d=s.readF2dot14(o,l),l+=2):64&A?(T.m.a=s.readF2dot14(o,l),l+=2,T.m.d=s.readF2dot14(o,l),l+=2):128&A&&(T.m.a=s.readF2dot14(o,l),l+=2,T.m.b=s.readF2dot14(o,l),l+=2,T.m.c=s.readF2dot14(o,l),l+=2,T.m.d=s.readF2dot14(o,l),l+=2)}while(32&A);if(256&A){var O=s.readUshort(o,l);for(l+=2,c.instr=[],u=0;u<O;u++)c.instr.push(o[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(i,a,s,o){var l=a;a+=4;var c=e._bin.readUshort(i,a);return{glyphClassDef:c===0?null:e._lctf.readClassDef(i,l+c)}},e.GPOS={},e.GPOS.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GPOS.subt)},e.GPOS.subt=function(i,a,s,o){var l=e._bin,c=s,u={};if(u.fmt=l.readUshort(i,s),s+=2,a==1||a==2||a==3||a==7||a==8&&u.fmt<=2){var f=l.readUshort(i,s);s+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(a==1&&u.fmt==1){var d=l.readUshort(i,s);s+=2,d!=0&&(u.pos=e.GPOS.readValueRecord(i,s,d))}else if(a==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,s),s+=2;var h=l.readUshort(i,s);s+=2;var g=e._lctf.numOfOnes(d),y=e._lctf.numOfOnes(h);if(u.fmt==1){u.pairsets=[];var x=l.readUshort(i,s);s+=2;for(var v=0;v<x;v++){var b=c+l.readUshort(i,s);s+=2;var _=l.readUshort(i,b);b+=2;for(var A=[],T=0;T<_;T++){var M=l.readUshort(i,b);b+=2,d!=0&&(L=e.GPOS.readValueRecord(i,b,d),b+=2*g),h!=0&&(B=e.GPOS.readValueRecord(i,b,h),b+=2*y),A.push({gid2:M,val1:L,val2:B})}u.pairsets.push(A)}}if(u.fmt==2){var I=l.readUshort(i,s);s+=2;var O=l.readUshort(i,s);s+=2;var P=l.readUshort(i,s);s+=2;var k=l.readUshort(i,s);for(s+=2,u.classDef1=e._lctf.readClassDef(i,c+I),u.classDef2=e._lctf.readClassDef(i,c+O),u.matrix=[],v=0;v<P;v++){var N=[];for(T=0;T<k;T++){var L=null,B=null;d!=0&&(L=e.GPOS.readValueRecord(i,s,d),s+=2*g),h!=0&&(B=e.GPOS.readValueRecord(i,s,h),s+=2*y),N.push({val1:L,val2:B})}u.matrix.push(N)}}}else if(a==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,s)+c),u.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,s+2)+c),u.markClassCount=l.readUshort(i,s+4),u.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,s+6)+c),u.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,s+8)+c,u.markClassCount);else if(a==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,s)+c),u.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,s+2)+c),u.markClassCount=l.readUshort(i,s+4),u.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,s+6)+c),u.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,s+8)+c,u.markClassCount);else{if(a==9&&u.fmt==1){var D=l.readUshort(i,s);s+=2;var V=l.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=D;else if(o.ltype!=D)throw"invalid extension substitution";return e.GPOS.subt(i,o.ltype,c+V)}console.debug("unsupported GPOS table LookupType",a,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,a,s){var o=e._bin,l=[];return l.push(1&s?o.readShort(i,a):0),a+=1&s?2:0,l.push(2&s?o.readShort(i,a):0),a+=2&s?2:0,l.push(4&s?o.readShort(i,a):0),a+=4&s?2:0,l.push(8&s?o.readShort(i,a):0),a+=8&s?2:0,l},e.GPOS.readBaseArray=function(i,a,s){var o=e._bin,l=[],c=a,u=o.readUshort(i,a);a+=2;for(var f=0;f<u;f++){for(var d=[],h=0;h<s;h++)d.push(e.GPOS.readAnchorRecord(i,c+o.readUshort(i,a))),a+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(i,a){var s=e._bin,o=[],l=a,c=s.readUshort(i,a);a+=2;for(var u=0;u<c;u++){var f=e.GPOS.readAnchorRecord(i,s.readUshort(i,a+2)+l);f.markClass=s.readUshort(i,a),o.push(f),a+=4}return o},e.GPOS.readAnchorRecord=function(i,a){var s=e._bin,o={};return o.fmt=s.readUshort(i,a),o.x=s.readShort(i,a+2),o.y=s.readShort(i,a+4),o},e.GSUB={},e.GSUB.parse=function(i,a,s,o){return e._lctf.parse(i,a,s,o,e.GSUB.subt)},e.GSUB.subt=function(i,a,s,o){var l=e._bin,c=s,u={};if(u.fmt=l.readUshort(i,s),s+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&u.fmt<=2||a==6&&u.fmt<=2){var f=l.readUshort(i,s);s+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(a==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,s),s+=2;else if(u.fmt==2){var d=l.readUshort(i,s);s+=2,u.newg=l.readUshorts(i,s,d),s+=2*u.newg.length}}else if(a==2&&u.fmt==1){d=l.readUshort(i,s),s+=2,u.seqs=[];for(var h=0;h<d;h++){var g=l.readUshort(i,s)+c;s+=2;var y=l.readUshort(i,g);u.seqs.push(l.readUshorts(i,g+2,y))}}else if(a==4)for(u.vals=[],d=l.readUshort(i,s),s+=2,h=0;h<d;h++){var x=l.readUshort(i,s);s+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+x))}else if(a==5&&u.fmt==2){if(u.fmt==2){var v=l.readUshort(i,s);s+=2,u.cDef=e._lctf.readClassDef(i,c+v),u.scset=[];var b=l.readUshort(i,s);for(s+=2,h=0;h<b;h++){var _=l.readUshort(i,s);s+=2,u.scset.push(_==0?null:e.GSUB.readSubClassSet(i,c+_))}}}else if(a==6&&u.fmt==3){if(u.fmt==3){for(h=0;h<3;h++){d=l.readUshort(i,s),s+=2;for(var A=[],T=0;T<d;T++)A.push(e._lctf.readCoverage(i,c+l.readUshort(i,s+2*T)));s+=2*d,h==0&&(u.backCvg=A),h==1&&(u.inptCvg=A),h==2&&(u.ahedCvg=A)}d=l.readUshort(i,s),s+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,s,d)}}else{if(a==7&&u.fmt==1){var M=l.readUshort(i,s);s+=2;var I=l.readUint(i,s);if(s+=4,o.ltype==9)o.ltype=M;else if(o.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,o.ltype,c+I)}console.debug("unsupported GSUB table LookupType",a,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,a){var s=e._bin.readUshort,o=a,l=[],c=s(i,a);a+=2;for(var u=0;u<c;u++){var f=s(i,a);a+=2,l.push(e.GSUB.readSubClassRule(i,o+f))}return l},e.GSUB.readSubClassRule=function(i,a){var s=e._bin.readUshort,o={},l=s(i,a),c=s(i,a+=2);a+=2,o.input=[];for(var u=0;u<l-1;u++)o.input.push(s(i,a)),a+=2;return o.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,c),o},e.GSUB.readSubstLookupRecords=function(i,a,s){for(var o=e._bin.readUshort,l=[],c=0;c<s;c++)l.push(o(i,a),o(i,a+2)),a+=4;return l},e.GSUB.readChainSubClassSet=function(i,a){var s=e._bin,o=a,l=[],c=s.readUshort(i,a);a+=2;for(var u=0;u<c;u++){var f=s.readUshort(i,a);a+=2,l.push(e.GSUB.readChainSubClassRule(i,o+f))}return l},e.GSUB.readChainSubClassRule=function(i,a){for(var s=e._bin,o={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=s.readUshort(i,a);a+=2,c==1&&u--,o[l[c]]=s.readUshorts(i,a,u),a+=2*o[l[c]].length}return u=s.readUshort(i,a),a+=2,o.subst=s.readUshorts(i,a,2*u),a+=2*o.subst.length,o},e.GSUB.readLigatureSet=function(i,a){var s=e._bin,o=a,l=[],c=s.readUshort(i,a);a+=2;for(var u=0;u<c;u++){var f=s.readUshort(i,a);a+=2,l.push(e.GSUB.readLigature(i,o+f))}return l},e.GSUB.readLigature=function(i,a){var s=e._bin,o={chain:[]};o.nglyph=s.readUshort(i,a),a+=2;var l=s.readUshort(i,a);a+=2;for(var c=0;c<l-1;c++)o.chain.push(s.readUshort(i,a)),a+=2;return o},e.head={},e.head.parse=function(i,a,s){var o=e._bin,l={};return o.readFixed(i,a),a+=4,l.fontRevision=o.readFixed(i,a),a+=4,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4,l.flags=o.readUshort(i,a),a+=2,l.unitsPerEm=o.readUshort(i,a),a+=2,l.created=o.readUint64(i,a),a+=8,l.modified=o.readUint64(i,a),a+=8,l.xMin=o.readShort(i,a),a+=2,l.yMin=o.readShort(i,a),a+=2,l.xMax=o.readShort(i,a),a+=2,l.yMax=o.readShort(i,a),a+=2,l.macStyle=o.readUshort(i,a),a+=2,l.lowestRecPPEM=o.readUshort(i,a),a+=2,l.fontDirectionHint=o.readShort(i,a),a+=2,l.indexToLocFormat=o.readShort(i,a),a+=2,l.glyphDataFormat=o.readShort(i,a),a+=2,l},e.hhea={},e.hhea.parse=function(i,a,s){var o=e._bin,l={};return o.readFixed(i,a),a+=4,l.ascender=o.readShort(i,a),a+=2,l.descender=o.readShort(i,a),a+=2,l.lineGap=o.readShort(i,a),a+=2,l.advanceWidthMax=o.readUshort(i,a),a+=2,l.minLeftSideBearing=o.readShort(i,a),a+=2,l.minRightSideBearing=o.readShort(i,a),a+=2,l.xMaxExtent=o.readShort(i,a),a+=2,l.caretSlopeRise=o.readShort(i,a),a+=2,l.caretSlopeRun=o.readShort(i,a),a+=2,l.caretOffset=o.readShort(i,a),a+=2,a+=8,l.metricDataFormat=o.readShort(i,a),a+=2,l.numberOfHMetrics=o.readUshort(i,a),a+=2,l},e.hmtx={},e.hmtx.parse=function(i,a,s,o){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<o.maxp.numGlyphs;d++)d<o.hhea.numberOfHMetrics&&(u=l.readUshort(i,a),a+=2,f=l.readShort(i,a),a+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,a,s,o){var l=e._bin,c=l.readUshort(i,a);if(a+=2,c==1)return e.kern.parseV1(i,a-2,s,o);var u=l.readUshort(i,a);a+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){a+=2,s=l.readUshort(i,a),a+=2;var h=l.readUshort(i,a);a+=2;var g=h>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;a=e.kern.readFormat0(i,a,f)}return f},e.kern.parseV1=function(i,a,s,o){var l=e._bin;l.readFixed(i,a),a+=4;var c=l.readUint(i,a);a+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,a),a+=4;var d=l.readUshort(i,a);a+=2,l.readUshort(i,a),a+=2;var h=d>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;a=e.kern.readFormat0(i,a,u)}return u},e.kern.readFormat0=function(i,a,s){var o=e._bin,l=-1,c=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,a);a+=2;var d=o.readUshort(i,a);a+=2;var h=o.readShort(i,a);a+=2,f!=l&&(s.glyph1.push(f),s.rval.push({glyph2:[],vals:[]}));var g=s.rval[s.rval.length-1];g.glyph2.push(d),g.vals.push(h),l=f}return a},e.loca={},e.loca.parse=function(i,a,s,o){var l=e._bin,c=[],u=o.head.indexToLocFormat,f=o.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,a+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,a+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,a,s){var o=e._bin,l={},c=o.readUint(i,a);return a+=4,l.numGlyphs=o.readUshort(i,a),a+=2,c==65536&&(l.maxPoints=o.readUshort(i,a),a+=2,l.maxContours=o.readUshort(i,a),a+=2,l.maxCompositePoints=o.readUshort(i,a),a+=2,l.maxCompositeContours=o.readUshort(i,a),a+=2,l.maxZones=o.readUshort(i,a),a+=2,l.maxTwilightPoints=o.readUshort(i,a),a+=2,l.maxStorage=o.readUshort(i,a),a+=2,l.maxFunctionDefs=o.readUshort(i,a),a+=2,l.maxInstructionDefs=o.readUshort(i,a),a+=2,l.maxStackElements=o.readUshort(i,a),a+=2,l.maxSizeOfInstructions=o.readUshort(i,a),a+=2,l.maxComponentElements=o.readUshort(i,a),a+=2,l.maxComponentDepth=o.readUshort(i,a),a+=2),l},e.name={},e.name.parse=function(i,a,s){var o=e._bin,l={};o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2,o.readUshort(i,a);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=a+=2,h=0;h<c;h++){var g=o.readUshort(i,a);a+=2;var y=o.readUshort(i,a);a+=2;var x=o.readUshort(i,a);a+=2;var v=o.readUshort(i,a);a+=2;var b=o.readUshort(i,a);a+=2;var _=o.readUshort(i,a);a+=2;var A,T=f[v],M=d+12*c+_;if(g==0)A=o.readUnicode(i,M,b/2);else if(g==3&&y==0)A=o.readUnicode(i,M,b/2);else if(y==0)A=o.readASCII(i,M,b);else if(y==1)A=o.readUnicode(i,M,b/2);else if(y==3)A=o.readUnicode(i,M,b/2);else{if(g!=1)throw"unknown encoding "+y+", platformID: "+g;A=o.readASCII(i,M,b),console.debug("reading unknown MAC encoding "+y+" as ASCII")}var I="p"+g+","+x.toString(16);l[I]==null&&(l[I]={}),l[I][T!==void 0?T:v]=A,l[I]._lang=x}for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==1033)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==0)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==3084)return l[O];for(var O in l)if(l[O].postScriptName!=null)return l[O];for(var O in l){u=O;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,a,s){var o=e._bin.readUshort(i,a);a+=2;var l={};if(o==0)e["OS/2"].version0(i,a,l);else if(o==1)e["OS/2"].version1(i,a,l);else if(o==2||o==3||o==4)e["OS/2"].version2(i,a,l);else{if(o!=5)throw"unknown OS/2 table version: "+o;e["OS/2"].version5(i,a,l)}return l},e["OS/2"].version0=function(i,a,s){var o=e._bin;return s.xAvgCharWidth=o.readShort(i,a),a+=2,s.usWeightClass=o.readUshort(i,a),a+=2,s.usWidthClass=o.readUshort(i,a),a+=2,s.fsType=o.readUshort(i,a),a+=2,s.ySubscriptXSize=o.readShort(i,a),a+=2,s.ySubscriptYSize=o.readShort(i,a),a+=2,s.ySubscriptXOffset=o.readShort(i,a),a+=2,s.ySubscriptYOffset=o.readShort(i,a),a+=2,s.ySuperscriptXSize=o.readShort(i,a),a+=2,s.ySuperscriptYSize=o.readShort(i,a),a+=2,s.ySuperscriptXOffset=o.readShort(i,a),a+=2,s.ySuperscriptYOffset=o.readShort(i,a),a+=2,s.yStrikeoutSize=o.readShort(i,a),a+=2,s.yStrikeoutPosition=o.readShort(i,a),a+=2,s.sFamilyClass=o.readShort(i,a),a+=2,s.panose=o.readBytes(i,a,10),a+=10,s.ulUnicodeRange1=o.readUint(i,a),a+=4,s.ulUnicodeRange2=o.readUint(i,a),a+=4,s.ulUnicodeRange3=o.readUint(i,a),a+=4,s.ulUnicodeRange4=o.readUint(i,a),a+=4,s.achVendID=[o.readInt8(i,a),o.readInt8(i,a+1),o.readInt8(i,a+2),o.readInt8(i,a+3)],a+=4,s.fsSelection=o.readUshort(i,a),a+=2,s.usFirstCharIndex=o.readUshort(i,a),a+=2,s.usLastCharIndex=o.readUshort(i,a),a+=2,s.sTypoAscender=o.readShort(i,a),a+=2,s.sTypoDescender=o.readShort(i,a),a+=2,s.sTypoLineGap=o.readShort(i,a),a+=2,s.usWinAscent=o.readUshort(i,a),a+=2,s.usWinDescent=o.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,s){var o=e._bin;return a=e["OS/2"].version0(i,a,s),s.ulCodePageRange1=o.readUint(i,a),a+=4,s.ulCodePageRange2=o.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,s){var o=e._bin;return a=e["OS/2"].version1(i,a,s),s.sxHeight=o.readShort(i,a),a+=2,s.sCapHeight=o.readShort(i,a),a+=2,s.usDefault=o.readUshort(i,a),a+=2,s.usBreak=o.readUshort(i,a),a+=2,s.usMaxContext=o.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,s){var o=e._bin;return a=e["OS/2"].version2(i,a,s),s.usLowerOpticalPointSize=o.readUshort(i,a),a+=2,s.usUpperOpticalPointSize=o.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,s){var o=e._bin,l={};return l.version=o.readFixed(i,a),a+=4,l.italicAngle=o.readFixed(i,a),a+=4,l.underlinePosition=o.readShort(i,a),a+=2,l.underlineThickness=o.readShort(i,a),a+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var s=i.cmap,o=-1;if(s.p0e4!=null?o=s.p0e4:s.p3e1!=null?o=s.p3e1:s.p1e0!=null?o=s.p1e0:s.p0e3!=null&&(o=s.p0e3),o==-1)throw"no familiar platform and encoding!";var l=s.tables[o];if(l.format==0)return a>=l.map.length?0:l.map[a];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(a<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>a?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[a-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:a+l.idDelta[c])}if(l.format==12){if(a>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=a&&a<=f[1])return f[2]+(a-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,a){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var o=i.SVG.entries[a];return o==null?s:(typeof o=="string"&&(o=e.SVG.toPath(o),i.SVG.entries[a]=o),o)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=a;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],l,c,u,s)}else i.glyf&&e.U._drawGlyf(a,i,s);return s},e.U._drawGlyf=function(i,a,s){var o=a.glyf[i];o==null&&(o=a.glyf[i]=e.glyf._parseGlyf(a,i)),o!=null&&(o.noc>-1?e.U._simpleGlyph(o,s):e.U._compoGlyph(o,a,s))},e.U._simpleGlyph=function(i,a){for(var s=0;s<i.noc;s++){for(var o=s==0?0:i.endPts[s-1]+1,l=i.endPts[s],c=o;c<=l;c++){var u=c==o?l:c-1,f=c==l?o:c+1,d=1&i.flags[c],h=1&i.flags[u],g=1&i.flags[f],y=i.xs[c],x=i.ys[c];if(c==o)if(d){if(!h){e.U.P.moveTo(a,y,x);continue}e.U.P.moveTo(a,i.xs[u],i.ys[u])}else h?e.U.P.moveTo(a,i.xs[u],i.ys[u]):e.U.P.moveTo(a,(i.xs[u]+y)/2,(i.ys[u]+x)/2);d?h&&e.U.P.lineTo(a,y,x):g?e.U.P.qcurveTo(a,y,x,i.xs[f],i.ys[f]):e.U.P.qcurveTo(a,y,x,(y+i.xs[f])/2,(x+i.ys[f])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,s){for(var o=0;o<i.parts.length;o++){var l={cmds:[],crds:[]},c=i.parts[o];e.U._drawGlyf(c.glyphIndex,a,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],h=l.crds[f+1];s.crds.push(d*u.a+h*u.b+u.tx),s.crds.push(d*u.c+h*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)s.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,a){var s=e._lctf.getInterval(a,i);return s==-1?0:a[s+2]},e.U._applySubs=function(i,a,s,o){for(var l=i.length-a-1,c=0;c<s.tabs.length;c++)if(s.tabs[c]!=null){var u,f=s.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[a]))!=-1){if(s.ltype==1)i[a],f.fmt==1?i[a]=i[a]+f.delta:i[a]=f.newg[u];else if(s.ltype==4)for(var d=f.vals[u],h=0;h<d.length;h++){var g=d[h],y=g.chain.length;if(!(y>l)){for(var x=!0,v=0,b=0;b<y;b++){for(;i[a+v+(1+b)]==-1;)v++;g.chain[b]!=i[a+v+(1+b)]&&(x=!1)}if(x){for(i[a]=g.nglyph,b=0;b<y+v;b++)i[a+b+1]=-1;break}}}else if(s.ltype==5&&f.fmt==2)for(var _=e._lctf.getInterval(f.cDef,i[a]),A=f.cDef[_+2],T=f.scset[A],M=0;M<T.length;M++){var I=T[M],O=I.input;if(!(O.length>l)){for(x=!0,b=0;b<O.length;b++){var P=e._lctf.getInterval(f.cDef,i[a+1+b]);if(_==-1&&f.cDef[P+2]!=O[b]){x=!1;break}}if(x){var k=I.substLookupRecords;for(h=0;h<k.length;h+=2)k[h],k[h+1]}}}else if(s.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,a-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,a)||!e.U._glsCovered(i,f.ahedCvg,a+f.inptCvg.length))continue;var N=f.lookupRec;for(M=0;M<N.length;M+=2){_=N[M];var L=o[N[M+1]];e.U._applySubs(i,a+_,L,o)}}}}},e.U._glsCovered=function(i,a,s){for(var o=0;o<a.length;o++)if(e._lctf.coverageIndex(a[o],i[s+o])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,s){for(var o={cmds:[],crds:[]},l=0,c=0;c<a.length;c++){var u=a[c];if(u!=-1){for(var f=c<a.length-1&&a[c+1]!=-1?a[c+1]:0,d=e.U.glyphToPath(i,u),h=0;h<d.crds.length;h+=2)o.crds.push(d.crds[h]+l),o.crds.push(d.crds[h+1]);for(s&&o.cmds.push(s),h=0;h<d.cmds.length;h++)o.cmds.push(d.cmds[h]);s&&o.cmds.push("X"),l+=i.hmtx.aWidth[u],c<a.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return o},e.U.P={},e.U.P.moveTo=function(i,a,s){i.cmds.push("M"),i.crds.push(a,s)},e.U.P.lineTo=function(i,a,s){i.cmds.push("L"),i.crds.push(a,s)},e.U.P.curveTo=function(i,a,s,o,l,c,u){i.cmds.push("C"),i.crds.push(a,s,o,l,c,u)},e.U.P.qcurveTo=function(i,a,s,o,l){i.cmds.push("Q"),i.crds.push(a,s,o,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,s,o,l){for(var c=a.stack,u=a.nStems,f=a.haveWidth,d=a.width,h=a.open,g=0,y=a.x,x=a.y,v=0,b=0,_=0,A=0,T=0,M=0,I=0,O=0,P=0,k=0,N={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,N);var L=N.val;if(g+=N.size,L=="o1"||L=="o18")c.length%2!=0&&!f&&(d=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(L=="o3"||L=="o23")c.length%2!=0&&!f&&(d=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(L=="o4")c.length>1&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),h&&e.U.P.closePath(l),x+=c.pop(),e.U.P.moveTo(l,y,x),h=!0;else if(L=="o5")for(;c.length>0;)y+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,y,x);else if(L=="o6"||L=="o7")for(var B=c.length,D=L=="o6",V=0;V<B;V++){var F=c.shift();D?y+=F:x+=F,D=!D,e.U.P.lineTo(l,y,x)}else if(L=="o8"||L=="o24"){B=c.length;for(var H=0;H+6<=B;)v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),A=b+c.shift(),y=_+c.shift(),x=A+c.shift(),e.U.P.curveTo(l,v,b,_,A,y,x),H+=6;L=="o24"&&(y+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,y,x))}else{if(L=="o11")break;if(L=="o1234"||L=="o1235"||L=="o1236"||L=="o1237")L=="o1234"&&(b=x,_=(v=y+c.shift())+c.shift(),k=A=b+c.shift(),M=A,O=x,y=(I=(T=(P=_+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,v,b,_,A,P,k),e.U.P.curveTo(l,T,M,I,O,y,x)),L=="o1235"&&(v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),A=b+c.shift(),P=_+c.shift(),k=A+c.shift(),T=P+c.shift(),M=k+c.shift(),I=T+c.shift(),O=M+c.shift(),y=I+c.shift(),x=O+c.shift(),c.shift(),e.U.P.curveTo(l,v,b,_,A,P,k),e.U.P.curveTo(l,T,M,I,O,y,x)),L=="o1236"&&(v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),k=A=b+c.shift(),M=A,I=(T=(P=_+c.shift())+c.shift())+c.shift(),O=M+c.shift(),y=I+c.shift(),e.U.P.curveTo(l,v,b,_,A,P,k),e.U.P.curveTo(l,T,M,I,O,y,x)),L=="o1237"&&(v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),A=b+c.shift(),P=_+c.shift(),k=A+c.shift(),T=P+c.shift(),M=k+c.shift(),I=T+c.shift(),O=M+c.shift(),Math.abs(I-y)>Math.abs(O-x)?y=I+c.shift():x=O+c.shift(),e.U.P.curveTo(l,v,b,_,A,P,k),e.U.P.curveTo(l,T,M,I,O,y,x));else if(L=="o14"){if(c.length>0&&!f&&(d=c.shift()+s.nominalWidthX,f=!0),c.length==4){var q=c.shift(),W=c.shift(),z=c.shift(),$=c.shift(),Z=e.CFF.glyphBySE(s,z),G=e.CFF.glyphBySE(s,$);e.U._drawCFF(s.CharStrings[Z],a,s,o,l),a.x=q,a.y=W,e.U._drawCFF(s.CharStrings[G],a,s,o,l)}h&&(e.U.P.closePath(l),h=!1)}else if(L=="o19"||L=="o20")c.length%2!=0&&!f&&(d=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,g+=u+7>>3;else if(L=="o21")c.length>2&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),x+=c.pop(),y+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,y,x),h=!0;else if(L=="o22")c.length>1&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),y+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,y,x),h=!0;else if(L=="o25"){for(;c.length>6;)y+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,y,x);v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),A=b+c.shift(),y=_+c.shift(),x=A+c.shift(),e.U.P.curveTo(l,v,b,_,A,y,x)}else if(L=="o26")for(c.length%2&&(y+=c.shift());c.length>0;)v=y,b=x+c.shift(),y=_=v+c.shift(),x=(A=b+c.shift())+c.shift(),e.U.P.curveTo(l,v,b,_,A,y,x);else if(L=="o27")for(c.length%2&&(x+=c.shift());c.length>0;)b=x,_=(v=y+c.shift())+c.shift(),A=b+c.shift(),y=_+c.shift(),x=A,e.U.P.curveTo(l,v,b,_,A,y,x);else if(L=="o10"||L=="o29"){var ie=L=="o10"?o:s;if(c.length==0)console.debug("error: empty stack");else{var ue=c.pop(),te=ie.Subrs[ue+ie.Bias];a.x=y,a.y=x,a.nStems=u,a.haveWidth=f,a.width=d,a.open=h,e.U._drawCFF(te,a,s,o,l),y=a.x,x=a.y,u=a.nStems,f=a.haveWidth,d=a.width,h=a.open}}else if(L=="o30"||L=="o31"){var ae=c.length,he=(H=0,L=="o31");for(H+=ae-(B=-3&ae);H<B;)he?(b=x,_=(v=y+c.shift())+c.shift(),x=(A=b+c.shift())+c.shift(),B-H==5?(y=_+c.shift(),H++):y=_,he=!1):(v=y,b=x+c.shift(),_=v+c.shift(),A=b+c.shift(),y=_+c.shift(),B-H==5?(x=A+c.shift(),H++):x=A,he=!0),e.U.P.curveTo(l,v,b,_,A,y,x),H+=4}else{if((L+"").charAt(0)=="o")throw console.debug("Unknown operation: "+L,i),L;c.push(L)}}}a.x=y,a.y=x,a.nStems=u,a.haveWidth=f,a.width=d,a.open=h};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function tdt(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(L,B){for(var D=new n(31),V=0;V<31;++V)D[V]=B+=1<<L[V-1];var F=new r(D[30]);for(V=1;V<30;++V)for(var H=D[V];H<D[V+1];++H)F[H]=H-D[V]<<5|V;return[D,F]},l=o(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=o(a,0)[0],d=new n(32768),h=0;h<32768;++h){var g=(43690&h)>>>1|(21845&h)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[h]=((65280&g)>>>8|(255&g)<<8)>>>1}var y=function(L,B,D){for(var V=L.length,F=0,H=new n(B);F<V;++F)++H[L[F]-1];var q,W=new n(B);for(F=0;F<B;++F)W[F]=W[F-1]+H[F-1]<<1;{q=new n(1<<B);var z=15-B;for(F=0;F<V;++F)if(L[F])for(var $=F<<4|L[F],Z=B-L[F],G=W[L[F]-1]++<<Z,ie=G|(1<<Z)-1;G<=ie;++G)q[d[G]>>>z]=$}return q},x=new e(288);for(h=0;h<144;++h)x[h]=8;for(h=144;h<256;++h)x[h]=9;for(h=256;h<280;++h)x[h]=7;for(h=280;h<288;++h)x[h]=8;var v=new e(32);for(h=0;h<32;++h)v[h]=5;var b=y(x,9),_=y(v,5),A=function(L){for(var B=L[0],D=1;D<L.length;++D)L[D]>B&&(B=L[D]);return B},T=function(L,B,D){var V=B/8|0;return(L[V]|L[V+1]<<8)>>(7&B)&D},M=function(L,B){var D=B/8|0;return(L[D]|L[D+1]<<8|L[D+2]<<16)>>(7&B)},I=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],O=function(L,B,D){var V=new Error(B||I[L]);if(V.code=L,Error.captureStackTrace&&Error.captureStackTrace(V,O),!D)throw V;return V},P=function(L,B,D){var V=L.length;if(!V||D&&!D.l&&V<5)return B||new e(0);var F=!B||D,H=!D||D.i;D||(D={}),B||(B=new e(3*V));var q,W=function(Be){var Je=B.length;if(Be>Je){var We=new e(Math.max(2*Je,Be));We.set(B),B=We}},z=D.f||0,$=D.p||0,Z=D.b||0,G=D.l,ie=D.d,ue=D.m,te=D.n,ae=8*V;do{if(!G){D.f=z=T(L,$,1);var he=T(L,$+1,3);if($+=3,!he){var le=L[(ye=((q=$)/8|0)+(7&q&&1)+4)-4]|L[ye-3]<<8,be=ye+le;if(be>V){H&&O(0);break}F&&W(Z+le),B.set(L.subarray(ye,be),Z),D.b=Z+=le,D.p=$=8*be;continue}if(he==1)G=b,ie=_,ue=9,te=5;else if(he==2){var Ie=T(L,$,31)+257,fe=T(L,$+10,15)+4,Ye=Ie+T(L,$+5,31)+1;$+=14;for(var we=new e(Ye),Te=new e(19),Ee=0;Ee<fe;++Ee)Te[s[Ee]]=T(L,$+3*Ee,7);$+=3*fe;var ke=A(Te),Y=(1<<ke)-1,xe=y(Te,ke);for(Ee=0;Ee<Ye;){var ye,me=xe[T(L,$,Y)];if($+=15&me,(ye=me>>>4)<16)we[Ee++]=ye;else{var Pe=0,K=0;for(ye==16?(K=3+T(L,$,3),$+=2,Pe=we[Ee-1]):ye==17?(K=3+T(L,$,7),$+=3):ye==18&&(K=11+T(L,$,127),$+=7);K--;)we[Ee++]=Pe}}var j=we.subarray(0,Ie),ee=we.subarray(Ie);ue=A(j),te=A(ee),G=y(j,ue),ie=y(ee,te)}else O(1);if($>ae){H&&O(0);break}}F&&W(Z+131072);for(var re=(1<<ue)-1,se=(1<<te)-1,ce=$;;ce=$){var Oe=(Pe=G[M(L,$)&re])>>>4;if(($+=15&Pe)>ae){H&&O(0);break}if(Pe||O(2),Oe<256)B[Z++]=Oe;else{if(Oe==256){ce=$,G=null;break}var De=Oe-254;if(Oe>264){var Ge=i[Ee=Oe-257];De=T(L,$,(1<<Ge)-1)+c[Ee],$+=Ge}var rt=ie[M(L,$)&se],Re=rt>>>4;if(rt||O(3),$+=15&rt,ee=f[Re],Re>3&&(Ge=a[Re],ee+=M(L,$)&(1<<Ge)-1,$+=Ge),$>ae){H&&O(0);break}F&&W(Z+131072);for(var Ue=Z+De;Z<Ue;Z+=4)B[Z]=B[Z-ee],B[Z+1]=B[Z+1-ee],B[Z+2]=B[Z+2-ee],B[Z+3]=B[Z+3-ee];Z=Ue}}D.l=G,D.p=ce,D.b=Z,G&&(z=1,D.m=ue,D.d=ie,D.n=te)}while(!z);return Z==B.length?B:function(Be,Je,We){(We==null||We>Be.length)&&(We=Be.length);var ut=new(Be instanceof n?n:Be instanceof r?r:e)(We-Je);return ut.set(Be.subarray(Je,We)),ut}(B,0,Z)},k=new e(0),N=typeof TextDecoder<"u"&&new TextDecoder;try{N.decode(k,{stream:!0})}catch{}return t.convert_streams=function(L){var B=new DataView(L),D=0;function V(){var Ie=B.getUint16(D);return D+=2,Ie}function F(){var Ie=B.getUint32(D);return D+=4,Ie}function H(Ie){le.setUint16(be,Ie),be+=2}function q(Ie){le.setUint32(be,Ie),be+=4}for(var W={signature:F(),flavor:F(),length:F(),numTables:V(),reserved:V(),totalSfntSize:F(),majorVersion:V(),minorVersion:V(),metaOffset:F(),metaLength:F(),metaOrigLength:F(),privOffset:F(),privLength:F()},z=0;Math.pow(2,z)<=W.numTables;)z++;z--;for(var $=16*Math.pow(2,z),Z=16*W.numTables-$,G=12,ie=[],ue=0;ue<W.numTables;ue++)ie.push({tag:F(),offset:F(),compLength:F(),origLength:F(),origChecksum:F()}),G+=16;var te,ae=new Uint8Array(12+16*ie.length+ie.reduce(function(Ie,fe){return Ie+fe.origLength+4},0)),he=ae.buffer,le=new DataView(he),be=0;return q(W.flavor),H(W.numTables),H($),H(z),H(Z),ie.forEach(function(Ie){q(Ie.tag),q(Ie.origChecksum),q(G),q(Ie.origLength),Ie.outOffset=G,(G+=Ie.origLength)%4!=0&&(G+=4-G%4)}),ie.forEach(function(Ie){var fe,Ye=L.slice(Ie.offset,Ie.offset+Ie.compLength);if(Ie.compLength!=Ie.origLength){var we=new Uint8Array(Ie.origLength);fe=new Uint8Array(Ye,2),P(fe,we)}else we=new Uint8Array(Ye);ae.set(we,Ie.outOffset);var Te=0;(G=Ie.outOffset+Ie.origLength)%4!=0&&(Te=4-G%4),ae.set(new Uint8Array(Te).buffer,Ie.outOffset+Ie.origLength),te=G+Te}),he.slice(0,te)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function ndt(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,s=4,o=8,l=16,c=32;let u;function f(I){if(!u){const O={R:a,L:i,D:s,C:l,U:c,T:o};u=new Map;for(let P in r){let k=0;r[P].split(",").forEach(N=>{let[L,B]=N.split("+");L=parseInt(L,36),B=B?parseInt(B,36):0,u.set(k+=L,O[P]);for(let D=B;D--;)u.set(++k,O[P])})}}return u.get(I)||c}const d=1,h=2,g=3,y=4,x=[null,"isol","init","fina","medi"];function v(I){const O=new Uint8Array(I.length);let P=c,k=d,N=-1;for(let L=0;L<I.length;L++){const B=I.codePointAt(L);let D=f(B)|0,V=d;D&o||(P&(i|s|l)?D&(a|s|l)?(V=g,(k===d||k===g)&&O[N]++):D&(i|c)&&(k===h||k===y)&&O[N]--:P&(a|c)&&(k===h||k===y)&&O[N]--,k=O[L]=V,P=D,N=L,B>65535&&L++)}return O}function b(I,O){const P=[];for(let N=0;N<O.length;N++){const L=O.codePointAt(N);L>65535&&N++,P.push(t.U.codeToGlyph(I,L))}const k=I.GSUB;if(k){const{lookupList:N,featureList:L}=k;let B;const D=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,V=[];L.forEach(F=>{if(D.test(F.tag))for(let H=0;H<F.tab.length;H++){if(V[F.tab[H]])continue;V[F.tab[H]]=!0;const q=N[F.tab[H]],W=/^(isol|init|fina|medi)$/.test(F.tag);W&&!B&&(B=v(O));for(let z=0;z<P.length;z++)(!B||!W||x[B[z]]===F.tag)&&t.U._applySubs(P,z,q,N)}})}return P}function _(I,O){const P=new Int16Array(O.length*3);let k=0;for(;k<O.length;k++){const D=O[k];if(D===-1)continue;P[k*3+2]=I.hmtx.aWidth[D];const V=I.GPOS;if(V){const F=V.lookupList;for(let H=0;H<F.length;H++){const q=F[H];for(let W=0;W<q.tabs.length;W++){const z=q.tabs[W];if(q.ltype===1){if(t._lctf.coverageIndex(z.coverage,D)!==-1&&z.pos){B(z.pos,k);break}}else if(q.ltype===2){let $=null,Z=N();if(Z!==-1){const G=t._lctf.coverageIndex(z.coverage,O[Z]);if(G!==-1){if(z.fmt===1){const ie=z.pairsets[G];for(let ue=0;ue<ie.length;ue++)ie[ue].gid2===D&&($=ie[ue])}else if(z.fmt===2){const ie=t.U._getGlyphClass(O[Z],z.classDef1),ue=t.U._getGlyphClass(D,z.classDef2);$=z.matrix[ie][ue]}if($){$.val1&&B($.val1,Z),$.val2&&B($.val2,k);break}}}}else if(q.ltype===4){const $=t._lctf.coverageIndex(z.markCoverage,D);if($!==-1){const Z=N(L),G=Z===-1?-1:t._lctf.coverageIndex(z.baseCoverage,O[Z]);if(G!==-1){const ie=z.markArray[$],ue=z.baseArray[G][ie.markClass];P[k*3]=ue.x-ie.x+P[Z*3]-P[Z*3+2],P[k*3+1]=ue.y-ie.y+P[Z*3+1];break}}}else if(q.ltype===6){const $=t._lctf.coverageIndex(z.mark1Coverage,D);if($!==-1){const Z=N();if(Z!==-1){const G=O[Z];if(A(I,G)===3){const ie=t._lctf.coverageIndex(z.mark2Coverage,G);if(ie!==-1){const ue=z.mark1Array[$],te=z.mark2Array[ie][ue.markClass];P[k*3]=te.x-ue.x+P[Z*3]-P[Z*3+2],P[k*3+1]=te.y-ue.y+P[Z*3+1];break}}}}}}}}else if(I.kern&&!I.cff){const F=N();if(F!==-1){const H=I.kern.glyph1.indexOf(O[F]);if(H!==-1){const q=I.kern.rval[H].glyph2.indexOf(D);q!==-1&&(P[F*3+2]+=I.kern.rval[H].vals[q])}}}}return P;function N(D){for(let V=k-1;V>=0;V--)if(O[V]!==-1&&(!D||D(O[V])))return V;return-1}function L(D){return A(I,D)===1}function B(D,V){for(let F=0;F<3;F++)P[V*3+F]+=D[F]||0}}function A(I,O){const P=I.GDEF&&I.GDEF.glyphClassDef;return P?t.U._getGlyphClass(O,P):0}function T(...I){for(let O=0;O<I.length;O++)if(typeof I[O]=="number")return I[O]}function M(I){const O=Object.create(null),P=I["OS/2"],k=I.hhea,N=I.head.unitsPerEm,L=T(P&&P.sTypoAscender,k&&k.ascender,N),B={unitsPerEm:N,ascender:L,descender:T(P&&P.sTypoDescender,k&&k.descender,0),capHeight:T(P&&P.sCapHeight,L),xHeight:T(P&&P.sxHeight,L),lineGap:T(P&&P.sTypoLineGap,k&&k.lineGap),supportsCodePoint(D){return t.U.codeToGlyph(I,D)>0},forEachGlyph(D,V,F,H){let q=0;const W=1/B.unitsPerEm*V,z=b(I,D);let $=0;const Z=_(I,z);return z.forEach((G,ie)=>{if(G!==-1){let ue=O[G];if(!ue){const{cmds:te,crds:ae}=t.U.glyphToPath(I,G);let he="",le=0;for(let we=0,Te=te.length;we<Te;we++){const Ee=n[te[we]];he+=te[we];for(let ke=1;ke<=Ee;ke++)he+=(ke>1?",":"")+ae[le++]}let be,Ie,fe,Ye;if(ae.length){be=Ie=1/0,fe=Ye=-1/0;for(let we=0,Te=ae.length;we<Te;we+=2){let Ee=ae[we],ke=ae[we+1];Ee<be&&(be=Ee),ke<Ie&&(Ie=ke),Ee>fe&&(fe=Ee),ke>Ye&&(Ye=ke)}}else be=fe=Ie=Ye=0;ue=O[G]={index:G,advanceWidth:I.hmtx.aWidth[G],xMin:be,yMin:Ie,xMax:fe,yMax:Ye,path:he}}H.call(null,ue,q+Z[ie*3]*W,Z[ie*3+1]*W,$),q+=Z[ie*3+2]*W,F&&(q+=F*V)}$+=D.codePointAt($)>65535?2:1}),q}};return B}return function(O){const P=new Uint8Array(O,0,4),k=t._bin.readASCII(P,0,4);if(k==="wOFF")O=e(O);else if(k==="wOF2")throw new Error("woff2 fonts not supported");return M(t.parse(O)[0])}}const rdt=Ty({name:"Typr Font Parser",dependencies:[edt,tdt,ndt],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function idt(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(_){var A=_>>5;this.buckets.set(A,(this.buckets.get(A)||0)|1<<(31&_))},e.prototype.has=function(_){var A=this.buckets.get(_>>5);return A!==void 0&&(A&1<<(31&_))!=0},e.prototype.serialize=function(){var _=[];return this.buckets.forEach(function(A,T){_.push((+T).toString(36)+":"+A.toString(36))}),_.join(",")},e.prototype.deserialize=function(_){var A=this;this.buckets.clear(),_.split(",").forEach(function(T){var M=T.split(":");A.buckets.set(parseInt(M[0],36),parseInt(M[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function a(_){var A=function(M){return M&i}(_).toString(16),T=function(M){return(M&i)+n-1}(_).toString(16);return"codepoint-index/plane"+(_>>16)+"/"+A+"-"+T+".json"}function s(_,A){var T=_&r,M=A.codePointAt(T/6|0);return((M=(M||48)-48)&1<<T%6)!=0}function o(_,A){var T;(T=_,T.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(M){return M.split("-").map(function(I){return parseInt(I.trim(),16)})})).forEach(function(M){var I=M[0],O=M[1];O===void 0&&(O=I),A(I,O)})}function l(_,A){o(_,function(T,M){for(var I=T;I<=M;I++)A(I)})}var c={},u={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(_){var A=f.get(_);return A||(A=new e,l(_.ranges,function(T){return A.add(T)}),f.set(_,A)),A}var g,y=new Map;function x(_,A,T){return _[A]?A:_[T]?T:function(M){for(var I in M)return I}(_)}function v(_,A){var T=A;if(!_.includes(T)){T=1/0;for(var M=0;M<_.length;M++)Math.abs(_[M]-A)<Math.abs(T-A)&&(T=_[M])}return T}function b(_){return g||(g=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(A){g.add(A)})),g.has(_)}return t.CodePointSet=e,t.clearCache=function(){c={},u={}},t.getFontsForString=function(_,A){A===void 0&&(A={});var T,M=A.lang;M===void 0&&(M=new RegExp("\\p{Script=Hangul}","u").test(T=_)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(T)?"ja":"en");var I=A.category;I===void 0&&(I="sans-serif");var O=A.style;O===void 0&&(O="normal");var P=A.weight;P===void 0&&(P=400);var k=(A.dataUrl||d).replace(/\/$/g,""),N=new Map,L=new Uint8Array(_.length),B={},D={},V=new Array(_.length),F=new Map,H=!1;function q($){var Z=y.get($);return Z||(Z=fetch(k+"/"+$).then(function(G){if(!G.ok)throw new Error(G.statusText);return G.json().then(function(ie){if(!Array.isArray(ie)||ie[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ie[0]);return ie[1]})}).catch(function(G){if(k!==d)return H||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+k+'", trying default CDN. '+G.message),H=!0),k=d,y.delete($),q($);throw G}),y.set($,Z)),Z}for(var W=function($){var Z=_.codePointAt($),G=a(Z);V[$]=G,c[G]||F.has(G)||F.set(G,q(G).then(function(ie){c[G]=ie})),Z>65535&&($++,z=$)},z=0;z<_.length;z++)W(z);return Promise.all(F.values()).then(function(){F.clear();for(var $=function(G){var ie=_.codePointAt(G),ue=null,te=c[V[G]],ae=void 0;for(var he in te){var le=D[he];if(le===void 0&&(le=D[he]=new RegExp(he).test(M||"en")),le){for(var be in ae=he,te[he])if(s(ie,te[he][be])){ue=be;break}break}}if(!ue){e:for(var Ie in te)if(Ie!==ae){for(var fe in te[Ie])if(s(ie,te[Ie][fe])){ue=fe;break e}}}ue||(console.debug("No font coverage for U+"+ie.toString(16)),ue="latin"),V[G]=ue,u[ue]||F.has(ue)||F.set(ue,q("font-meta/"+ue+".json").then(function(Ye){u[ue]=Ye})),ie>65535&&(G++,Z=G)},Z=0;Z<_.length;Z++)$(Z);return Promise.all(F.values())}).then(function(){for(var $,Z=null,G=0;G<_.length;G++){var ie=_.codePointAt(G);if(Z&&(b(ie)||h(Z).has(ie)))L[G]=L[G-1];else{Z=u[V[G]];var ue=B[Z.id];if(!ue){var te=Z.typeforms,ae=x(te,I,"sans-serif"),he=x(te[ae],O,"normal"),le=v(($=te[ae])===null||$===void 0?void 0:$[he],P);ue=B[Z.id]=k+"/font-files/"+Z.id+"/"+ae+"."+he+"."+le+".woff"}var be=N.get(ue);be==null&&(be=N.size,N.set(ue,be)),L[G]=be}ie>65535&&(G++,L[G]=L[G-1])}return{fontUrls:Array.from(N.keys()),chars:L}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function adt(t,e){const n=Object.create(null),r=Object.create(null);function i(s,o){const l=c=>{console.error(`Failure loading font ${s}`,c)};try{const c=new XMLHttpRequest;c.open("get",s,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=t(c.response);u.src=s,o(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function a(s,o){let l=n[s];l?o(l):r[s]?r[s].push(o):(r[s]=[o],i(s,c=>{c.src=s,n[s]=c,r[s].forEach(u=>u(c)),delete r[s]}))}return function(s,o,{lang:l,fonts:c=[],style:u="normal",weight:f="normal",unicodeFontsURL:d}={}){const h=new Uint8Array(s.length),g=[];s.length||b();const y=new Map,x=[];if(u!=="italic"&&(u="normal"),typeof f!="number"&&(f=f==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(A=>!A.lang||A.lang.test(l)).reverse(),c.length){let I=0;(function O(P=0){for(let k=P,N=s.length;k<N;k++){const L=s.codePointAt(k);if(I===1&&g[h[k-1]].supportsCodePoint(L)||k>0&&/\s/.test(s[k]))h[k]=h[k-1],I===2&&(x[x.length-1][1]=k);else for(let B=h[k],D=c.length;B<=D;B++)if(B===D){const V=I===2?x[x.length-1]:x[x.length]=[k,k];V[1]=k,I=2}else{h[k]=B;const{src:V,unicodeRange:F}=c[B];if(!F||_(L,F)){const H=n[V];if(!H){a(V,()=>{O(k)});return}if(H.supportsCodePoint(L)){let q=y.get(H);typeof q!="number"&&(q=g.length,g.push(H),y.set(H,q)),h[k]=q,I=1;break}}}L>65535&&k+1<N&&(h[k+1]=h[k],k++,I===2&&(x[x.length-1][1]=k))}v()})()}else x.push([0,s.length-1]),v();function v(){if(x.length){const A=x.map(T=>s.substring(T[0],T[1]+1)).join(`
`);e.getFontsForString(A,{lang:l||void 0,style:u,weight:f,dataUrl:d}).then(({fontUrls:T,chars:M})=>{const I=g.length;let O=0;x.forEach(k=>{for(let N=0,L=k[1]-k[0];N<=L;N++)h[k[0]+N]=M[O++]+I;O++});let P=0;T.forEach((k,N)=>{a(k,L=>{g[N+I]=L,++P===T.length&&b()})})})}else b()}function b(){o({chars:h,fonts:g})}function _(A,T){for(let M=0;M<T.length;M++){const[I,O=I]=T[M];if(I<=A&&A<=O)return!0}return!1}}}const sdt=Ty({name:"FontResolver",dependencies:[adt,rdt,idt],init(t,e,n){return t(e,n())}});function odt(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:g,lang:y,fonts:x,style:v,weight:b,preResolvedFonts:_,unicodeFontsURL:A},T){const M=({chars:I,fonts:O})=>{let P,k;const N=[];for(let L=0;L<I.length;L++)I[L]!==k?(k=I[L],N.push(P={start:L,end:L,fontObj:O[I[L]]})):P.end=L;T(N)};_?M(_):t(g,M,{lang:y,fonts:x,style:v,weight:b,unicodeFontsURL:A})}function o({text:g="",font:y,lang:x,sdfGlyphSize:v=64,fontSize:b=400,fontWeight:_=1,fontStyle:A="normal",letterSpacing:T=0,lineHeight:M="normal",maxWidth:I=1/0,direction:O,textAlign:P="left",textIndent:k=0,whiteSpace:N="normal",overflowWrap:L="normal",anchorX:B=0,anchorY:D=0,metricsOnly:V=!1,unicodeFontsURL:F,preResolvedFonts:H=null,includeCaretPositions:q=!1,chunkedBoundsSize:W=8192,colorRanges:z=null},$){const Z=f(),G={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),b=+b,T=+T,I=+I,M=M||"normal",k=+k,s({text:g,lang:x,style:A,weight:_,fonts:typeof y=="string"?[{src:y}]:y,unicodeFontsURL:F,preResolvedFonts:H},ie=>{G.fontLoad=f()-Z;const ue=isFinite(I);let te=null,ae=null,he=null,le=null,be=null,Ie=null,fe=null,Ye=null,we=0,Te=0,Ee=N!=="nowrap";const ke=new Map,Y=f();let xe=k,ye=0,me=new d;const Pe=[me];ie.forEach(se=>{const{fontObj:ce}=se,{ascender:Oe,descender:De,unitsPerEm:Ge,lineGap:rt,capHeight:Re,xHeight:Ue}=ce;let Be=ke.get(ce);if(!Be){const Me=b/Ge,Ze=M==="normal"?(Oe-De+rt)*Me:M*b,xt=(Ze-(Oe-De)*Me)/2,Ke=Math.min(Ze,(Oe-De)*Me),ze=(Oe+De)/2*Me+Ke/2;Be={index:ke.size,src:ce.src,fontObj:ce,fontSizeMult:Me,unitsPerEm:Ge,ascender:Oe*Me,descender:De*Me,capHeight:Re*Me,xHeight:Ue*Me,lineHeight:Ze,baseline:-xt-Oe*Me,caretTop:ze,caretBottom:ze-Ke},ke.set(ce,Be)}const{fontSizeMult:Je}=Be,We=g.slice(se.start,se.end+1);let ut,pe;ce.forEachGlyph(We,b,T,(Me,Ze,xt,Ke)=>{Ze+=ye,Ke+=se.start,ut=Ze,pe=Me;const ze=g.charAt(Ke),at=Me.advanceWidth*Je,Tt=me.count;let wt;if("isEmpty"in Me||(Me.isWhitespace=!!ze&&new RegExp(i).test(ze),Me.canBreakAfter=!!ze&&a.test(ze),Me.isEmpty=Me.xMin===Me.xMax||Me.yMin===Me.yMax||r.test(ze)),!Me.isWhitespace&&!Me.isEmpty&&Te++,Ee&&ue&&!Me.isWhitespace&&Ze+at+xe>I&&Tt){if(me.glyphAt(Tt-1).glyphObj.canBreakAfter)wt=new d,xe=-Ze;else for(let On=Tt;On--;)if(On===0&&L==="break-word"){wt=new d,xe=-Ze;break}else if(me.glyphAt(On).glyphObj.canBreakAfter){wt=me.splitAt(On+1);const Mn=wt.glyphAt(0).x;xe-=Mn;for(let Bn=wt.count;Bn--;)wt.glyphAt(Bn).x-=Mn;break}wt&&(me.isSoftWrapped=!0,me=wt,Pe.push(me),we=I)}let zt=me.glyphAt(me.count);zt.glyphObj=Me,zt.x=Ze+xe,zt.y=xt,zt.width=at,zt.charIndex=Ke,zt.fontData=Be,ze===`
`&&(me=new d,Pe.push(me),xe=-(Ze+at+T*b)+k)}),ye=ut+pe.advanceWidth*Je+T*b});let K=0;Pe.forEach(se=>{let ce=!0;for(let Oe=se.count;Oe--;){const De=se.glyphAt(Oe);ce&&!De.glyphObj.isWhitespace&&(se.width=De.x+De.width,se.width>we&&(we=se.width),ce=!1);let{lineHeight:Ge,capHeight:rt,xHeight:Re,baseline:Ue}=De.fontData;Ge>se.lineHeight&&(se.lineHeight=Ge);const Be=Ue-se.baseline;Be<0&&(se.baseline+=Be,se.cap+=Be,se.ex+=Be),se.cap=Math.max(se.cap,se.baseline+rt),se.ex=Math.max(se.ex,se.baseline+Re)}se.baseline-=K,se.cap-=K,se.ex-=K,K+=se.lineHeight});let j=0,ee=0;if(B&&(typeof B=="number"?j=-B:typeof B=="string"&&(j=-we*(B==="left"?0:B==="center"?.5:B==="right"?1:c(B)))),D&&(typeof D=="number"?ee=-D:typeof D=="string"&&(ee=D==="top"?0:D==="top-baseline"?-Pe[0].baseline:D==="top-cap"?-Pe[0].cap:D==="top-ex"?-Pe[0].ex:D==="middle"?K/2:D==="bottom"?K:D==="bottom-baseline"?-Pe[Pe.length-1].baseline:c(D)*K)),!V){const se=e.getEmbeddingLevels(g,O);te=new Uint16Array(Te),ae=new Uint8Array(Te),he=new Float32Array(Te*2),le={},fe=[1/0,1/0,-1/0,-1/0],Ye=[],q&&(Ie=new Float32Array(g.length*4)),z&&(be=new Uint8Array(Te*3));let ce=0,Oe=-1,De=-1,Ge,rt;if(Pe.forEach((Re,Ue)=>{let{count:Be,width:Je}=Re;if(Be>0){let We=0;for(let Ke=Be;Ke--&&Re.glyphAt(Ke).glyphObj.isWhitespace;)We++;let ut=0,pe=0;if(P==="center")ut=(we-Je)/2;else if(P==="right")ut=we-Je;else if(P==="justify"&&Re.isSoftWrapped){let Ke=0;for(let ze=Be-We;ze--;)Re.glyphAt(ze).glyphObj.isWhitespace&&Ke++;pe=(we-Je)/Ke}if(pe||ut){let Ke=0;for(let ze=0;ze<Be;ze++){let at=Re.glyphAt(ze);const Tt=at.glyphObj;at.x+=ut+Ke,pe!==0&&Tt.isWhitespace&&ze<Be-We&&(Ke+=pe,at.width+=pe)}}const Me=e.getReorderSegments(g,se,Re.glyphAt(0).charIndex,Re.glyphAt(Re.count-1).charIndex);for(let Ke=0;Ke<Me.length;Ke++){const[ze,at]=Me[Ke];let Tt=1/0,wt=-1/0;for(let zt=0;zt<Be;zt++)if(Re.glyphAt(zt).charIndex>=ze){let On=zt,Mn=zt;for(;Mn<Be;Mn++){let Bn=Re.glyphAt(Mn);if(Bn.charIndex>at)break;Mn<Be-We&&(Tt=Math.min(Tt,Bn.x),wt=Math.max(wt,Bn.x+Bn.width))}for(let Bn=On;Bn<Mn;Bn++){const Dr=Re.glyphAt(Bn);Dr.x=wt-(Dr.x+Dr.width-Tt)}break}}let Ze;const xt=Ke=>Ze=Ke;for(let Ke=0;Ke<Be;Ke++){const ze=Re.glyphAt(Ke);Ze=ze.glyphObj;const at=Ze.index,Tt=se.levels[ze.charIndex]&1;if(Tt){const wt=e.getMirroredCharacter(g[ze.charIndex]);wt&&ze.fontData.fontObj.forEachGlyph(wt,0,0,xt)}if(q){const{charIndex:wt,fontData:zt}=ze,On=ze.x+j,Mn=ze.x+ze.width+j;Ie[wt*4]=Tt?Mn:On,Ie[wt*4+1]=Tt?On:Mn,Ie[wt*4+2]=Re.baseline+zt.caretBottom+ee,Ie[wt*4+3]=Re.baseline+zt.caretTop+ee;const Bn=wt-Oe;Bn>1&&u(Ie,Oe,Bn),Oe=wt}if(z){const{charIndex:wt}=ze;for(;wt>De;)De++,z.hasOwnProperty(De)&&(rt=z[De])}if(!Ze.isWhitespace&&!Ze.isEmpty){const wt=ce++,{fontSizeMult:zt,src:On,index:Mn}=ze.fontData,Bn=le[On]||(le[On]={});Bn[at]||(Bn[at]={path:Ze.path,pathBounds:[Ze.xMin,Ze.yMin,Ze.xMax,Ze.yMax]});const Dr=ze.x+j,qr=ze.y+Re.baseline+ee;he[wt*2]=Dr,he[wt*2+1]=qr;const mi=Dr+Ze.xMin*zt,Cr=qr+Ze.yMin*zt,Xr=Dr+Ze.xMax*zt,Dt=qr+Ze.yMax*zt;mi<fe[0]&&(fe[0]=mi),Cr<fe[1]&&(fe[1]=Cr),Xr>fe[2]&&(fe[2]=Xr),Dt>fe[3]&&(fe[3]=Dt),wt%W===0&&(Ge={start:wt,end:wt,rect:[1/0,1/0,-1/0,-1/0]},Ye.push(Ge)),Ge.end++;const sr=Ge.rect;if(mi<sr[0]&&(sr[0]=mi),Cr<sr[1]&&(sr[1]=Cr),Xr>sr[2]&&(sr[2]=Xr),Dt>sr[3]&&(sr[3]=Dt),te[wt]=at,ae[wt]=Mn,z){const Di=wt*3;be[Di]=rt>>16&255,be[Di+1]=rt>>8&255,be[Di+2]=rt&255}}}}}),Ie){const Re=g.length-Oe;Re>1&&u(Ie,Oe,Re)}}const re=[];ke.forEach(({index:se,src:ce,unitsPerEm:Oe,ascender:De,descender:Ge,lineHeight:rt,capHeight:Re,xHeight:Ue})=>{re[se]={src:ce,unitsPerEm:Oe,ascender:De,descender:Ge,lineHeight:rt,capHeight:Re,xHeight:Ue}}),G.typesetting=f()-Y,$({glyphIds:te,glyphFontIndices:ae,glyphPositions:he,glyphData:le,fontData:re,caretPositions:Ie,glyphColors:be,chunkedBounds:Ye,fontSize:b,topBaseline:ee+Pe[0].baseline,blockBounds:[j,ee-K,j+we,ee],visibleBounds:fe,timings:G})})}function l(g,y){o({...g,metricsOnly:!0},x=>{const[v,b,_,A]=x.blockBounds;y({width:_-v,height:A-b})})}function c(g){let y=g.match(/^([\d.]+)%$/),x=y?parseFloat(y[1]):NaN;return isNaN(x)?0:x/100}function u(g,y,x){const v=g[y*4],b=g[y*4+1],_=g[y*4+2],A=g[y*4+3],T=(b-v)/x;for(let M=0;M<x;M++){const I=(y+M)*4;g[I]=v+T*M,g[I+1]=v+T*(M+1),g[I+2]=_,g[I+3]=A}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(g){let y=d.flyweight;return y.data=this.data,y.index=g,y},splitAt(g){let y=new d;return y.data=this.data.splice(g*h.length),y}},d.flyweight=h.reduce((g,y,x,v)=>(Object.defineProperty(g,y,{get(){return this.data[this.index*h.length+x]},set(b){this.data[this.index*h.length+x]=b}}),g),{data:null,index:0}),{typeset:o,measure:l}}const Up=()=>(self.performance||Date).now(),jI=ppe();let gZ;function ldt(t,e,n,r,i,a,s,o,l,c,u=!0){return u?udt(t,e,n,r,i,a,s,o,l,c).then(null,f=>(gZ||(console.warn("WebGL SDF generation failed, falling back to JS",f),gZ=!0),yZ(t,e,n,r,i,a,s,o,l,c))):yZ(t,e,n,r,i,a,s,o,l,c)}const aM=[],cdt=5;let H4=0;function gpe(){const t=Up();for(;aM.length&&Up()-t<cdt;)aM.shift()();H4=aM.length?setTimeout(gpe,0):0}const udt=(...t)=>new Promise((e,n)=>{aM.push(()=>{const r=Up();try{jI.webgl.generateIntoCanvas(...t),e({timing:Up()-r})}catch(i){n(i)}}),H4||(H4=setTimeout(gpe,0))}),fdt=4,ddt=2e3,vZ={};let hdt=0;function yZ(t,e,n,r,i,a,s,o,l,c){const u="TroikaTextSDFGenerator_JS_"+hdt++%fdt;let f=vZ[u];return f||(f=vZ[u]={workerModule:Ty({name:u,workerId:u,dependencies:[ppe,Up],init(d,h){const g=d().javascript.generate;return function(...y){const x=h();return{textureData:g(...y),timing:h()-x}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,a).then(({textureData:d,timing:h})=>{const g=Up(),y=new Uint8Array(d.length*4);for(let x=0;x<d.length;x++)y[x*4+c]=d[x];return jI.webglUtils.renderImageData(s,y,o,l,t,e,1<<3-c),h+=Up()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Gft(u)},ddt)),{timing:h}})}function pdt(t){t._warm||(jI.webgl.isSupported(t),t._warm=!0)}const mdt=jI.webglUtils.resizeWebGLCanvasWithoutClearing,pb={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},gdt=new Mt;function qg(){return(self.performance||Date).now()}const xZ=Object.create(null);function vpe(t,e){t=xdt({},t);const n=qg(),r=[];if(t.font&&r.push({label:"user",src:bdt(t.font)}),t.font=r,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||pb.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||pb.unicodeFontsURL,t.colorRanges!=null){let d={};for(let h in t.colorRanges)if(t.colorRanges.hasOwnProperty(h)){let g=t.colorRanges[h];typeof g!="number"&&(g=gdt.set(g).getHex()),d[h]=g}t.colorRanges=d}Object.freeze(t);const{textureWidth:i,sdfExponent:a}=pb,{sdfGlyphSize:s}=t,o=i/s*4;let l=xZ[s];if(!l){const d=document.createElement("canvas");d.width=i,d.height=s*256/o,l=xZ[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:d,sdfTexture:new Qn(d,void 0,void 0,void 0,mn,mn),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,vdt(l)}const{sdfTexture:c,sdfCanvas:u}=l;bpe(t).then(d=>{const{glyphIds:h,glyphFontIndices:g,fontData:y,glyphPositions:x,fontSize:v,timings:b}=d,_=[],A=new Float32Array(h.length*4);let T=0,M=0;const I=qg(),O=y.map(B=>{let D=l.glyphsByFont.get(B.src);return D||l.glyphsByFont.set(B.src,D=new Map),D});h.forEach((B,D)=>{const V=g[D],{src:F,unitsPerEm:H}=y[V];let q=O[V].get(B);if(!q){const{path:G,pathBounds:ie}=d.glyphData[F][B],ue=Math.max(ie[2]-ie[0],ie[3]-ie[1])/s*(pb.sdfMargin*s+.5),te=l.glyphCount++,ae=[ie[0]-ue,ie[1]-ue,ie[2]+ue,ie[3]+ue];O[V].set(B,q={path:G,atlasIndex:te,sdfViewBox:ae}),_.push(q)}const{sdfViewBox:W}=q,z=x[M++],$=x[M++],Z=v/H;A[T++]=z+W[0]*Z,A[T++]=$+W[1]*Z,A[T++]=z+W[2]*Z,A[T++]=$+W[3]*Z,h[D]=q.atlasIndex}),b.quads=(b.quads||0)+(qg()-I);const P=qg();b.sdf={};const k=u.height,N=Math.ceil(l.glyphCount/o),L=Math.pow(2,Math.ceil(Math.log2(N*s)));L>k&&(console.info(`Increasing SDF texture size ${k}->${L}`),mdt(u,i,L),c.dispose()),Promise.all(_.map(B=>ype(B,l,t.gpuAccelerateSDF).then(({timing:D})=>{b.sdf[B.atlasIndex]=D}))).then(()=>{_.length&&!l.contextLost&&(xpe(l),c.needsUpdate=!0),b.sdfTotal=qg()-P,b.total=qg()-n,e(Object.freeze({parameters:t,sdfTexture:c,sdfGlyphSize:s,sdfExponent:a,glyphBounds:A,glyphAtlasIndices:h,glyphColors:d.glyphColors,caretPositions:d.caretPositions,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,capHeight:d.capHeight,xHeight:d.xHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings}))})}),Promise.resolve().then(()=>{l.contextLost||pdt(u)})}function ype({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},s){if(a)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:l}=pb,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),f=u%(o/r)*r,d=Math.floor(u/(o/r))*r,h=e%4;return ldt(r,r,t,n,c,l,i,f,d,h,s)}function vdt(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(a=>{r.push(ype(a,t,!0))})}),Promise.all(r).then(()=>{xpe(t),t.sdfTexture.needsUpdate=!0})})}function ydt({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;vpe({font:t,sdfGlyphSize:n,text:i},r)}function xdt(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let yA;function bdt(t){return yA||(yA=typeof document>"u"?{}:document.createElement("a")),yA.href=t,yA.href}function xpe(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,a=t.sdfCanvas.getContext("webgl");let s=n.image.data;(!s||s.length!==r*i*4)&&(s=new Uint8Array(r*i*4),n.image={width:r,height:i,data:s},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,s)}}const _dt=Ty({name:"Typesetter",dependencies:[odt,sdt,$ft],init(t,e,n){return t(e,n())}}),bpe=Ty({name:"Typesetter",dependencies:[_dt],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});bpe.onMainThread;const bZ={};function wdt(t){let e=bZ[t];return e||(e=bZ[t]=new ql(1,1,t,t).translate(.5,.5,0)),e}const Sdt="aTroikaGlyphBounds",_Z="aTroikaGlyphIndex",Edt="aTroikaGlyphColor";class Adt extends AB{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new la,this.boundingBox=new oa}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=wdt(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,a){this.updateAttributeData(Sdt,e,4),this.updateAttributeData(_Z,n,1),this.updateAttributeData(Edt,a,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:a,min:s,max:o,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(n),h=e[0]/d,g=e[2]/d,y=a((h+u)/f)!==a((g+u)/f)?-d:s(l(h)*d,l(g)*d),x=a((h-u)/f)!==a((g-u)/f)?d:o(l(h)*d,l(g)*d),v=a((h+i)/f)!==a((g+i)/f)?d*2:o(d-c(h)*d,d-c(g)*d);r.min.set(y,e[1],n<0?-v:0),r.max.set(x,e[3],n<0?0:v)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(_Z).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let a=r[i].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new lm(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Mdt=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Tdt=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Cdt=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Pdt=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Idt(t){const e=V4(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new tt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new In(0,0,0,0)},uTroikaClipRect:{value:new In(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new tt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Mt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new nn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Mdt,vertexTransform:Tdt,fragmentDefs:Cdt,fragmentColorTransform:Pdt,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(mpe,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const VB=new Uc({color:16777215,side:jo,transparent:!0}),wZ=8421504,SZ=new Wt,xA=new oe,QR=new oe,Xx=[],Odt=new oe,e2="+x+y";function EZ(t){return Array.isArray(t)?t[0]:t}let _pe=()=>{const t=new yr(new ql(1,1),VB);return _pe=()=>t,t},wpe=()=>{const t=new yr(new ql(1,1,32,1),VB);return wpe=()=>t,t};const kdt={type:"syncstart"},Ndt={type:"synccomplete"},Spe=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Rdt=Spe.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Epe=class extends yr{constructor(){const e=new Adt;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=wZ,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=e2,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(kdt),vpe({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Ndt),e&&e()})))}onBeforeRender(e,n,r,i,a,s){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Idt(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=VB.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return EZ(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return EZ(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:o,blockBounds:l}=i;r.uTroikaSDFTexture.value=o,r.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let c=0,u=0,f=0,d,h,g,y=0,x=0;if(n){let{outlineWidth:b,outlineOffsetX:_,outlineOffsetY:A,outlineBlur:T,outlineOpacity:M}=this;c=this._parsePercent(b)||0,u=Math.max(0,this._parsePercent(T)||0),d=M,y=this._parsePercent(_)||0,x=this._parsePercent(A)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??wZ),h=this.strokeOpacity,h==null&&(h=1)),d=this.fillOpacity;r.uTroikaEdgeOffset.value=c,r.uTroikaPositionOffset.value.set(y,x),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=h,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let v=this.clipRect;if(v&&Array.isArray(v)&&v.length===4)r.uTroikaClipRect.value.fromArray(v);else{const b=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-b,l[1]-b,l[2]+b,l[3]+b)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=n?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const o=e.hasOwnProperty("color")?e.color:e.color=new Mt;(a!==o._input||typeof a=="object")&&o.set(o._input=a)}let s=this.orientation||e2;if(s!==e._orientation){let o=r.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let l=s!==e2&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;xA.set(0,0,0)[u]=c==="-"?1:-1,QR.set(0,0,0)[d]=f==="-"?-1:1,SZ.lookAt(Odt,xA.cross(QR),QR),o.setFromMatrix4(SZ)}else o.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new tt){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new tt){return xA.copy(e),this.localPositionToTextCoords(this.worldToLocal(xA),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const a=r.blockBounds,s=i?wpe():_pe(),o=s.geometry,{position:l,uv:c}=o.attributes;for(let u=0;u<c.count;u++){let f=a[0]+c.getX(u)*(a[2]-a[0]);const d=a[1]+c.getY(u)*(a[3]-a[1]);let h=0;i&&(h=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,h)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,Xx.length=0,s.raycast(e,Xx);for(let u=0;u<Xx.length;u++)Xx[u].object=this,n.push(Xx[u])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,Rdt.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};Spe.forEach(t=>{const e="_private_"+t;Object.defineProperty(Epe.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new oa;new Mt;const Ddt=E.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:a,characters:s,onSync:o,...l},c)=>{const u=rs(({invalidate:g})=>g),[f]=E.useState(()=>new Epe),[d,h]=E.useMemo(()=>{const g=[];let y="";return E.Children.forEach(a,x=>{typeof x=="string"||typeof x=="number"?y+=x:g.push(x)}),[g,y]},[a]);return jhe(()=>new Promise(g=>ydt({font:r,characters:s},g)),["troika-text",r,s]),E.useLayoutEffect(()=>void f.sync(()=>{u(),o&&o(f)})),E.useEffect(()=>()=>f.dispose(),[f]),E.createElement("primitive",Kd({object:f,ref:c,font:r,text:h,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),d)}),Ldt=()=>parseInt(_y.replace(/\D+/g,"")),Udt=Ldt();function zdt(t,e,n){const r=rs(h=>h.size),i=rs(h=>h.viewport),a=typeof t=="number"?t:r.width*i.dpr,s=r.height*i.dpr,o=(typeof t=="number"?n:t)||{},{samples:l=0,depth:c,...u}=o,f=c??o.depthBuffer,d=E.useMemo(()=>{const h=new ja(a,s,{minFilter:mn,magFilter:mn,type:Gr,...u});return f&&(h.depthTexture=new cm(a,s,Ar)),h.samples=l,h},[]);return E.useLayoutEffect(()=>{d.setSize(a,s),l&&(d.samples=l)},[l,d,a,s]),E.useEffect(()=>()=>d.dispose(),[]),d}const Fdt=t=>typeof t=="function",jdt=E.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...a},s)=>{const o=rs(({set:x})=>x),l=rs(({camera:x})=>x),c=rs(({size:x})=>x),u=E.useRef(null);E.useImperativeHandle(s,()=>u.current,[]);const f=E.useRef(null),d=zdt(e);E.useLayoutEffect(()=>{a.manual||(u.current.aspect=c.width/c.height)},[c,a]),E.useLayoutEffect(()=>{u.current.updateProjectionMatrix()});let h=0,g=null;const y=Fdt(i);return uh(x=>{y&&(n===1/0||h<n)&&(f.current.visible=!1,x.gl.setRenderTarget(d),g=x.scene.background,t&&(x.scene.background=t),x.gl.render(x.scene,u.current),x.scene.background=g,x.gl.setRenderTarget(null),f.current.visible=!0,h++)}),E.useLayoutEffect(()=>{if(r){const x=l;return o(()=>({camera:u.current})),()=>o(()=>({camera:x}))}},[u,r,o]),E.createElement(E.Fragment,null,E.createElement("perspectiveCamera",Kd({ref:u},a),!y&&i),E.createElement("group",{ref:f},y&&i(d.texture)))}),AZ=E.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:a=[-.1,.1],autoInvalidate:s=!1,...o},l)=>{const c=E.useRef(null);E.useImperativeHandle(l,()=>c.current,[]);const u=E.useRef(Math.random()*1e4);return uh(f=>{var d,h;if(!e||n===0)return;s&&f.invalidate();const g=u.current+f.clock.elapsedTime;c.current.rotation.x=Math.cos(g/4*n)/8*r,c.current.rotation.y=Math.sin(g/4*n)/8*r,c.current.rotation.z=Math.sin(g/4*n)/20*r;let y=Math.sin(g/4*n)/10;y=Xa.mapLinear(y,-.1,.1,(d=a==null?void 0:a[0])!==null&&d!==void 0?d:-.1,(h=a==null?void 0:a[1])!==null&&h!==void 0?h:.1),c.current.position.y=y*i,c.current.updateMatrix()}),E.createElement("group",o,E.createElement("group",{ref:c,matrixAutoUpdate:!1},t))}),Ape=(t,e,n)=>{let r;switch(t){case ia:r=new Uint8ClampedArray(e*n*4);break;case Gr:r=new Uint16Array(e*n*4);break;case go:r=new Uint32Array(e*n*4);break;case nI:r=new Int8Array(e*n*4);break;case rI:r=new Int16Array(e*n*4);break;case Cw:r=new Int32Array(e*n*4);break;case Ar:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let bA;const Bdt=(t,e,n,r)=>{if(bA!==void 0)return bA;const i=new ja(1,1,r);e.setRenderTarget(i);const a=new yr(new ql,new Uc({color:16777215}));e.render(a,n),e.setRenderTarget(null);const s=Ape(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,s),i.dispose(),a.geometry.dispose(),a.material.dispose(),bA=s[0]!==0,bA};class HB{constructor(e){Pr(this,"_renderer");Pr(this,"_rendererIsDisposable",!1);Pr(this,"_material");Pr(this,"_scene");Pr(this,"_camera");Pr(this,"_quad");Pr(this,"_renderTarget");Pr(this,"_width");Pr(this,"_height");Pr(this,"_type");Pr(this,"_colorSpace");Pr(this,"_supportsReadPixels",!0);Pr(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)});var r,i,a,s,o,l,c,u,f,d,h,g,y,x,v,b;this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const n={format:hi,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((r=e.renderTargetOptions)==null?void 0:r.anisotropy)!==void 0?(i=e.renderTargetOptions)==null?void 0:i.anisotropy:1,generateMipmaps:((a=e.renderTargetOptions)==null?void 0:a.generateMipmaps)!==void 0?(s=e.renderTargetOptions)==null?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)==null?void 0:o.magFilter)!==void 0?(l=e.renderTargetOptions)==null?void 0:l.magFilter:mn,minFilter:((c=e.renderTargetOptions)==null?void 0:c.minFilter)!==void 0?(u=e.renderTargetOptions)==null?void 0:u.minFilter:mn,samples:((f=e.renderTargetOptions)==null?void 0:f.samples)!==void 0?(d=e.renderTargetOptions)==null?void 0:d.samples:void 0,wrapS:((h=e.renderTargetOptions)==null?void 0:h.wrapS)!==void 0?(g=e.renderTargetOptions)==null?void 0:g.wrapS:ri,wrapT:((y=e.renderTargetOptions)==null?void 0:y.wrapT)!==void 0?(x=e.renderTargetOptions)==null?void 0:x.wrapT:ri};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=HB.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new kw,this._camera=new km,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Bdt(this._type,this._renderer,this._camera,n)){let _;switch(this._type){case Gr:_=this._renderer.extensions.has("EXT_color_buffer_float")?Ar:void 0;break}_!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Ar}`),this._type=_):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new yr(new ql,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ja(this.width,this.height,n),this._renderTarget.texture.mapping=((v=e.renderTargetOptions)==null?void 0:v.mapping)!==void 0?(b=e.renderTargetOptions)==null?void 0:b.mapping:Wd}static instantiateRenderer(){const e=new NB;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=Ape(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Yo(this.toArray(),this.width,this.height,hi,this._type,(e==null?void 0:e.mapping)||Wd,(e==null?void 0:e.wrapS)||ri,(e==null?void 0:e.wrapT)||ri,(e==null?void 0:e.magFilter)||mn,(e==null?void 0:e.minFilter)||mn,(e==null?void 0:e.anisotropy)||1,Bl);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Va&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Qn&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Qn&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class Mpe extends Error{}class Tpe extends Error{}const Kx=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const a=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(s=>s.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},Vdt=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const a=Kx(i,"hdrgm:GainMapMin","0"),s=Kx(i,"hdrgm:GainMapMax"),o=Kx(i,"hdrgm:Gamma","1"),l=Kx(i,"hdrgm:OffsetSDR","0.015625"),c=Kx(i,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),f=u?u[1]:"0",d=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!d)throw new Error("Incomplete gainmap metadata");const h=d[1];return{gainMapMin:Array.isArray(a)?a.map(g=>parseFloat(g)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(s)?s.map(g=>parseFloat(g)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(o)?o.map(g=>parseFloat(g)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(g=>parseFloat(g)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(g=>parseFloat(g)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(h)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class Hdt{constructor(e){Pr(this,"options");this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const s=a.byteLength;let o=2,l=0,c;for(;o<s;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(a.getUint8(o)!==255){r(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${a.getUint8(o).toString(16)}`));return}if(c=a.getUint8(o+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const u=o+4;if(a.getUint32(u)===1297106432){const f=u+4;let d;if(a.getUint16(f)===18761)d=!1;else if(a.getUint16(f)===19789)d=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(f+2,!d)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const h=a.getUint32(f+4,!d);if(h<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const g=f+h,y=a.getUint16(g,!d),x=g+2;let v=0;for(let T=x;T<x+12*y;T+=12)a.getUint16(T,!d)===45057&&(v=a.getUint32(T+8,!d));const _=g+2+y*12+4,A=[];for(let T=_;T<_+v*16;T+=16){const M={MPType:a.getUint32(T,!d),size:a.getUint32(T+4,!d),dataOffset:a.getUint32(T+8,!d),dependantImages:a.getUint32(T+12,!d),start:-1,end:-1,isFII:!1};M.dataOffset?(M.start=f+M.dataOffset,M.isFII=!1):(M.start=0,M.isFII=!0),M.end=M.start+M.size,A.push(M)}if(this.options.extractNonFII&&A.length){const T=new Blob([a]),M=[];for(const I of A){if(I.isFII&&!this.options.extractFII)continue;const O=T.slice(I.start,I.end+1,"image/jpeg");M.push(O)}n(M)}}}o+=2+a.getUint16(o+2)}})}}const Gdt=async t=>{const e=Vdt(t);if(!e)throw new Tpe("Gain map XMP metadata not found");const r=await new Hdt({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new Mpe("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},MZ=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class Wdt extends cs{constructor(n,r){super(r);Pr(this,"_renderer");Pr(this,"_renderTargetOptions");Pr(this,"_internalLoadingManager");Pr(this,"_config");this._config=n,n.renderer&&(this._renderer=n.renderer),this._internalLoadingManager=new DI}setRenderer(n){return this._renderer=n,this}setRenderTargetOptions(n){return this._renderTargetOptions=n,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const n=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Qn,sdr:new Qn});return this._config.createQuadRenderer({width:16,height:16,type:Gr,colorSpace:Bl,material:n,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(n,r,i){const a=r?new Blob([r],{type:"image/jpeg"}):void 0,s=new Blob([n],{type:"image/jpeg"});let o,l,c=!1;if(typeof createImageBitmap>"u"){const u=await Promise.all([a?MZ(a):Promise.resolve(void 0),MZ(s)]);l=u[0],o=u[1],c=i==="flipY"}else{const u=await Promise.all([a?createImageBitmap(a,{imageOrientation:i||"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:i||"flipY"})]);l=u[0],o=u[1]}return{sdrImage:o,gainMapImage:l,needsFlip:c}}createTextures(n,r,i){const a=new Qn(r||new ImageData(2,2),Wd,ri,ri,mn,y4,hi,ia,1,Bl);a.flipY=i,a.needsUpdate=!0;const s=new Qn(n,Wd,ri,ri,mn,y4,hi,ia,1,wa);return s.flipY=i,s.needsUpdate=!0,{gainMap:a,sdr:s}}updateQuadRenderer(n,r,i,a,s){n.width=r.width,n.height=r.height,n.material.gainMap=i,n.material.sdr=a,n.material.gainMapMin=s.gainMapMin,n.material.gainMapMax=s.gainMapMax,n.material.offsetHdr=s.offsetHdr,n.material.offsetSdr=s.offsetSdr,n.material.gamma=s.gamma,n.material.hdrCapacityMin=s.hdrCapacityMin,n.material.hdrCapacityMax=s.hdrCapacityMax,n.material.maxDisplayBoost=Math.pow(2,s.hdrCapacityMax),n.material.needsUpdate=!0}}const $dt=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,qdt=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Xdt extends Va{constructor({gamma:n,offsetHdr:r,offsetSdr:i,gainMapMin:a,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:l,hdrCapacityMax:c,sdr:u,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:$dt,fragmentShader:qdt,uniforms:{sdr:{value:u},gainMap:{value:f},gamma:{value:new oe(1/n[0],1/n[1],1/n[2])},offsetHdr:{value:new oe().fromArray(r)},offsetSdr:{value:new oe().fromArray(i)},gainMapMin:{value:new oe().fromArray(a)},gainMapMax:{value:new oe().fromArray(s)},weightFactor:{value:(Math.log2(o)-l)/(c-l)}},blending:Ll,depthTest:!1,depthWrite:!1});Pr(this,"_maxDisplayBoost");Pr(this,"_hdrCapacityMin");Pr(this,"_hdrCapacityMax");this._maxDisplayBoost=o,this._hdrCapacityMin=l,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(n){this.uniforms.sdr.value=n}get gainMap(){return this.uniforms.gainMap.value}set gainMap(n){this.uniforms.gainMap.value=n}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(n){this.uniforms.offsetHdr.value.fromArray(n)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(n){this.uniforms.offsetSdr.value.fromArray(n)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(n){this.uniforms.gainMapMin.value.fromArray(n)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(n){this.uniforms.gainMapMax.value.fromArray(n)}get gamma(){const n=this.uniforms.gamma.value;return[1/n.x,1/n.y,1/n.z]}set gamma(n){const r=this.uniforms.gamma.value;r.x=1/n[0],r.y=1/n[1],r.z=1/n[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(n){this._hdrCapacityMin=n,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(n){this._hdrCapacityMax=n,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(n){this._maxDisplayBoost=Math.max(1,Math.min(65504,n)),this.calculateWeight()}calculateWeight(){const n=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,n))}}class Cpe extends Wdt{constructor(e,n){super({renderer:e,createMaterial:r=>new Xdt(r),createQuadRenderer:r=>new HB(r)},n)}async render(e,n,r,i){const{sdrImage:a,gainMapImage:s,needsFlip:o}=await this.processImages(r,i,"flipY"),{gainMap:l,sdr:c}=this.createTextures(a,s,o);this.updateQuadRenderer(e,a,l,c,n),e.render()}}class Kdt extends Cpe{load([e,n,r],i,a,s){const o=this.prepareQuadRenderer();let l,c,u;const f=async()=>{if(l&&c&&u){try{await this.render(o,u,l,c)}catch(P){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof s=="function"&&s(P),o.disposeOnDemandRenderer();return}typeof i=="function"&&i(o),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),o.disposeOnDemandRenderer()}};let d=!0,h=0,g=0,y=!0,x=0,v=0,b=!0,_=0,A=0;const T=()=>{if(typeof a=="function"){const P=h+x+_,k=g+v+A,N=d&&y&&b;a(new ProgressEvent("progress",{lengthComputable:N,loaded:k,total:P}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const M=new uo(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(e,async P=>{if(typeof P=="string")throw new Error("Invalid sdr buffer");l=P,await f()},P=>{d=P.lengthComputable,g=P.loaded,h=P.total,T()},P=>{this.manager.itemError(e),typeof s=="function"&&s(P)});const I=new uo(this._internalLoadingManager);I.setResponseType("arraybuffer"),I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(n,async P=>{if(typeof P=="string")throw new Error("Invalid gainmap buffer");c=P,await f()},P=>{y=P.lengthComputable,v=P.loaded,x=P.total,T()},P=>{this.manager.itemError(n),typeof s=="function"&&s(P)});const O=new uo(this._internalLoadingManager);return O.setRequestHeader(this.requestHeader),O.setPath(this.path),O.setWithCredentials(this.withCredentials),O.load(r,async P=>{if(typeof P!="string")throw new Error("Invalid metadata string");u=JSON.parse(P),await f()},P=>{b=P.lengthComputable,A=P.loaded,_=P.total,T()},P=>{this.manager.itemError(r),typeof s=="function"&&s(P)}),o}}class Ydt extends Cpe{load(e,n,r,i){const a=this.prepareQuadRenderer(),s=new uo(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let c,u,f;try{const d=await Gdt(l);c=d.sdr,u=d.gainMap,f=d.metadata}catch(d){if(d instanceof Tpe||d instanceof Mpe)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw d}try{await this.render(a,f,c.buffer,u==null?void 0:u.buffer)}catch(d){this.manager.itemError(e),typeof i=="function"&&i(d),a.disposeOnDemandRenderer();return}typeof n=="function"&&n(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},r,o=>{this.manager.itemError(e),typeof i=="function"&&i(o)}),a}}const y_={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Ppe="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Kv=t=>Array.isArray(t),GB=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function BI({files:t=GB,path:e="",preset:n=void 0,colorSpace:r=void 0,extensions:i}={}){n&&(WB(n),t=y_[n],e=Ppe);const a=Kv(t),{extension:s,isCubemap:o}=$B(t),l=qB(s);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);const c=rs(h=>h.gl);E.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function h(){L0.clear(l,a?[t]:t)}c.domElement.addEventListener("webglcontextlost",h,{once:!0})},[t,c.domElement]);const u=L0(l,a?[t]:t,h=>{(s==="webp"||s==="jpg"||s==="jpeg")&&h.setRenderer(c),h.setPath==null||h.setPath(e),i&&i(h)});let f=a?u[0]:u;if(s==="jpg"||s==="jpeg"||s==="webp"){var d;f=(d=f.renderTarget)==null?void 0:d.texture}return f.mapping=o?jl:T0,f.colorSpace=r??(o?"srgb":"srgb-linear"),f}const Zdt={files:GB,path:"",preset:void 0,extensions:void 0};BI.preload=t=>{const e={...Zdt,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:a}=e;i&&(WB(i),n=y_[i],r=Ppe);const{extension:s}=$B(n);if(s==="webp"||s==="jpg"||s==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=qB(s);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);L0.preload(o,Kv(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),a&&a(l)})};const Jdt={files:GB,preset:void 0};BI.clear=t=>{const e={...Jdt,...t};let{files:n}=e;const{preset:r}=e;r&&(WB(r),n=y_[r]);const{extension:i}=$B(n),a=qB(i);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);L0.clear(a,Kv(n)?[n]:n)};function WB(t){if(!(t in y_))throw new Error("Preset must be one of: "+Object.keys(y_).join(", "))}function $B(t){var e;const n=Kv(t)&&t.length===6,r=Kv(t)&&t.length===3&&t.some(s=>s.endsWith("json")),i=Kv(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function qB(t){return t==="cube"?ghe:t==="hdr"?zft:t==="exr"?Fft:t==="jpg"||t==="jpeg"?Ydt:t==="webp"?Kdt:null}const Qdt=t=>t.current&&t.current.isScene,eht=t=>Qdt(t)?t.current:t;function XB(t,e,n,r,i={}){var a,s,o,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=eht(e||n),u=c.background,f=c.environment,d={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(a=(s=c.backgroundRotation)==null||s.clone==null?void 0:s.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(o=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return t!=="only"&&(c.environment=r),t&&(c.background=r),uc(c,i),()=>{t!=="only"&&(c.environment=f),t&&(c.background=u),uc(c,d)}}function KB({scene:t,background:e=!1,map:n,...r}){const i=rs(a=>a.scene);return E.useLayoutEffect(()=>{if(n)return XB(e,t,i,n,r)}),null}function Ipe({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:s,environmentRotation:o,...l}){const c=BI(l),u=rs(f=>f.scene);return E.useLayoutEffect(()=>XB(t,e,u,c,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:s,environmentRotation:o})),E.useEffect(()=>()=>{c.dispose()},[c]),null}function tht({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:a,background:s=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:f,environmentRotation:d,scene:h,files:g,path:y,preset:x=void 0,extensions:v}){const b=rs(O=>O.gl),_=rs(O=>O.scene),A=E.useRef(null),[T]=E.useState(()=>new kw),M=E.useMemo(()=>{const O=new pI(r);return O.texture.type=Gr,O},[r]);E.useEffect(()=>()=>{M.dispose()},[M]),E.useLayoutEffect(()=>{if(i===1){const O=b.autoClear;b.autoClear=!0,A.current.update(b,T),b.autoClear=O}return XB(s,h,_,M.texture,{backgroundBlurriness:o??l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:f,environmentRotation:d})},[t,T,M.texture,h,_,s,i,b]);let I=1;return uh(()=>{if(i===1/0||I<i){const O=b.autoClear;b.autoClear=!0,A.current.update(b,T),b.autoClear=O,I++}}),E.createElement(E.Fragment,null,Eut(E.createElement(E.Fragment,null,t,E.createElement("cubeCamera",{ref:A,args:[e,n,M]}),g||x?E.createElement(Ipe,{background:!0,files:g,preset:x,path:y,extensions:v}):a?E.createElement(KB,{background:!0,map:a,extensions:v}):null),T))}function nht(t){var e,n,r,i;const a=BI(t),s=t.map||a;E.useMemo(()=>zB({GroundProjectedEnvImpl:Uft}),[]),E.useEffect(()=>()=>{a.dispose()},[a]);const o=E.useMemo(()=>[s],[s]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return E.createElement(E.Fragment,null,E.createElement(KB,Kd({},t,{map:s})),E.createElement("groundProjectedEnvImpl",{args:o,scale:u,height:l,radius:c}))}function rht(t){return t.ground?E.createElement(nht,t):t.map?E.createElement(KB,t):t.children?E.createElement(tht,t):E.createElement(Ipe,t)}class iht extends Va{constructor(){super({uniforms:{time:{value:0},pixelRatio:{value:1}},vertexShader:`
        uniform float pixelRatio;
        uniform float time;
        attribute float size;  
        attribute float speed;  
        attribute float opacity;
        attribute vec3 noise;
        attribute vec3 color;
        varying vec3 vColor;
        varying float vOpacity;

        void main() {
          vec4 modelPosition = modelMatrix * vec4(position, 1.0);
          modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
          modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
          modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
          vec4 viewPosition = viewMatrix * modelPosition;
          vec4 projectionPostion = projectionMatrix * viewPosition;
          gl_Position = projectionPostion;
          gl_PointSize = size * 25. * pixelRatio;
          gl_PointSize *= (1.0 / - viewPosition.z);
          vColor = color;
          vOpacity = opacity;
        }
      `,fragmentShader:`
        varying vec3 vColor;
        varying float vOpacity;
        void main() {
          float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
          float strength = 0.05 / distanceToCenter - 0.1;
          gl_FragColor = vec4(vColor, strength * vOpacity);
          #include <tonemapping_fragment>
          #include <${Udt>=154?"colorspace_fragment":"encodings_fragment"}>
        }
      `})}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}get pixelRatio(){return this.uniforms.pixelRatio.value}set pixelRatio(e){this.uniforms.pixelRatio.value=e}}const Ope=t=>t&&t.constructor===Float32Array,aht=t=>[t.r,t.g,t.b],kpe=t=>t instanceof tt||t instanceof oe||t instanceof In,Npe=t=>Array.isArray(t)?t:kpe(t)?t.toArray():[t,t,t];function Yx(t,e,n){return E.useMemo(()=>{if(e!==void 0){if(Ope(e))return e;if(e instanceof Mt){const r=Array.from({length:t*3},()=>aht(e)).flat();return Float32Array.from(r)}else if(kpe(e)||Array.isArray(e)){const r=Array.from({length:t*3},()=>Npe(e)).flat();return Float32Array.from(r)}return Float32Array.from({length:t},()=>e)}return Float32Array.from({length:t},n)},[e])}const TZ=E.forwardRef(({noise:t=1,count:e=100,speed:n=1,opacity:r=1,scale:i=1,size:a,color:s,children:o,...l},c)=>{E.useMemo(()=>zB({SparklesImplMaterial:iht}),[]);const u=E.useRef(null),f=rs(_=>_.viewport.dpr),d=Npe(i),h=E.useMemo(()=>Float32Array.from(Array.from({length:e},()=>d.map(Xa.randFloatSpread)).flat()),[e,...d]),g=Yx(e,a,Math.random),y=Yx(e,r),x=Yx(e,n),v=Yx(e*3,t),b=Yx(s===void 0?e*3:e,Ope(s)?s:new Mt(s),()=>1);return uh(_=>{u.current&&u.current.material&&(u.current.material.time=_.clock.elapsedTime)}),E.useImperativeHandle(c,()=>u.current,[]),E.createElement("points",Kd({key:`particle-${e}-${JSON.stringify(i)}`},l,{ref:u}),E.createElement("bufferGeometry",null,E.createElement("bufferAttribute",{attach:"attributes-position",args:[h,3]}),E.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]}),E.createElement("bufferAttribute",{attach:"attributes-opacity",args:[y,1]}),E.createElement("bufferAttribute",{attach:"attributes-speed",args:[x,1]}),E.createElement("bufferAttribute",{attach:"attributes-color",args:[b,3]}),E.createElement("bufferAttribute",{attach:"attributes-noise",args:[v,3]})),o||E.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:f,depthWrite:!1}))});function sht(){return S.jsxs("group",{children:[S.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[S.jsx("torusGeometry",{args:[1,.1,32,100]}),S.jsx("meshStandardMaterial",{color:"#FFD700",metalness:1,roughness:.15,envMapIntensity:2})]}),S.jsxs("mesh",{position:[0,0,-.05],rotation:[Math.PI/2,0,0],children:[S.jsx("cylinderGeometry",{args:[.95,.95,.05,32]}),S.jsx("meshStandardMaterial",{color:"#0a0a0a",metalness:.5,roughness:.5})]}),Array.from({length:12}).map((t,e)=>S.jsxs("mesh",{position:[.8*Math.cos(e*Math.PI/6),.8*Math.sin(e*Math.PI/6),.05],rotation:[0,0,e*Math.PI/6],children:[S.jsx("boxGeometry",{args:[.1,.02,.05]}),S.jsx("meshStandardMaterial",{color:"#FFD700",metalness:1,roughness:.1})]},e)),S.jsxs("mesh",{position:[0,0,.1],rotation:[0,0,.5],children:[S.jsx("boxGeometry",{args:[.04,.7,.02]}),S.jsx("meshStandardMaterial",{color:"white",emissive:"white",emissiveIntensity:.2})]}),S.jsxs("mesh",{position:[0,0,.1],rotation:[0,0,2],children:[S.jsx("boxGeometry",{args:[.04,.5,.02]}),S.jsx("meshStandardMaterial",{color:"white",emissive:"white",emissiveIntensity:.2})]})]})}function oht(){return S.jsxs("group",{children:[S.jsxs("mesh",{children:[S.jsx("boxGeometry",{args:[3.37,2.125,.05]}),S.jsx("meshPhysicalMaterial",{color:"#111",metalness:.9,roughness:.3,clearcoat:1,clearcoatRoughness:.1})]}),S.jsxs("mesh",{position:[-1.2,.3,.03],children:[S.jsx("planeGeometry",{args:[.5,.4]}),S.jsx("meshStandardMaterial",{color:"#FFD700",metalness:1,roughness:.2})]}),S.jsxs("mesh",{position:[0,-.5,.03],children:[S.jsx("planeGeometry",{args:[3,.2]}),S.jsx("meshStandardMaterial",{color:"#222",metalness:.5,roughness:.8})]}),S.jsx(Ddt,{position:[0,0,.04],fontSize:.25,color:"#fff",font:"https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hjp-Ek-_EeA.woff",children:"RAGQUERY"})]})}function lht(){return S.jsxs("group",{children:[S.jsxs("mesh",{rotation:[0,Math.PI/2,0],position:[0,.5,0],children:[S.jsx("capsuleGeometry",{args:[.7,3.5,4,16]}),S.jsx("meshPhysicalMaterial",{color:"#001a33",metalness:.8,roughness:.2,clearcoat:1,clearcoatRoughness:0})]}),S.jsxs("mesh",{position:[0,.8,-.5],rotation:[0,Math.PI/2,0],children:[S.jsx("capsuleGeometry",{args:[.5,1.5,4,16]}),S.jsx("meshPhysicalMaterial",{color:"#000",metalness:.9,roughness:0,opacity:.9,transparent:!0})]}),S.jsxs("mesh",{position:[-.8,.3,1.2],rotation:[0,Math.PI/2,Math.PI/2],children:[S.jsx("cylinderGeometry",{args:[.3,.3,.2,32]}),S.jsx("meshStandardMaterial",{color:"#111",roughness:.8})]}),S.jsxs("mesh",{position:[.8,.3,1.2],rotation:[0,Math.PI/2,Math.PI/2],children:[S.jsx("cylinderGeometry",{args:[.3,.3,.2,32]}),S.jsx("meshStandardMaterial",{color:"#111",roughness:.8})]}),S.jsxs("mesh",{position:[-.8,.3,-1.2],rotation:[0,Math.PI/2,Math.PI/2],children:[S.jsx("cylinderGeometry",{args:[.35,.35,.25,32]}),S.jsx("meshStandardMaterial",{color:"#111",roughness:.8})]}),S.jsxs("mesh",{position:[.8,.3,-1.2],rotation:[0,Math.PI/2,Math.PI/2],children:[S.jsx("cylinderGeometry",{args:[.35,.35,.25,32]}),S.jsx("meshStandardMaterial",{color:"#111",roughness:.8})]}),S.jsxs("mesh",{position:[0,.5,-2],children:[S.jsx("boxGeometry",{args:[1.5,.1,.1]}),S.jsx("meshStandardMaterial",{color:"#ff0000",emissive:"#ff0000",emissiveIntensity:8,toneMapped:!1})]})]})}function cht(){const t=BB(),e=E.useRef(null),n=E.useRef(null),r=E.useRef(null),i=E.useRef(null);return E.useRef(null),uh((a,s)=>{const o=t.offset;if(e.current){if(o<.33){const l=o/.33;e.current.position.z=Xa.lerp(5,2,l),e.current.position.y=Xa.lerp(0,.5,l)}else if(o<.66){const l=(o-.33)/.33;e.current.position.z=Xa.lerp(2,4,l),e.current.position.x=Xa.lerp(0,2,l),e.current.lookAt(0,0,0)}else{const l=(o-.66)/.34;e.current.position.x=Xa.lerp(2,0,l),e.current.position.z=Xa.lerp(4,8,l),e.current.position.y=Xa.lerp(.5,0,l)}e.current.lookAt(0,0,0)}if(n.current){n.current.rotation.y+=s*.2,n.current.rotation.x=o*Math.PI*2;const l=o<.35;n.current.scale.setScalar(Xa.lerp(l?1:0,l?1:0,.1))}if(r.current){const c=o>.3&&o<.65?1:0;r.current.scale.setScalar(Xa.lerp(r.current.scale.x,c,.1)),r.current.rotation.y=o*Math.PI*4,r.current.position.x=Xa.lerp(-5,0,(o-.3)*5)}if(i.current){const c=o>.6?1:0;i.current.scale.setScalar(Xa.lerp(i.current.scale.x,c,.1)),i.current.position.y=Math.sin(a.clock.elapsedTime*20)*.02-1,i.current.position.z=Xa.lerp(-10,0,(o-.6)*4)}}),S.jsxs(S.Fragment,{children:[S.jsx(jdt,{makeDefault:!0,ref:e,position:[0,0,5],fov:45}),S.jsx(rht,{preset:"city"}),S.jsx("ambientLight",{intensity:.5}),S.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:2,castShadow:!0}),S.jsx(TZ,{count:50,scale:10,size:4,speed:.4,opacity:.5,color:"#ffffff"}),S.jsx("group",{ref:n,children:S.jsx(AZ,{speed:2,rotationIntensity:.5,floatIntensity:.5,children:S.jsx(sht,{})})}),S.jsx("group",{ref:r,position:[0,0,0],scale:0,children:S.jsx(AZ,{speed:4,rotationIntensity:1,floatIntensity:.5,children:S.jsx(oht,{})})}),S.jsxs("group",{ref:i,position:[0,-1,0],scale:0,children:[S.jsx(lht,{}),S.jsx(TZ,{count:100,scale:[2,.5,5],position:[0,.5,0],speed:5,color:"#00ffff",opacity:.3,size:10})]})]})}const Zx=({children:t,className:e=""})=>S.jsx("section",{className:`min-h-screen flex flex-col justify-center items-center p-8 ${e}`,children:t});function uht({onEnter:t}){return S.jsxs("div",{className:"w-full text-white font-light tracking-wide pointer-events-none",children:[S.jsx(Zx,{className:"items-start text-left pl-10 md:pl-20",children:S.jsxs(Fo.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:1},className:"text-2xl md:text-4xl text-neutral-300 font-extralight max-w-md",children:["Time is not measured.",S.jsx("br",{}),S.jsx("span",{className:"text-white font-normal",children:"It is experienced."})]})}),S.jsx("div",{className:"h-screen"}),S.jsx(Zx,{className:"items-end text-right pr-10 md:pr-20",children:S.jsxs(Fo.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:1},children:[S.jsx("h3",{className:"text-xl md:text-3xl font-light mb-2",children:"Precision Engineering"}),S.jsx("p",{className:"text-sm md:text-base text-neutral-400 max-w-xs ml-auto",children:"Every detail crafted for absolute perfection."})]})}),S.jsx(Zx,{className:"items-center text-center",children:S.jsxs(Fo.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},children:[S.jsx("h2",{className:"text-4xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-yellow-100 to-yellow-500",children:"Seamless Trust"}),S.jsx("p",{className:"text-neutral-400 uppercase tracking-[0.2em] text-sm",children:"Zero Friction Transaction"})]})}),S.jsx(Zx,{className:"items-start text-left pl-10",children:S.jsx(Fo.h2,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:1},className:"text-5xl md:text-8xl font-black italic tracking-tighter text-neutral-800",style:{WebkitTextStroke:"1px rgba(255,255,255,0.2)"},children:"VELOCITY"})}),S.jsx("div",{className:"h-screen"}),S.jsx(Zx,{className:"items-center text-center h-[120vh]",children:S.jsxs(Fo.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1.5},className:"flex flex-col items-center gap-8 pointer-events-auto",children:[S.jsxs("h1",{className:"text-6xl md:text-9xl font-bold tracking-tighter mb-4 text-white",children:["RAG",S.jsx("span",{className:"text-orange-500",children:"QUERY"})]}),S.jsxs("p",{className:"text-xl md:text-2xl text-neutral-400 max-w-2xl text-center leading-relaxed",children:["The power of intelligence. ",S.jsx("br",{}),"Your new reality starts here."]}),S.jsx("button",{onClick:t,className:"mt-12 px-12 py-4 bg-white text-black text-lg font-bold tracking-widest hover:bg-orange-500 hover:text-white transition-all duration-300 rounded-full",children:"ENTER EXPERIENCE"})]})})]})}function fht({onEnter:t}){return S.jsxs(S.Fragment,{children:[S.jsx(Lut,{camera:{position:[0,0,5],fov:45},shadows:!0,dpr:[1,2],gl:{antialias:!1,toneMappingExposure:1.2,powerPreference:"high-performance"},className:"bg-[#050505]",children:S.jsx(E.Suspense,{fallback:null,children:S.jsxs(xft,{pages:6,damping:.2,children:[S.jsx(cht,{}),S.jsx(wft,{html:!0,style:{width:"100vw",height:"100vh"},children:S.jsx(uht,{onEnter:t})})]})})}),S.jsx(Hut,{})]})}function dht({onComplete:t}){console.log("RENDER CinematicLanding");const[e,n]=E.useState(!1);return S.jsxs("div",{className:"fixed inset-0 z-[100] bg-black text-white overflow-hidden",children:[S.jsx(afe,{children:!e&&S.jsx(Xet,{onComplete:()=>n(!0)})}),S.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:S.jsx(fht,{onEnter:t})})]})}function hht(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[i,a]=E.useState("login"),[s,o]=E.useState(!0),[l,c]=E.useState(!1),[u,f]=E.useState("");console.log("RENDER APP: User:",t,"ShowLanding:",s,"Loading:",n),E.useEffect(()=>{const g=()=>{const x=window.location.hash.slice(1);a(x==="/signup"?"signup":"login")};g(),window.addEventListener("hashchange",g);const y=k1e(Ob,x=>{e(x),r(!1)});return()=>{y(),window.removeEventListener("hashchange",g)}},[]);const d=async()=>{if(t)try{await pte(t),c(!0),f(""),setTimeout(()=>c(!1),5e3)}catch(g){console.error("Error sending verification email:",g),f(g.message||"Failed to resend verification email.")}},h=async()=>{if(t)try{await t.reload(),t.emailVerified?e({...t}):alert("Email is not verified yet. Please click the link in your email.")}catch(g){console.error("Error reloading user:",g)}};return n?S.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"}),S.jsx("p",{className:"text-neutral-400",children:"Loading..."})]})}):!t&&s?S.jsx(dht,{onComplete:()=>o(!1)}):t?t.emailVerified?S.jsx($et,{user:t,onSignOut:()=>Ob.signOut()}):S.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-neutral-900/50 border-2 border-orange-500/30 rounded-2xl p-8 backdrop-blur-sm text-center max-w-md",children:[S.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-500/20 flex items-center justify-center",children:S.jsx("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),S.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Email Not Verified"}),S.jsxs("p",{className:"text-neutral-300 mb-6",children:["Please check your email ",S.jsxs("span",{className:"text-orange-400 font-medium",children:["(",t.email,")"]})," and click the verification link."]}),l&&S.jsx("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-400 text-sm",children:"Verification email sent! Check your inbox (and spam)."}),u&&S.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:u}),S.jsxs("div",{className:"flex flex-col space-y-3",children:[S.jsx(Pi,{onClick:h,variant:"premium",className:"w-full",children:"I've Verified My Email"}),S.jsx(Pi,{onClick:d,variant:"secondary",className:"w-full",children:"Resend Verification Email"}),S.jsx(Pi,{onClick:()=>Ob.signOut(),variant:"ghost",className:"w-full",children:"Sign Out"})]})]})}):S.jsx(qet,{initialView:i})}console.log("index.tsx loaded");const G4=document.getElementById("root");if(!G4)throw new Error("Could not find root element to mount to");console.log("Root element found, creating React root...");window.addEventListener("error",t=>{var n,r;console.error("Global error:",t.error);const e=document.getElementById("root");e&&(e.innerHTML=`<div style="color: red; padding: 20px; background: #1a1a1a; font-family: monospace;">
      <h1>Global Error</h1>
      <pre>${((n=t.error)==null?void 0:n.message)||String(t.error)}</pre>
      <pre>${((r=t.error)==null?void 0:r.stack)||""}</pre>
    </div>`)});window.addEventListener("unhandledrejection",t=>{var n,r;console.error("Unhandled rejection:",t.reason);const e=document.getElementById("root");e&&(e.innerHTML=`<div style="color: red; padding: 20px; background: #1a1a1a; font-family: monospace;">
      <h1>Unhandled Promise Rejection</h1>
      <pre>${((n=t.reason)==null?void 0:n.message)||String(t.reason)}</pre>
      <pre>${((r=t.reason)==null?void 0:r.stack)||""}</pre>
    </div>`)});try{console.log("Starting to import App...");const t=Hye.createRoot(G4);console.log("React root created, rendering App..."),t.render(S.jsx(He.StrictMode,{children:S.jsx(hht,{})})),console.log("App rendered successfully!")}catch(t){console.error("Error rendering app:",t),G4.innerHTML=`<div style="color: red; padding: 20px; background: #1a1a1a; font-family: monospace;">
    <h1>Error Loading App</h1>
    <pre>${t instanceof Error?t.message:String(t)}</pre>
    <pre>${t instanceof Error?t.stack:""}</pre>
  </div>`}
